function wE(e,t){for(var s=0;s<t.length;s++){const u=t[s];if(typeof u!="string"&&!Array.isArray(u)){for(const h in u)if(h!=="default"&&!(h in e)){const p=Object.getOwnPropertyDescriptor(u,h);p&&Object.defineProperty(e,h,p.get?p:{enumerable:!0,get:()=>u[h]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerpolicy&&(p.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?p.credentials="include":h.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();var Ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $e={exports:{}},Gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),SE=Symbol.for("react.portal"),TE=Symbol.for("react.fragment"),AE=Symbol.for("react.strict_mode"),EE=Symbol.for("react.profiler"),CE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),PE=Symbol.for("react.forward_ref"),IE=Symbol.for("react.suspense"),ME=Symbol.for("react.memo"),zE=Symbol.for("react.lazy"),qx=Symbol.iterator;function DE(e){return e===null||typeof e!="object"?null:(e=qx&&e[qx]||e["@@iterator"],typeof e=="function"?e:null)}var Cw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kw=Object.assign,Pw={};function Dc(e,t,s){this.props=e,this.context=t,this.refs=Pw,this.updater=s||Cw}Dc.prototype.isReactComponent={};Dc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Iw(){}Iw.prototype=Dc.prototype;function Xy(e,t,s){this.props=e,this.context=t,this.refs=Pw,this.updater=s||Cw}var Ky=Xy.prototype=new Iw;Ky.constructor=Xy;kw(Ky,Dc.prototype);Ky.isPureReactComponent=!0;var Gx=Array.isArray,Mw=Object.prototype.hasOwnProperty,Yy={current:null},zw={key:!0,ref:!0,__self:!0,__source:!0};function Dw(e,t,s){var u,h={},p=null,y=null;if(t!=null)for(u in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(p=""+t.key),t)Mw.call(t,u)&&!zw.hasOwnProperty(u)&&(h[u]=t[u]);var a=arguments.length-2;if(a===1)h.children=s;else if(1<a){for(var S=Array(a),I=0;I<a;I++)S[I]=arguments[I+2];h.children=S}if(e&&e.defaultProps)for(u in a=e.defaultProps,a)h[u]===void 0&&(h[u]=a[u]);return{$$typeof:fd,type:e,key:p,ref:y,props:h,_owner:Yy.current}}function LE(e,t){return{$$typeof:fd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qy(e){return typeof e=="object"&&e!==null&&e.$$typeof===fd}function RE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Wx=/\/+/g;function jm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RE(""+e.key):t.toString(36)}function Tp(e,t,s,u,h){var p=typeof e;(p==="undefined"||p==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(p){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case fd:case SE:y=!0}}if(y)return y=e,h=h(y),e=u===""?"."+jm(y,0):u,Gx(h)?(s="",e!=null&&(s=e.replace(Wx,"$&/")+"/"),Tp(h,t,s,"",function(I){return I})):h!=null&&(Qy(h)&&(h=LE(h,s+(!h.key||y&&y.key===h.key?"":(""+h.key).replace(Wx,"$&/")+"/")+e)),t.push(h)),1;if(y=0,u=u===""?".":u+":",Gx(e))for(var a=0;a<e.length;a++){p=e[a];var S=u+jm(p,a);y+=Tp(p,t,s,S,h)}else if(S=DE(e),typeof S=="function")for(e=S.call(e),a=0;!(p=e.next()).done;)p=p.value,S=u+jm(p,a++),y+=Tp(p,t,s,S,h);else if(p==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function tp(e,t,s){if(e==null)return e;var u=[],h=0;return Tp(e,u,"","",function(p){return t.call(s,p,h++)}),u}function BE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ps={current:null},Ap={transition:null},NE={ReactCurrentDispatcher:ps,ReactCurrentBatchConfig:Ap,ReactCurrentOwner:Yy};Gn.Children={map:tp,forEach:function(e,t,s){tp(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return tp(e,function(){t++}),t},toArray:function(e){return tp(e,function(t){return t})||[]},only:function(e){if(!Qy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gn.Component=Dc;Gn.Fragment=TE;Gn.Profiler=EE;Gn.PureComponent=Xy;Gn.StrictMode=AE;Gn.Suspense=IE;Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;Gn.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var u=kw({},e.props),h=e.key,p=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(p=t.ref,y=Yy.current),t.key!==void 0&&(h=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(S in t)Mw.call(t,S)&&!zw.hasOwnProperty(S)&&(u[S]=t[S]===void 0&&a!==void 0?a[S]:t[S])}var S=arguments.length-2;if(S===1)u.children=s;else if(1<S){a=Array(S);for(var I=0;I<S;I++)a[I]=arguments[I+2];u.children=a}return{$$typeof:fd,type:e.type,key:h,ref:p,props:u,_owner:y}};Gn.createContext=function(e){return e={$$typeof:kE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CE,_context:e},e.Consumer=e};Gn.createElement=Dw;Gn.createFactory=function(e){var t=Dw.bind(null,e);return t.type=e,t};Gn.createRef=function(){return{current:null}};Gn.forwardRef=function(e){return{$$typeof:PE,render:e}};Gn.isValidElement=Qy;Gn.lazy=function(e){return{$$typeof:zE,_payload:{_status:-1,_result:e},_init:BE}};Gn.memo=function(e,t){return{$$typeof:ME,type:e,compare:t===void 0?null:t}};Gn.startTransition=function(e){var t=Ap.transition;Ap.transition={};try{e()}finally{Ap.transition=t}};Gn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Gn.useCallback=function(e,t){return ps.current.useCallback(e,t)};Gn.useContext=function(e){return ps.current.useContext(e)};Gn.useDebugValue=function(){};Gn.useDeferredValue=function(e){return ps.current.useDeferredValue(e)};Gn.useEffect=function(e,t){return ps.current.useEffect(e,t)};Gn.useId=function(){return ps.current.useId()};Gn.useImperativeHandle=function(e,t,s){return ps.current.useImperativeHandle(e,t,s)};Gn.useInsertionEffect=function(e,t){return ps.current.useInsertionEffect(e,t)};Gn.useLayoutEffect=function(e,t){return ps.current.useLayoutEffect(e,t)};Gn.useMemo=function(e,t){return ps.current.useMemo(e,t)};Gn.useReducer=function(e,t,s){return ps.current.useReducer(e,t,s)};Gn.useRef=function(e){return ps.current.useRef(e)};Gn.useState=function(e){return ps.current.useState(e)};Gn.useSyncExternalStore=function(e,t,s){return ps.current.useSyncExternalStore(e,t,s)};Gn.useTransition=function(){return ps.current.useTransition()};Gn.version="18.2.0";(function(e){e.exports=Gn})($e);const Jy=bE($e.exports),zg=wE({__proto__:null,default:Jy},[$e.exports]);var Dg={},Lw={exports:{}},Vs={},Rw={exports:{}},Bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(qe,st){var dt=qe.length;qe.push(st);e:for(;0<dt;){var Nt=dt-1>>>1,sn=qe[Nt];if(0<h(sn,st))qe[Nt]=st,qe[dt]=sn,dt=Nt;else break e}}function s(qe){return qe.length===0?null:qe[0]}function u(qe){if(qe.length===0)return null;var st=qe[0],dt=qe.pop();if(dt!==st){qe[0]=dt;e:for(var Nt=0,sn=qe.length,on=sn>>>1;Nt<on;){var Tn=2*(Nt+1)-1,cn=qe[Tn],gn=Tn+1,jn=qe[gn];if(0>h(cn,dt))gn<sn&&0>h(jn,cn)?(qe[Nt]=jn,qe[gn]=dt,Nt=gn):(qe[Nt]=cn,qe[Tn]=dt,Nt=Tn);else if(gn<sn&&0>h(jn,dt))qe[Nt]=jn,qe[gn]=dt,Nt=gn;else break e}}return st}function h(qe,st){var dt=qe.sortIndex-st.sortIndex;return dt!==0?dt:qe.id-st.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;e.unstable_now=function(){return p.now()}}else{var y=Date,a=y.now();e.unstable_now=function(){return y.now()-a}}var S=[],I=[],B=1,V=null,z=3,ie=!1,ce=!1,he=!1,He=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(qe){for(var st=s(I);st!==null;){if(st.callback===null)u(I);else if(st.startTime<=qe)u(I),st.sortIndex=st.expirationTime,t(S,st);else break;st=s(I)}}function we(qe){if(he=!1,re(qe),!ce)if(s(S)!==null)ce=!0,St(Ue);else{var st=s(I);st!==null&&ui(we,st.startTime-qe)}}function Ue(qe,st){ce=!1,he&&(he=!1,oe(ht),ht=-1),ie=!0;var dt=z;try{for(re(st),V=s(S);V!==null&&(!(V.expirationTime>st)||qe&&!Un());){var Nt=V.callback;if(typeof Nt=="function"){V.callback=null,z=V.priorityLevel;var sn=Nt(V.expirationTime<=st);st=e.unstable_now(),typeof sn=="function"?V.callback=sn:V===s(S)&&u(S),re(st)}else u(S);V=s(S)}if(V!==null)var on=!0;else{var Tn=s(I);Tn!==null&&ui(we,Tn.startTime-st),on=!1}return on}finally{V=null,z=dt,ie=!1}}var P=!1,ct=null,ht=-1,qt=5,zt=-1;function Un(){return!(e.unstable_now()-zt<qt)}function _n(){if(ct!==null){var qe=e.unstable_now();zt=qe;var st=!0;try{st=ct(!0,qe)}finally{st?Ti():(P=!1,ct=null)}}else P=!1}var Ti;if(typeof ae=="function")Ti=function(){ae(_n)};else if(typeof MessageChannel<"u"){var Dn=new MessageChannel,si=Dn.port2;Dn.port1.onmessage=_n,Ti=function(){si.postMessage(null)}}else Ti=function(){He(_n,0)};function St(qe){ct=qe,P||(P=!0,Ti())}function ui(qe,st){ht=He(function(){qe(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(qe){qe.callback=null},e.unstable_continueExecution=function(){ce||ie||(ce=!0,St(Ue))},e.unstable_forceFrameRate=function(qe){0>qe||125<qe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qt=0<qe?Math.floor(1e3/qe):5},e.unstable_getCurrentPriorityLevel=function(){return z},e.unstable_getFirstCallbackNode=function(){return s(S)},e.unstable_next=function(qe){switch(z){case 1:case 2:case 3:var st=3;break;default:st=z}var dt=z;z=st;try{return qe()}finally{z=dt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(qe,st){switch(qe){case 1:case 2:case 3:case 4:case 5:break;default:qe=3}var dt=z;z=qe;try{return st()}finally{z=dt}},e.unstable_scheduleCallback=function(qe,st,dt){var Nt=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Nt+dt:Nt):dt=Nt,qe){case 1:var sn=-1;break;case 2:sn=250;break;case 5:sn=1073741823;break;case 4:sn=1e4;break;default:sn=5e3}return sn=dt+sn,qe={id:B++,callback:st,priorityLevel:qe,startTime:dt,expirationTime:sn,sortIndex:-1},dt>Nt?(qe.sortIndex=dt,t(I,qe),s(S)===null&&qe===s(I)&&(he?(oe(ht),ht=-1):he=!0,ui(we,dt-Nt))):(qe.sortIndex=sn,t(S,qe),ce||ie||(ce=!0,St(Ue))),qe},e.unstable_shouldYield=Un,e.unstable_wrapCallback=function(qe){var st=z;return function(){var dt=z;z=st;try{return qe.apply(this,arguments)}finally{z=dt}}}})(Bw);(function(e){e.exports=Bw})(Rw);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=$e.exports,Fs=Rw.exports;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fw=new Set,qh={};function Au(e,t){Tc(e,t),Tc(e+"Capture",t)}function Tc(e,t){for(qh[e]=t,e=0;e<t.length;e++)Fw.add(t[e])}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lg=Object.prototype.hasOwnProperty,FE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hx={},Zx={};function OE(e){return Lg.call(Zx,e)?!0:Lg.call(Hx,e)?!1:FE.test(e)?Zx[e]=!0:(Hx[e]=!0,!1)}function VE(e,t,s,u){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UE(e,t,s,u){if(t===null||typeof t>"u"||VE(e,t,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fs(e,t,s,u,h,p,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=y}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ur[e]=new fs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ur[t]=new fs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ur[e]=new fs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ur[e]=new fs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ur[e]=new fs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ur[e]=new fs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ur[e]=new fs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ur[e]=new fs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ur[e]=new fs(e,5,!1,e.toLowerCase(),null,!1,!1)});var ev=/[\-:]([a-z])/g;function tv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ev,tv);Ur[t]=new fs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ev,tv);Ur[t]=new fs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ev,tv);Ur[t]=new fs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ur[e]=new fs(e,1,!1,e.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ur[e]=new fs(e,1,!1,e.toLowerCase(),null,!0,!0)});function nv(e,t,s,u){var h=Ur.hasOwnProperty(t)?Ur[t]:null;(h!==null?h.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UE(t,s,h,u)&&(s=null),u||h===null?OE(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(t=h.attributeName,u=h.attributeNamespace,s===null?e.removeAttribute(t):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?e.setAttributeNS(u,t,s):e.setAttribute(t,s))))}var Ha=Nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,np=Symbol.for("react.element"),Ju=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),rv=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),Ng=Symbol.for("react.suspense_list"),sv=Symbol.for("react.memo"),gl=Symbol.for("react.lazy"),Uw=Symbol.for("react.offscreen"),$x=Symbol.iterator;function uh(e){return e===null||typeof e!="object"?null:(e=$x&&e[$x]||e["@@iterator"],typeof e=="function"?e:null)}var Wi=Object.assign,qm;function wh(e){if(qm===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);qm=t&&t[1]||""}return`
`+qm+e}var Gm=!1;function Wm(e,t){if(!e||Gm)return"";Gm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var u=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){u=I}e.call(t.prototype)}else{try{throw Error()}catch(I){u=I}e()}}catch(I){if(I&&u&&typeof I.stack=="string"){for(var h=I.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,a=p.length-1;1<=y&&0<=a&&h[y]!==p[a];)a--;for(;1<=y&&0<=a;y--,a--)if(h[y]!==p[a]){if(y!==1||a!==1)do if(y--,a--,0>a||h[y]!==p[a]){var S=`
`+h[y].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=y&&0<=a);break}}}finally{Gm=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?wh(e):""}function jE(e){switch(e.tag){case 5:return wh(e.type);case 16:return wh("Lazy");case 13:return wh("Suspense");case 19:return wh("SuspenseList");case 0:case 2:case 15:return e=Wm(e.type,!1),e;case 11:return e=Wm(e.type.render,!1),e;case 1:return e=Wm(e.type,!0),e;default:return""}}function Fg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ec:return"Fragment";case Ju:return"Portal";case Rg:return"Profiler";case iv:return"StrictMode";case Bg:return"Suspense";case Ng:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vw:return(e.displayName||"Context")+".Consumer";case Ow:return(e._context.displayName||"Context")+".Provider";case rv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sv:return t=e.displayName||null,t!==null?t:Fg(e.type)||"Memo";case gl:t=e._payload,e=e._init;try{return Fg(e(t))}catch{}}return null}function qE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fg(t);case 8:return t===iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GE(e){var t=jw(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ip(e){e._valueTracker||(e._valueTracker=GE(e))}function qw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),u="";return e&&(u=jw(e)?e.checked?"true":"false":e.value),e=u,e!==s?(t.setValue(e),!0):!1}function Op(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Og(e,t){var s=t.checked;return Wi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s!=null?s:e._wrapperState.initialChecked})}function Xx(e,t){var s=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;s=Dl(t.value!=null?t.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gw(e,t){t=t.checked,t!=null&&nv(e,"checked",t,!1)}function Vg(e,t){Gw(e,t);var s=Dl(t.value),u=t.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ug(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ug(e,t.type,Dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kx(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ug(e,t,s){(t!=="number"||Op(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var bh=Array.isArray;function fc(e,t,s,u){if(e=e.options,t){t={};for(var h=0;h<s.length;h++)t["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=t.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&u&&(e[s].defaultSelected=!0)}else{for(s=""+Dl(s),t=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function jg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return Wi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yx(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(ft(92));if(bh(s)){if(1<s.length)throw Error(ft(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Dl(s)}}function Ww(e,t){var s=Dl(t.value),u=Dl(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function Qx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rp,Zw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,u,h){MSApp.execUnsafeLocalFunction(function(){return e(t,s,u,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gh(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WE=["Webkit","ms","Moz","O"];Object.keys(Eh).forEach(function(e){WE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eh[t]=Eh[e]})});function $w(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Eh.hasOwnProperty(e)&&Eh[e]?(""+t).trim():t+"px"}function Xw(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=$w(s,t[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,h):e[s]=h}}var HE=Wi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gg(e,t){if(t){if(HE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function Wg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function ov(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zg=null,mc=null,gc=null;function Jx(e){if(e=yd(e)){if(typeof Zg!="function")throw Error(ft(280));var t=e.stateNode;t&&(t=If(t),Zg(e.stateNode,e.type,t))}}function Kw(e){mc?gc?gc.push(e):gc=[e]:mc=e}function Yw(){if(mc){var e=mc,t=gc;if(gc=mc=null,Jx(e),t)for(e=0;e<t.length;e++)Jx(t[e])}}function Qw(e,t){return e(t)}function Jw(){}var Hm=!1;function eb(e,t,s){if(Hm)return e(t,s);Hm=!0;try{return Qw(e,t,s)}finally{Hm=!1,(mc!==null||gc!==null)&&(Jw(),Yw())}}function Wh(e,t){var s=e.stateNode;if(s===null)return null;var u=If(s);if(u===null)return null;s=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ft(231,t,typeof s));return s}var $g=!1;if(Ua)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){$g=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{$g=!1}function ZE(e,t,s,u,h,p,y,a,S){var I=Array.prototype.slice.call(arguments,3);try{t.apply(s,I)}catch(B){this.onError(B)}}var Ch=!1,Vp=null,Up=!1,Xg=null,$E={onError:function(e){Ch=!0,Vp=e}};function XE(e,t,s,u,h,p,y,a,S){Ch=!1,Vp=null,ZE.apply($E,arguments)}function KE(e,t,s,u,h,p,y,a,S){if(XE.apply(this,arguments),Ch){if(Ch){var I=Vp;Ch=!1,Vp=null}else throw Error(ft(198));Up||(Up=!0,Xg=I)}}function Eu(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function tb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e0(e){if(Eu(e)!==e)throw Error(ft(188))}function YE(e){var t=e.alternate;if(!t){if(t=Eu(e),t===null)throw Error(ft(188));return t!==e?null:e}for(var s=e,u=t;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return e0(h),e;if(p===u)return e0(h),t;p=p.sibling}throw Error(ft(188))}if(s.return!==u.return)s=h,u=p;else{for(var y=!1,a=h.child;a;){if(a===s){y=!0,s=h,u=p;break}if(a===u){y=!0,u=h,s=p;break}a=a.sibling}if(!y){for(a=p.child;a;){if(a===s){y=!0,s=p,u=h;break}if(a===u){y=!0,u=p,s=h;break}a=a.sibling}if(!y)throw Error(ft(189))}}if(s.alternate!==u)throw Error(ft(190))}if(s.tag!==3)throw Error(ft(188));return s.stateNode.current===s?e:t}function nb(e){return e=YE(e),e!==null?ib(e):null}function ib(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ib(e);if(t!==null)return t;e=e.sibling}return null}var rb=Fs.unstable_scheduleCallback,t0=Fs.unstable_cancelCallback,QE=Fs.unstable_shouldYield,JE=Fs.unstable_requestPaint,ir=Fs.unstable_now,eC=Fs.unstable_getCurrentPriorityLevel,av=Fs.unstable_ImmediatePriority,sb=Fs.unstable_UserBlockingPriority,jp=Fs.unstable_NormalPriority,tC=Fs.unstable_LowPriority,ob=Fs.unstable_IdlePriority,Ef=null,ia=null;function nC(e){if(ia&&typeof ia.onCommitFiberRoot=="function")try{ia.onCommitFiberRoot(Ef,e,void 0,(e.current.flags&128)===128)}catch{}}var Co=Math.clz32?Math.clz32:sC,iC=Math.log,rC=Math.LN2;function sC(e){return e>>>=0,e===0?32:31-(iC(e)/rC|0)|0}var sp=64,op=4194304;function Sh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qp(e,t){var s=e.pendingLanes;if(s===0)return 0;var u=0,h=e.suspendedLanes,p=e.pingedLanes,y=s&268435455;if(y!==0){var a=y&~h;a!==0?u=Sh(a):(p&=y,p!==0&&(u=Sh(p)))}else y=s&~h,y!==0?u=Sh(y):p!==0&&(u=Sh(p));if(u===0)return 0;if(t!==0&&t!==u&&(t&h)===0&&(h=u&-u,p=t&-t,h>=p||h===16&&(p&4194240)!==0))return t;if((u&4)!==0&&(u|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)s=31-Co(t),h=1<<s,u|=e[s],t&=~h;return u}function oC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aC(e,t){for(var s=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var y=31-Co(p),a=1<<y,S=h[y];S===-1?((a&s)===0||(a&u)!==0)&&(h[y]=oC(a,t)):S<=t&&(e.expiredLanes|=a),p&=~a}}function Kg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ab(){var e=sp;return sp<<=1,(sp&4194240)===0&&(sp=64),e}function Zm(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function md(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Co(t),e[t]=s}function lC(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-Co(s),p=1<<h;t[h]=0,u[h]=-1,e[h]=-1,s&=~p}}function lv(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var u=31-Co(s),h=1<<u;h&t|e[u]&t&&(e[u]|=t),s&=~h}}var yi=0;function lb(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ub,uv,cb,hb,db,Yg=!1,ap=[],Al=null,El=null,Cl=null,Hh=new Map,Zh=new Map,_l=[],uC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(e,t){switch(e){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":Hh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zh.delete(t.pointerId)}}function hh(e,t,s,u,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},t!==null&&(t=yd(t),t!==null&&uv(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function cC(e,t,s,u,h){switch(t){case"focusin":return Al=hh(Al,e,t,s,u,h),!0;case"dragenter":return El=hh(El,e,t,s,u,h),!0;case"mouseover":return Cl=hh(Cl,e,t,s,u,h),!0;case"pointerover":var p=h.pointerId;return Hh.set(p,hh(Hh.get(p)||null,e,t,s,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Zh.set(p,hh(Zh.get(p)||null,e,t,s,u,h)),!0}return!1}function pb(e){var t=du(e.target);if(t!==null){var s=Eu(t);if(s!==null){if(t=s.tag,t===13){if(t=tb(s),t!==null){e.blockedOn=t,db(e.priority,function(){cb(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ep(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Hg=u,s.target.dispatchEvent(u),Hg=null}else return t=yd(s),t!==null&&uv(t),e.blockedOn=s,!1;t.shift()}return!0}function i0(e,t,s){Ep(e)&&s.delete(t)}function hC(){Yg=!1,Al!==null&&Ep(Al)&&(Al=null),El!==null&&Ep(El)&&(El=null),Cl!==null&&Ep(Cl)&&(Cl=null),Hh.forEach(i0),Zh.forEach(i0)}function dh(e,t){e.blockedOn===t&&(e.blockedOn=null,Yg||(Yg=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,hC)))}function $h(e){function t(h){return dh(h,e)}if(0<ap.length){dh(ap[0],e);for(var s=1;s<ap.length;s++){var u=ap[s];u.blockedOn===e&&(u.blockedOn=null)}}for(Al!==null&&dh(Al,e),El!==null&&dh(El,e),Cl!==null&&dh(Cl,e),Hh.forEach(t),Zh.forEach(t),s=0;s<_l.length;s++)u=_l[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<_l.length&&(s=_l[0],s.blockedOn===null);)pb(s),s.blockedOn===null&&_l.shift()}var yc=Ha.ReactCurrentBatchConfig,Gp=!0;function dC(e,t,s,u){var h=yi,p=yc.transition;yc.transition=null;try{yi=1,cv(e,t,s,u)}finally{yi=h,yc.transition=p}}function pC(e,t,s,u){var h=yi,p=yc.transition;yc.transition=null;try{yi=4,cv(e,t,s,u)}finally{yi=h,yc.transition=p}}function cv(e,t,s,u){if(Gp){var h=Qg(e,t,s,u);if(h===null)ig(e,t,u,Wp,s),n0(e,u);else if(cC(h,e,t,s,u))u.stopPropagation();else if(n0(e,u),t&4&&-1<uC.indexOf(e)){for(;h!==null;){var p=yd(h);if(p!==null&&ub(p),p=Qg(e,t,s,u),p===null&&ig(e,t,u,Wp,s),p===h)break;h=p}h!==null&&u.stopPropagation()}else ig(e,t,u,null,s)}}var Wp=null;function Qg(e,t,s,u){if(Wp=null,e=ov(u),e=du(e),e!==null)if(t=Eu(e),t===null)e=null;else if(s=t.tag,s===13){if(e=tb(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wp=e,null}function fb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eC()){case av:return 1;case sb:return 4;case jp:case tC:return 16;case ob:return 536870912;default:return 16}default:return 16}}var wl=null,hv=null,Cp=null;function mb(){if(Cp)return Cp;var e,t=hv,s=t.length,u,h="value"in wl?wl.value:wl.textContent,p=h.length;for(e=0;e<s&&t[e]===h[e];e++);var y=s-e;for(u=1;u<=y&&t[s-u]===h[p-u];u++);return Cp=h.slice(e,1<u?1-u:void 0)}function kp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lp(){return!0}function r0(){return!1}function Us(e){function t(s,u,h,p,y){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(s=e[a],this[a]=s?s(p):p[a]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?lp:r0,this.isPropagationStopped=r0,this}return Wi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=lp)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=lp)},persist:function(){},isPersistent:lp}),t}var Lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dv=Us(Lc),gd=Wi({},Lc,{view:0,detail:0}),fC=Us(gd),$m,Xm,ph,Cf=Wi({},gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ph&&(ph&&e.type==="mousemove"?($m=e.screenX-ph.screenX,Xm=e.screenY-ph.screenY):Xm=$m=0,ph=e),$m)},movementY:function(e){return"movementY"in e?e.movementY:Xm}}),s0=Us(Cf),mC=Wi({},Cf,{dataTransfer:0}),gC=Us(mC),yC=Wi({},gd,{relatedTarget:0}),Km=Us(yC),vC=Wi({},Lc,{animationName:0,elapsedTime:0,pseudoElement:0}),_C=Us(vC),xC=Wi({},Lc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wC=Us(xC),bC=Wi({},Lc,{data:0}),o0=Us(bC),SC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AC[e])?!!t[e]:!1}function pv(){return EC}var CC=Wi({},gd,{key:function(e){if(e.key){var t=SC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pv,charCode:function(e){return e.type==="keypress"?kp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kC=Us(CC),PC=Wi({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a0=Us(PC),IC=Wi({},gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pv}),MC=Us(IC),zC=Wi({},Lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),DC=Us(zC),LC=Wi({},Cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RC=Us(LC),BC=[9,13,27,32],fv=Ua&&"CompositionEvent"in window,kh=null;Ua&&"documentMode"in document&&(kh=document.documentMode);var NC=Ua&&"TextEvent"in window&&!kh,gb=Ua&&(!fv||kh&&8<kh&&11>=kh),l0=String.fromCharCode(32),u0=!1;function yb(e,t){switch(e){case"keyup":return BC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tc=!1;function FC(e,t){switch(e){case"compositionend":return vb(t);case"keypress":return t.which!==32?null:(u0=!0,l0);case"textInput":return e=t.data,e===l0&&u0?null:e;default:return null}}function OC(e,t){if(tc)return e==="compositionend"||!fv&&yb(e,t)?(e=mb(),Cp=hv=wl=null,tc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gb&&t.locale!=="ko"?null:t.data;default:return null}}var VC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VC[e.type]:t==="textarea"}function _b(e,t,s,u){Kw(u),t=Hp(t,"onChange"),0<t.length&&(s=new dv("onChange","change",null,s,u),e.push({event:s,listeners:t}))}var Ph=null,Xh=null;function UC(e){Ib(e,0)}function kf(e){var t=rc(e);if(qw(t))return e}function jC(e,t){if(e==="change")return t}var xb=!1;if(Ua){var Ym;if(Ua){var Qm="oninput"in document;if(!Qm){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),Qm=typeof h0.oninput=="function"}Ym=Qm}else Ym=!1;xb=Ym&&(!document.documentMode||9<document.documentMode)}function d0(){Ph&&(Ph.detachEvent("onpropertychange",wb),Xh=Ph=null)}function wb(e){if(e.propertyName==="value"&&kf(Xh)){var t=[];_b(t,Xh,e,ov(e)),eb(UC,t)}}function qC(e,t,s){e==="focusin"?(d0(),Ph=t,Xh=s,Ph.attachEvent("onpropertychange",wb)):e==="focusout"&&d0()}function GC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kf(Xh)}function WC(e,t){if(e==="click")return kf(t)}function HC(e,t){if(e==="input"||e==="change")return kf(t)}function ZC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mo=typeof Object.is=="function"?Object.is:ZC;function Kh(e,t){if(Mo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),u=Object.keys(t);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!Lg.call(t,h)||!Mo(e[h],t[h]))return!1}return!0}function p0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f0(e,t){var s=p0(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=t&&u>=t)return{node:s,offset:t-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=p0(s)}}function bb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sb(){for(var e=window,t=Op();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Op(e.document)}return t}function mv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $C(e){var t=Sb(),s=e.focusedElem,u=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&bb(s.ownerDocument.documentElement,s)){if(u!==null&&mv(s)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!e.extend&&p>u&&(h=u,u=p,p=h),h=f0(s,p);var y=f0(s,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),p>u?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XC=Ua&&"documentMode"in document&&11>=document.documentMode,nc=null,Jg=null,Ih=null,ey=!1;function m0(e,t,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ey||nc==null||nc!==Op(u)||(u=nc,"selectionStart"in u&&mv(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ih&&Kh(Ih,u)||(Ih=u,u=Hp(Jg,"onSelect"),0<u.length&&(t=new dv("onSelect","select",null,t,s),e.push({event:t,listeners:u}),t.target=nc)))}function up(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ic={animationend:up("Animation","AnimationEnd"),animationiteration:up("Animation","AnimationIteration"),animationstart:up("Animation","AnimationStart"),transitionend:up("Transition","TransitionEnd")},Jm={},Tb={};Ua&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function Pf(e){if(Jm[e])return Jm[e];if(!ic[e])return e;var t=ic[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Tb)return Jm[e]=t[s];return e}var Ab=Pf("animationend"),Eb=Pf("animationiteration"),Cb=Pf("animationstart"),kb=Pf("transitionend"),Pb=new Map,g0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bl(e,t){Pb.set(e,t),Au(t,[e])}for(var eg=0;eg<g0.length;eg++){var tg=g0[eg],KC=tg.toLowerCase(),YC=tg[0].toUpperCase()+tg.slice(1);Bl(KC,"on"+YC)}Bl(Ab,"onAnimationEnd");Bl(Eb,"onAnimationIteration");Bl(Cb,"onAnimationStart");Bl("dblclick","onDoubleClick");Bl("focusin","onFocus");Bl("focusout","onBlur");Bl(kb,"onTransitionEnd");Tc("onMouseEnter",["mouseout","mouseover"]);Tc("onMouseLeave",["mouseout","mouseover"]);Tc("onPointerEnter",["pointerout","pointerover"]);Tc("onPointerLeave",["pointerout","pointerover"]);Au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Au("onBeforeInput",["compositionend","keypress","textInput","paste"]);Au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function y0(e,t,s){var u=e.type||"unknown-event";e.currentTarget=s,KE(u,t,void 0,e),e.currentTarget=null}function Ib(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],h=u.event;u=u.listeners;e:{var p=void 0;if(t)for(var y=u.length-1;0<=y;y--){var a=u[y],S=a.instance,I=a.currentTarget;if(a=a.listener,S!==p&&h.isPropagationStopped())break e;y0(h,a,I),p=S}else for(y=0;y<u.length;y++){if(a=u[y],S=a.instance,I=a.currentTarget,a=a.listener,S!==p&&h.isPropagationStopped())break e;y0(h,a,I),p=S}}}if(Up)throw e=Xg,Up=!1,Xg=null,e}function Ii(e,t){var s=t[sy];s===void 0&&(s=t[sy]=new Set);var u=e+"__bubble";s.has(u)||(Mb(t,e,2,!1),s.add(u))}function ng(e,t,s){var u=0;t&&(u|=4),Mb(s,e,u,t)}var cp="_reactListening"+Math.random().toString(36).slice(2);function Yh(e){if(!e[cp]){e[cp]=!0,Fw.forEach(function(s){s!=="selectionchange"&&(QC.has(s)||ng(s,!1,e),ng(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cp]||(t[cp]=!0,ng("selectionchange",!1,t))}}function Mb(e,t,s,u){switch(fb(t)){case 1:var h=dC;break;case 4:h=pC;break;default:h=cv}s=h.bind(null,t,s,e),h=void 0,!$g||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(t,s,{capture:!0,passive:h}):e.addEventListener(t,s,!0):h!==void 0?e.addEventListener(t,s,{passive:h}):e.addEventListener(t,s,!1)}function ig(e,t,s,u,h){var p=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var a=u.stateNode.containerInfo;if(a===h||a.nodeType===8&&a.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===h||S.nodeType===8&&S.parentNode===h))return;y=y.return}for(;a!==null;){if(y=du(a),y===null)return;if(S=y.tag,S===5||S===6){u=p=y;continue e}a=a.parentNode}}u=u.return}eb(function(){var I=p,B=ov(s),V=[];e:{var z=Pb.get(e);if(z!==void 0){var ie=dv,ce=e;switch(e){case"keypress":if(kp(s)===0)break e;case"keydown":case"keyup":ie=kC;break;case"focusin":ce="focus",ie=Km;break;case"focusout":ce="blur",ie=Km;break;case"beforeblur":case"afterblur":ie=Km;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=s0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=gC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=MC;break;case Ab:case Eb:case Cb:ie=_C;break;case kb:ie=DC;break;case"scroll":ie=fC;break;case"wheel":ie=RC;break;case"copy":case"cut":case"paste":ie=wC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=a0}var he=(t&4)!==0,He=!he&&e==="scroll",oe=he?z!==null?z+"Capture":null:z;he=[];for(var ae=I,re;ae!==null;){re=ae;var we=re.stateNode;if(re.tag===5&&we!==null&&(re=we,oe!==null&&(we=Wh(ae,oe),we!=null&&he.push(Qh(ae,we,re)))),He)break;ae=ae.return}0<he.length&&(z=new ie(z,ce,null,s,B),V.push({event:z,listeners:he}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",z&&s!==Hg&&(ce=s.relatedTarget||s.fromElement)&&(du(ce)||ce[ja]))break e;if((ie||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,ie?(ce=s.relatedTarget||s.toElement,ie=I,ce=ce?du(ce):null,ce!==null&&(He=Eu(ce),ce!==He||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ie=null,ce=I),ie!==ce)){if(he=s0,we="onMouseLeave",oe="onMouseEnter",ae="mouse",(e==="pointerout"||e==="pointerover")&&(he=a0,we="onPointerLeave",oe="onPointerEnter",ae="pointer"),He=ie==null?z:rc(ie),re=ce==null?z:rc(ce),z=new he(we,ae+"leave",ie,s,B),z.target=He,z.relatedTarget=re,we=null,du(B)===I&&(he=new he(oe,ae+"enter",ce,s,B),he.target=re,he.relatedTarget=He,we=he),He=we,ie&&ce)t:{for(he=ie,oe=ce,ae=0,re=he;re;re=Yu(re))ae++;for(re=0,we=oe;we;we=Yu(we))re++;for(;0<ae-re;)he=Yu(he),ae--;for(;0<re-ae;)oe=Yu(oe),re--;for(;ae--;){if(he===oe||oe!==null&&he===oe.alternate)break t;he=Yu(he),oe=Yu(oe)}he=null}else he=null;ie!==null&&v0(V,z,ie,he,!1),ce!==null&&He!==null&&v0(V,He,ce,he,!0)}}e:{if(z=I?rc(I):window,ie=z.nodeName&&z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&z.type==="file")var Ue=jC;else if(c0(z))if(xb)Ue=HC;else{Ue=GC;var P=qC}else(ie=z.nodeName)&&ie.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(Ue=WC);if(Ue&&(Ue=Ue(e,I))){_b(V,Ue,s,B);break e}P&&P(e,z,I),e==="focusout"&&(P=z._wrapperState)&&P.controlled&&z.type==="number"&&Ug(z,"number",z.value)}switch(P=I?rc(I):window,e){case"focusin":(c0(P)||P.contentEditable==="true")&&(nc=P,Jg=I,Ih=null);break;case"focusout":Ih=Jg=nc=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,m0(V,s,B);break;case"selectionchange":if(XC)break;case"keydown":case"keyup":m0(V,s,B)}var ct;if(fv)e:{switch(e){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else tc?yb(e,s)&&(ht="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ht="onCompositionStart");ht&&(gb&&s.locale!=="ko"&&(tc||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&tc&&(ct=mb()):(wl=B,hv="value"in wl?wl.value:wl.textContent,tc=!0)),P=Hp(I,ht),0<P.length&&(ht=new o0(ht,e,null,s,B),V.push({event:ht,listeners:P}),ct?ht.data=ct:(ct=vb(s),ct!==null&&(ht.data=ct)))),(ct=NC?FC(e,s):OC(e,s))&&(I=Hp(I,"onBeforeInput"),0<I.length&&(B=new o0("onBeforeInput","beforeinput",null,s,B),V.push({event:B,listeners:I}),B.data=ct))}Ib(V,t)})}function Qh(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Hp(e,t){for(var s=t+"Capture",u=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=Wh(e,s),p!=null&&u.unshift(Qh(e,p,h)),p=Wh(e,t),p!=null&&u.push(Qh(e,p,h))),e=e.return}return u}function Yu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v0(e,t,s,u,h){for(var p=t._reactName,y=[];s!==null&&s!==u;){var a=s,S=a.alternate,I=a.stateNode;if(S!==null&&S===u)break;a.tag===5&&I!==null&&(a=I,h?(S=Wh(s,p),S!=null&&y.unshift(Qh(s,S,a))):h||(S=Wh(s,p),S!=null&&y.push(Qh(s,S,a)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var JC=/\r\n?/g,ek=/\u0000|\uFFFD/g;function _0(e){return(typeof e=="string"?e:""+e).replace(JC,`
`).replace(ek,"")}function hp(e,t,s){if(t=_0(t),_0(e)!==t&&s)throw Error(ft(425))}function Zp(){}var ty=null,ny=null;function iy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ry=typeof setTimeout=="function"?setTimeout:void 0,tk=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,nk=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(e){return x0.resolve(null).then(e).catch(ik)}:ry;function ik(e){setTimeout(function(){throw e})}function rg(e,t){var s=t,u=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){e.removeChild(h),$h(t);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);$h(t)}function kl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Rc=Math.random().toString(36).slice(2),na="__reactFiber$"+Rc,Jh="__reactProps$"+Rc,ja="__reactContainer$"+Rc,sy="__reactEvents$"+Rc,rk="__reactListeners$"+Rc,sk="__reactHandles$"+Rc;function du(e){var t=e[na];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ja]||s[na]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=w0(e);e!==null;){if(s=e[na])return s;e=w0(e)}return t}e=s,s=e.parentNode}return null}function yd(e){return e=e[na]||e[ja],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ft(33))}function If(e){return e[Jh]||null}var oy=[],sc=-1;function Nl(e){return{current:e}}function Mi(e){0>sc||(e.current=oy[sc],oy[sc]=null,sc--)}function ki(e,t){sc++,oy[sc]=e.current,e.current=t}var Ll={},es=Nl(Ll),Ts=Nl(!1),xu=Ll;function Ac(e,t){var s=e.type.contextTypes;if(!s)return Ll;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in s)h[p]=t[p];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function As(e){return e=e.childContextTypes,e!=null}function $p(){Mi(Ts),Mi(es)}function b0(e,t,s){if(es.current!==Ll)throw Error(ft(168));ki(es,t),ki(Ts,s)}function zb(e,t,s){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in t))throw Error(ft(108,qE(e)||"Unknown",h));return Wi({},s,u)}function Xp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ll,xu=es.current,ki(es,e),ki(Ts,Ts.current),!0}function S0(e,t,s){var u=e.stateNode;if(!u)throw Error(ft(169));s?(e=zb(e,t,xu),u.__reactInternalMemoizedMergedChildContext=e,Mi(Ts),Mi(es),ki(es,e)):Mi(Ts),ki(Ts,s)}var Ba=null,Mf=!1,sg=!1;function Db(e){Ba===null?Ba=[e]:Ba.push(e)}function ok(e){Mf=!0,Db(e)}function Fl(){if(!sg&&Ba!==null){sg=!0;var e=0,t=yi;try{var s=Ba;for(yi=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}Ba=null,Mf=!1}catch(h){throw Ba!==null&&(Ba=Ba.slice(e+1)),rb(av,Fl),h}finally{yi=t,sg=!1}}return null}var oc=[],ac=0,Kp=null,Yp=0,eo=[],to=0,wu=null,Na=1,Fa="";function uu(e,t){oc[ac++]=Yp,oc[ac++]=Kp,Kp=e,Yp=t}function Lb(e,t,s){eo[to++]=Na,eo[to++]=Fa,eo[to++]=wu,wu=e;var u=Na;e=Fa;var h=32-Co(u)-1;u&=~(1<<h),s+=1;var p=32-Co(t)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,Na=1<<32-Co(t)+h|s<<h|u,Fa=p+e}else Na=1<<p|s<<h|u,Fa=e}function gv(e){e.return!==null&&(uu(e,1),Lb(e,1,0))}function yv(e){for(;e===Kp;)Kp=oc[--ac],oc[ac]=null,Yp=oc[--ac],oc[ac]=null;for(;e===wu;)wu=eo[--to],eo[to]=null,Fa=eo[--to],eo[to]=null,Na=eo[--to],eo[to]=null}var Ns=null,Bs=null,Bi=!1,Eo=null;function Rb(e,t){var s=no(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function T0(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ns=e,Bs=kl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ns=e,Bs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=wu!==null?{id:Na,overflow:Fa}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=no(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Ns=e,Bs=null,!0):!1;default:return!1}}function ay(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ly(e){if(Bi){var t=Bs;if(t){var s=t;if(!T0(e,t)){if(ay(e))throw Error(ft(418));t=kl(s.nextSibling);var u=Ns;t&&T0(e,t)?Rb(u,s):(e.flags=e.flags&-4097|2,Bi=!1,Ns=e)}}else{if(ay(e))throw Error(ft(418));e.flags=e.flags&-4097|2,Bi=!1,Ns=e}}}function A0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ns=e}function dp(e){if(e!==Ns)return!1;if(!Bi)return A0(e),Bi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iy(e.type,e.memoizedProps)),t&&(t=Bs)){if(ay(e))throw Bb(),Error(ft(418));for(;t;)Rb(e,t),t=kl(t.nextSibling)}if(A0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Bs=kl(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Bs=null}}else Bs=Ns?kl(e.stateNode.nextSibling):null;return!0}function Bb(){for(var e=Bs;e;)e=kl(e.nextSibling)}function Ec(){Bs=Ns=null,Bi=!1}function vv(e){Eo===null?Eo=[e]:Eo.push(e)}var ak=Ha.ReactCurrentBatchConfig;function To(e,t){if(e&&e.defaultProps){t=Wi({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}var Qp=Nl(null),Jp=null,lc=null,_v=null;function xv(){_v=lc=Jp=null}function wv(e){var t=Qp.current;Mi(Qp),e._currentValue=t}function uy(e,t,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===s)break;e=e.return}}function vc(e,t){Jp=e,_v=lc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ss=!0),e.firstContext=null)}function so(e){var t=e._currentValue;if(_v!==e)if(e={context:e,memoizedValue:t,next:null},lc===null){if(Jp===null)throw Error(ft(308));lc=e,Jp.dependencies={lanes:0,firstContext:e}}else lc=lc.next=e;return t}var pu=null;function bv(e){pu===null?pu=[e]:pu.push(e)}function Nb(e,t,s,u){var h=t.interleaved;return h===null?(s.next=s,bv(t)):(s.next=h.next,h.next=s),t.interleaved=s,qa(e,u)}function qa(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var yl=!1;function Sv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pl(e,t,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(ni&2)!==0){var h=u.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),u.pending=t,qa(e,s)}return h=u.interleaved,h===null?(t.next=t,bv(u)):(t.next=h.next,h.next=t),u.interleaved=t,qa(e,s)}function Pp(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,lv(e,s)}}function E0(e,t){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?h=p=y:p=p.next=y,s=s.next}while(s!==null);p===null?h=p=t:p=p.next=t}else h=p=t;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ef(e,t,s,u){var h=e.updateQueue;yl=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,a=h.shared.pending;if(a!==null){h.shared.pending=null;var S=a,I=S.next;S.next=null,y===null?p=I:y.next=I,y=S;var B=e.alternate;B!==null&&(B=B.updateQueue,a=B.lastBaseUpdate,a!==y&&(a===null?B.firstBaseUpdate=I:a.next=I,B.lastBaseUpdate=S))}if(p!==null){var V=h.baseState;y=0,B=I=S=null,a=p;do{var z=a.lane,ie=a.eventTime;if((u&z)===z){B!==null&&(B=B.next={eventTime:ie,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var ce=e,he=a;switch(z=t,ie=s,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){V=ce.call(ie,V,z);break e}V=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,z=typeof ce=="function"?ce.call(ie,V,z):ce,z==null)break e;V=Wi({},V,z);break e;case 2:yl=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,z=h.effects,z===null?h.effects=[a]:z.push(a))}else ie={eventTime:ie,lane:z,tag:a.tag,payload:a.payload,callback:a.callback,next:null},B===null?(I=B=ie,S=V):B=B.next=ie,y|=z;if(a=a.next,a===null){if(a=h.shared.pending,a===null)break;z=a,a=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(1);if(B===null&&(S=V),h.baseState=S,h.firstBaseUpdate=I,h.lastBaseUpdate=B,t=h.shared.interleaved,t!==null){h=t;do y|=h.lane,h=h.next;while(h!==t)}else p===null&&(h.shared.lanes=0);Su|=y,e.lanes=y,e.memoizedState=V}}function C0(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(ft(191,h));h.call(u)}}}var Ob=new Nw.Component().refs;function cy(e,t,s,u){t=e.memoizedState,s=s(u,t),s=s==null?t:Wi({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zf={isMounted:function(e){return(e=e._reactInternals)?Eu(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var u=hs(),h=Ml(e),p=Oa(u,h);p.payload=t,s!=null&&(p.callback=s),t=Pl(e,p,h),t!==null&&(ko(t,e,h,u),Pp(t,e,h))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var u=hs(),h=Ml(e),p=Oa(u,h);p.tag=1,p.payload=t,s!=null&&(p.callback=s),t=Pl(e,p,h),t!==null&&(ko(t,e,h,u),Pp(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=hs(),u=Ml(e),h=Oa(s,u);h.tag=2,t!=null&&(h.callback=t),t=Pl(e,h,u),t!==null&&(ko(t,e,u,s),Pp(t,e,u))}};function k0(e,t,s,u,h,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,y):t.prototype&&t.prototype.isPureReactComponent?!Kh(s,u)||!Kh(h,p):!0}function Vb(e,t,s){var u=!1,h=Ll,p=t.contextType;return typeof p=="object"&&p!==null?p=so(p):(h=As(t)?xu:es.current,u=t.contextTypes,p=(u=u!=null)?Ac(e,h):Ll),t=new t(s,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zf,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),t}function P0(e,t,s,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,u),t.state!==e&&zf.enqueueReplaceState(t,t.state,null)}function hy(e,t,s,u){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs=Ob,Sv(e);var p=t.contextType;typeof p=="object"&&p!==null?h.context=so(p):(p=As(t)?xu:es.current,h.context=Ac(e,p)),h.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(cy(e,t,p,s),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&zf.enqueueReplaceState(h,h.state,null),ef(e,s,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function fh(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ft(309));var u=s.stateNode}if(!u)throw Error(ft(147,e));var h=u,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(y){var a=h.refs;a===Ob&&(a=h.refs={}),y===null?delete a[p]:a[p]=y},t._stringRef=p,t)}if(typeof e!="string")throw Error(ft(284));if(!s._owner)throw Error(ft(290,e))}return e}function pp(e,t){throw e=Object.prototype.toString.call(t),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function I0(e){var t=e._init;return t(e._payload)}function Ub(e){function t(oe,ae){if(e){var re=oe.deletions;re===null?(oe.deletions=[ae],oe.flags|=16):re.push(ae)}}function s(oe,ae){if(!e)return null;for(;ae!==null;)t(oe,ae),ae=ae.sibling;return null}function u(oe,ae){for(oe=new Map;ae!==null;)ae.key!==null?oe.set(ae.key,ae):oe.set(ae.index,ae),ae=ae.sibling;return oe}function h(oe,ae){return oe=zl(oe,ae),oe.index=0,oe.sibling=null,oe}function p(oe,ae,re){return oe.index=re,e?(re=oe.alternate,re!==null?(re=re.index,re<ae?(oe.flags|=2,ae):re):(oe.flags|=2,ae)):(oe.flags|=1048576,ae)}function y(oe){return e&&oe.alternate===null&&(oe.flags|=2),oe}function a(oe,ae,re,we){return ae===null||ae.tag!==6?(ae=dg(re,oe.mode,we),ae.return=oe,ae):(ae=h(ae,re),ae.return=oe,ae)}function S(oe,ae,re,we){var Ue=re.type;return Ue===ec?B(oe,ae,re.props.children,we,re.key):ae!==null&&(ae.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===gl&&I0(Ue)===ae.type)?(we=h(ae,re.props),we.ref=fh(oe,ae,re),we.return=oe,we):(we=Rp(re.type,re.key,re.props,null,oe.mode,we),we.ref=fh(oe,ae,re),we.return=oe,we)}function I(oe,ae,re,we){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==re.containerInfo||ae.stateNode.implementation!==re.implementation?(ae=pg(re,oe.mode,we),ae.return=oe,ae):(ae=h(ae,re.children||[]),ae.return=oe,ae)}function B(oe,ae,re,we,Ue){return ae===null||ae.tag!==7?(ae=vu(re,oe.mode,we,Ue),ae.return=oe,ae):(ae=h(ae,re),ae.return=oe,ae)}function V(oe,ae,re){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=dg(""+ae,oe.mode,re),ae.return=oe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case np:return re=Rp(ae.type,ae.key,ae.props,null,oe.mode,re),re.ref=fh(oe,null,ae),re.return=oe,re;case Ju:return ae=pg(ae,oe.mode,re),ae.return=oe,ae;case gl:var we=ae._init;return V(oe,we(ae._payload),re)}if(bh(ae)||uh(ae))return ae=vu(ae,oe.mode,re,null),ae.return=oe,ae;pp(oe,ae)}return null}function z(oe,ae,re,we){var Ue=ae!==null?ae.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ue!==null?null:a(oe,ae,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case np:return re.key===Ue?S(oe,ae,re,we):null;case Ju:return re.key===Ue?I(oe,ae,re,we):null;case gl:return Ue=re._init,z(oe,ae,Ue(re._payload),we)}if(bh(re)||uh(re))return Ue!==null?null:B(oe,ae,re,we,null);pp(oe,re)}return null}function ie(oe,ae,re,we,Ue){if(typeof we=="string"&&we!==""||typeof we=="number")return oe=oe.get(re)||null,a(ae,oe,""+we,Ue);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case np:return oe=oe.get(we.key===null?re:we.key)||null,S(ae,oe,we,Ue);case Ju:return oe=oe.get(we.key===null?re:we.key)||null,I(ae,oe,we,Ue);case gl:var P=we._init;return ie(oe,ae,re,P(we._payload),Ue)}if(bh(we)||uh(we))return oe=oe.get(re)||null,B(ae,oe,we,Ue,null);pp(ae,we)}return null}function ce(oe,ae,re,we){for(var Ue=null,P=null,ct=ae,ht=ae=0,qt=null;ct!==null&&ht<re.length;ht++){ct.index>ht?(qt=ct,ct=null):qt=ct.sibling;var zt=z(oe,ct,re[ht],we);if(zt===null){ct===null&&(ct=qt);break}e&&ct&&zt.alternate===null&&t(oe,ct),ae=p(zt,ae,ht),P===null?Ue=zt:P.sibling=zt,P=zt,ct=qt}if(ht===re.length)return s(oe,ct),Bi&&uu(oe,ht),Ue;if(ct===null){for(;ht<re.length;ht++)ct=V(oe,re[ht],we),ct!==null&&(ae=p(ct,ae,ht),P===null?Ue=ct:P.sibling=ct,P=ct);return Bi&&uu(oe,ht),Ue}for(ct=u(oe,ct);ht<re.length;ht++)qt=ie(ct,oe,ht,re[ht],we),qt!==null&&(e&&qt.alternate!==null&&ct.delete(qt.key===null?ht:qt.key),ae=p(qt,ae,ht),P===null?Ue=qt:P.sibling=qt,P=qt);return e&&ct.forEach(function(Un){return t(oe,Un)}),Bi&&uu(oe,ht),Ue}function he(oe,ae,re,we){var Ue=uh(re);if(typeof Ue!="function")throw Error(ft(150));if(re=Ue.call(re),re==null)throw Error(ft(151));for(var P=Ue=null,ct=ae,ht=ae=0,qt=null,zt=re.next();ct!==null&&!zt.done;ht++,zt=re.next()){ct.index>ht?(qt=ct,ct=null):qt=ct.sibling;var Un=z(oe,ct,zt.value,we);if(Un===null){ct===null&&(ct=qt);break}e&&ct&&Un.alternate===null&&t(oe,ct),ae=p(Un,ae,ht),P===null?Ue=Un:P.sibling=Un,P=Un,ct=qt}if(zt.done)return s(oe,ct),Bi&&uu(oe,ht),Ue;if(ct===null){for(;!zt.done;ht++,zt=re.next())zt=V(oe,zt.value,we),zt!==null&&(ae=p(zt,ae,ht),P===null?Ue=zt:P.sibling=zt,P=zt);return Bi&&uu(oe,ht),Ue}for(ct=u(oe,ct);!zt.done;ht++,zt=re.next())zt=ie(ct,oe,ht,zt.value,we),zt!==null&&(e&&zt.alternate!==null&&ct.delete(zt.key===null?ht:zt.key),ae=p(zt,ae,ht),P===null?Ue=zt:P.sibling=zt,P=zt);return e&&ct.forEach(function(_n){return t(oe,_n)}),Bi&&uu(oe,ht),Ue}function He(oe,ae,re,we){if(typeof re=="object"&&re!==null&&re.type===ec&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case np:e:{for(var Ue=re.key,P=ae;P!==null;){if(P.key===Ue){if(Ue=re.type,Ue===ec){if(P.tag===7){s(oe,P.sibling),ae=h(P,re.props.children),ae.return=oe,oe=ae;break e}}else if(P.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===gl&&I0(Ue)===P.type){s(oe,P.sibling),ae=h(P,re.props),ae.ref=fh(oe,P,re),ae.return=oe,oe=ae;break e}s(oe,P);break}else t(oe,P);P=P.sibling}re.type===ec?(ae=vu(re.props.children,oe.mode,we,re.key),ae.return=oe,oe=ae):(we=Rp(re.type,re.key,re.props,null,oe.mode,we),we.ref=fh(oe,ae,re),we.return=oe,oe=we)}return y(oe);case Ju:e:{for(P=re.key;ae!==null;){if(ae.key===P)if(ae.tag===4&&ae.stateNode.containerInfo===re.containerInfo&&ae.stateNode.implementation===re.implementation){s(oe,ae.sibling),ae=h(ae,re.children||[]),ae.return=oe,oe=ae;break e}else{s(oe,ae);break}else t(oe,ae);ae=ae.sibling}ae=pg(re,oe.mode,we),ae.return=oe,oe=ae}return y(oe);case gl:return P=re._init,He(oe,ae,P(re._payload),we)}if(bh(re))return ce(oe,ae,re,we);if(uh(re))return he(oe,ae,re,we);pp(oe,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,ae!==null&&ae.tag===6?(s(oe,ae.sibling),ae=h(ae,re),ae.return=oe,oe=ae):(s(oe,ae),ae=dg(re,oe.mode,we),ae.return=oe,oe=ae),y(oe)):s(oe,ae)}return He}var Cc=Ub(!0),jb=Ub(!1),vd={},ra=Nl(vd),ed=Nl(vd),td=Nl(vd);function fu(e){if(e===vd)throw Error(ft(174));return e}function Tv(e,t){switch(ki(td,t),ki(ed,e),ki(ra,vd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qg(t,e)}Mi(ra),ki(ra,t)}function kc(){Mi(ra),Mi(ed),Mi(td)}function qb(e){fu(td.current);var t=fu(ra.current),s=qg(t,e.type);t!==s&&(ki(ed,e),ki(ra,s))}function Av(e){ed.current===e&&(Mi(ra),Mi(ed))}var qi=Nl(0);function tf(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var og=[];function Ev(){for(var e=0;e<og.length;e++)og[e]._workInProgressVersionPrimary=null;og.length=0}var Ip=Ha.ReactCurrentDispatcher,ag=Ha.ReactCurrentBatchConfig,bu=0,Gi=null,yr=null,Er=null,nf=!1,Mh=!1,nd=0,lk=0;function Yr(){throw Error(ft(321))}function Cv(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Mo(e[s],t[s]))return!1;return!0}function kv(e,t,s,u,h,p){if(bu=p,Gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ip.current=e===null||e.memoizedState===null?dk:pk,e=s(u,h),Mh){p=0;do{if(Mh=!1,nd=0,25<=p)throw Error(ft(301));p+=1,Er=yr=null,t.updateQueue=null,Ip.current=fk,e=s(u,h)}while(Mh)}if(Ip.current=rf,t=yr!==null&&yr.next!==null,bu=0,Er=yr=Gi=null,nf=!1,t)throw Error(ft(300));return e}function Pv(){var e=nd!==0;return nd=0,e}function ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Gi.memoizedState=Er=e:Er=Er.next=e,Er}function oo(){if(yr===null){var e=Gi.alternate;e=e!==null?e.memoizedState:null}else e=yr.next;var t=Er===null?Gi.memoizedState:Er.next;if(t!==null)Er=t,yr=e;else{if(e===null)throw Error(ft(310));yr=e,e={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Er===null?Gi.memoizedState=Er=e:Er=Er.next=e}return Er}function id(e,t){return typeof t=="function"?t(e):t}function lg(e){var t=oo(),s=t.queue;if(s===null)throw Error(ft(311));s.lastRenderedReducer=e;var u=yr,h=u.baseQueue,p=s.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,s.pending=null}if(h!==null){p=h.next,u=u.baseState;var a=y=null,S=null,I=p;do{var B=I.lane;if((bu&B)===B)S!==null&&(S=S.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),u=I.hasEagerState?I.eagerState:e(u,I.action);else{var V={lane:B,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};S===null?(a=S=V,y=u):S=S.next=V,Gi.lanes|=B,Su|=B}I=I.next}while(I!==null&&I!==p);S===null?y=u:S.next=a,Mo(u,t.memoizedState)||(Ss=!0),t.memoizedState=u,t.baseState=y,t.baseQueue=S,s.lastRenderedState=u}if(e=s.interleaved,e!==null){h=e;do p=h.lane,Gi.lanes|=p,Su|=p,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ug(e){var t=oo(),s=t.queue;if(s===null)throw Error(ft(311));s.lastRenderedReducer=e;var u=s.dispatch,h=s.pending,p=t.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do p=e(p,y.action),y=y.next;while(y!==h);Mo(p,t.memoizedState)||(Ss=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),s.lastRenderedState=p}return[p,u]}function Gb(){}function Wb(e,t){var s=Gi,u=oo(),h=t(),p=!Mo(u.memoizedState,h);if(p&&(u.memoizedState=h,Ss=!0),u=u.queue,Iv($b.bind(null,s,u,e),[e]),u.getSnapshot!==t||p||Er!==null&&Er.memoizedState.tag&1){if(s.flags|=2048,rd(9,Zb.bind(null,s,u,h,t),void 0,null),Cr===null)throw Error(ft(349));(bu&30)!==0||Hb(s,t,h)}return h}function Hb(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Gi.updateQueue,t===null?(t={lastEffect:null,stores:null},Gi.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Zb(e,t,s,u){t.value=s,t.getSnapshot=u,Xb(t)&&Kb(e)}function $b(e,t,s){return s(function(){Xb(t)&&Kb(e)})}function Xb(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Mo(e,s)}catch{return!0}}function Kb(e){var t=qa(e,1);t!==null&&ko(t,e,1,-1)}function M0(e){var t=ea();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:e},t.queue=e,e=e.dispatch=hk.bind(null,Gi,e),[t.memoizedState,e]}function rd(e,t,s,u){return e={tag:e,create:t,destroy:s,deps:u,next:null},t=Gi.updateQueue,t===null?(t={lastEffect:null,stores:null},Gi.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,t.lastEffect=e)),e}function Yb(){return oo().memoizedState}function Mp(e,t,s,u){var h=ea();Gi.flags|=e,h.memoizedState=rd(1|t,s,void 0,u===void 0?null:u)}function Df(e,t,s,u){var h=oo();u=u===void 0?null:u;var p=void 0;if(yr!==null){var y=yr.memoizedState;if(p=y.destroy,u!==null&&Cv(u,y.deps)){h.memoizedState=rd(t,s,p,u);return}}Gi.flags|=e,h.memoizedState=rd(1|t,s,p,u)}function z0(e,t){return Mp(8390656,8,e,t)}function Iv(e,t){return Df(2048,8,e,t)}function Qb(e,t){return Df(4,2,e,t)}function Jb(e,t){return Df(4,4,e,t)}function e2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t2(e,t,s){return s=s!=null?s.concat([e]):null,Df(4,4,e2.bind(null,t,e),s)}function Mv(){}function n2(e,t){var s=oo();t=t===void 0?null:t;var u=s.memoizedState;return u!==null&&t!==null&&Cv(t,u[1])?u[0]:(s.memoizedState=[e,t],e)}function i2(e,t){var s=oo();t=t===void 0?null:t;var u=s.memoizedState;return u!==null&&t!==null&&Cv(t,u[1])?u[0]:(e=e(),s.memoizedState=[e,t],e)}function r2(e,t,s){return(bu&21)===0?(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=s):(Mo(s,t)||(s=ab(),Gi.lanes|=s,Su|=s,e.baseState=!0),t)}function uk(e,t){var s=yi;yi=s!==0&&4>s?s:4,e(!0);var u=ag.transition;ag.transition={};try{e(!1),t()}finally{yi=s,ag.transition=u}}function s2(){return oo().memoizedState}function ck(e,t,s){var u=Ml(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},o2(e))a2(t,s);else if(s=Nb(e,t,s,u),s!==null){var h=hs();ko(s,e,u,h),l2(s,t,u)}}function hk(e,t,s){var u=Ml(e),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(o2(e))a2(t,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var y=t.lastRenderedState,a=p(y,s);if(h.hasEagerState=!0,h.eagerState=a,Mo(a,y)){var S=t.interleaved;S===null?(h.next=h,bv(t)):(h.next=S.next,S.next=h),t.interleaved=h;return}}catch{}finally{}s=Nb(e,t,h,u),s!==null&&(h=hs(),ko(s,e,u,h),l2(s,t,u))}}function o2(e){var t=e.alternate;return e===Gi||t!==null&&t===Gi}function a2(e,t){Mh=nf=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function l2(e,t,s){if((s&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,lv(e,s)}}var rf={readContext:so,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},dk={readContext:so,useCallback:function(e,t){return ea().memoizedState=[e,t===void 0?null:t],e},useContext:so,useEffect:z0,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Mp(4194308,4,e2.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Mp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mp(4,2,e,t)},useMemo:function(e,t){var s=ea();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var u=ea();return t=s!==void 0?s(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=ck.bind(null,Gi,e),[u.memoizedState,e]},useRef:function(e){var t=ea();return e={current:e},t.memoizedState=e},useState:M0,useDebugValue:Mv,useDeferredValue:function(e){return ea().memoizedState=e},useTransition:function(){var e=M0(!1),t=e[0];return e=uk.bind(null,e[1]),ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var u=Gi,h=ea();if(Bi){if(s===void 0)throw Error(ft(407));s=s()}else{if(s=t(),Cr===null)throw Error(ft(349));(bu&30)!==0||Hb(u,t,s)}h.memoizedState=s;var p={value:s,getSnapshot:t};return h.queue=p,z0($b.bind(null,u,p,e),[e]),u.flags|=2048,rd(9,Zb.bind(null,u,p,s,t),void 0,null),s},useId:function(){var e=ea(),t=Cr.identifierPrefix;if(Bi){var s=Fa,u=Na;s=(u&~(1<<32-Co(u)-1)).toString(32)+s,t=":"+t+"R"+s,s=nd++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=lk++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pk={readContext:so,useCallback:n2,useContext:so,useEffect:Iv,useImperativeHandle:t2,useInsertionEffect:Qb,useLayoutEffect:Jb,useMemo:i2,useReducer:lg,useRef:Yb,useState:function(){return lg(id)},useDebugValue:Mv,useDeferredValue:function(e){var t=oo();return r2(t,yr.memoizedState,e)},useTransition:function(){var e=lg(id)[0],t=oo().memoizedState;return[e,t]},useMutableSource:Gb,useSyncExternalStore:Wb,useId:s2,unstable_isNewReconciler:!1},fk={readContext:so,useCallback:n2,useContext:so,useEffect:Iv,useImperativeHandle:t2,useInsertionEffect:Qb,useLayoutEffect:Jb,useMemo:i2,useReducer:ug,useRef:Yb,useState:function(){return ug(id)},useDebugValue:Mv,useDeferredValue:function(e){var t=oo();return yr===null?t.memoizedState=e:r2(t,yr.memoizedState,e)},useTransition:function(){var e=ug(id)[0],t=oo().memoizedState;return[e,t]},useMutableSource:Gb,useSyncExternalStore:Wb,useId:s2,unstable_isNewReconciler:!1};function Pc(e,t){try{var s="",u=t;do s+=jE(u),u=u.return;while(u);var h=s}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:h,digest:null}}function cg(e,t,s){return{value:e,source:null,stack:s!=null?s:null,digest:t!=null?t:null}}function dy(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var mk=typeof WeakMap=="function"?WeakMap:Map;function u2(e,t,s){s=Oa(-1,s),s.tag=3,s.payload={element:null};var u=t.value;return s.callback=function(){of||(of=!0,by=u),dy(e,t)},s}function c2(e,t,s){s=Oa(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=t.value;s.payload=function(){return u(h)},s.callback=function(){dy(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){dy(e,t),typeof u!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),s}function D0(e,t,s){var u=e.pingCache;if(u===null){u=e.pingCache=new mk;var h=new Set;u.set(t,h)}else h=u.get(t),h===void 0&&(h=new Set,u.set(t,h));h.has(s)||(h.add(s),e=Pk.bind(null,e,t,s),t.then(e,e))}function L0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function R0(e,t,s,u,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Oa(-1,1),t.tag=2,Pl(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var gk=Ha.ReactCurrentOwner,Ss=!1;function cs(e,t,s,u){t.child=e===null?jb(t,null,s,u):Cc(t,e.child,s,u)}function B0(e,t,s,u,h){s=s.render;var p=t.ref;return vc(t,h),u=kv(e,t,s,u,p,h),s=Pv(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Ga(e,t,h)):(Bi&&s&&gv(t),t.flags|=1,cs(e,t,u,h),t.child)}function N0(e,t,s,u,h){if(e===null){var p=s.type;return typeof p=="function"&&!Ov(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=p,h2(e,t,p,u,h)):(e=Rp(s.type,null,u,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&h)===0){var y=p.memoizedProps;if(s=s.compare,s=s!==null?s:Kh,s(y,u)&&e.ref===t.ref)return Ga(e,t,h)}return t.flags|=1,e=zl(p,u),e.ref=t.ref,e.return=t,t.child=e}function h2(e,t,s,u,h){if(e!==null){var p=e.memoizedProps;if(Kh(p,u)&&e.ref===t.ref)if(Ss=!1,t.pendingProps=u=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Ss=!0);else return t.lanes=e.lanes,Ga(e,t,h)}return py(e,t,s,u,h)}function d2(e,t,s){var u=t.pendingProps,h=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(cc,Rs),Rs|=s;else{if((s&1073741824)===0)return e=p!==null?p.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(cc,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:s,ki(cc,Rs),Rs|=u}else p!==null?(u=p.baseLanes|s,t.memoizedState=null):u=s,ki(cc,Rs),Rs|=u;return cs(e,t,h,s),t.child}function p2(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function py(e,t,s,u,h){var p=As(s)?xu:es.current;return p=Ac(t,p),vc(t,h),s=kv(e,t,s,u,p,h),u=Pv(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Ga(e,t,h)):(Bi&&u&&gv(t),t.flags|=1,cs(e,t,s,h),t.child)}function F0(e,t,s,u,h){if(As(s)){var p=!0;Xp(t)}else p=!1;if(vc(t,h),t.stateNode===null)zp(e,t),Vb(t,s,u),hy(t,s,u,h),u=!0;else if(e===null){var y=t.stateNode,a=t.memoizedProps;y.props=a;var S=y.context,I=s.contextType;typeof I=="object"&&I!==null?I=so(I):(I=As(s)?xu:es.current,I=Ac(t,I));var B=s.getDerivedStateFromProps,V=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function";V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(a!==u||S!==I)&&P0(t,y,u,I),yl=!1;var z=t.memoizedState;y.state=z,ef(t,u,y,h),S=t.memoizedState,a!==u||z!==S||Ts.current||yl?(typeof B=="function"&&(cy(t,s,B,u),S=t.memoizedState),(a=yl||k0(t,s,a,u,z,S,I))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=S),y.props=u,y.state=S,y.context=I,u=a):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{y=t.stateNode,Fb(e,t),a=t.memoizedProps,I=t.type===t.elementType?a:To(t.type,a),y.props=I,V=t.pendingProps,z=y.context,S=s.contextType,typeof S=="object"&&S!==null?S=so(S):(S=As(s)?xu:es.current,S=Ac(t,S));var ie=s.getDerivedStateFromProps;(B=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(a!==V||z!==S)&&P0(t,y,u,S),yl=!1,z=t.memoizedState,y.state=z,ef(t,u,y,h);var ce=t.memoizedState;a!==V||z!==ce||Ts.current||yl?(typeof ie=="function"&&(cy(t,s,ie,u),ce=t.memoizedState),(I=yl||k0(t,s,I,u,z,ce,S)||!1)?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ce,S),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ce,S)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||a===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=ce),y.props=u,y.state=ce,y.context=S,u=I):(typeof y.componentDidUpdate!="function"||a===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),u=!1)}return fy(e,t,s,u,p,h)}function fy(e,t,s,u,h,p){p2(e,t);var y=(t.flags&128)!==0;if(!u&&!y)return h&&S0(t,s,!1),Ga(e,t,p);u=t.stateNode,gk.current=t;var a=y&&typeof s.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&y?(t.child=Cc(t,e.child,null,p),t.child=Cc(t,null,a,p)):cs(e,t,a,p),t.memoizedState=u.state,h&&S0(t,s,!0),t.child}function f2(e){var t=e.stateNode;t.pendingContext?b0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b0(e,t.context,!1),Tv(e,t.containerInfo)}function O0(e,t,s,u,h){return Ec(),vv(h),t.flags|=256,cs(e,t,s,u),t.child}var my={dehydrated:null,treeContext:null,retryLane:0};function gy(e){return{baseLanes:e,cachePool:null,transitions:null}}function m2(e,t,s){var u=t.pendingProps,h=qi.current,p=!1,y=(t.flags&128)!==0,a;if((a=y)||(a=e!==null&&e.memoizedState===null?!1:(h&2)!==0),a?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),ki(qi,h&1),e===null)return ly(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=u.children,e=u.fallback,p?(u=t.mode,p=t.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Bf(y,u,0,null),e=vu(e,u,s,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=gy(s),t.memoizedState=my,e):zv(t,y));if(h=e.memoizedState,h!==null&&(a=h.dehydrated,a!==null))return yk(e,t,y,u,a,h,s);if(p){p=u.fallback,y=t.mode,h=e.child,a=h.sibling;var S={mode:"hidden",children:u.children};return(y&1)===0&&t.child!==h?(u=t.child,u.childLanes=0,u.pendingProps=S,t.deletions=null):(u=zl(h,S),u.subtreeFlags=h.subtreeFlags&14680064),a!==null?p=zl(a,p):(p=vu(p,y,s,null),p.flags|=2),p.return=t,u.return=t,u.sibling=p,t.child=u,u=p,p=t.child,y=e.child.memoizedState,y=y===null?gy(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=e.childLanes&~s,t.memoizedState=my,u}return p=e.child,e=p.sibling,u=zl(p,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=s),u.return=t,u.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=u,t.memoizedState=null,u}function zv(e,t){return t=Bf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fp(e,t,s,u){return u!==null&&vv(u),Cc(t,e.child,null,s),e=zv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yk(e,t,s,u,h,p,y){if(s)return t.flags&256?(t.flags&=-257,u=cg(Error(ft(422))),fp(e,t,y,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=u.fallback,h=t.mode,u=Bf({mode:"visible",children:u.children},h,0,null),p=vu(p,h,y,null),p.flags|=2,u.return=t,p.return=t,u.sibling=p,t.child=u,(t.mode&1)!==0&&Cc(t,e.child,null,y),t.child.memoizedState=gy(y),t.memoizedState=my,p);if((t.mode&1)===0)return fp(e,t,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var a=u.dgst;return u=a,p=Error(ft(419)),u=cg(p,u,void 0),fp(e,t,y,u)}if(a=(y&e.childLanes)!==0,Ss||a){if(u=Cr,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,qa(e,h),ko(u,e,h,-1))}return Fv(),u=cg(Error(ft(421))),fp(e,t,y,u)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Ik.bind(null,e),h._reactRetry=t,null):(e=p.treeContext,Bs=kl(h.nextSibling),Ns=t,Bi=!0,Eo=null,e!==null&&(eo[to++]=Na,eo[to++]=Fa,eo[to++]=wu,Na=e.id,Fa=e.overflow,wu=t),t=zv(t,u.children),t.flags|=4096,t)}function V0(e,t,s){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),uy(e.return,t,s)}function hg(e,t,s,u,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=h)}function g2(e,t,s){var u=t.pendingProps,h=u.revealOrder,p=u.tail;if(cs(e,t,u.children,s),u=qi.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V0(e,s,t);else if(e.tag===19)V0(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(ki(qi,u),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(s=t.child,h=null;s!==null;)e=s.alternate,e!==null&&tf(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=t.child,t.child=null):(h=s.sibling,s.sibling=null),hg(t,!1,h,s,p);break;case"backwards":for(s=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&tf(e)===null){t.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}hg(t,!0,s,null,p);break;case"together":hg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zp(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Su|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(ft(153));if(t.child!==null){for(e=t.child,s=zl(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=zl(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function vk(e,t,s){switch(t.tag){case 3:f2(t),Ec();break;case 5:qb(t);break;case 1:As(t.type)&&Xp(t);break;case 4:Tv(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,h=t.memoizedProps.value;ki(Qp,u._currentValue),u._currentValue=h;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(ki(qi,qi.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?m2(e,t,s):(ki(qi,qi.current&1),e=Ga(e,t,s),e!==null?e.sibling:null);ki(qi,qi.current&1);break;case 19:if(u=(s&t.childLanes)!==0,(e.flags&128)!==0){if(u)return g2(e,t,s);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ki(qi,qi.current),u)break;return null;case 22:case 23:return t.lanes=0,d2(e,t,s)}return Ga(e,t,s)}var y2,yy,v2,_2;y2=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};yy=function(){};v2=function(e,t,s,u){var h=e.memoizedProps;if(h!==u){e=t.stateNode,fu(ra.current);var p=null;switch(s){case"input":h=Og(e,h),u=Og(e,u),p=[];break;case"select":h=Wi({},h,{value:void 0}),u=Wi({},u,{value:void 0}),p=[];break;case"textarea":h=jg(e,h),u=jg(e,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Zp)}Gg(s,u);var y;s=null;for(I in h)if(!u.hasOwnProperty(I)&&h.hasOwnProperty(I)&&h[I]!=null)if(I==="style"){var a=h[I];for(y in a)a.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(qh.hasOwnProperty(I)?p||(p=[]):(p=p||[]).push(I,null));for(I in u){var S=u[I];if(a=h!=null?h[I]:void 0,u.hasOwnProperty(I)&&S!==a&&(S!=null||a!=null))if(I==="style")if(a){for(y in a)!a.hasOwnProperty(y)||S&&S.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in S)S.hasOwnProperty(y)&&a[y]!==S[y]&&(s||(s={}),s[y]=S[y])}else s||(p||(p=[]),p.push(I,s)),s=S;else I==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,a=a?a.__html:void 0,S!=null&&a!==S&&(p=p||[]).push(I,S)):I==="children"?typeof S!="string"&&typeof S!="number"||(p=p||[]).push(I,""+S):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(qh.hasOwnProperty(I)?(S!=null&&I==="onScroll"&&Ii("scroll",e),p||a===S||(p=[])):(p=p||[]).push(I,S))}s&&(p=p||[]).push("style",s);var I=p;(t.updateQueue=I)&&(t.flags|=4)}};_2=function(e,t,s,u){s!==u&&(t.flags|=4)};function mh(e,t){if(!Bi)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Qr(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(t)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=s,t}function _k(e,t,s){var u=t.pendingProps;switch(yv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(t),null;case 1:return As(t.type)&&$p(),Qr(t),null;case 3:return u=t.stateNode,kc(),Mi(Ts),Mi(es),Ev(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eo!==null&&(Ay(Eo),Eo=null))),yy(e,t),Qr(t),null;case 5:Av(t);var h=fu(td.current);if(s=t.type,e!==null&&t.stateNode!=null)v2(e,t,s,u,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(ft(166));return Qr(t),null}if(e=fu(ra.current),dp(t)){u=t.stateNode,s=t.type;var p=t.memoizedProps;switch(u[na]=t,u[Jh]=p,e=(t.mode&1)!==0,s){case"dialog":Ii("cancel",u),Ii("close",u);break;case"iframe":case"object":case"embed":Ii("load",u);break;case"video":case"audio":for(h=0;h<Th.length;h++)Ii(Th[h],u);break;case"source":Ii("error",u);break;case"img":case"image":case"link":Ii("error",u),Ii("load",u);break;case"details":Ii("toggle",u);break;case"input":Xx(u,p),Ii("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Ii("invalid",u);break;case"textarea":Yx(u,p),Ii("invalid",u)}Gg(s,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var a=p[y];y==="children"?typeof a=="string"?u.textContent!==a&&(p.suppressHydrationWarning!==!0&&hp(u.textContent,a,e),h=["children",a]):typeof a=="number"&&u.textContent!==""+a&&(p.suppressHydrationWarning!==!0&&hp(u.textContent,a,e),h=["children",""+a]):qh.hasOwnProperty(y)&&a!=null&&y==="onScroll"&&Ii("scroll",u)}switch(s){case"input":ip(u),Kx(u,p,!0);break;case"textarea":ip(u),Qx(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Zp)}u=h,t.updateQueue=u,u!==null&&(t.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hw(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(s,{is:u.is}):(e=y.createElement(s),s==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,s),e[na]=t,e[Jh]=u,y2(e,t,!1,!1),t.stateNode=e;e:{switch(y=Wg(s,u),s){case"dialog":Ii("cancel",e),Ii("close",e),h=u;break;case"iframe":case"object":case"embed":Ii("load",e),h=u;break;case"video":case"audio":for(h=0;h<Th.length;h++)Ii(Th[h],e);h=u;break;case"source":Ii("error",e),h=u;break;case"img":case"image":case"link":Ii("error",e),Ii("load",e),h=u;break;case"details":Ii("toggle",e),h=u;break;case"input":Xx(e,u),h=Og(e,u),Ii("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=Wi({},u,{value:void 0}),Ii("invalid",e);break;case"textarea":Yx(e,u),h=jg(e,u),Ii("invalid",e);break;default:h=u}Gg(s,h),a=h;for(p in a)if(a.hasOwnProperty(p)){var S=a[p];p==="style"?Xw(e,S):p==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Zw(e,S)):p==="children"?typeof S=="string"?(s!=="textarea"||S!=="")&&Gh(e,S):typeof S=="number"&&Gh(e,""+S):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(qh.hasOwnProperty(p)?S!=null&&p==="onScroll"&&Ii("scroll",e):S!=null&&nv(e,p,S,y))}switch(s){case"input":ip(e),Kx(e,u,!1);break;case"textarea":ip(e),Qx(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Dl(u.value));break;case"select":e.multiple=!!u.multiple,p=u.value,p!=null?fc(e,!!u.multiple,p,!1):u.defaultValue!=null&&fc(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Zp)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qr(t),null;case 6:if(e&&t.stateNode!=null)_2(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(ft(166));if(s=fu(td.current),fu(ra.current),dp(t)){if(u=t.stateNode,s=t.memoizedProps,u[na]=t,(p=u.nodeValue!==s)&&(e=Ns,e!==null))switch(e.tag){case 3:hp(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hp(u.nodeValue,s,(e.mode&1)!==0)}p&&(t.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[na]=t,t.stateNode=u}return Qr(t),null;case 13:if(Mi(qi),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bi&&Bs!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Bb(),Ec(),t.flags|=98560,p=!1;else if(p=dp(t),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(ft(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(ft(317));p[na]=t}else Ec(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qr(t),p=!1}else Eo!==null&&(Ay(Eo),Eo=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(qi.current&1)!==0?vr===0&&(vr=3):Fv())),t.updateQueue!==null&&(t.flags|=4),Qr(t),null);case 4:return kc(),yy(e,t),e===null&&Yh(t.stateNode.containerInfo),Qr(t),null;case 10:return wv(t.type._context),Qr(t),null;case 17:return As(t.type)&&$p(),Qr(t),null;case 19:if(Mi(qi),p=t.memoizedState,p===null)return Qr(t),null;if(u=(t.flags&128)!==0,y=p.rendering,y===null)if(u)mh(p,!1);else{if(vr!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=tf(e),y!==null){for(t.flags|=128,mh(p,!1),u=y.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=s,s=t.child;s!==null;)p=s,e=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,e=y.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ki(qi,qi.current&1|2),t.child}e=e.sibling}p.tail!==null&&ir()>Ic&&(t.flags|=128,u=!0,mh(p,!1),t.lanes=4194304)}else{if(!u)if(e=tf(y),e!==null){if(t.flags|=128,u=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),mh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Bi)return Qr(t),null}else 2*ir()-p.renderingStartTime>Ic&&s!==1073741824&&(t.flags|=128,u=!0,mh(p,!1),t.lanes=4194304);p.isBackwards?(y.sibling=t.child,t.child=y):(s=p.last,s!==null?s.sibling=y:t.child=y,p.last=y)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=ir(),t.sibling=null,s=qi.current,ki(qi,u?s&1|2:s&1),t):(Qr(t),null);case 22:case 23:return Nv(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(Rs&1073741824)!==0&&(Qr(t),t.subtreeFlags&6&&(t.flags|=8192)):Qr(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function xk(e,t){switch(yv(t),t.tag){case 1:return As(t.type)&&$p(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kc(),Mi(Ts),Mi(es),Ev(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Av(t),null;case 13:if(Mi(qi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));Ec()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mi(qi),null;case 4:return kc(),null;case 10:return wv(t.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var mp=!1,Jr=!1,wk=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function uc(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Qi(e,t,u)}else s.current=null}function vy(e,t,s){try{s()}catch(u){Qi(e,t,u)}}var U0=!1;function bk(e,t){if(ty=Gp,e=Sb(),mv(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var y=0,a=-1,S=-1,I=0,B=0,V=e,z=null;t:for(;;){for(var ie;V!==s||h!==0&&V.nodeType!==3||(a=y+h),V!==p||u!==0&&V.nodeType!==3||(S=y+u),V.nodeType===3&&(y+=V.nodeValue.length),(ie=V.firstChild)!==null;)z=V,V=ie;for(;;){if(V===e)break t;if(z===s&&++I===h&&(a=y),z===p&&++B===u&&(S=y),(ie=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=ie}s=a===-1||S===-1?null:{start:a,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(ny={focusedElem:e,selectionRange:s},Gp=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){t=Ut;try{var ce=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,He=ce.memoizedState,oe=t.stateNode,ae=oe.getSnapshotBeforeUpdate(t.elementType===t.type?he:To(t.type,he),He);oe.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var re=t.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(we){Qi(t,t.return,we)}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}return ce=U0,U0=!1,ce}function zh(e,t,s){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&vy(t,s,p)}h=h.next}while(h!==u)}}function Lf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==t)}}function _y(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function x2(e){var t=e.alternate;t!==null&&(e.alternate=null,x2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[na],delete t[Jh],delete t[sy],delete t[rk],delete t[sk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w2(e){return e.tag===5||e.tag===3||e.tag===4}function j0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xy(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Zp));else if(u!==4&&(e=e.child,e!==null))for(xy(e,t,s),e=e.sibling;e!==null;)xy(e,t,s),e=e.sibling}function wy(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(wy(e,t,s),e=e.sibling;e!==null;)wy(e,t,s),e=e.sibling}var Fr=null,Ao=!1;function fl(e,t,s){for(s=s.child;s!==null;)b2(e,t,s),s=s.sibling}function b2(e,t,s){if(ia&&typeof ia.onCommitFiberUnmount=="function")try{ia.onCommitFiberUnmount(Ef,s)}catch{}switch(s.tag){case 5:Jr||uc(s,t);case 6:var u=Fr,h=Ao;Fr=null,fl(e,t,s),Fr=u,Ao=h,Fr!==null&&(Ao?(e=Fr,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Fr.removeChild(s.stateNode));break;case 18:Fr!==null&&(Ao?(e=Fr,s=s.stateNode,e.nodeType===8?rg(e.parentNode,s):e.nodeType===1&&rg(e,s),$h(e)):rg(Fr,s.stateNode));break;case 4:u=Fr,h=Ao,Fr=s.stateNode.containerInfo,Ao=!0,fl(e,t,s),Fr=u,Ao=h;break;case 0:case 11:case 14:case 15:if(!Jr&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&vy(s,t,y),h=h.next}while(h!==u)}fl(e,t,s);break;case 1:if(!Jr&&(uc(s,t),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(a){Qi(s,t,a)}fl(e,t,s);break;case 21:fl(e,t,s);break;case 22:s.mode&1?(Jr=(u=Jr)||s.memoizedState!==null,fl(e,t,s),Jr=u):fl(e,t,s);break;default:fl(e,t,s)}}function q0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new wk),t.forEach(function(u){var h=Mk.bind(null,e,u);s.has(u)||(s.add(u),u.then(h,h))})}}function wo(e,t){var s=t.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var p=e,y=t,a=y;e:for(;a!==null;){switch(a.tag){case 5:Fr=a.stateNode,Ao=!1;break e;case 3:Fr=a.stateNode.containerInfo,Ao=!0;break e;case 4:Fr=a.stateNode.containerInfo,Ao=!0;break e}a=a.return}if(Fr===null)throw Error(ft(160));b2(p,y,h),Fr=null,Ao=!1;var S=h.alternate;S!==null&&(S.return=null),h.return=null}catch(I){Qi(h,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S2(t,e),t=t.sibling}function S2(e,t){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wo(t,e),Jo(e),u&4){try{zh(3,e,e.return),Lf(3,e)}catch(he){Qi(e,e.return,he)}try{zh(5,e,e.return)}catch(he){Qi(e,e.return,he)}}break;case 1:wo(t,e),Jo(e),u&512&&s!==null&&uc(s,s.return);break;case 5:if(wo(t,e),Jo(e),u&512&&s!==null&&uc(s,s.return),e.flags&32){var h=e.stateNode;try{Gh(h,"")}catch(he){Qi(e,e.return,he)}}if(u&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,y=s!==null?s.memoizedProps:p,a=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{a==="input"&&p.type==="radio"&&p.name!=null&&Gw(h,p),Wg(a,y);var I=Wg(a,p);for(y=0;y<S.length;y+=2){var B=S[y],V=S[y+1];B==="style"?Xw(h,V):B==="dangerouslySetInnerHTML"?Zw(h,V):B==="children"?Gh(h,V):nv(h,B,V,I)}switch(a){case"input":Vg(h,p);break;case"textarea":Ww(h,p);break;case"select":var z=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?fc(h,!!p.multiple,ie,!1):z!==!!p.multiple&&(p.defaultValue!=null?fc(h,!!p.multiple,p.defaultValue,!0):fc(h,!!p.multiple,p.multiple?[]:"",!1))}h[Jh]=p}catch(he){Qi(e,e.return,he)}}break;case 6:if(wo(t,e),Jo(e),u&4){if(e.stateNode===null)throw Error(ft(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(he){Qi(e,e.return,he)}}break;case 3:if(wo(t,e),Jo(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{$h(t.containerInfo)}catch(he){Qi(e,e.return,he)}break;case 4:wo(t,e),Jo(e);break;case 13:wo(t,e),Jo(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Rv=ir())),u&4&&q0(e);break;case 22:if(B=s!==null&&s.memoizedState!==null,e.mode&1?(Jr=(I=Jr)||B,wo(t,e),Jr=I):wo(t,e),Jo(e),u&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!B&&(e.mode&1)!==0)for(Ut=e,B=e.child;B!==null;){for(V=Ut=B;Ut!==null;){switch(z=Ut,ie=z.child,z.tag){case 0:case 11:case 14:case 15:zh(4,z,z.return);break;case 1:uc(z,z.return);var ce=z.stateNode;if(typeof ce.componentWillUnmount=="function"){u=z,s=z.return;try{t=u,ce.props=t.memoizedProps,ce.state=t.memoizedState,ce.componentWillUnmount()}catch(he){Qi(u,s,he)}}break;case 5:uc(z,z.return);break;case 22:if(z.memoizedState!==null){W0(V);continue}}ie!==null?(ie.return=z,Ut=ie):W0(V)}B=B.sibling}e:for(B=null,V=e;;){if(V.tag===5){if(B===null){B=V;try{h=V.stateNode,I?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(a=V.stateNode,S=V.memoizedProps.style,y=S!=null&&S.hasOwnProperty("display")?S.display:null,a.style.display=$w("display",y))}catch(he){Qi(e,e.return,he)}}}else if(V.tag===6){if(B===null)try{V.stateNode.nodeValue=I?"":V.memoizedProps}catch(he){Qi(e,e.return,he)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;B===V&&(B=null),V=V.return}B===V&&(B=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:wo(t,e),Jo(e),u&4&&q0(e);break;case 21:break;default:wo(t,e),Jo(e)}}function Jo(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(w2(s)){var u=s;break e}s=s.return}throw Error(ft(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Gh(h,""),u.flags&=-33);var p=j0(e);wy(e,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,a=j0(e);xy(e,a,y);break;default:throw Error(ft(161))}}catch(S){Qi(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sk(e,t,s){Ut=e,T2(e)}function T2(e,t,s){for(var u=(e.mode&1)!==0;Ut!==null;){var h=Ut,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||mp;if(!y){var a=h.alternate,S=a!==null&&a.memoizedState!==null||Jr;a=mp;var I=Jr;if(mp=y,(Jr=S)&&!I)for(Ut=h;Ut!==null;)y=Ut,S=y.child,y.tag===22&&y.memoizedState!==null?H0(h):S!==null?(S.return=y,Ut=S):H0(h);for(;p!==null;)Ut=p,T2(p),p=p.sibling;Ut=h,mp=a,Jr=I}G0(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,Ut=p):G0(e)}}function G0(e){for(;Ut!==null;){var t=Ut;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Jr||Lf(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!Jr)if(s===null)u.componentDidMount();else{var h=t.elementType===t.type?s.memoizedProps:To(t.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&C0(t,p,u);break;case 3:var y=t.updateQueue;if(y!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}C0(t,y,s)}break;case 5:var a=t.stateNode;if(s===null&&t.flags&4){s=a;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&s.focus();break;case"img":S.src&&(s.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var B=I.memoizedState;if(B!==null){var V=B.dehydrated;V!==null&&$h(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}Jr||t.flags&512&&_y(t)}catch(z){Qi(t,t.return,z)}}if(t===e){Ut=null;break}if(s=t.sibling,s!==null){s.return=t.return,Ut=s;break}Ut=t.return}}function W0(e){for(;Ut!==null;){var t=Ut;if(t===e){Ut=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ut=s;break}Ut=t.return}}function H0(e){for(;Ut!==null;){var t=Ut;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Lf(4,t)}catch(S){Qi(t,s,S)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var h=t.return;try{u.componentDidMount()}catch(S){Qi(t,h,S)}}var p=t.return;try{_y(t)}catch(S){Qi(t,p,S)}break;case 5:var y=t.return;try{_y(t)}catch(S){Qi(t,y,S)}}}catch(S){Qi(t,t.return,S)}if(t===e){Ut=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ut=a;break}Ut=t.return}}var Tk=Math.ceil,sf=Ha.ReactCurrentDispatcher,Dv=Ha.ReactCurrentOwner,io=Ha.ReactCurrentBatchConfig,ni=0,Cr=null,hr=null,Vr=0,Rs=0,cc=Nl(0),vr=0,sd=null,Su=0,Rf=0,Lv=0,Dh=null,bs=null,Rv=0,Ic=1/0,Ra=null,of=!1,by=null,Il=null,gp=!1,bl=null,af=0,Lh=0,Sy=null,Dp=-1,Lp=0;function hs(){return(ni&6)!==0?ir():Dp!==-1?Dp:Dp=ir()}function Ml(e){return(e.mode&1)===0?1:(ni&2)!==0&&Vr!==0?Vr&-Vr:ak.transition!==null?(Lp===0&&(Lp=ab()),Lp):(e=yi,e!==0||(e=window.event,e=e===void 0?16:fb(e.type)),e)}function ko(e,t,s,u){if(50<Lh)throw Lh=0,Sy=null,Error(ft(185));md(e,s,u),((ni&2)===0||e!==Cr)&&(e===Cr&&((ni&2)===0&&(Rf|=s),vr===4&&xl(e,Vr)),Es(e,u),s===1&&ni===0&&(t.mode&1)===0&&(Ic=ir()+500,Mf&&Fl()))}function Es(e,t){var s=e.callbackNode;aC(e,t);var u=qp(e,e===Cr?Vr:0);if(u===0)s!==null&&t0(s),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(s!=null&&t0(s),t===1)e.tag===0?ok(Z0.bind(null,e)):Db(Z0.bind(null,e)),nk(function(){(ni&6)===0&&Fl()}),s=null;else{switch(lb(u)){case 1:s=av;break;case 4:s=sb;break;case 16:s=jp;break;case 536870912:s=ob;break;default:s=jp}s=z2(s,A2.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function A2(e,t){if(Dp=-1,Lp=0,(ni&6)!==0)throw Error(ft(327));var s=e.callbackNode;if(_c()&&e.callbackNode!==s)return null;var u=qp(e,e===Cr?Vr:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=lf(e,u);else{t=u;var h=ni;ni|=2;var p=C2();(Cr!==e||Vr!==t)&&(Ra=null,Ic=ir()+500,yu(e,t));do try{Ck();break}catch(a){E2(e,a)}while(1);xv(),sf.current=p,ni=h,hr!==null?t=0:(Cr=null,Vr=0,t=vr)}if(t!==0){if(t===2&&(h=Kg(e),h!==0&&(u=h,t=Ty(e,h))),t===1)throw s=sd,yu(e,0),xl(e,u),Es(e,ir()),s;if(t===6)xl(e,u);else{if(h=e.current.alternate,(u&30)===0&&!Ak(h)&&(t=lf(e,u),t===2&&(p=Kg(e),p!==0&&(u=p,t=Ty(e,p))),t===1))throw s=sd,yu(e,0),xl(e,u),Es(e,ir()),s;switch(e.finishedWork=h,e.finishedLanes=u,t){case 0:case 1:throw Error(ft(345));case 2:cu(e,bs,Ra);break;case 3:if(xl(e,u),(u&130023424)===u&&(t=Rv+500-ir(),10<t)){if(qp(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){hs(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=ry(cu.bind(null,e,bs,Ra),t);break}cu(e,bs,Ra);break;case 4:if(xl(e,u),(u&4194240)===u)break;for(t=e.eventTimes,h=-1;0<u;){var y=31-Co(u);p=1<<y,y=t[y],y>h&&(h=y),u&=~p}if(u=h,u=ir()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Tk(u/1960))-u,10<u){e.timeoutHandle=ry(cu.bind(null,e,bs,Ra),u);break}cu(e,bs,Ra);break;case 5:cu(e,bs,Ra);break;default:throw Error(ft(329))}}}return Es(e,ir()),e.callbackNode===s?A2.bind(null,e):null}function Ty(e,t){var s=Dh;return e.current.memoizedState.isDehydrated&&(yu(e,t).flags|=256),e=lf(e,t),e!==2&&(t=bs,bs=s,t!==null&&Ay(t)),e}function Ay(e){bs===null?bs=e:bs.push.apply(bs,e)}function Ak(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],p=h.getSnapshot;h=h.value;try{if(!Mo(p(),h))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xl(e,t){for(t&=~Lv,t&=~Rf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Co(t),u=1<<s;e[s]=-1,t&=~u}}function Z0(e){if((ni&6)!==0)throw Error(ft(327));_c();var t=qp(e,0);if((t&1)===0)return Es(e,ir()),null;var s=lf(e,t);if(e.tag!==0&&s===2){var u=Kg(e);u!==0&&(t=u,s=Ty(e,u))}if(s===1)throw s=sd,yu(e,0),xl(e,t),Es(e,ir()),s;if(s===6)throw Error(ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cu(e,bs,Ra),Es(e,ir()),null}function Bv(e,t){var s=ni;ni|=1;try{return e(t)}finally{ni=s,ni===0&&(Ic=ir()+500,Mf&&Fl())}}function Tu(e){bl!==null&&bl.tag===0&&(ni&6)===0&&_c();var t=ni;ni|=1;var s=io.transition,u=yi;try{if(io.transition=null,yi=1,e)return e()}finally{yi=u,io.transition=s,ni=t,(ni&6)===0&&Fl()}}function Nv(){Rs=cc.current,Mi(cc)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,tk(s)),hr!==null)for(s=hr.return;s!==null;){var u=s;switch(yv(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&$p();break;case 3:kc(),Mi(Ts),Mi(es),Ev();break;case 5:Av(u);break;case 4:kc();break;case 13:Mi(qi);break;case 19:Mi(qi);break;case 10:wv(u.type._context);break;case 22:case 23:Nv()}s=s.return}if(Cr=e,hr=e=zl(e.current,null),Vr=Rs=t,vr=0,sd=null,Lv=Rf=Su=0,bs=Dh=null,pu!==null){for(t=0;t<pu.length;t++)if(s=pu[t],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,p=s.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}s.pending=u}pu=null}return e}function E2(e,t){do{var s=hr;try{if(xv(),Ip.current=rf,nf){for(var u=Gi.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}nf=!1}if(bu=0,Er=yr=Gi=null,Mh=!1,nd=0,Dv.current=null,s===null||s.return===null){vr=1,sd=t,hr=null;break}e:{var p=e,y=s.return,a=s,S=t;if(t=Vr,a.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var I=S,B=a,V=B.tag;if((B.mode&1)===0&&(V===0||V===11||V===15)){var z=B.alternate;z?(B.updateQueue=z.updateQueue,B.memoizedState=z.memoizedState,B.lanes=z.lanes):(B.updateQueue=null,B.memoizedState=null)}var ie=L0(y);if(ie!==null){ie.flags&=-257,R0(ie,y,a,p,t),ie.mode&1&&D0(p,I,t),t=ie,S=I;var ce=t.updateQueue;if(ce===null){var he=new Set;he.add(S),t.updateQueue=he}else ce.add(S);break e}else{if((t&1)===0){D0(p,I,t),Fv();break e}S=Error(ft(426))}}else if(Bi&&a.mode&1){var He=L0(y);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),R0(He,y,a,p,t),vv(Pc(S,a));break e}}p=S=Pc(S,a),vr!==4&&(vr=2),Dh===null?Dh=[p]:Dh.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var oe=u2(p,S,t);E0(p,oe);break e;case 1:a=S;var ae=p.type,re=p.stateNode;if((p.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Il===null||!Il.has(re)))){p.flags|=65536,t&=-t,p.lanes|=t;var we=c2(p,a,t);E0(p,we);break e}}p=p.return}while(p!==null)}P2(s)}catch(Ue){t=Ue,hr===s&&s!==null&&(hr=s=s.return);continue}break}while(1)}function C2(){var e=sf.current;return sf.current=rf,e===null?rf:e}function Fv(){(vr===0||vr===3||vr===2)&&(vr=4),Cr===null||(Su&268435455)===0&&(Rf&268435455)===0||xl(Cr,Vr)}function lf(e,t){var s=ni;ni|=2;var u=C2();(Cr!==e||Vr!==t)&&(Ra=null,yu(e,t));do try{Ek();break}catch(h){E2(e,h)}while(1);if(xv(),ni=s,sf.current=u,hr!==null)throw Error(ft(261));return Cr=null,Vr=0,vr}function Ek(){for(;hr!==null;)k2(hr)}function Ck(){for(;hr!==null&&!QE();)k2(hr)}function k2(e){var t=M2(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,t===null?P2(e):hr=t,Dv.current=null}function P2(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=_k(s,t,Rs),s!==null){hr=s;return}}else{if(s=xk(s,t),s!==null){s.flags&=32767,hr=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vr=6,hr=null;return}}if(t=t.sibling,t!==null){hr=t;return}hr=t=e}while(t!==null);vr===0&&(vr=5)}function cu(e,t,s){var u=yi,h=io.transition;try{io.transition=null,yi=1,kk(e,t,s,u)}finally{io.transition=h,yi=u}return null}function kk(e,t,s,u){do _c();while(bl!==null);if((ni&6)!==0)throw Error(ft(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ft(177));e.callbackNode=null,e.callbackPriority=0;var p=s.lanes|s.childLanes;if(lC(e,p),e===Cr&&(hr=Cr=null,Vr=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||gp||(gp=!0,z2(jp,function(){return _c(),null})),p=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||p){p=io.transition,io.transition=null;var y=yi;yi=1;var a=ni;ni|=4,Dv.current=null,bk(e,s),S2(s,e),$C(ny),Gp=!!ty,ny=ty=null,e.current=s,Sk(s),JE(),ni=a,yi=y,io.transition=p}else e.current=s;if(gp&&(gp=!1,bl=e,af=h),p=e.pendingLanes,p===0&&(Il=null),nC(s.stateNode),Es(e,ir()),t!==null)for(u=e.onRecoverableError,s=0;s<t.length;s++)h=t[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(of)throw of=!1,e=by,by=null,e;return(af&1)!==0&&e.tag!==0&&_c(),p=e.pendingLanes,(p&1)!==0?e===Sy?Lh++:(Lh=0,Sy=e):Lh=0,Fl(),null}function _c(){if(bl!==null){var e=lb(af),t=io.transition,s=yi;try{if(io.transition=null,yi=16>e?16:e,bl===null)var u=!1;else{if(e=bl,bl=null,af=0,(ni&6)!==0)throw Error(ft(331));var h=ni;for(ni|=4,Ut=e.current;Ut!==null;){var p=Ut,y=p.child;if((Ut.flags&16)!==0){var a=p.deletions;if(a!==null){for(var S=0;S<a.length;S++){var I=a[S];for(Ut=I;Ut!==null;){var B=Ut;switch(B.tag){case 0:case 11:case 15:zh(8,B,p)}var V=B.child;if(V!==null)V.return=B,Ut=V;else for(;Ut!==null;){B=Ut;var z=B.sibling,ie=B.return;if(x2(B),B===I){Ut=null;break}if(z!==null){z.return=ie,Ut=z;break}Ut=ie}}}var ce=p.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var He=he.sibling;he.sibling=null,he=He}while(he!==null)}}Ut=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,Ut=y;else e:for(;Ut!==null;){if(p=Ut,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:zh(9,p,p.return)}var oe=p.sibling;if(oe!==null){oe.return=p.return,Ut=oe;break e}Ut=p.return}}var ae=e.current;for(Ut=ae;Ut!==null;){y=Ut;var re=y.child;if((y.subtreeFlags&2064)!==0&&re!==null)re.return=y,Ut=re;else e:for(y=ae;Ut!==null;){if(a=Ut,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Lf(9,a)}}catch(Ue){Qi(a,a.return,Ue)}if(a===y){Ut=null;break e}var we=a.sibling;if(we!==null){we.return=a.return,Ut=we;break e}Ut=a.return}}if(ni=h,Fl(),ia&&typeof ia.onPostCommitFiberRoot=="function")try{ia.onPostCommitFiberRoot(Ef,e)}catch{}u=!0}return u}finally{yi=s,io.transition=t}}return!1}function $0(e,t,s){t=Pc(s,t),t=u2(e,t,1),e=Pl(e,t,1),t=hs(),e!==null&&(md(e,1,t),Es(e,t))}function Qi(e,t,s){if(e.tag===3)$0(e,e,s);else for(;t!==null;){if(t.tag===3){$0(t,e,s);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Il===null||!Il.has(u))){e=Pc(s,e),e=c2(t,e,1),t=Pl(t,e,1),e=hs(),t!==null&&(md(t,1,e),Es(t,e));break}}t=t.return}}function Pk(e,t,s){var u=e.pingCache;u!==null&&u.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&s,Cr===e&&(Vr&s)===s&&(vr===4||vr===3&&(Vr&130023424)===Vr&&500>ir()-Rv?yu(e,0):Lv|=s),Es(e,t)}function I2(e,t){t===0&&((e.mode&1)===0?t=1:(t=op,op<<=1,(op&130023424)===0&&(op=4194304)));var s=hs();e=qa(e,t),e!==null&&(md(e,t,s),Es(e,s))}function Ik(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),I2(e,s)}function Mk(e,t){var s=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(ft(314))}u!==null&&u.delete(t),I2(e,s)}var M2;M2=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ts.current)Ss=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return Ss=!1,vk(e,t,s);Ss=(e.flags&131072)!==0}else Ss=!1,Bi&&(t.flags&1048576)!==0&&Lb(t,Yp,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;zp(e,t),e=t.pendingProps;var h=Ac(t,es.current);vc(t,s),h=kv(null,t,u,e,h,s);var p=Pv();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(u)?(p=!0,Xp(t)):p=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Sv(t),h.updater=zf,t.stateNode=h,h._reactInternals=t,hy(t,u,e,s),t=fy(null,t,u,!0,p,s)):(t.tag=0,Bi&&p&&gv(t),cs(null,t,h,s),t=t.child),t;case 16:u=t.elementType;e:{switch(zp(e,t),e=t.pendingProps,h=u._init,u=h(u._payload),t.type=u,h=t.tag=Dk(u),e=To(u,e),h){case 0:t=py(null,t,u,e,s);break e;case 1:t=F0(null,t,u,e,s);break e;case 11:t=B0(null,t,u,e,s);break e;case 14:t=N0(null,t,u,To(u.type,e),s);break e}throw Error(ft(306,u,""))}return t;case 0:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:To(u,h),py(e,t,u,h,s);case 1:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:To(u,h),F0(e,t,u,h,s);case 3:e:{if(f2(t),e===null)throw Error(ft(387));u=t.pendingProps,p=t.memoizedState,h=p.element,Fb(e,t),ef(t,u,null,s);var y=t.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){h=Pc(Error(ft(423)),t),t=O0(e,t,u,s,h);break e}else if(u!==h){h=Pc(Error(ft(424)),t),t=O0(e,t,u,s,h);break e}else for(Bs=kl(t.stateNode.containerInfo.firstChild),Ns=t,Bi=!0,Eo=null,s=jb(t,null,u,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ec(),u===h){t=Ga(e,t,s);break e}cs(e,t,u,s)}t=t.child}return t;case 5:return qb(t),e===null&&ly(t),u=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,y=h.children,iy(u,h)?y=null:p!==null&&iy(u,p)&&(t.flags|=32),p2(e,t),cs(e,t,y,s),t.child;case 6:return e===null&&ly(t),null;case 13:return m2(e,t,s);case 4:return Tv(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=Cc(t,null,u,s):cs(e,t,u,s),t.child;case 11:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:To(u,h),B0(e,t,u,h,s);case 7:return cs(e,t,t.pendingProps,s),t.child;case 8:return cs(e,t,t.pendingProps.children,s),t.child;case 12:return cs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(u=t.type._context,h=t.pendingProps,p=t.memoizedProps,y=h.value,ki(Qp,u._currentValue),u._currentValue=y,p!==null)if(Mo(p.value,y)){if(p.children===h.children&&!Ts.current){t=Ga(e,t,s);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var a=p.dependencies;if(a!==null){y=p.child;for(var S=a.firstContext;S!==null;){if(S.context===u){if(p.tag===1){S=Oa(-1,s&-s),S.tag=2;var I=p.updateQueue;if(I!==null){I=I.shared;var B=I.pending;B===null?S.next=S:(S.next=B.next,B.next=S),I.pending=S}}p.lanes|=s,S=p.alternate,S!==null&&(S.lanes|=s),uy(p.return,s,t),a.lanes|=s;break}S=S.next}}else if(p.tag===10)y=p.type===t.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(ft(341));y.lanes|=s,a=y.alternate,a!==null&&(a.lanes|=s),uy(y,s,t),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===t){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}cs(e,t,h.children,s),t=t.child}return t;case 9:return h=t.type,u=t.pendingProps.children,vc(t,s),h=so(h),u=u(h),t.flags|=1,cs(e,t,u,s),t.child;case 14:return u=t.type,h=To(u,t.pendingProps),h=To(u.type,h),N0(e,t,u,h,s);case 15:return h2(e,t,t.type,t.pendingProps,s);case 17:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:To(u,h),zp(e,t),t.tag=1,As(u)?(e=!0,Xp(t)):e=!1,vc(t,s),Vb(t,u,h),hy(t,u,h,s),fy(null,t,u,!0,e,s);case 19:return g2(e,t,s);case 22:return d2(e,t,s)}throw Error(ft(156,t.tag))};function z2(e,t){return rb(e,t)}function zk(e,t,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(e,t,s,u){return new zk(e,t,s,u)}function Ov(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dk(e){if(typeof e=="function")return Ov(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rv)return 11;if(e===sv)return 14}return 2}function zl(e,t){var s=e.alternate;return s===null?(s=no(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Rp(e,t,s,u,h,p){var y=2;if(u=e,typeof e=="function")Ov(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case ec:return vu(s.children,h,p,t);case iv:y=8,h|=8;break;case Rg:return e=no(12,s,t,h|2),e.elementType=Rg,e.lanes=p,e;case Bg:return e=no(13,s,t,h),e.elementType=Bg,e.lanes=p,e;case Ng:return e=no(19,s,t,h),e.elementType=Ng,e.lanes=p,e;case Uw:return Bf(s,h,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ow:y=10;break e;case Vw:y=9;break e;case rv:y=11;break e;case sv:y=14;break e;case gl:y=16,u=null;break e}throw Error(ft(130,e==null?e:typeof e,""))}return t=no(y,s,t,h),t.elementType=e,t.type=u,t.lanes=p,t}function vu(e,t,s,u){return e=no(7,e,u,t),e.lanes=s,e}function Bf(e,t,s,u){return e=no(22,e,u,t),e.elementType=Uw,e.lanes=s,e.stateNode={isHidden:!1},e}function dg(e,t,s){return e=no(6,e,null,t),e.lanes=s,e}function pg(e,t,s){return t=no(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lk(e,t,s,u,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zm(0),this.expirationTimes=Zm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zm(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Vv(e,t,s,u,h,p,y,a,S){return e=new Lk(e,t,s,a,S),t===1?(t=1,p===!0&&(t|=8)):t=0,p=no(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sv(p),e}function Rk(e,t,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ju,key:u==null?null:""+u,children:e,containerInfo:t,implementation:s}}function D2(e){if(!e)return Ll;e=e._reactInternals;e:{if(Eu(e)!==e||e.tag!==1)throw Error(ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(e.tag===1){var s=e.type;if(As(s))return zb(e,s,t)}return t}function L2(e,t,s,u,h,p,y,a,S){return e=Vv(s,u,!0,e,h,p,y,a,S),e.context=D2(null),s=e.current,u=hs(),h=Ml(s),p=Oa(u,h),p.callback=t!=null?t:null,Pl(s,p,h),e.current.lanes=h,md(e,h,u),Es(e,u),e}function Nf(e,t,s,u){var h=t.current,p=hs(),y=Ml(h);return s=D2(s),t.context===null?t.context=s:t.pendingContext=s,t=Oa(p,y),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=Pl(h,t,y),e!==null&&(ko(e,h,y,p),Pp(e,h,y)),y}function uf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function X0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Uv(e,t){X0(e,t),(e=e.alternate)&&X0(e,t)}function Bk(){return null}var R2=typeof reportError=="function"?reportError:function(e){console.error(e)};function jv(e){this._internalRoot=e}Ff.prototype.render=jv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ft(409));Nf(e,t,null,null)};Ff.prototype.unmount=jv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tu(function(){Nf(null,e,null,null)}),t[ja]=null}};function Ff(e){this._internalRoot=e}Ff.prototype.unstable_scheduleHydration=function(e){if(e){var t=hb();e={blockedOn:null,target:e,priority:t};for(var s=0;s<_l.length&&t!==0&&t<_l[s].priority;s++);_l.splice(s,0,e),s===0&&pb(e)}};function qv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K0(){}function Nk(e,t,s,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var I=uf(y);p.call(I)}}var y=L2(t,u,e,0,null,!1,!1,"",K0);return e._reactRootContainer=y,e[ja]=y.current,Yh(e.nodeType===8?e.parentNode:e),Tu(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var a=u;u=function(){var I=uf(S);a.call(I)}}var S=Vv(e,0,!1,null,null,!1,!1,"",K0);return e._reactRootContainer=S,e[ja]=S.current,Yh(e.nodeType===8?e.parentNode:e),Tu(function(){Nf(t,S,s,u)}),S}function Vf(e,t,s,u,h){var p=s._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var a=h;h=function(){var S=uf(y);a.call(S)}}Nf(t,y,e,h)}else y=Nk(s,t,e,h,u);return uf(y)}ub=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Sh(t.pendingLanes);s!==0&&(lv(t,s|1),Es(t,ir()),(ni&6)===0&&(Ic=ir()+500,Fl()))}break;case 13:Tu(function(){var u=qa(e,1);if(u!==null){var h=hs();ko(u,e,1,h)}}),Uv(e,1)}};uv=function(e){if(e.tag===13){var t=qa(e,134217728);if(t!==null){var s=hs();ko(t,e,134217728,s)}Uv(e,134217728)}};cb=function(e){if(e.tag===13){var t=Ml(e),s=qa(e,t);if(s!==null){var u=hs();ko(s,e,t,u)}Uv(e,t)}};hb=function(){return yi};db=function(e,t){var s=yi;try{return yi=e,t()}finally{yi=s}};Zg=function(e,t,s){switch(t){case"input":if(Vg(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var u=s[t];if(u!==e&&u.form===e.form){var h=If(u);if(!h)throw Error(ft(90));qw(u),Vg(u,h)}}}break;case"textarea":Ww(e,s);break;case"select":t=s.value,t!=null&&fc(e,!!s.multiple,t,!1)}};Qw=Bv;Jw=Tu;var Fk={usingClientEntryPoint:!1,Events:[yd,rc,If,Kw,Yw,Bv]},gh={findFiberByHostInstance:du,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ok={bundleType:gh.bundleType,version:gh.version,rendererPackageName:gh.rendererPackageName,rendererConfig:gh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nb(e),e===null?null:e.stateNode},findFiberByHostInstance:gh.findFiberByHostInstance||Bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{Ef=yp.inject(Ok),ia=yp}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;Vs.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(t))throw Error(ft(200));return Rk(e,t,null,s)};Vs.createRoot=function(e,t){if(!qv(e))throw Error(ft(299));var s=!1,u="",h=R2;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Vv(e,1,!1,null,null,s,!1,u,h),e[ja]=t.current,Yh(e.nodeType===8?e.parentNode:e),new jv(t)};Vs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ft(188)):(e=Object.keys(e).join(","),Error(ft(268,e)));return e=nb(t),e=e===null?null:e.stateNode,e};Vs.flushSync=function(e){return Tu(e)};Vs.hydrate=function(e,t,s){if(!Of(t))throw Error(ft(200));return Vf(null,e,t,!0,s)};Vs.hydrateRoot=function(e,t,s){if(!qv(e))throw Error(ft(405));var u=s!=null&&s.hydratedSources||null,h=!1,p="",y=R2;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),t=L2(t,null,e,1,s!=null?s:null,h,!1,p,y),e[ja]=t.current,Yh(e),u)for(e=0;e<u.length;e++)s=u[e],h=s._getVersion,h=h(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,h]:t.mutableSourceEagerHydrationData.push(s,h);return new Ff(t)};Vs.render=function(e,t,s){if(!Of(t))throw Error(ft(200));return Vf(null,e,t,!1,s)};Vs.unmountComponentAtNode=function(e){if(!Of(e))throw Error(ft(40));return e._reactRootContainer?(Tu(function(){Vf(null,null,e,!1,function(){e._reactRootContainer=null,e[ja]=null})}),!0):!1};Vs.unstable_batchedUpdates=Bv;Vs.unstable_renderSubtreeIntoContainer=function(e,t,s,u){if(!Of(s))throw Error(ft(200));if(e==null||e._reactInternals===void 0)throw Error(ft(38));return Vf(e,t,s,!1,u)};Vs.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}t(),e.exports=Vs})(Lw);var Y0=Lw.exports;Dg.createRoot=Y0.createRoot,Dg.hydrateRoot=Y0.hydrateRoot;const Q0="/assets/lighting-circle.6879f268.png";var Uf={exports:{}},jf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk=$e.exports,Uk=Symbol.for("react.element"),jk=Symbol.for("react.fragment"),qk=Object.prototype.hasOwnProperty,Gk=Vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wk={key:!0,ref:!0,__self:!0,__source:!0};function B2(e,t,s){var u,h={},p=null,y=null;s!==void 0&&(p=""+s),t.key!==void 0&&(p=""+t.key),t.ref!==void 0&&(y=t.ref);for(u in t)qk.call(t,u)&&!Wk.hasOwnProperty(u)&&(h[u]=t[u]);if(e&&e.defaultProps)for(u in t=e.defaultProps,t)h[u]===void 0&&(h[u]=t[u]);return{$$typeof:Uk,type:e,key:p,ref:y,props:h,_owner:Gk.current}}jf.Fragment=jk;jf.jsx=B2;jf.jsxs=B2;(function(e){e.exports=jf})(Uf);const Mc=Uf.exports.Fragment,H=Uf.exports.jsx,nt=Uf.exports.jsxs;function qf({className:e="w-5 h-5"}){return H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,children:H("path",{fillRule:"evenodd",d:"M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z",clipRule:"evenodd"})})}function Hk(){return nt("div",{className:"relative",children:[H("div",{className:"bg-box absolute right-0 top-0 w-[300px] sm:w-[800px] h-[400px] sm:h-[500px] -z-10"}),H("div",{className:"bg-gradient-to-tr from-slate-900 via-slate-900 to-blue-600/95",children:nt("div",{className:"min-h-screen flex items-center justify-center overflow-hidden relative",children:[nt("div",{className:"mt-[56px] sm:mt-0 z-10 text-center max-w-sm px-4 sm:max-w-3xl tracking-wide",children:[nt("h1",{className:"text-3xl font-bold sm:text-6xl text-gray-200",children:["Kami Siap Membuat ",H("span",{className:"text-blue-400",children:"website"})," ","Impian Untuk Anda"]}),H("p",{className:"text-xs sm:max-w-xl mx-auto sm:text-sm mt-4 sm:mt-6 text-gray-300/90",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias est, soluta temporibus nisi asperiores vitae dignissimos ipsa in deleniti mollitia!"}),H("button",{onClick:()=>{console.log(8),window.scrollY=1e3},className:"text-gray-200 absolute left-1/2 bottom-28 sm:bottom-20 md:bottom-20 -translate-x-1/2",children:H("div",{className:"animate-bounce",children:H(qf,{className:"w-7 h-7 rotate-90"})})})]}),H("div",{className:"absolute w-[100%] sm:w-[45%] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:H("img",{src:Q0,alt:"header-image",className:""})}),H("div",{className:"absolute w-[100%] sm:w-[55%] rotate-[120deg] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:H("img",{src:Q0,alt:"header-image",className:""})})]})})]})}const Gv=$e.exports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Gf=$e.exports.createContext({});function Zk(){return $e.exports.useContext(Gf).visualElement}const _d=$e.exports.createContext(null),Cu=typeof document<"u",cf=Cu?$e.exports.useLayoutEffect:$e.exports.useEffect,Wv=$e.exports.createContext({strict:!1});function $k(e,t,s,u){const h=Zk(),p=$e.exports.useContext(Wv),y=$e.exports.useContext(_d),a=$e.exports.useContext(Gv).reducedMotion,S=$e.exports.useRef();u=u||p.renderer,!S.current&&u&&(S.current=u(e,{visualState:t,parent:h,props:s,presenceId:y?y.id:void 0,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:a}));const I=S.current;return cf(()=>{I&&I.render()}),$e.exports.useEffect(()=>{I&&I.animationState&&I.animationState.animateChanges()}),cf(()=>()=>I&&I.notify("Unmount"),[]),I}function hc(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xk(e,t,s){return $e.exports.useCallback(u=>{u&&e.mount&&e.mount(u),t&&(u?t.mount(u):t.unmount()),s&&(typeof s=="function"?s(u):hc(s)&&(s.current=u))},[t])}function od(e){return typeof e=="string"||Array.isArray(e)}function Wf(e){return typeof e=="object"&&typeof e.start=="function"}const Kk=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function Hf(e){return Wf(e.animate)||Kk.some(t=>od(e[t]))}function N2(e){return Boolean(Hf(e)||e.variants)}function Yk(e,t){if(Hf(e)){const{initial:s,animate:u}=e;return{initial:s===!1||od(s)?s:void 0,animate:od(u)?u:void 0}}return e.inherit!==!1?t:{}}function Qk(e){const{initial:t,animate:s}=Yk(e,$e.exports.useContext(Gf));return $e.exports.useMemo(()=>({initial:t,animate:s}),[J0(t),J0(s)])}function J0(e){return Array.isArray(e)?e.join(" "):e}const La=e=>({isEnabled:t=>e.some(s=>!!t[s])}),ad={measureLayout:La(["layout","layoutId","drag"]),animation:La(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:La(["exit"]),drag:La(["drag","dragControls"]),focus:La(["whileFocus"]),hover:La(["whileHover","onHoverStart","onHoverEnd"]),tap:La(["whileTap","onTap","onTapStart","onTapCancel"]),pan:La(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:La(["whileInView","onViewportEnter","onViewportLeave"])};function Ey(e){for(const t in e)t==="projectionNodeConstructor"?ad.projectionNodeConstructor=e[t]:ad[t].Component=e[t]}function Zf(e){const t=$e.exports.useRef(null);return t.current===null&&(t.current=e()),t.current}const Rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Jk=1;function eP(){return Zf(()=>{if(Rh.hasEverUpdated)return Jk++})}const Hv=$e.exports.createContext({});class tP extends Jy.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:s}=this.props;return t&&t.setProps(s),null}componentDidUpdate(){}render(){return this.props.children}}const F2=$e.exports.createContext({}),nP=Symbol.for("motionComponentSymbol");function iP({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:s,useRender:u,useVisualState:h,Component:p}){e&&Ey(e);function y(S,I){const B={...$e.exports.useContext(Gv),...S,layoutId:rP(S)},{isStatic:V}=B;let z=null;const ie=Qk(S),ce=V?void 0:eP(),he=h(S,V);if(!V&&Cu){ie.visualElement=$k(p,he,B,t);const He=$e.exports.useContext(Wv).strict,oe=$e.exports.useContext(F2);ie.visualElement&&(z=ie.visualElement.loadFeatures(B,He,e,ce,s||ad.projectionNodeConstructor,oe))}return nt(tP,{visualElement:ie.visualElement,props:B,children:[z,H(Gf.Provider,{value:ie,children:u(p,S,ce,Xk(he,ie.visualElement,I),he,V,ie.visualElement)})]})}const a=$e.exports.forwardRef(y);return a[nP]=p,a}function rP({layoutId:e}){const t=$e.exports.useContext(Hv).id;return t&&e!==void 0?t+"-"+e:e}function O2(e){function t(u,h={}){return iP(e(u,h))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(u,h)=>(s.has(h)||s.set(h,t(h)),s.get(h))})}const sP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Zv(e){return typeof e!="string"||e.includes("-")?!1:!!(sP.indexOf(e)>-1||/[A-Z]/.test(e))}const hf={};function oP(e){Object.assign(hf,e)}const df=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xd=new Set(df);function V2(e,{layout:t,layoutId:s}){return xd.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!hf[e]||e==="opacity")}const Po=e=>!!(e!=null&&e.getVelocity),aP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lP=(e,t)=>df.indexOf(e)-df.indexOf(t);function uP({transform:e,transformKeys:t},{enableHardwareAcceleration:s=!0,allowTransformNone:u=!0},h,p){let y="";t.sort(lP);for(const a of t)y+=`${aP[a]||a}(${e[a]}) `;return s&&!e.z&&(y+="translateZ(0)"),y=y.trim(),p?y=p(e,h?"":y):u&&h&&(y="none"),y}function U2(e){return e.startsWith("--")}const cP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,j2=(e,t)=>s=>Math.max(Math.min(s,t),e),Bh=e=>e%1?Number(e.toFixed(5)):e,ld=/(-)?([\d]*\.?[\d])+/g,Cy=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,hP=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function wd(e){return typeof e=="string"}const ku={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nh=Object.assign(Object.assign({},ku),{transform:j2(0,1)}),vp=Object.assign(Object.assign({},ku),{default:1}),bd=e=>({test:t=>wd(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ml=bd("deg"),sa=bd("%"),fn=bd("px"),dP=bd("vh"),pP=bd("vw"),e1=Object.assign(Object.assign({},sa),{parse:e=>sa.parse(e)/100,transform:e=>sa.transform(e*100)}),$v=(e,t)=>s=>Boolean(wd(s)&&hP.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),q2=(e,t,s)=>u=>{if(!wd(u))return u;const[h,p,y,a]=u.match(ld);return{[e]:parseFloat(h),[t]:parseFloat(p),[s]:parseFloat(y),alpha:a!==void 0?parseFloat(a):1}},mu={test:$v("hsl","hue"),parse:q2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:u=1})=>"hsla("+Math.round(e)+", "+sa.transform(Bh(t))+", "+sa.transform(Bh(s))+", "+Bh(Nh.transform(u))+")"},fP=j2(0,255),fg=Object.assign(Object.assign({},ku),{transform:e=>Math.round(fP(e))}),Sl={test:$v("rgb","red"),parse:q2("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:u=1})=>"rgba("+fg.transform(e)+", "+fg.transform(t)+", "+fg.transform(s)+", "+Bh(Nh.transform(u))+")"};function mP(e){let t="",s="",u="",h="";return e.length>5?(t=e.substr(1,2),s=e.substr(3,2),u=e.substr(5,2),h=e.substr(7,2)):(t=e.substr(1,1),s=e.substr(2,1),u=e.substr(3,1),h=e.substr(4,1),t+=t,s+=s,u+=u,h+=h),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(u,16),alpha:h?parseInt(h,16)/255:1}}const ky={test:$v("#"),parse:mP,transform:Sl.transform},us={test:e=>Sl.test(e)||ky.test(e)||mu.test(e),parse:e=>Sl.test(e)?Sl.parse(e):mu.test(e)?mu.parse(e):ky.parse(e),transform:e=>wd(e)?e:e.hasOwnProperty("red")?Sl.transform(e):mu.transform(e)},G2="${c}",W2="${n}";function gP(e){var t,s,u,h;return isNaN(e)&&wd(e)&&((s=(t=e.match(ld))===null||t===void 0?void 0:t.length)!==null&&s!==void 0?s:0)+((h=(u=e.match(Cy))===null||u===void 0?void 0:u.length)!==null&&h!==void 0?h:0)>0}function H2(e){typeof e=="number"&&(e=`${e}`);const t=[];let s=0;const u=e.match(Cy);u&&(s=u.length,e=e.replace(Cy,G2),t.push(...u.map(us.parse)));const h=e.match(ld);return h&&(e=e.replace(ld,W2),t.push(...h.map(ku.parse))),{values:t,numColors:s,tokenised:e}}function Z2(e){return H2(e).values}function $2(e){const{values:t,numColors:s,tokenised:u}=H2(e),h=t.length;return p=>{let y=u;for(let a=0;a<h;a++)y=y.replace(a<s?G2:W2,a<s?us.transform(p[a]):Bh(p[a]));return y}}const yP=e=>typeof e=="number"?0:e;function vP(e){const t=Z2(e);return $2(e)(t.map(yP))}const Wa={test:gP,parse:Z2,createTransformer:$2,getAnimatableNone:vP},_P=new Set(["brightness","contrast","saturate","opacity"]);function xP(e){let[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[u]=s.match(ld)||[];if(!u)return e;const h=s.replace(u,"");let p=_P.has(t)?1:0;return u!==s&&(p*=100),t+"("+p+h+")"}const wP=/([a-z-]*)\(.*?\)/g,Py=Object.assign(Object.assign({},Wa),{getAnimatableNone:e=>{const t=e.match(wP);return t?t.map(xP).join(" "):e}}),t1={...ku,transform:Math.round},X2={borderWidth:fn,borderTopWidth:fn,borderRightWidth:fn,borderBottomWidth:fn,borderLeftWidth:fn,borderRadius:fn,radius:fn,borderTopLeftRadius:fn,borderTopRightRadius:fn,borderBottomRightRadius:fn,borderBottomLeftRadius:fn,width:fn,maxWidth:fn,height:fn,maxHeight:fn,size:fn,top:fn,right:fn,bottom:fn,left:fn,padding:fn,paddingTop:fn,paddingRight:fn,paddingBottom:fn,paddingLeft:fn,margin:fn,marginTop:fn,marginRight:fn,marginBottom:fn,marginLeft:fn,rotate:ml,rotateX:ml,rotateY:ml,rotateZ:ml,scale:vp,scaleX:vp,scaleY:vp,scaleZ:vp,skew:ml,skewX:ml,skewY:ml,distance:fn,translateX:fn,translateY:fn,translateZ:fn,x:fn,y:fn,z:fn,perspective:fn,transformPerspective:fn,opacity:Nh,originX:e1,originY:e1,originZ:fn,zIndex:t1,fillOpacity:Nh,strokeOpacity:Nh,numOctaves:t1};function Xv(e,t,s,u){const{style:h,vars:p,transform:y,transformKeys:a,transformOrigin:S}=e;a.length=0;let I=!1,B=!1,V=!0;for(const z in t){const ie=t[z];if(U2(z)){p[z]=ie;continue}const ce=X2[z],he=cP(ie,ce);if(xd.has(z)){if(I=!0,y[z]=he,a.push(z),!V)continue;ie!==(ce.default||0)&&(V=!1)}else z.startsWith("origin")?(B=!0,S[z]=he):h[z]=he}if(t.transform||(I||u?h.transform=uP(e,s,V,u):h.transform&&(h.transform="none")),B){const{originX:z="50%",originY:ie="50%",originZ:ce=0}=S;h.transformOrigin=`${z} ${ie} ${ce}`}}const Kv=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function K2(e,t,s){for(const u in t)!Po(t[u])&&!V2(u,s)&&(e[u]=t[u])}function bP({transformTemplate:e},t,s){return $e.exports.useMemo(()=>{const u=Kv();return Xv(u,t,{enableHardwareAcceleration:!s},e),Object.assign({},u.vars,u.style)},[t])}function SP(e,t,s){const u=e.style||{},h={};return K2(h,u,e),Object.assign(h,bP(e,t,s)),e.transformValues?e.transformValues(h):h}function TP(e,t,s){const u={},h=SP(e,t,s);return e.drag&&e.dragListener!==!1&&(u.draggable=!1,h.userSelect=h.WebkitUserSelect=h.WebkitTouchCallout="none",h.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),u.style=h,u}const AP=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],EP=["whileTap","onTap","onTapStart","onTapCancel"],CP=["onPan","onPanStart","onPanSessionStart","onPanEnd"],kP=["whileInView","onViewportEnter","onViewportLeave","viewport"],PP=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...kP,...EP,...AP,...CP]);function pf(e){return PP.has(e)}let Y2=e=>!pf(e);function IP(e){!e||(Y2=t=>t.startsWith("on")?!pf(t):e(t))}try{IP(require("@emotion/is-prop-valid").default)}catch{}function MP(e,t,s){const u={};for(const h in e)(Y2(h)||s===!0&&pf(h)||!t&&!pf(h)||e.draggable&&h.startsWith("onDrag"))&&(u[h]=e[h]);return u}function n1(e,t,s){return typeof e=="string"?e:fn.transform(t+s*e)}function zP(e,t,s){const u=n1(t,e.x,e.width),h=n1(s,e.y,e.height);return`${u} ${h}`}const DP={offset:"stroke-dashoffset",array:"stroke-dasharray"},LP={offset:"strokeDashoffset",array:"strokeDasharray"};function RP(e,t,s=1,u=0,h=!0){e.pathLength=1;const p=h?DP:LP;e[p.offset]=fn.transform(-u);const y=fn.transform(t),a=fn.transform(s);e[p.array]=`${y} ${a}`}function Yv(e,{attrX:t,attrY:s,originX:u,originY:h,pathLength:p,pathSpacing:y=1,pathOffset:a=0,...S},I,B){Xv(e,S,I,B),e.attrs=e.style,e.style={};const{attrs:V,style:z,dimensions:ie}=e;V.transform&&(ie&&(z.transform=V.transform),delete V.transform),ie&&(u!==void 0||h!==void 0||z.transform)&&(z.transformOrigin=zP(ie,u!==void 0?u:.5,h!==void 0?h:.5)),t!==void 0&&(V.x=t),s!==void 0&&(V.y=s),p!==void 0&&RP(V,p,y,a,!1)}const Q2=()=>({...Kv(),attrs:{}});function BP(e,t){const s=$e.exports.useMemo(()=>{const u=Q2();return Yv(u,t,{enableHardwareAcceleration:!1},e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};K2(u,e.style,e),s.style={...u,...s.style}}return s}function NP(e=!1){return(s,u,h,p,{latestValues:y},a)=>{const I=(Zv(s)?BP:TP)(u,y,a),V={...MP(u,typeof s=="string",e),...I,ref:p};return h&&(V["data-projection-id"]=h),$e.exports.createElement(s,V)}}const J2=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function eS(e,{style:t,vars:s},u,h){Object.assign(e.style,t,h&&h.getProjectionStyles(u));for(const p in s)e.style.setProperty(p,s[p])}const tS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function nS(e,t,s,u){eS(e,t,void 0,u);for(const h in t.attrs)e.setAttribute(tS.has(h)?h:J2(h),t.attrs[h])}function Qv(e){const{style:t}=e,s={};for(const u in t)(Po(t[u])||V2(u,e))&&(s[u]=t[u]);return s}function iS(e){const t=Qv(e);for(const s in e)if(Po(e[s])){const u=s==="x"||s==="y"?"attr"+s.toUpperCase():s;t[u]=e[s]}return t}function Jv(e,t,s,u={},h={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,u,h)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,u,h)),t}const ud=e=>Array.isArray(e),FP=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),rS=e=>ud(e)?e[e.length-1]||0:e;function Bp(e){const t=Po(e)?e.get():e;return FP(t)?t.toValue():t}function OP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},u,h,p){const y={latestValues:VP(u,h,p,e),renderState:t()};return s&&(y.mount=a=>s(u,a,y)),y}const sS=e=>(t,s)=>{const u=$e.exports.useContext(Gf),h=$e.exports.useContext(_d),p=()=>OP(e,t,u,h);return s?p():Zf(p)};function VP(e,t,s,u){const h={},p=u(e);for(const z in p)h[z]=Bp(p[z]);let{initial:y,animate:a}=e;const S=Hf(e),I=N2(e);t&&I&&!S&&e.inherit!==!1&&(y===void 0&&(y=t.initial),a===void 0&&(a=t.animate));let B=s?s.initial===!1:!1;B=B||y===!1;const V=B?a:y;return V&&typeof V!="boolean"&&!Wf(V)&&(Array.isArray(V)?V:[V]).forEach(ie=>{const ce=Jv(e,ie);if(!ce)return;const{transitionEnd:he,transition:He,...oe}=ce;for(const ae in oe){let re=oe[ae];if(Array.isArray(re)){const we=B?re.length-1:0;re=re[we]}re!==null&&(h[ae]=re)}for(const ae in he)h[ae]=he[ae]}),h}const UP={useVisualState:sS({scrapeMotionValuesFromProps:iS,createRenderState:Q2,onMount:(e,t,{renderState:s,latestValues:u})=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}Yv(s,u,{enableHardwareAcceleration:!1},e.transformTemplate),nS(t,s)}})},jP={useVisualState:sS({scrapeMotionValuesFromProps:Qv,createRenderState:Kv})};function oS(e,{forwardMotionProps:t=!1},s,u,h){return{...Zv(e)?UP:jP,preloadedFeatures:s,useRender:NP(t),createVisualElement:u,projectionNodeConstructor:h,Component:e}}var Ci;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(Ci||(Ci={}));function $f(e,t,s,u={passive:!0}){return e.addEventListener(t,s,u),()=>e.removeEventListener(t,s)}function Iy(e,t,s,u){$e.exports.useEffect(()=>{const h=e.current;if(s&&h)return $f(h,t,s,u)},[e,t,s,u])}function qP({whileFocus:e,visualElement:t}){const{animationState:s}=t,u=()=>{s&&s.setActive(Ci.Focus,!0)},h=()=>{s&&s.setActive(Ci.Focus,!1)};Iy(t,"focus",e?u:void 0),Iy(t,"blur",e?h:void 0)}function aS(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function lS(e){return!!e.touches}function GP(e){return t=>{const s=t instanceof MouseEvent;(!s||s&&t.button===0)&&e(t)}}const WP={pageX:0,pageY:0};function HP(e,t="page"){const u=e.touches[0]||e.changedTouches[0]||WP;return{x:u[t+"X"],y:u[t+"Y"]}}function ZP(e,t="page"){return{x:e[t+"X"],y:e[t+"Y"]}}function e_(e,t="page"){return{point:lS(e)?HP(e,t):ZP(e,t)}}const uS=(e,t=!1)=>{const s=u=>e(u,e_(u));return t?GP(s):s},$P=()=>Cu&&window.onpointerdown===null,XP=()=>Cu&&window.ontouchstart===null,KP=()=>Cu&&window.onmousedown===null,YP={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},QP={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function cS(e){return $P()?e:XP()?QP[e]:KP()?YP[e]:e}function xc(e,t,s,u){return $f(e,cS(t),uS(s,t==="pointerdown"),u)}function ff(e,t,s,u){return Iy(e,cS(t),s&&uS(s,t==="pointerdown"),u)}function hS(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const i1=hS("dragHorizontal"),r1=hS("dragVertical");function dS(e){let t=!1;if(e==="y")t=r1();else if(e==="x")t=i1();else{const s=i1(),u=r1();s&&u?t=()=>{s(),u()}:(s&&s(),u&&u())}return t}function pS(){const e=dS(!0);return e?(e(),!1):!0}function s1(e,t,s){return(u,h)=>{!aS(u)||pS()||(e.animationState&&e.animationState.setActive(Ci.Hover,t),s&&s(u,h))}}function JP({onHoverStart:e,onHoverEnd:t,whileHover:s,visualElement:u}){ff(u,"pointerenter",e||s?s1(u,!0,e):void 0,{passive:!e}),ff(u,"pointerleave",t||s?s1(u,!1,t):void 0,{passive:!t})}const fS=(e,t)=>t?e===t?!0:fS(e,t.parentElement):!1;function t_(e){return $e.exports.useEffect(()=>()=>e(),[])}function mS(e,t){var s={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.indexOf(u)<0&&(s[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,u=Object.getOwnPropertySymbols(e);h<u.length;h++)t.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(e,u[h])&&(s[u[h]]=e[u[h]]);return s}var eI=function(){},mf=function(){};const gf=(e,t,s)=>Math.min(Math.max(s,e),t),mg=.001,tI=.01,o1=10,nI=.05,iI=1;function rI({duration:e=800,bounce:t=.25,velocity:s=0,mass:u=1}){let h,p;eI(e<=o1*1e3);let y=1-t;y=gf(nI,iI,y),e=gf(tI,o1,e/1e3),y<1?(h=I=>{const B=I*y,V=B*e,z=B-s,ie=My(I,y),ce=Math.exp(-V);return mg-z/ie*ce},p=I=>{const V=I*y*e,z=V*s+s,ie=Math.pow(y,2)*Math.pow(I,2)*e,ce=Math.exp(-V),he=My(Math.pow(I,2),y);return(-h(I)+mg>0?-1:1)*((z-ie)*ce)/he}):(h=I=>{const B=Math.exp(-I*e),V=(I-s)*e+1;return-mg+B*V},p=I=>{const B=Math.exp(-I*e),V=(s-I)*(e*e);return B*V});const a=5/e,S=oI(h,p,a);if(e=e*1e3,isNaN(S))return{stiffness:100,damping:10,duration:e};{const I=Math.pow(S,2)*u;return{stiffness:I,damping:y*2*Math.sqrt(u*I),duration:e}}}const sI=12;function oI(e,t,s){let u=s;for(let h=1;h<sI;h++)u=u-e(u)/t(u);return u}function My(e,t){return e*Math.sqrt(1-t*t)}const aI=["duration","bounce"],lI=["stiffness","damping","mass"];function a1(e,t){return t.some(s=>e[s]!==void 0)}function uI(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!a1(e,lI)&&a1(e,aI)){const s=rI(e);t=Object.assign(Object.assign(Object.assign({},t),s),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function n_(e){var{from:t=0,to:s=1,restSpeed:u=2,restDelta:h}=e,p=mS(e,["from","to","restSpeed","restDelta"]);const y={done:!1,value:t};let{stiffness:a,damping:S,mass:I,velocity:B,duration:V,isResolvedFromDuration:z}=uI(p),ie=l1,ce=l1;function he(){const He=B?-(B/1e3):0,oe=s-t,ae=S/(2*Math.sqrt(a*I)),re=Math.sqrt(a/I)/1e3;if(h===void 0&&(h=Math.min(Math.abs(s-t)/100,.4)),ae<1){const we=My(re,ae);ie=Ue=>{const P=Math.exp(-ae*re*Ue);return s-P*((He+ae*re*oe)/we*Math.sin(we*Ue)+oe*Math.cos(we*Ue))},ce=Ue=>{const P=Math.exp(-ae*re*Ue);return ae*re*P*(Math.sin(we*Ue)*(He+ae*re*oe)/we+oe*Math.cos(we*Ue))-P*(Math.cos(we*Ue)*(He+ae*re*oe)-we*oe*Math.sin(we*Ue))}}else if(ae===1)ie=we=>s-Math.exp(-re*we)*(oe+(He+re*oe)*we);else{const we=re*Math.sqrt(ae*ae-1);ie=Ue=>{const P=Math.exp(-ae*re*Ue),ct=Math.min(we*Ue,300);return s-P*((He+ae*re*oe)*Math.sinh(ct)+we*oe*Math.cosh(ct))/we}}}return he(),{next:He=>{const oe=ie(He);if(z)y.done=He>=V;else{const ae=ce(He)*1e3,re=Math.abs(ae)<=u,we=Math.abs(s-oe)<=h;y.done=re&&we}return y.value=y.done?s:oe,y},flipTarget:()=>{B=-B,[t,s]=[s,t],he()}}}n_.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const l1=e=>0,cd=(e,t,s)=>{const u=t-e;return u===0?1:(s-e)/u},Ji=(e,t,s)=>-s*e+s*t+e;function gg(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function u1({hue:e,saturation:t,lightness:s,alpha:u}){e/=360,t/=100,s/=100;let h=0,p=0,y=0;if(!t)h=p=y=s;else{const a=s<.5?s*(1+t):s+t-s*t,S=2*s-a;h=gg(S,a,e+1/3),p=gg(S,a,e),y=gg(S,a,e-1/3)}return{red:Math.round(h*255),green:Math.round(p*255),blue:Math.round(y*255),alpha:u}}const cI=(e,t,s)=>{const u=e*e,h=t*t;return Math.sqrt(Math.max(0,s*(h-u)+u))},hI=[ky,Sl,mu],c1=e=>hI.find(t=>t.test(e)),gS=(e,t)=>{let s=c1(e),u=c1(t),h=s.parse(e),p=u.parse(t);s===mu&&(h=u1(h),s=Sl),u===mu&&(p=u1(p),u=Sl);const y=Object.assign({},h);return a=>{for(const S in y)S!=="alpha"&&(y[S]=cI(h[S],p[S],a));return y.alpha=Ji(h.alpha,p.alpha,a),s.transform(y)}},zy=e=>typeof e=="number",dI=(e,t)=>s=>t(e(s)),Xf=(...e)=>e.reduce(dI);function yS(e,t){return zy(e)?s=>Ji(e,t,s):us.test(e)?gS(e,t):_S(e,t)}const vS=(e,t)=>{const s=[...e],u=s.length,h=e.map((p,y)=>yS(p,t[y]));return p=>{for(let y=0;y<u;y++)s[y]=h[y](p);return s}},pI=(e,t)=>{const s=Object.assign(Object.assign({},e),t),u={};for(const h in s)e[h]!==void 0&&t[h]!==void 0&&(u[h]=yS(e[h],t[h]));return h=>{for(const p in u)s[p]=u[p](h);return s}};function h1(e){const t=Wa.parse(e),s=t.length;let u=0,h=0,p=0;for(let y=0;y<s;y++)u||typeof t[y]=="number"?u++:t[y].hue!==void 0?p++:h++;return{parsed:t,numNumbers:u,numRGB:h,numHSL:p}}const _S=(e,t)=>{const s=Wa.createTransformer(t),u=h1(e),h=h1(t);return u.numHSL===h.numHSL&&u.numRGB===h.numRGB&&u.numNumbers>=h.numNumbers?Xf(vS(u.parsed,h.parsed),s):y=>`${y>0?t:e}`},fI=(e,t)=>s=>Ji(e,t,s);function mI(e){if(typeof e=="number")return fI;if(typeof e=="string")return us.test(e)?gS:_S;if(Array.isArray(e))return vS;if(typeof e=="object")return pI}function gI(e,t,s){const u=[],h=s||mI(e[0]),p=e.length-1;for(let y=0;y<p;y++){let a=h(e[y],e[y+1]);if(t){const S=Array.isArray(t)?t[y]:t;a=Xf(S,a)}u.push(a)}return u}function yI([e,t],[s]){return u=>s(cd(e,t,u))}function vI(e,t){const s=e.length,u=s-1;return h=>{let p=0,y=!1;if(h<=e[0]?y=!0:h>=e[u]&&(p=u-1,y=!0),!y){let S=1;for(;S<s&&!(e[S]>h||S===u);S++);p=S-1}const a=cd(e[p],e[p+1],h);return t[p](a)}}function xS(e,t,{clamp:s=!0,ease:u,mixer:h}={}){const p=e.length;mf(p===t.length),mf(!u||!Array.isArray(u)||u.length===p-1),e[0]>e[p-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const y=gI(t,u,h),a=p===2?yI(e,y):vI(e,y);return s?S=>a(gf(e[0],e[p-1],S)):a}const Kf=e=>t=>1-e(1-t),i_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_I=e=>t=>Math.pow(t,e),wS=e=>t=>t*t*((e+1)*t-e),xI=e=>{const t=wS(e);return s=>(s*=2)<1?.5*t(s):.5*(2-Math.pow(2,-10*(s-1)))},bS=1.525,wI=4/11,bI=8/11,SI=9/10,r_=e=>e,s_=_I(2),TI=Kf(s_),SS=i_(s_),TS=e=>1-Math.sin(Math.acos(e)),o_=Kf(TS),AI=i_(o_),a_=wS(bS),EI=Kf(a_),CI=i_(a_),kI=xI(bS),PI=4356/361,II=35442/1805,MI=16061/1805,yf=e=>{if(e===1||e===0)return e;const t=e*e;return e<wI?7.5625*t:e<bI?9.075*t-9.9*e+3.4:e<SI?PI*t-II*e+MI:10.8*e*e-20.52*e+10.72},zI=Kf(yf),DI=e=>e<.5?.5*(1-yf(1-e*2)):.5*yf(e*2-1)+.5;function LI(e,t){return e.map(()=>t||SS).splice(0,e.length-1)}function RI(e){const t=e.length;return e.map((s,u)=>u!==0?u/(t-1):0)}function BI(e,t){return e.map(s=>s*t)}function Np({from:e=0,to:t=1,ease:s,offset:u,duration:h=300}){const p={done:!1,value:e},y=Array.isArray(t)?t:[e,t],a=BI(u&&u.length===y.length?u:RI(y),h);function S(){return xS(a,y,{ease:Array.isArray(s)?s:LI(y,s)})}let I=S();return{next:B=>(p.value=I(B),p.done=B>=h,p),flipTarget:()=>{y.reverse(),I=S()}}}function NI({velocity:e=0,from:t=0,power:s=.8,timeConstant:u=350,restDelta:h=.5,modifyTarget:p}){const y={done:!1,value:t};let a=s*e;const S=t+a,I=p===void 0?S:p(S);return I!==S&&(a=I-t),{next:B=>{const V=-a*Math.exp(-B/u);return y.done=!(V>h||V<-h),y.value=y.done?I:I+V,y},flipTarget:()=>{}}}const d1={keyframes:Np,spring:n_,decay:NI};function FI(e){if(Array.isArray(e.to))return Np;if(d1[e.type])return d1[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Np:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?n_:Np}const AS=1/60*1e3,OI=typeof performance<"u"?()=>performance.now():()=>Date.now(),ES=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(OI()),AS);function VI(e){let t=[],s=[],u=0,h=!1,p=!1;const y=new WeakSet,a={schedule:(S,I=!1,B=!1)=>{const V=B&&h,z=V?t:s;return I&&y.add(S),z.indexOf(S)===-1&&(z.push(S),V&&h&&(u=t.length)),S},cancel:S=>{const I=s.indexOf(S);I!==-1&&s.splice(I,1),y.delete(S)},process:S=>{if(h){p=!0;return}if(h=!0,[t,s]=[s,t],s.length=0,u=t.length,u)for(let I=0;I<u;I++){const B=t[I];B(S),y.has(B)&&(a.schedule(B),e())}h=!1,p&&(p=!1,a.process(S))}};return a}const UI=40;let Dy=!0,hd=!1,Ly=!1;const wc={delta:0,timestamp:0},Sd=["read","update","preRender","render","postRender"],Yf=Sd.reduce((e,t)=>(e[t]=VI(()=>hd=!0),e),{}),ro=Sd.reduce((e,t)=>{const s=Yf[t];return e[t]=(u,h=!1,p=!1)=>(hd||qI(),s.schedule(u,h,p)),e},{}),Rl=Sd.reduce((e,t)=>(e[t]=Yf[t].cancel,e),{}),yg=Sd.reduce((e,t)=>(e[t]=()=>Yf[t].process(wc),e),{}),jI=e=>Yf[e].process(wc),CS=e=>{hd=!1,wc.delta=Dy?AS:Math.max(Math.min(e-wc.timestamp,UI),1),wc.timestamp=e,Ly=!0,Sd.forEach(jI),Ly=!1,hd&&(Dy=!1,ES(CS))},qI=()=>{hd=!0,Dy=!0,Ly||ES(CS)},vf=()=>wc;function kS(e,t,s=0){return e-t-s}function GI(e,t,s=0,u=!0){return u?kS(t+-e,t,s):t-(e-t)+s}function WI(e,t,s,u){return u?e>=t+s:e<=-s}const HI=e=>{const t=({delta:s})=>e(s);return{start:()=>ro.update(t,!0),stop:()=>Rl.update(t)}};function PS(e){var t,s,{from:u,autoplay:h=!0,driver:p=HI,elapsed:y=0,repeat:a=0,repeatType:S="loop",repeatDelay:I=0,onPlay:B,onStop:V,onComplete:z,onRepeat:ie,onUpdate:ce}=e,he=mS(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:He}=he,oe,ae=0,re=he.duration,we,Ue=!1,P=!0,ct;const ht=FI(he);!((s=(t=ht).needsInterpolation)===null||s===void 0)&&s.call(t,u,He)&&(ct=xS([0,100],[u,He],{clamp:!1}),u=0,He=100);const qt=ht(Object.assign(Object.assign({},he),{from:u,to:He}));function zt(){ae++,S==="reverse"?(P=ae%2===0,y=GI(y,re,I,P)):(y=kS(y,re,I),S==="mirror"&&qt.flipTarget()),Ue=!1,ie&&ie()}function Un(){oe.stop(),z&&z()}function _n(Dn){if(P||(Dn=-Dn),y+=Dn,!Ue){const si=qt.next(Math.max(0,y));we=si.value,ct&&(we=ct(we)),Ue=P?si.done:y<=0}ce==null||ce(we),Ue&&(ae===0&&(re!=null||(re=y)),ae<a?WI(y,re,I,P)&&zt():Un())}function Ti(){B==null||B(),oe=p(_n),oe.start()}return h&&Ti(),{stop:()=>{V==null||V(),oe.stop()}}}function IS(e,t){return t?e*(1e3/t):0}function ZI({from:e=0,velocity:t=0,min:s,max:u,power:h=.8,timeConstant:p=750,bounceStiffness:y=500,bounceDamping:a=10,restDelta:S=1,modifyTarget:I,driver:B,onUpdate:V,onComplete:z,onStop:ie}){let ce;function he(re){return s!==void 0&&re<s||u!==void 0&&re>u}function He(re){return s===void 0?u:u===void 0||Math.abs(s-re)<Math.abs(u-re)?s:u}function oe(re){ce==null||ce.stop(),ce=PS(Object.assign(Object.assign({},re),{driver:B,onUpdate:we=>{var Ue;V==null||V(we),(Ue=re.onUpdate)===null||Ue===void 0||Ue.call(re,we)},onComplete:z,onStop:ie}))}function ae(re){oe(Object.assign({type:"spring",stiffness:y,damping:a,restDelta:S},re))}if(he(e))ae({from:e,velocity:t,to:He(e)});else{let re=h*t+e;typeof I<"u"&&(re=I(re));const we=He(re),Ue=we===s?-1:1;let P,ct;const ht=qt=>{P=ct,ct=qt,t=IS(qt-P,vf().delta),(Ue===1&&qt>we||Ue===-1&&qt<we)&&ae({from:qt,to:we,velocity:t})};oe({type:"decay",from:e,velocity:t,timeConstant:p,power:h,restDelta:S,modifyTarget:I,onUpdate:he(re)?ht:void 0})}return{stop:()=>ce==null?void 0:ce.stop()}}const Ry=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),p1=e=>Ry(e)&&e.hasOwnProperty("z"),_p=(e,t)=>Math.abs(e-t);function l_(e,t){if(zy(e)&&zy(t))return _p(e,t);if(Ry(e)&&Ry(t)){const s=_p(e.x,t.x),u=_p(e.y,t.y),h=p1(e)&&p1(t)?_p(e.z,t.z):0;return Math.sqrt(Math.pow(s,2)+Math.pow(u,2)+Math.pow(h,2))}}const MS=(e,t)=>1-3*t+3*e,zS=(e,t)=>3*t-6*e,DS=e=>3*e,_f=(e,t,s)=>((MS(t,s)*e+zS(t,s))*e+DS(t))*e,LS=(e,t,s)=>3*MS(t,s)*e*e+2*zS(t,s)*e+DS(t),$I=1e-7,XI=10;function KI(e,t,s,u,h){let p,y,a=0;do y=t+(s-t)/2,p=_f(y,u,h)-e,p>0?s=y:t=y;while(Math.abs(p)>$I&&++a<XI);return y}const YI=8,QI=.001;function JI(e,t,s,u){for(let h=0;h<YI;++h){const p=LS(t,s,u);if(p===0)return t;const y=_f(t,s,u)-e;t-=y/p}return t}const Fp=11,xp=1/(Fp-1);function eM(e,t,s,u){if(e===t&&s===u)return r_;const h=new Float32Array(Fp);for(let y=0;y<Fp;++y)h[y]=_f(y*xp,e,s);function p(y){let a=0,S=1;const I=Fp-1;for(;S!==I&&h[S]<=y;++S)a+=xp;--S;const B=(y-h[S])/(h[S+1]-h[S]),V=a+B*xp,z=LS(V,e,s);return z>=QI?JI(y,V,e,s):z===0?V:KI(y,a,a+xp,e,s)}return y=>y===0||y===1?y:_f(p(y),t,u)}function tM({onTap:e,onTapStart:t,onTapCancel:s,whileTap:u,visualElement:h}){const p=e||t||s||u,y=$e.exports.useRef(!1),a=$e.exports.useRef(null),S={passive:!(t||e||s||ie)};function I(){a.current&&a.current(),a.current=null}function B(){return I(),y.current=!1,h.animationState&&h.animationState.setActive(Ci.Tap,!1),!pS()}function V(ce,he){!B()||(fS(h.current,ce.target)?e&&e(ce,he):s&&s(ce,he))}function z(ce,he){!B()||s&&s(ce,he)}function ie(ce,he){I(),!y.current&&(y.current=!0,a.current=Xf(xc(window,"pointerup",V,S),xc(window,"pointercancel",z,S)),h.animationState&&h.animationState.setActive(Ci.Tap,!0),t&&t(ce,he))}ff(h,"pointerdown",p?ie:void 0,S),t_(I)}const nM="production",RS=typeof process>"u"||process.env===void 0?nM:"production",f1=new Set;function BS(e,t,s){e||f1.has(t)||(console.warn(t),s&&console.warn(s),f1.add(t))}const By=new WeakMap,vg=new WeakMap,iM=e=>{const t=By.get(e.target);t&&t(e)},rM=e=>{e.forEach(iM)};function sM({root:e,...t}){const s=e||document;vg.has(s)||vg.set(s,{});const u=vg.get(s),h=JSON.stringify(t);return u[h]||(u[h]=new IntersectionObserver(rM,{root:e,...t})),u[h]}function oM(e,t,s){const u=sM(t);return By.set(e,s),u.observe(e),()=>{By.delete(e),u.unobserve(e)}}function aM({visualElement:e,whileInView:t,onViewportEnter:s,onViewportLeave:u,viewport:h={}}){const p=$e.exports.useRef({hasEnteredView:!1,isInView:!1});let y=Boolean(t||s||u);h.once&&p.current.hasEnteredView&&(y=!1),(typeof IntersectionObserver>"u"?cM:uM)(y,p.current,e,h)}const lM={some:0,all:1};function uM(e,t,s,{root:u,margin:h,amount:p="some",once:y}){$e.exports.useEffect(()=>{if(!e||!s.current)return;const a={root:u==null?void 0:u.current,rootMargin:h,threshold:typeof p=="number"?p:lM[p]},S=I=>{const{isIntersecting:B}=I;if(t.isInView===B||(t.isInView=B,y&&!B&&t.hasEnteredView))return;B&&(t.hasEnteredView=!0),s.animationState&&s.animationState.setActive(Ci.InView,B);const V=s.getProps(),z=B?V.onViewportEnter:V.onViewportLeave;z&&z(I)};return oM(s.current,a,S)},[e,u,h,p])}function cM(e,t,s,{fallback:u=!0}){$e.exports.useEffect(()=>{!e||!u||(RS!=="production"&&BS(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:h}=s.getProps();h&&h(null),s.animationState&&s.animationState.setActive(Ci.InView,!0)}))},[e])}const Tl=e=>t=>(e(t),null),NS={inView:Tl(aM),tap:Tl(tM),focus:Tl(qP),hover:Tl(JP)};function FS(){const e=$e.exports.useContext(_d);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:u}=e,h=$e.exports.useId();return $e.exports.useEffect(()=>u(h),[]),!t&&s?[!1,()=>s&&s(h)]:[!0]}function OS(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let u=0;u<s;u++)if(t[u]!==e[u])return!1;return!0}const xf=e=>e*1e3,hM={linear:r_,easeIn:s_,easeInOut:SS,easeOut:TI,circIn:TS,circInOut:AI,circOut:o_,backIn:a_,backInOut:CI,backOut:EI,anticipate:kI,bounceIn:zI,bounceInOut:DI,bounceOut:yf},m1=e=>{if(Array.isArray(e)){mf(e.length===4);const[t,s,u,h]=e;return eM(t,s,u,h)}else if(typeof e=="string")return hM[e];return e},dM=e=>Array.isArray(e)&&typeof e[0]!="number",g1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Wa.test(t)&&!t.startsWith("url(")),au=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),wp=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_g=()=>({type:"keyframes",ease:"linear",duration:.3}),pM=e=>({type:"keyframes",duration:.8,values:e}),y1={x:au,y:au,z:au,rotate:au,rotateX:au,rotateY:au,rotateZ:au,scaleX:wp,scaleY:wp,scale:wp,opacity:_g,backgroundColor:_g,color:_g,default:wp},fM=(e,t)=>{let s;return ud(t)?s=pM:s=y1[e]||y1.default,{to:t,...s(t)}},mM={...X2,color:us,backgroundColor:us,outlineColor:us,fill:us,stroke:us,borderColor:us,borderTopColor:us,borderRightColor:us,borderBottomColor:us,borderLeftColor:us,filter:Py,WebkitFilter:Py},u_=e=>mM[e];function c_(e,t){var s;let u=u_(e);return u!==Py&&(u=Wa),(s=u.getAnimatableNone)===null||s===void 0?void 0:s.call(u,t)}const gM={current:!1};function VS(e,t){const s=performance.now(),u=({timestamp:h})=>{const p=h-s;p>=t&&(Rl.read(u),e(p-t))};return ro.read(u,!0),()=>Rl.read(u)}function yM({when:e,delay:t,delayChildren:s,staggerChildren:u,staggerDirection:h,repeat:p,repeatType:y,repeatDelay:a,from:S,...I}){return!!Object.keys(I).length}function vM({ease:e,times:t,yoyo:s,flip:u,loop:h,...p}){const y={...p};return t&&(y.offset=t),p.duration&&(y.duration=xf(p.duration)),p.repeatDelay&&(y.repeatDelay=xf(p.repeatDelay)),e&&(y.ease=dM(e)?e.map(m1):m1(e)),p.type==="tween"&&(y.type="keyframes"),(s||h||u)&&(s?y.repeatType="reverse":h?y.repeatType="loop":u&&(y.repeatType="mirror"),y.repeat=h||s||u||p.repeat),p.type!=="spring"&&(y.type="keyframes"),y}function _M(e,t){var s,u;return(u=(s=(h_(e,t)||{}).delay)!==null&&s!==void 0?s:e.delay)!==null&&u!==void 0?u:0}function xM(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function wM(e,t,s){return Array.isArray(t.to)&&e.duration===void 0&&(e.duration=.8),xM(t),yM(e)||(e={...e,...fM(s,t.to)}),{...t,...vM(e)}}function bM(e,t,s,u,h){const p=h_(u,e)||{};let y=p.from!==void 0?p.from:t.get();const a=g1(e,s);y==="none"&&a&&typeof s=="string"?y=c_(e,s):v1(y)&&typeof s=="string"?y=_1(s):!Array.isArray(s)&&v1(s)&&typeof y=="string"&&(s=_1(y));const S=g1(e,y);function I(){const V={from:y,to:s,velocity:t.getVelocity(),onComplete:h,onUpdate:z=>t.set(z)};return p.type==="inertia"||p.type==="decay"?ZI({...V,...p}):PS({...wM(p,V,e),onUpdate:z=>{V.onUpdate(z),p.onUpdate&&p.onUpdate(z)},onComplete:()=>{V.onComplete(),p.onComplete&&p.onComplete()}})}function B(){const V=rS(s);return t.set(V),h(),p.onUpdate&&p.onUpdate(V),p.onComplete&&p.onComplete(),{stop:()=>{}}}return!S||!a||p.type===!1?B:I}function v1(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function _1(e){return typeof e=="number"?0:c_("",e)}function h_(e,t){return e[t]||e.default||e}function d_(e,t,s,u={}){return gM.current&&(u={type:!1}),t.start(h=>{let p;const y=bM(e,t,s,u,h),a=_M(u,e),S=()=>p=y();let I;return a?I=VS(S,xf(a)):S(),()=>{I&&I(),p&&p.stop()}})}const SM=e=>/^\-?\d*\.?\d+$/.test(e),TM=e=>/^0[^.\s]+$/.test(e);function p_(e,t){e.indexOf(t)===-1&&e.push(t)}function f_(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Fh{constructor(){this.subscriptions=[]}add(t){return p_(this.subscriptions,t),()=>f_(this.subscriptions,t)}notify(t,s,u){const h=this.subscriptions.length;if(!!h)if(h===1)this.subscriptions[0](t,s,u);else for(let p=0;p<h;p++){const y=this.subscriptions[p];y&&y(t,s,u)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const AM=e=>!isNaN(parseFloat(e));class EM{constructor(t){this.version="7.6.6",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Fh,this.velocityUpdateSubscribers=new Fh,this.renderSubscribers=new Fh,this.canTrackVelocity=!1,this.updateAndNotify=(s,u=!0)=>{this.prev=this.current,this.current=s;const{delta:h,timestamp:p}=vf();this.lastUpdated!==p&&(this.timeDelta=h,this.lastUpdated=p,ro.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),u&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>ro.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=AM(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(t){return t(this.get()),this.renderSubscribers.add(t)}attach(t){this.passiveEffect=t}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?IS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.stopAnimation=t(s)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function zc(e){return new EM(e)}const US=e=>t=>t.test(e),CM={test:e=>e==="auto",parse:e=>e},jS=[ku,fn,sa,ml,pP,dP,CM],yh=e=>jS.find(US(e)),kM=[...jS,us,Wa],PM=e=>kM.find(US(e));function IM(e){const t={};return e.values.forEach((s,u)=>t[u]=s.get()),t}function MM(e){const t={};return e.values.forEach((s,u)=>t[u]=s.getVelocity()),t}function Qf(e,t,s){const u=e.getProps();return Jv(u,t,s!==void 0?s:u.custom,IM(e),MM(e))}function zM(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,zc(s))}function DM(e,t){const s=Qf(e,t);let{transitionEnd:u={},transition:h={},...p}=s?e.makeTargetAnimatable(s,!1):{};p={...p,...u};for(const y in p){const a=rS(p[y]);zM(e,y,a)}}function LM(e,t,s){var u,h;const p=Object.keys(t).filter(a=>!e.hasValue(a)),y=p.length;if(!!y)for(let a=0;a<y;a++){const S=p[a],I=t[S];let B=null;Array.isArray(I)&&(B=I[0]),B===null&&(B=(h=(u=s[S])!==null&&u!==void 0?u:e.readValue(S))!==null&&h!==void 0?h:t[S]),B!=null&&(typeof B=="string"&&(SM(B)||TM(B))?B=parseFloat(B):!PM(B)&&Wa.test(I)&&(B=c_(S,I)),e.addValue(S,zc(B)),s[S]===void 0&&(s[S]=B),B!==null&&e.setBaseTarget(S,B))}}function RM(e,t){return t?(t[e]||t.default||t).from:void 0}function BM(e,t,s){var u;const h={};for(const p in e){const y=RM(p,t);h[p]=y!==void 0?y:(u=s.getValue(p))===null||u===void 0?void 0:u.get()}return h}function wf(e){return Boolean(Po(e)&&e.add)}function NM(e,t,s={}){e.notify("AnimationStart",t);let u;if(Array.isArray(t)){const h=t.map(p=>Ny(e,p,s));u=Promise.all(h)}else if(typeof t=="string")u=Ny(e,t,s);else{const h=typeof t=="function"?Qf(e,t,s.custom):t;u=qS(e,h,s)}return u.then(()=>e.notify("AnimationComplete",t))}function Ny(e,t,s={}){var u;const h=Qf(e,t,s.custom);let{transition:p=e.getDefaultTransition()||{}}=h||{};s.transitionOverride&&(p=s.transitionOverride);const y=h?()=>qS(e,h,s):()=>Promise.resolve(),a=!((u=e.variantChildren)===null||u===void 0)&&u.size?(I=0)=>{const{delayChildren:B=0,staggerChildren:V,staggerDirection:z}=p;return FM(e,t,B+I,V,z,s)}:()=>Promise.resolve(),{when:S}=p;if(S){const[I,B]=S==="beforeChildren"?[y,a]:[a,y];return I().then(B)}else return Promise.all([y(),a(s.delay)])}function qS(e,t,{delay:s=0,transitionOverride:u,type:h}={}){var p;let{transition:y=e.getDefaultTransition(),transitionEnd:a,...S}=e.makeTargetAnimatable(t);const I=e.getValue("willChange");u&&(y=u);const B=[],V=h&&((p=e.animationState)===null||p===void 0?void 0:p.getState()[h]);for(const z in S){const ie=e.getValue(z),ce=S[z];if(!ie||ce===void 0||V&&VM(V,z))continue;let he={delay:s,...y};e.shouldReduceMotion&&xd.has(z)&&(he={...he,type:!1,delay:0});let He=d_(z,ie,ce,he);wf(I)&&(I.add(z),He=He.then(()=>I.remove(z))),B.push(He)}return Promise.all(B).then(()=>{a&&DM(e,a)})}function FM(e,t,s=0,u=0,h=1,p){const y=[],a=(e.variantChildren.size-1)*u,S=h===1?(I=0)=>I*u:(I=0)=>a-I*u;return Array.from(e.variantChildren).sort(OM).forEach((I,B)=>{y.push(Ny(I,t,{...p,delay:s+S(B)}).then(()=>I.notify("AnimationComplete",t)))}),Promise.all(y)}function OM(e,t){return e.sortNodePosition(t)}function VM({protectedKeys:e,needsAnimating:t},s){const u=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,u}const m_=[Ci.Animate,Ci.InView,Ci.Focus,Ci.Hover,Ci.Tap,Ci.Drag,Ci.Exit],UM=[...m_].reverse(),jM=m_.length;function qM(e){return t=>Promise.all(t.map(({animation:s,options:u})=>NM(e,s,u)))}function GM(e){let t=qM(e);const s=HM();let u=!0;const h=(S,I)=>{const B=Qf(e,I);if(B){const{transition:V,transitionEnd:z,...ie}=B;S={...S,...ie,...z}}return S};function p(S){t=S(e)}function y(S,I){var B;const V=e.getProps(),z=e.getVariantContext(!0)||{},ie=[],ce=new Set;let he={},He=1/0;for(let ae=0;ae<jM;ae++){const re=UM[ae],we=s[re],Ue=(B=V[re])!==null&&B!==void 0?B:z[re],P=od(Ue),ct=re===I?we.isActive:null;ct===!1&&(He=ae);let ht=Ue===z[re]&&Ue!==V[re]&&P;if(ht&&u&&e.manuallyAnimateOnMount&&(ht=!1),we.protectedKeys={...he},!we.isActive&&ct===null||!Ue&&!we.prevProp||Wf(Ue)||typeof Ue=="boolean")continue;const qt=WM(we.prevProp,Ue);let zt=qt||re===I&&we.isActive&&!ht&&P||ae>He&&P;const Un=Array.isArray(Ue)?Ue:[Ue];let _n=Un.reduce(h,{});ct===!1&&(_n={});const{prevResolvedValues:Ti={}}=we,Dn={...Ti,..._n},si=St=>{zt=!0,ce.delete(St),we.needsAnimating[St]=!0};for(const St in Dn){const ui=_n[St],qe=Ti[St];he.hasOwnProperty(St)||(ui!==qe?ud(ui)&&ud(qe)?!OS(ui,qe)||qt?si(St):we.protectedKeys[St]=!0:ui!==void 0?si(St):ce.add(St):ui!==void 0&&ce.has(St)?si(St):we.protectedKeys[St]=!0)}we.prevProp=Ue,we.prevResolvedValues=_n,we.isActive&&(he={...he,..._n}),u&&e.blockInitialAnimation&&(zt=!1),zt&&!ht&&ie.push(...Un.map(St=>({animation:St,options:{type:re,...S}})))}if(ce.size){const ae={};ce.forEach(re=>{const we=e.getBaseTarget(re);we!==void 0&&(ae[re]=we)}),ie.push({animation:ae})}let oe=Boolean(ie.length);return u&&V.initial===!1&&!e.manuallyAnimateOnMount&&(oe=!1),u=!1,oe?t(ie):Promise.resolve()}function a(S,I,B){var V;if(s[S].isActive===I)return Promise.resolve();(V=e.variantChildren)===null||V===void 0||V.forEach(ie=>{var ce;return(ce=ie.animationState)===null||ce===void 0?void 0:ce.setActive(S,I)}),s[S].isActive=I;const z=y(B,S);for(const ie in s)s[ie].protectedKeys={};return z}return{animateChanges:y,setActive:a,setAnimateFunction:p,getState:()=>s}}function WM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OS(t,e):!1}function lu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HM(){return{[Ci.Animate]:lu(!0),[Ci.InView]:lu(),[Ci.Hover]:lu(),[Ci.Tap]:lu(),[Ci.Drag]:lu(),[Ci.Focus]:lu(),[Ci.Exit]:lu()}}const GS={animation:Tl(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=GM(e)),Wf(t)&&$e.exports.useEffect(()=>t.subscribe(e),[t])}),exit:Tl(e=>{const{custom:t,visualElement:s}=e,[u,h]=FS(),p=$e.exports.useContext(_d);$e.exports.useEffect(()=>{s.isPresent=u;const y=s.animationState&&s.animationState.setActive(Ci.Exit,!u,{custom:p&&p.custom||t});y&&!u&&y.then(h)},[u])})};class WS{constructor(t,s,{transformPagePoint:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=wg(this.lastMoveEventInfo,this.history),B=this.startEvent!==null,V=l_(I.offset,{x:0,y:0})>=3;if(!B&&!V)return;const{point:z}=I,{timestamp:ie}=vf();this.history.push({...z,timestamp:ie});const{onStart:ce,onMove:he}=this.handlers;B||(ce&&ce(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),he&&he(this.lastMoveEvent,I)},this.handlePointerMove=(I,B)=>{if(this.lastMoveEvent=I,this.lastMoveEventInfo=xg(B,this.transformPagePoint),aS(I)&&I.buttons===0){this.handlePointerUp(I,B);return}ro.update(this.updatePoint,!0)},this.handlePointerUp=(I,B)=>{this.end();const{onEnd:V,onSessionEnd:z}=this.handlers,ie=wg(xg(B,this.transformPagePoint),this.history);this.startEvent&&V&&V(I,ie),z&&z(I,ie)},lS(t)&&t.touches.length>1)return;this.handlers=s,this.transformPagePoint=u;const h=e_(t),p=xg(h,this.transformPagePoint),{point:y}=p,{timestamp:a}=vf();this.history=[{...y,timestamp:a}];const{onSessionStart:S}=s;S&&S(t,wg(p,this.history)),this.removeListeners=Xf(xc(window,"pointermove",this.handlePointerMove),xc(window,"pointerup",this.handlePointerUp),xc(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rl.update(this.updatePoint)}}function xg(e,t){return t?{point:t(e.point)}:e}function x1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wg({point:e},t){return{point:e,delta:x1(e,HS(t)),offset:x1(e,ZM(t)),velocity:$M(t,.1)}}function ZM(e){return e[0]}function HS(e){return e[e.length-1]}function $M(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,u=null;const h=HS(e);for(;s>=0&&(u=e[s],!(h.timestamp-u.timestamp>xf(t)));)s--;if(!u)return{x:0,y:0};const p=(h.timestamp-u.timestamp)/1e3;if(p===0)return{x:0,y:0};const y={x:(h.x-u.x)/p,y:(h.y-u.y)/p};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function Os(e){return e.max-e.min}function w1(e,t=0,s=.01){return l_(e,t)<s}function b1(e,t,s,u=.5){e.origin=u,e.originPoint=Ji(t.min,t.max,e.origin),e.scale=Os(s)/Os(t),(w1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ji(s.min,s.max,e.origin)-e.originPoint,(w1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Oh(e,t,s,u){b1(e.x,t.x,s.x,u==null?void 0:u.originX),b1(e.y,t.y,s.y,u==null?void 0:u.originY)}function S1(e,t,s){e.min=s.min+t.min,e.max=e.min+Os(t)}function XM(e,t,s){S1(e.x,t.x,s.x),S1(e.y,t.y,s.y)}function T1(e,t,s){e.min=t.min-s.min,e.max=e.min+Os(t)}function Vh(e,t,s){T1(e.x,t.x,s.x),T1(e.y,t.y,s.y)}function KM(e,{min:t,max:s},u){return t!==void 0&&e<t?e=u?Ji(t,e,u.min):Math.max(e,t):s!==void 0&&e>s&&(e=u?Ji(s,e,u.max):Math.min(e,s)),e}function A1(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function YM(e,{top:t,left:s,bottom:u,right:h}){return{x:A1(e.x,s,h),y:A1(e.y,t,u)}}function E1(e,t){let s=t.min-e.min,u=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,u]=[u,s]),{min:s,max:u}}function QM(e,t){return{x:E1(e.x,t.x),y:E1(e.y,t.y)}}function JM(e,t){let s=.5;const u=Os(e),h=Os(t);return h>u?s=cd(t.min,t.max-u,e.min):u>h&&(s=cd(e.min,e.max-h,t.min)),gf(0,1,s)}function ez(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Fy=.35;function tz(e=Fy){return e===!1?e=0:e===!0&&(e=Fy),{x:C1(e,"left","right"),y:C1(e,"top","bottom")}}function C1(e,t,s){return{min:k1(e,t),max:k1(e,s)}}function k1(e,t){var s;return typeof e=="number"?e:(s=e[t])!==null&&s!==void 0?s:0}const P1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uh=()=>({x:P1(),y:P1()}),I1=()=>({min:0,max:0}),mr=()=>({x:I1(),y:I1()});function ta(e){return[e("x"),e("y")]}function ZS({top:e,left:t,right:s,bottom:u}){return{x:{min:t,max:s},y:{min:e,max:u}}}function nz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iz(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),u=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:u.y,right:u.x}}function bg(e){return e===void 0||e===1}function Oy({scale:e,scaleX:t,scaleY:s}){return!bg(e)||!bg(t)||!bg(s)}function hu(e){return Oy(e)||$S(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $S(e){return M1(e.x)||M1(e.y)}function M1(e){return e&&e!=="0%"}function bf(e,t,s){const u=e-s,h=t*u;return s+h}function z1(e,t,s,u,h){return h!==void 0&&(e=bf(e,h,u)),bf(e,s,u)+t}function Vy(e,t=0,s=1,u,h){e.min=z1(e.min,t,s,u,h),e.max=z1(e.max,t,s,u,h)}function XS(e,{x:t,y:s}){Vy(e.x,t.translate,t.scale,t.originPoint),Vy(e.y,s.translate,s.scale,s.originPoint)}function rz(e,t,s,u=!1){var h,p;const y=s.length;if(!y)return;t.x=t.y=1;let a,S;for(let I=0;I<y;I++)a=s[I],S=a.projectionDelta,((p=(h=a.instance)===null||h===void 0?void 0:h.style)===null||p===void 0?void 0:p.display)!=="contents"&&(u&&a.options.layoutScroll&&a.scroll&&a!==a.root&&dc(e,{x:-a.scroll.x,y:-a.scroll.y}),S&&(t.x*=S.x.scale,t.y*=S.y.scale,XS(e,S)),u&&hu(a.latestValues)&&dc(e,a.latestValues))}function vl(e,t){e.min=e.min+t,e.max=e.max+t}function D1(e,t,[s,u,h]){const p=t[h]!==void 0?t[h]:.5,y=Ji(e.min,e.max,p);Vy(e,t[s],t[u],y,t.scale)}const sz=["x","scaleX","originX"],oz=["y","scaleY","originY"];function dc(e,t){D1(e.x,t,sz),D1(e.y,t,oz)}function KS(e,t){return ZS(iz(e.getBoundingClientRect(),t))}function az(e,t,s){const u=KS(e,s),{scroll:h}=t;return h&&(vl(u.x,h.x),vl(u.y,h.y)),u}const lz=new WeakMap;class uz{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mr(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){if(this.visualElement.isPresent===!1)return;const u=a=>{this.stopAnimation(),s&&this.snapToCursor(e_(a,"page").point)},h=(a,S)=>{var I;const{drag:B,dragPropagation:V,onDragStart:z}=this.getProps();B&&!V&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dS(B),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ta(ie=>{var ce,he;let He=this.getAxisMotionValue(ie).get()||0;if(sa.test(He)){const oe=(he=(ce=this.visualElement.projection)===null||ce===void 0?void 0:ce.layout)===null||he===void 0?void 0:he.layoutBox[ie];oe&&(He=Os(oe)*(parseFloat(He)/100))}this.originPoint[ie]=He}),z==null||z(a,S),(I=this.visualElement.animationState)===null||I===void 0||I.setActive(Ci.Drag,!0))},p=(a,S)=>{const{dragPropagation:I,dragDirectionLock:B,onDirectionLock:V,onDrag:z}=this.getProps();if(!I&&!this.openGlobalLock)return;const{offset:ie}=S;if(B&&this.currentDirection===null){this.currentDirection=cz(ie),this.currentDirection!==null&&(V==null||V(this.currentDirection));return}this.updateAxis("x",S.point,ie),this.updateAxis("y",S.point,ie),this.visualElement.render(),z==null||z(a,S)},y=(a,S)=>this.stop(a,S);this.panSession=new WS(t,{onSessionStart:u,onStart:h,onMove:p,onSessionEnd:y},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,s){const u=this.isDragging;if(this.cancel(),!u)return;const{velocity:h}=s;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p==null||p(t,s)}cancel(){var t,s;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:u}=this.getProps();!u&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(s=this.visualElement.animationState)===null||s===void 0||s.setActive(Ci.Drag,!1)}updateAxis(t,s,u){const{drag:h}=this.getProps();if(!u||!bp(t,h,this.currentDirection))return;const p=this.getAxisMotionValue(t);let y=this.originPoint[t]+u[t];this.constraints&&this.constraints[t]&&(y=KM(y,this.constraints[t],this.elastic[t])),p.set(y)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),{layout:u}=this.visualElement.projection||{},h=this.constraints;t&&hc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&u?this.constraints=YM(u.layoutBox,t):this.constraints=!1,this.elastic=tz(s),h!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&ta(p=>{this.getAxisMotionValue(p)&&(this.constraints[p]=ez(u.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!hc(t))return!1;const u=t.current,{projection:h}=this.visualElement;if(!h||!h.layout)return!1;const p=az(u,h.root,this.visualElement.getTransformPagePoint());let y=QM(h.layout.layoutBox,p);if(s){const a=s(nz(y));this.hasMutatedConstraints=!!a,a&&(y=ZS(a))}return y}startAnimation(t){const{drag:s,dragMomentum:u,dragElastic:h,dragTransition:p,dragSnapToOrigin:y,onDragTransitionEnd:a}=this.getProps(),S=this.constraints||{},I=ta(B=>{var V;if(!bp(B,s,this.currentDirection))return;let z=(V=S==null?void 0:S[B])!==null&&V!==void 0?V:{};y&&(z={min:0,max:0});const ie=h?200:1e6,ce=h?40:1e7,he={type:"inertia",velocity:u?t[B]:0,bounceStiffness:ie,bounceDamping:ce,timeConstant:750,restDelta:1,restSpeed:10,...p,...z};return this.startAxisValueAnimation(B,he)});return Promise.all(I).then(a)}startAxisValueAnimation(t,s){const u=this.getAxisMotionValue(t);return d_(t,u,0,s)}stopAnimation(){ta(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var s,u;const h="_drag"+t.toUpperCase(),p=this.visualElement.getProps()[h];return p||this.visualElement.getValue(t,(u=(s=this.visualElement.getProps().initial)===null||s===void 0?void 0:s[t])!==null&&u!==void 0?u:0)}snapToCursor(t){ta(s=>{const{drag:u}=this.getProps();if(!bp(s,u,this.currentDirection))return;const{projection:h}=this.visualElement,p=this.getAxisMotionValue(s);if(h&&h.layout){const{min:y,max:a}=h.layout.layoutBox[s];p.set(t[s]-Ji(y,a,.5))}})}scalePositionWithinConstraints(){var t;if(!this.visualElement.current)return;const{drag:s,dragConstraints:u}=this.getProps(),{projection:h}=this.visualElement;if(!hc(u)||!h||!this.constraints)return;this.stopAnimation();const p={x:0,y:0};ta(a=>{const S=this.getAxisMotionValue(a);if(S){const I=S.get();p[a]=JM({min:I,max:I},this.constraints[a])}});const{transformTemplate:y}=this.visualElement.getProps();this.visualElement.current.style.transform=y?y({},""):"none",(t=h.root)===null||t===void 0||t.updateScroll(),h.updateLayout(),this.resolveConstraints(),ta(a=>{if(!bp(a,s,null))return;const S=this.getAxisMotionValue(a),{min:I,max:B}=this.constraints[a];S.set(Ji(I,B,p[a]))})}addListeners(){var t;if(!this.visualElement.current)return;lz.set(this.visualElement,this);const s=this.visualElement.current,u=xc(s,"pointerdown",I=>{const{drag:B,dragListener:V=!0}=this.getProps();B&&V&&this.start(I)}),h=()=>{const{dragConstraints:I}=this.getProps();hc(I)&&(this.constraints=this.resolveRefConstraints())},{projection:p}=this.visualElement,y=p.addEventListener("measure",h);p&&!p.layout&&((t=p.root)===null||t===void 0||t.updateScroll(),p.updateLayout()),h();const a=$f(window,"resize",()=>this.scalePositionWithinConstraints()),S=p.addEventListener("didUpdate",({delta:I,hasLayoutChanged:B})=>{this.isDragging&&B&&(ta(V=>{const z=this.getAxisMotionValue(V);!z||(this.originPoint[V]+=I[V].translate,z.set(z.get()+I[V].translate))}),this.visualElement.render())});return()=>{a(),u(),y(),S==null||S()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:u=!1,dragPropagation:h=!1,dragConstraints:p=!1,dragElastic:y=Fy,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:u,dragPropagation:h,dragConstraints:p,dragElastic:y,dragMomentum:a}}}function bp(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function cz(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}function hz(e){const{dragControls:t,visualElement:s}=e,u=Zf(()=>new uz(s));$e.exports.useEffect(()=>t&&t.subscribe(u),[u,t]),$e.exports.useEffect(()=>u.addListeners(),[u])}function dz({onPan:e,onPanStart:t,onPanEnd:s,onPanSessionStart:u,visualElement:h}){const p=e||t||s||u,y=$e.exports.useRef(null),{transformPagePoint:a}=$e.exports.useContext(Gv),S={onSessionStart:u,onStart:t,onMove:e,onEnd:(B,V)=>{y.current=null,s&&s(B,V)}};$e.exports.useEffect(()=>{y.current!==null&&y.current.updateHandlers(S)});function I(B){y.current=new WS(B,S,{transformPagePoint:a})}ff(h,"pointerdown",p&&I),t_(()=>y.current&&y.current.end())}const pz={pan:Tl(dz),drag:Tl(hz)};function Uy(e){return typeof e=="string"&&e.startsWith("var(--")}const YS=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function fz(e){const t=YS.exec(e);if(!t)return[,];const[,s,u]=t;return[s,u]}function jy(e,t,s=1){const[u,h]=fz(e);if(!u)return;const p=window.getComputedStyle(t).getPropertyValue(u);return p?p.trim():Uy(h)?jy(h,t,s+1):h}function mz(e,{...t},s){const u=e.current;if(!(u instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(h=>{const p=h.get();if(!Uy(p))return;const y=jy(p,u);y&&h.set(y)});for(const h in t){const p=t[h];if(!Uy(p))continue;const y=jy(p,u);!y||(t[h]=y,s&&s[h]===void 0&&(s[h]=p))}return{target:t,transitionEnd:s}}const gz=new Set(["width","height","top","left","right","bottom","x","y"]),QS=e=>gz.has(e),yz=e=>Object.keys(e).some(QS),JS=(e,t)=>{e.set(t,!1),e.set(t)},L1=e=>e===ku||e===fn;var R1;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(R1||(R1={}));const B1=(e,t)=>parseFloat(e.split(", ")[t]),N1=(e,t)=>(s,{transform:u})=>{if(u==="none"||!u)return 0;const h=u.match(/^matrix3d\((.+)\)$/);if(h)return B1(h[1],t);{const p=u.match(/^matrix\((.+)\)$/);return p?B1(p[1],e):0}},vz=new Set(["x","y","z"]),_z=df.filter(e=>!vz.has(e));function xz(e){const t=[];return _z.forEach(s=>{const u=e.getValue(s);u!==void 0&&(t.push([s,u.get()]),u.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const F1={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:N1(4,13),y:N1(5,14)},wz=(e,t,s)=>{const u=t.measureViewportBox(),h=t.current,p=getComputedStyle(h),{display:y}=p,a={};y==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(I=>{a[I]=F1[I](u,p)}),t.render();const S=t.measureViewportBox();return s.forEach(I=>{const B=t.getValue(I);JS(B,a[I]),e[I]=F1[I](S,p)}),e},bz=(e,t,s={},u={})=>{t={...t},u={...u};const h=Object.keys(t).filter(QS);let p=[],y=!1;const a=[];if(h.forEach(S=>{const I=e.getValue(S);if(!e.hasValue(S))return;let B=s[S],V=yh(B);const z=t[S];let ie;if(ud(z)){const ce=z.length,he=z[0]===null?1:0;B=z[he],V=yh(B);for(let He=he;He<ce;He++)ie?mf(yh(z[He])===ie):ie=yh(z[He])}else ie=yh(z);if(V!==ie)if(L1(V)&&L1(ie)){const ce=I.get();typeof ce=="string"&&I.set(parseFloat(ce)),typeof z=="string"?t[S]=parseFloat(z):Array.isArray(z)&&ie===fn&&(t[S]=z.map(parseFloat))}else(V==null?void 0:V.transform)&&(ie==null?void 0:ie.transform)&&(B===0||z===0)?B===0?I.set(ie.transform(B)):t[S]=V.transform(z):(y||(p=xz(e),y=!0),a.push(S),u[S]=u[S]!==void 0?u[S]:t[S],JS(I,z))}),a.length){const S=a.indexOf("height")>=0?window.pageYOffset:null,I=wz(t,e,a);return p.length&&p.forEach(([B,V])=>{e.getValue(B).set(V)}),e.render(),Cu&&S!==null&&window.scrollTo({top:S}),{target:I,transitionEnd:u}}else return{target:t,transitionEnd:u}};function Sz(e,t,s,u){return yz(t)?bz(e,t,s,u):{target:t,transitionEnd:u}}const Tz=(e,t,s,u)=>{const h=mz(e,t,u);return t=h.target,u=h.transitionEnd,Sz(e,t,s,u)},qy={current:null},eT={current:!1};function Az(){if(eT.current=!0,!!Cu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qy.current=e.matches;e.addListener(t),t()}else qy.current=!1}function Ez(e,t,s){const{willChange:u}=t;for(const h in t){const p=t[h],y=s[h];if(Po(p))e.addValue(h,p),wf(u)&&u.add(h);else if(Po(y))e.addValue(h,zc(p)),wf(u)&&u.remove(h);else if(y!==p)if(e.hasValue(h)){const a=e.getValue(h);!a.hasAnimated&&a.set(p)}else{const a=e.getStaticValue(h);e.addValue(h,zc(a!==void 0?a:p))}}for(const h in s)t[h]===void 0&&e.removeValue(h);return t}const tT=Object.keys(ad),Cz=tT.length,O1=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kz{constructor({parent:t,props:s,reducedMotionConfig:u,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{!this.current||(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ro.render(this.render,!1,!0);const{latestValues:y,renderState:a}=h;this.latestValues=y,this.baseTarget={...y},this.initialValues=s.initial?{...y}:{},this.renderState=a,this.parent=t,this.props=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=u,this.options=p,this.isControllingVariants=Hf(s),this.isVariantNode=N2(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:S,...I}=this.scrapeMotionValuesFromProps(s);for(const B in I){const V=I[B];y[B]!==void 0&&Po(V)&&(V.set(y[B],!1),wf(S)&&S.add(B))}if(s.values)for(const B in s.values){const V=s.values[B];y[B]!==void 0&&Po(V)&&V.set(y[B])}}scrapeMotionValuesFromProps(t){return{}}mount(t){var s;this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(s=this.parent)===null||s===void 0?void 0:s.addVariantChild(this)),this.values.forEach((u,h)=>this.bindToMotionValue(h,u)),eT.current||Az(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qy.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var t,s,u;(t=this.projection)===null||t===void 0||t.unmount(),Rl.update(this.notifyUpdate),Rl.render(this.render),this.valueSubscriptions.forEach(h=>h()),(s=this.removeFromVariantTree)===null||s===void 0||s.call(this),(u=this.parent)===null||u===void 0||u.children.delete(this);for(const h in this.events)this.events[h].clear();this.current=null}bindToMotionValue(t,s){const u=s.onChange(p=>{this.latestValues[t]=p,this.props.onUpdate&&ro.update(this.notifyUpdate,!1,!0)}),h=s.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(t,()=>{u(),h()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures(t,s,u,h,p,y){const a=[];for(let S=0;S<Cz;S++){const I=tT[S],{isEnabled:B,Component:V}=ad[I];B(t)&&V&&a.push($e.exports.createElement(V,{key:I,...t,visualElement:this}))}if(!this.projection&&p){this.projection=new p(h,this.latestValues,this.parent&&this.parent.projection);const{layoutId:S,layout:I,drag:B,dragConstraints:V,layoutScroll:z}=t;this.projection.setOptions({layoutId:S,layout:I,alwaysMeasureLayout:Boolean(B)||V&&hc(V),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof I=="string"?I:"both",initialPromotionConfig:y,layoutScroll:z})}return a}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}setProps(t){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=t;for(let s=0;s<O1.length;s++){const u=O1[s];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const h=t["on"+u];h&&(this.propEventSubscriptions[u]=this.on(u,h))}this.prevMotionValues=Ez(this,this.scrapeMotionValuesFromProps(t),this.prevMotionValues)}getProps(){return this.props}getVariant(t){var s;return(s=this.props.variants)===null||s===void 0?void 0:s[t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var t;return this.isVariantNode?this:(t=this.parent)===null||t===void 0?void 0:t.getClosestVariantNode()}getVariantContext(t=!1){var s,u;if(t)return(s=this.parent)===null||s===void 0?void 0:s.getVariantContext();if(!this.isControllingVariants){const p=((u=this.parent)===null||u===void 0?void 0:u.getVariantContext())||{};return this.props.initial!==void 0&&(p.initial=this.props.initial),p}const h={};for(let p=0;p<Pz;p++){const y=nT[p],a=this.props[y];(od(a)||a===!1)&&(h[y]=a)}return h}addVariantChild(t){var s;const u=this.getClosestVariantNode();if(u)return(s=u.variantChildren)===null||s===void 0||s.add(t),()=>u.variantChildren.delete(t)}addValue(t,s){this.hasValue(t)&&this.removeValue(t),this.values.set(t,s),this.latestValues[t]=s.get(),this.bindToMotionValue(t,s)}removeValue(t){var s;this.values.delete(t),(s=this.valueSubscriptions.get(t))===null||s===void 0||s(),this.valueSubscriptions.delete(t),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let u=this.values.get(t);return u===void 0&&s!==void 0&&(u=zc(s),this.addValue(t,u)),u}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:u}=this.props,h=typeof u=="string"||typeof u=="object"?(s=Jv(this.props,u))===null||s===void 0?void 0:s[t]:void 0;if(u&&h!==void 0)return h;const p=this.getBaseTargetFromProps(this.props,t);return p!==void 0&&!Po(p)?p:this.initialValues[t]!==void 0&&h===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Fh),this.events[t].add(s)}notify(t,...s){var u;(u=this.events[t])===null||u===void 0||u.notify(...s)}}const nT=["initial",...m_],Pz=nT.length;class iT extends kz{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){var u;return(u=t.style)===null||u===void 0?void 0:u[s]}removeValueFromRenderState(t,{vars:s,style:u}){delete s[t],delete u[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...u},{transformValues:h},p){let y=BM(u,t||{},this);if(h&&(s&&(s=h(s)),u&&(u=h(u)),y&&(y=h(y))),p){LM(this,u,y);const a=Tz(this,u,y,s);s=a.transitionEnd,u=a.target}return{transition:t,transitionEnd:s,...u}}}function Iz(e){return window.getComputedStyle(e)}class Mz extends iT{readValueFromInstance(t,s){if(xd.has(s)){const u=u_(s);return u&&u.default||0}else{const u=Iz(t),h=(U2(s)?u.getPropertyValue(s):u[s])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(t,{transformPagePoint:s}){return KS(t,s)}build(t,s,u,h){Xv(t,s,u,h.transformTemplate)}scrapeMotionValuesFromProps(t){return Qv(t)}renderInstance(t,s,u,h){eS(t,s,u,h)}}class zz extends iT{getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){var u;return xd.has(s)?((u=u_(s))===null||u===void 0?void 0:u.default)||0:(s=tS.has(s)?s:J2(s),t.getAttribute(s))}measureInstanceViewportBox(){return mr()}scrapeMotionValuesFromProps(t){return iS(t)}build(t,s,u,h){Yv(t,s,u,h.transformTemplate)}renderInstance(t,s,u,h){nS(t,s,u,h)}}const rT=(e,t)=>Zv(e)?new zz(t,{enableHardwareAcceleration:!1}):new Mz(t,{enableHardwareAcceleration:!0});function V1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(fn.test(e))e=parseFloat(e);else return e;const s=V1(e,t.target.x),u=V1(e,t.target.y);return`${s}% ${u}%`}},U1="_$css",Dz={correct:(e,{treeScale:t,projectionDelta:s})=>{const u=e,h=e.includes("var("),p=[];h&&(e=e.replace(YS,ie=>(p.push(ie),U1)));const y=Wa.parse(e);if(y.length>5)return u;const a=Wa.createTransformer(e),S=typeof y[0]!="number"?1:0,I=s.x.scale*t.x,B=s.y.scale*t.y;y[0+S]/=I,y[1+S]/=B;const V=Ji(I,B,.5);typeof y[2+S]=="number"&&(y[2+S]/=V),typeof y[3+S]=="number"&&(y[3+S]/=V);let z=a(y);if(h){let ie=0;z=z.replace(U1,()=>{const ce=p[ie];return ie++,ce})}return z}};class Lz extends Jy.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:u,layoutId:h}=this.props,{projection:p}=t;oP(Bz),p&&(s.group&&s.group.add(p),u&&u.register&&h&&u.register(p),p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),Rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:u,drag:h,isPresent:p}=this.props,y=u.projection;return y&&(y.isPresent=p,h||t.layoutDependency!==s||s===void 0?y.willUpdate():this.safeToRemove(),t.isPresent!==p&&(p?y.promote():y.relegate()||ro.postRender(()=>{var a;!((a=y.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:u}=this.props,{projection:h}=t;h&&(h.scheduleCheckAfterUnmount(),s!=null&&s.group&&s.group.remove(h),u!=null&&u.deregister&&u.deregister(h))}safeToRemove(){const{safeToRemove:t}=this.props;t==null||t()}render(){return null}}function Rz(e){const[t,s]=FS(),u=$e.exports.useContext(Hv);return H(Lz,{...e,layoutGroup:u,switchLayoutGroup:$e.exports.useContext(F2),isPresent:t,safeToRemove:s})}const Bz={borderRadius:{...vh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vh,borderTopRightRadius:vh,borderBottomLeftRadius:vh,borderBottomRightRadius:vh,boxShadow:Dz},Nz={measureLayout:Rz};function Fz(e,t,s={}){const u=Po(e)?e:zc(e);return d_("",u,t,s),{stop:()=>u.stop(),isAnimating:()=>u.isAnimating()}}const sT=["TopLeft","TopRight","BottomLeft","BottomRight"],Oz=sT.length,j1=e=>typeof e=="string"?parseFloat(e):e,q1=e=>typeof e=="number"||fn.test(e);function Vz(e,t,s,u,h,p){var y,a,S,I;h?(e.opacity=Ji(0,(y=s.opacity)!==null&&y!==void 0?y:1,Uz(u)),e.opacityExit=Ji((a=t.opacity)!==null&&a!==void 0?a:1,0,jz(u))):p&&(e.opacity=Ji((S=t.opacity)!==null&&S!==void 0?S:1,(I=s.opacity)!==null&&I!==void 0?I:1,u));for(let B=0;B<Oz;B++){const V=`border${sT[B]}Radius`;let z=G1(t,V),ie=G1(s,V);if(z===void 0&&ie===void 0)continue;z||(z=0),ie||(ie=0),z===0||ie===0||q1(z)===q1(ie)?(e[V]=Math.max(Ji(j1(z),j1(ie),u),0),(sa.test(ie)||sa.test(z))&&(e[V]+="%")):e[V]=ie}(t.rotate||s.rotate)&&(e.rotate=Ji(t.rotate||0,s.rotate||0,u))}function G1(e,t){var s;return(s=e[t])!==null&&s!==void 0?s:e.borderRadius}const Uz=oT(0,.5,o_),jz=oT(.5,.95,r_);function oT(e,t,s){return u=>u<e?0:u>t?1:s(cd(e,t,u))}function W1(e,t){e.min=t.min,e.max=t.max}function bo(e,t){W1(e.x,t.x),W1(e.y,t.y)}function H1(e,t,s,u,h){return e-=t,e=bf(e,1/s,u),h!==void 0&&(e=bf(e,1/h,u)),e}function qz(e,t=0,s=1,u=.5,h,p=e,y=e){if(sa.test(t)&&(t=parseFloat(t),t=Ji(y.min,y.max,t/100)-y.min),typeof t!="number")return;let a=Ji(p.min,p.max,u);e===p&&(a-=t),e.min=H1(e.min,t,s,a,h),e.max=H1(e.max,t,s,a,h)}function Z1(e,t,[s,u,h],p,y){qz(e,t[s],t[u],t[h],t.scale,p,y)}const Gz=["x","scaleX","originX"],Wz=["y","scaleY","originY"];function $1(e,t,s,u){Z1(e.x,t,Gz,s==null?void 0:s.x,u==null?void 0:u.x),Z1(e.y,t,Wz,s==null?void 0:s.y,u==null?void 0:u.y)}function X1(e){return e.translate===0&&e.scale===1}function aT(e){return X1(e.x)&&X1(e.y)}function lT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function K1(e){return Os(e.x)/Os(e.y)}function Hz(e,t,s=.1){return l_(e,t)<=s}class Zz{constructor(){this.members=[]}add(t){p_(this.members,t),t.scheduleRender()}remove(t){if(f_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(h=>t===h);if(s===0)return!1;let u;for(let h=s;h>=0;h--){const p=this.members[h];if(p.isPresent!==!1){u=p;break}}return u?(this.promote(u),!0):!1}promote(t,s){var u;const h=this.lead;if(t!==h&&(this.prevLead=h,this.lead=t,t.show(),h)){h.instance&&h.scheduleRender(),t.scheduleRender(),t.resumeFrom=h,s&&(t.resumeFrom.preserveOpacity=!0),h.snapshot&&(t.snapshot=h.snapshot,t.snapshot.latestValues=h.animationValues||h.latestValues,t.snapshot.isShared=!0),!((u=t.root)===null||u===void 0)&&u.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:p}=t.options;p===!1&&h.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var s,u,h,p,y;(u=(s=t.options).onExitComplete)===null||u===void 0||u.call(s),(y=(h=t.resumingFrom)===null||h===void 0?void 0:(p=h.options).onExitComplete)===null||y===void 0||y.call(p)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $z="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function Y1(e,t,s){const u=e.x.translate/t.x,h=e.y.translate/t.y;let p=`translate3d(${u}px, ${h}px, 0) `;if(p+=`scale(${1/t.x}, ${1/t.y}) `,s){const{rotate:S,rotateX:I,rotateY:B}=s;S&&(p+=`rotate(${S}deg) `),I&&(p+=`rotateX(${I}deg) `),B&&(p+=`rotateY(${B}deg) `)}const y=e.x.scale*t.x,a=e.y.scale*t.y;return p+=`scale(${y}, ${a})`,p===$z?"none":p}const Xz=(e,t)=>e.depth-t.depth;class Kz{constructor(){this.children=[],this.isDirty=!1}add(t){p_(this.children,t),this.isDirty=!0}remove(t){f_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Xz),this.isDirty=!1,this.children.forEach(t)}}const Q1=["","X","Y","Z"],J1=1e3;function uT({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:u,resetTransform:h}){return class{constructor(y,a={},S=t==null?void 0:t()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(tD),this.nodes.forEach(nD)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=y,this.latestValues=a,this.root=S?S.root||S:this,this.path=S?[...S.path,S]:[],this.parent=S,this.depth=S?S.depth+1:0,y&&this.root.registerPotentialNode(y,this);for(let I=0;I<this.path.length;I++)this.path[I].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kz)}addEventListener(y,a){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new Fh),this.eventHandlers.get(y).add(a)}notifyListeners(y,...a){const S=this.eventHandlers.get(y);S==null||S.notify(...a)}hasListeners(y){return this.eventHandlers.has(y)}registerPotentialNode(y,a){this.potentialNodes.set(y,a)}mount(y,a=!1){var S;if(this.instance)return;this.isSVG=y instanceof SVGElement&&y.tagName!=="svg",this.instance=y;const{layoutId:I,layout:B,visualElement:V}=this.options;if(V&&!V.current&&V.mount(y),this.root.nodes.add(this),(S=this.parent)===null||S===void 0||S.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(B||I)&&(this.isLayoutDirty=!0),e){let z;const ie=()=>this.root.updateBlockedByResize=!1;e(y,()=>{this.root.updateBlockedByResize=!0,z&&z(),z=VS(ie,250),Rh.hasAnimatedSinceResize&&(Rh.hasAnimatedSinceResize=!1,this.nodes.forEach(tw))})}I&&this.root.registerSharedNode(I,this),this.options.animate!==!1&&V&&(I||B)&&this.addEventListener("didUpdate",({delta:z,hasLayoutChanged:ie,hasRelativeTargetChanged:ce,layout:he})=>{var He,oe,ae,re,we;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ue=(oe=(He=this.options.transition)!==null&&He!==void 0?He:V.getDefaultTransition())!==null&&oe!==void 0?oe:aD,{onLayoutAnimationStart:P,onLayoutAnimationComplete:ct}=V.getProps(),ht=!this.targetLayout||!lT(this.targetLayout,he)||ce,qt=!ie&&ce;if(((ae=this.resumeFrom)===null||ae===void 0?void 0:ae.instance)||qt||ie&&(ht||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(z,qt);const zt={...h_(Ue,"layout"),onPlay:P,onComplete:ct};V.shouldReduceMotion&&(zt.delay=0,zt.type=!1),this.startAnimation(zt)}else!ie&&this.animationProgress===0&&tw(this),this.isLead()&&((we=(re=this.options).onExitComplete)===null||we===void 0||we.call(re));this.targetLayout=he})}unmount(){var y,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(y=this.getStack())===null||y===void 0||y.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Rl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var y;return this.isAnimationBlocked||((y=this.parent)===null||y===void 0?void 0:y.isTreeAnimationBlocked())||!1}startUpdate(){var y;this.isUpdateBlocked()||(this.isUpdating=!0,(y=this.nodes)===null||y===void 0||y.forEach(iD))}willUpdate(y=!0){var a,S,I;if(this.root.isUpdateBlocked()){(S=(a=this.options).onExitComplete)===null||S===void 0||S.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ie=0;ie<this.path.length;ie++){const ce=this.path[ie];ce.shouldResetTransform=!0,ce.updateScroll()}const{layoutId:B,layout:V}=this.options;if(B===void 0&&!V)return;const z=(I=this.options.visualElement)===null||I===void 0?void 0:I.getProps().transformTemplate;this.prevTransformTemplateValue=z==null?void 0:z(this.latestValues,""),this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ew);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(lD),this.potentialNodes.clear()),this.nodes.forEach(eD),this.nodes.forEach(Yz),this.nodes.forEach(Qz),this.clearAllSnapshots(),yg.update(),yg.preRender(),yg.render())}clearAllSnapshots(){this.nodes.forEach(Jz),this.sharedNodes.forEach(rD)}scheduleUpdateProjection(){ro.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ro.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var y;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let S=0;S<this.path.length;S++)this.path[S].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(y=this.options.visualElement)===null||y===void 0||y.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=u(this.instance),this.scroll=s(this.instance))}resetTransform(){var y;if(!h)return;const a=this.isLayoutDirty||this.shouldResetTransform,S=this.projectionDelta&&!aT(this.projectionDelta),I=(y=this.options.visualElement)===null||y===void 0?void 0:y.getProps().transformTemplate,B=I==null?void 0:I(this.latestValues,""),V=B!==this.prevTransformTemplateValue;a&&(S||hu(this.latestValues)||V)&&(h(this.instance,B),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const a=this.measurePageBox();let S=this.removeElementScroll(a);return y&&(S=this.removeTransform(S)),uD(S),{measuredBox:a,layoutBox:S,latestValues:{}}}measurePageBox(){const{visualElement:y}=this.options;if(!y)return mr();const a=y.measureViewportBox(),{scroll:S}=this.root;return S&&(vl(a.x,S.x),vl(a.y,S.y)),a}removeElementScroll(y){const a=mr();bo(a,y);for(let S=0;S<this.path.length;S++){const I=this.path[S],{scroll:B,options:V,isScrollRoot:z}=I;if(I!==this.root&&B&&V.layoutScroll){if(z){bo(a,y);const{scroll:ie}=this.root;ie&&(vl(a.x,-ie.x),vl(a.y,-ie.y))}vl(a.x,B.x),vl(a.y,B.y)}}return a}applyTransform(y,a=!1){const S=mr();bo(S,y);for(let I=0;I<this.path.length;I++){const B=this.path[I];!a&&B.options.layoutScroll&&B.scroll&&B!==B.root&&dc(S,{x:-B.scroll.x,y:-B.scroll.y}),hu(B.latestValues)&&dc(S,B.latestValues)}return hu(this.latestValues)&&dc(S,this.latestValues),S}removeTransform(y){var a;const S=mr();bo(S,y);for(let I=0;I<this.path.length;I++){const B=this.path[I];if(!B.instance||!hu(B.latestValues))continue;Oy(B.latestValues)&&B.updateSnapshot();const V=mr(),z=B.measurePageBox();bo(V,z),$1(S,B.latestValues,(a=B.snapshot)===null||a===void 0?void 0:a.layoutBox,V)}return hu(this.latestValues)&&$1(S,this.latestValues),S}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection()}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var y;const{layout:a,layoutId:S}=this.options;if(!(!this.layout||!(a||S))){if(!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout?(this.relativeParent=I,this.relativeTarget=mr(),this.relativeTargetOrigin=mr(),Vh(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mr(),this.targetWithTransforms=mr()),this.relativeTarget&&this.relativeTargetOrigin&&((y=this.relativeParent)===null||y===void 0?void 0:y.target)?XM(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):bo(this.target,this.layout.layoutBox),XS(this.target,this.targetDelta)):bo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&Boolean(I.resumingFrom)===Boolean(this.resumingFrom)&&!I.options.layoutScroll&&I.target?(this.relativeParent=I,this.relativeTarget=mr(),this.relativeTargetOrigin=mr(),Vh(this.relativeTargetOrigin,this.target,I.target),bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Oy(this.parent.latestValues)||$S(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var y;const{layout:a,layoutId:S}=this.options;if(this.isTreeAnimating=Boolean(((y=this.parent)===null||y===void 0?void 0:y.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||S))return;const I=this.getLead();bo(this.layoutCorrected,this.layout.layoutBox),rz(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==I);const{target:B}=I;if(!B)return;this.projectionDelta||(this.projectionDelta=Uh(),this.projectionDeltaWithTransform=Uh());const V=this.treeScale.x,z=this.treeScale.y,ie=this.projectionTransform;Oh(this.projectionDelta,this.layoutCorrected,B,this.latestValues),this.projectionTransform=Y1(this.projectionDelta,this.treeScale),(this.projectionTransform!==ie||this.treeScale.x!==V||this.treeScale.y!==z)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",B))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){var a,S,I;(S=(a=this.options).scheduleRender)===null||S===void 0||S.call(a),y&&((I=this.getStack())===null||I===void 0||I.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(y,a=!1){var S;const I=this.snapshot,B=(I==null?void 0:I.latestValues)||{},V={...this.latestValues},z=Uh();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;const ie=mr(),ce=I==null?void 0:I.isShared,he=(((S=this.getStack())===null||S===void 0?void 0:S.members.length)||0)<=1,He=Boolean(ce&&!he&&this.options.crossfade===!0&&!this.path.some(oD));this.animationProgress=0,this.mixTargetDelta=oe=>{var ae;const re=oe/1e3;nw(z.x,y.x,re),nw(z.y,y.y,re),this.setTargetDelta(z),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((ae=this.relativeParent)===null||ae===void 0?void 0:ae.layout)&&(Vh(ie,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sD(this.relativeTarget,this.relativeTargetOrigin,ie,re)),ce&&(this.animationValues=V,Vz(V,B,this.latestValues,re,He,he)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(0)}startAnimation(y){var a,S;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((S=this.resumingFrom.currentAnimation)===null||S===void 0||S.stop()),this.pendingAnimation&&(Rl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ro.update(()=>{Rh.hasAnimatedSinceResize=!0,this.currentAnimation=Fz(0,J1,{...y,onUpdate:I=>{var B;this.mixTargetDelta(I),(B=y.onUpdate)===null||B===void 0||B.call(y,I)},onComplete:()=>{var I;(I=y.onComplete)===null||I===void 0||I.call(y),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var y;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(y=this.getStack())===null||y===void 0||y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var y;this.currentAnimation&&((y=this.mixTargetDelta)===null||y===void 0||y.call(this,J1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:a,target:S,layout:I,latestValues:B}=y;if(!(!a||!S||!I)){if(this!==y&&this.layout&&I&&cT(this.options.animationType,this.layout.layoutBox,I.layoutBox)){S=this.target||mr();const V=Os(this.layout.layoutBox.x);S.x.min=y.target.x.min,S.x.max=S.x.min+V;const z=Os(this.layout.layoutBox.y);S.y.min=y.target.y.min,S.y.max=S.y.min+z}bo(a,S),dc(a,B),Oh(this.projectionDeltaWithTransform,this.layoutCorrected,a,B)}}registerSharedNode(y,a){var S,I,B;this.sharedNodes.has(y)||this.sharedNodes.set(y,new Zz),this.sharedNodes.get(y).add(a),a.promote({transition:(S=a.options.initialPromotionConfig)===null||S===void 0?void 0:S.transition,preserveFollowOpacity:(B=(I=a.options.initialPromotionConfig)===null||I===void 0?void 0:I.shouldPreserveFollowOpacity)===null||B===void 0?void 0:B.call(I,a)})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){var y;const{layoutId:a}=this.options;return a?((y=this.getStack())===null||y===void 0?void 0:y.lead)||this:this}getPrevLead(){var y;const{layoutId:a}=this.options;return a?(y=this.getStack())===null||y===void 0?void 0:y.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:a,preserveFollowOpacity:S}={}){const I=this.getStack();I&&I.promote(this,S),y&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetRotation(){const{visualElement:y}=this.options;if(!y)return;let a=!1;const S={};for(let I=0;I<Q1.length;I++){const V="rotate"+Q1[I];!y.getStaticValue(V)||(a=!0,S[V]=y.getStaticValue(V),y.setStaticValue(V,0))}if(!!a){y==null||y.render();for(const I in S)y.setStaticValue(I,S[I]);y.scheduleRender()}}getProjectionStyles(y={}){var a,S,I;const B={};if(!this.instance||this.isSVG)return B;if(this.isVisible)B.visibility="";else return{visibility:"hidden"};const V=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,B.opacity="",B.pointerEvents=Bp(y.pointerEvents)||"",B.transform=V?V(this.latestValues,""):"none",B;const z=this.getLead();if(!this.projectionDelta||!this.layout||!z.target){const He={};return this.options.layoutId&&(He.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,He.pointerEvents=Bp(y.pointerEvents)||""),this.hasProjected&&!hu(this.latestValues)&&(He.transform=V?V({},""):"none",this.hasProjected=!1),He}const ie=z.animationValues||z.latestValues;this.applyTransformsToTarget(),B.transform=Y1(this.projectionDeltaWithTransform,this.treeScale,ie),V&&(B.transform=V(ie,B.transform));const{x:ce,y:he}=this.projectionDelta;B.transformOrigin=`${ce.origin*100}% ${he.origin*100}% 0`,z.animationValues?B.opacity=z===this?(I=(S=ie.opacity)!==null&&S!==void 0?S:this.latestValues.opacity)!==null&&I!==void 0?I:1:this.preserveOpacity?this.latestValues.opacity:ie.opacityExit:B.opacity=z===this?ie.opacity!==void 0?ie.opacity:"":ie.opacityExit!==void 0?ie.opacityExit:0;for(const He in hf){if(ie[He]===void 0)continue;const{correct:oe,applyTo:ae}=hf[He],re=oe(ie[He],z);if(ae){const we=ae.length;for(let Ue=0;Ue<we;Ue++)B[ae[Ue]]=re}else B[He]=re}return this.options.layoutId&&(B.pointerEvents=z===this?Bp(y.pointerEvents)||"":"none"),B}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>{var a;return(a=y.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ew),this.root.sharedNodes.clear()}}}function Yz(e){e.updateLayout()}function Qz(e){var t,s,u;const h=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&h&&e.hasListeners("didUpdate")){const{layoutBox:p,measuredBox:y}=e.layout,{animationType:a}=e.options;a==="size"?ta(z=>{const ie=h.isShared?h.measuredBox[z]:h.layoutBox[z],ce=Os(ie);ie.min=p[z].min,ie.max=ie.min+ce}):cT(a,h.layoutBox,p)&&ta(z=>{const ie=h.isShared?h.measuredBox[z]:h.layoutBox[z],ce=Os(p[z]);ie.max=ie.min+ce});const S=Uh();Oh(S,p,h.layoutBox);const I=Uh();h.isShared?Oh(I,e.applyTransform(y,!0),h.measuredBox):Oh(I,p,h.layoutBox);const B=!aT(S);let V=!1;if(!e.resumeFrom){const z=e.getClosestProjectingParent();if(z&&!z.resumeFrom){const{snapshot:ie,layout:ce}=z;if(ie&&ce){const he=mr();Vh(he,h.layoutBox,ie.layoutBox);const He=mr();Vh(He,p,ce.layoutBox),lT(he,He)||(V=!0)}}}e.notifyListeners("didUpdate",{layout:p,snapshot:h,delta:I,layoutDelta:S,hasLayoutChanged:B,hasRelativeTargetChanged:V})}else e.isLead()&&((u=(s=e.options).onExitComplete)===null||u===void 0||u.call(s));e.options.transition=void 0}function Jz(e){e.clearSnapshot()}function ew(e){e.clearMeasurements()}function eD(e){const{visualElement:t}=e.options;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function tD(e){e.resolveTargetDelta()}function nD(e){e.calcProjection()}function iD(e){e.resetRotation()}function rD(e){e.removeLeadSnapshot()}function nw(e,t,s){e.translate=Ji(t.translate,0,s),e.scale=Ji(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function iw(e,t,s,u){e.min=Ji(t.min,s.min,u),e.max=Ji(t.max,s.max,u)}function sD(e,t,s,u){iw(e.x,t.x,s.x,u),iw(e.y,t.y,s.y,u)}function oD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const aD={duration:.45,ease:[.4,0,.1,1]};function lD(e,t){let s=e.root;for(let p=e.path.length-1;p>=0;p--)if(Boolean(e.path[p].instance)){s=e.path[p];break}const h=(s&&s!==e.root?s.instance:document).querySelector(`[data-projection-id="${t}"]`);h&&e.mount(h,!0)}function rw(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function uD(e){rw(e.x),rw(e.y)}function cT(e,t,s){return e==="position"||e==="preserve-aspect"&&!Hz(K1(t),K1(s),.2)}const cD=uT({attachResizeListener:(e,t)=>$f(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sg={current:void 0},hD=uT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sg.current){const e=new cD(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Sg.current=e}return Sg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")}),dD={...GS,...NS,...pz,...Nz},Sf=O2((e,t)=>oS(e,t,dD,rT,hD)),hT=O2(oS);function dT(){const e=$e.exports.useRef(!1);return cf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function pD(){const e=dT(),[t,s]=$e.exports.useState(0),u=$e.exports.useCallback(()=>{e.current&&s(t+1)},[t]);return[$e.exports.useCallback(()=>ro.postRender(u),[u]),t]}class fD extends $e.exports.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mD({children:e,isPresent:t}){const s=$e.exports.useId(),u=$e.exports.useRef(null),h=$e.exports.useRef({width:0,height:0,top:0,left:0});return $e.exports.useInsertionEffect(()=>{const{width:p,height:y,top:a,left:S}=h.current;if(t||!u.current||!p||!y)return;u.current.dataset.motionPopId=s;const I=document.createElement("style");return document.head.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            top: ${a}px !important;
            left: ${S}px !important;
          }
        `),()=>{document.head.removeChild(I)}},[t]),H(fD,{isPresent:t,childRef:u,sizeRef:h,children:$e.exports.cloneElement(e,{ref:u})})}const Tg=({children:e,initial:t,isPresent:s,onExitComplete:u,custom:h,presenceAffectsLayout:p,mode:y})=>{const a=Zf(gD),S=$e.exports.useId(),I=$e.exports.useMemo(()=>({id:S,initial:t,isPresent:s,custom:h,onExitComplete:B=>{a.set(B,!0);for(const V of a.values())if(!V)return;u&&u()},register:B=>(a.set(B,!1),()=>a.delete(B))}),p?void 0:[s]);return $e.exports.useMemo(()=>{a.forEach((B,V)=>a.set(V,!1))},[s]),$e.exports.useEffect(()=>{!s&&!a.size&&u&&u()},[s]),y==="popLayout"&&(e=H(mD,{isPresent:s,children:e})),H(_d.Provider,{value:I,children:e})};function gD(){return new Map}const Qu=e=>e.key||"";function yD(e,t){e.forEach(s=>{const u=Qu(s);t.set(u,s)})}function vD(e){const t=[];return $e.exports.Children.forEach(e,s=>{$e.exports.isValidElement(s)&&t.push(s)}),t}const pT=({children:e,custom:t,initial:s=!0,onExitComplete:u,exitBeforeEnter:h,presenceAffectsLayout:p=!0,mode:y="sync"})=>{h&&(y="wait",BS(!1,"Replace exitBeforeEnter with mode='wait'"));let[a]=pD();const S=$e.exports.useContext(Hv).forceRender;S&&(a=S);const I=dT(),B=vD(e);let V=B;const z=new Set,ie=$e.exports.useRef(V),ce=$e.exports.useRef(new Map).current,he=$e.exports.useRef(!0);if(cf(()=>{he.current=!1,yD(B,ce),ie.current=V}),t_(()=>{he.current=!0,ce.clear(),z.clear()}),he.current)return H(Mc,{children:V.map(re=>H(Tg,{isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:p,mode:y,children:re},Qu(re)))});V=[...V];const He=ie.current.map(Qu),oe=B.map(Qu),ae=He.length;for(let re=0;re<ae;re++){const we=He[re];oe.indexOf(we)===-1&&z.add(we)}return y==="wait"&&z.size&&(V=[]),z.forEach(re=>{if(oe.indexOf(re)!==-1)return;const we=ce.get(re);if(!we)return;const Ue=He.indexOf(re),P=()=>{ce.delete(re),z.delete(re);const ct=ie.current.findIndex(ht=>ht.key===re);if(ie.current.splice(ct,1),!z.size){if(ie.current=B,I.current===!1)return;a(),u&&u()}};V.splice(Ue,0,H(Tg,{isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:p,mode:y,children:we},Qu(we)))}),V=V.map(re=>{const we=re.key;return z.has(we)?re:H(Tg,{isPresent:!0,presenceAffectsLayout:p,mode:y,children:re},Qu(re))}),RS!=="production"&&y==="wait"&&V.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),H(Mc,{children:z.size?V:V.map(re=>$e.exports.cloneElement(re))})};function _D({children:e,features:t,strict:s=!1}){const[,u]=$e.exports.useState(!Ag(t)),h=$e.exports.useRef(void 0);if(!Ag(t)){const{renderer:p,...y}=t;h.current=p,Ey(y)}return $e.exports.useEffect(()=>{Ag(t)&&t().then(({renderer:p,...y})=>{Ey(y),h.current=p,u(!0)})},[]),H(Wv.Provider,{value:{renderer:h.current,strict:s},children:e})}function Ag(e){return typeof e=="function"}const xD={renderer:rT,...GS,...NS},wD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB5VbRccIwDHU6QUbwBmUERsgIjMAGzQZlA7pBR4BOQDcwG5gNVPkQ5dWnxLLT/pR3p4PDenqWLFs499/RWR2JqOePge2ZrZefL2wfbMeu6y7uN5CE2F7YIk0jiE/vloADeAmGOLHt2d7ley7sXQsUsZ2Wgfi9LRYFsVTKtcF/oHvZD64GTNjAjreNvI2Vl4iHpp22cOnalZO7lDN7FfPKOmZZ7tp0XkBYKWIB1mMeVHxUfsKTovkdgC/zZ7aWAvjMd0AH5pwz/6Ig7jYvyVlxO7pplF+frCRrZX2Uskatg+eOZE70dp92rhJ0fYUSQg1pnGqKAg+rs7fyblcj1hIhO6La5w2yTBgM/nj/RtcCuk+DOLdjKWWsPrtSINJfFnwMArWOJwiIbR6wieSsQ03praJbCHqSrDz9HMDmqWIVHbNMw+ImqRT9WzEQbRuyC0VXZPjb8Zj4Ai3KuoGYA+s1AAAAAElFTkSuQmCC",bD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgBlVSLVYQwEFx8FoAVmBKuBEqwg4sdeB1cB2IFnBWoFVDCYQXQAdfBOgsTL+YCPua9eeSzmUw2S0QIVXXgK9iDo67D5s9gY+uCRkGhPT41WIIXcOB3DTvGG3xRFO/BkdJRJRuA+KfoJE5o1eA3iJiBD9ucNNTCs48Li0oG+9g12kcKfLJvzvrQaDNCe729iJ7CjoKOsbMhBrWJkI9u7ch+TTHlhcXxrQ0uifWky+RqJMtU7C5zvAofE/nCdQ/xHPtvMpfELl17I0YhQyd5DEncqthiMLFL4q5Ic8ZyGH8L8W+sC/lMxqec3afiyMsF4wc0G7BlLX2Dj+CLzPl6lhzo4JwZ91EpaFQqPhNrm44FLZdw9LCwWSVz/gawM+c5Q9M8i1F140+enMDQpIXoNwpV8WWF98zLnHCDHaP7R8cuwcn1/Tvg+Kd4F3N4Cj+trmN6JZgiFzR+ALFVGpa3vFnhAAAAAElFTkSuQmCC",Gy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgBtVWBcYMwDBRM4BHYoGxQj5ARGIERugHtBHSDXCdwOkHYwGxQNlClIFqq2AZzzd/9cRbyv22QXMAGENHQoyZWQsZEHIqiuMBRkLAldsQvjIPf9cQqR9iIcC462W1SvCJ6PA4f3c0/iKdNKOhWSRfiC+4zdMSWeF3HtHijJrXq3as8rfAksdMeDQistIFMBAz4DzOlrKJS+QbyYQLjmp175exx63cL78Dgfc30JcxVusYHVegEmZA5bypsQwYDHMeoxqaEx+JmoI+jhuOo1Hhig1EFn+A4ntV4ZINPFbwVE2RCaseq8LC0ZQwUSQM7IZUdaut2SfAS6PDvHeBlbAOiy33hMAyvkxdwk2uDK7k3SKHRE97x93hqnJvZmdhHjsUkxPvYhKXlsjDfD8mWERG/RueJiVsle95RhoHDPX0M5+/w81fAtgHntpADOSL+2OdEjpPFRFf9DfuYgvfi2rHtAAAAAElFTkSuQmCC",Wy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAARCAYAAADDjbwNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADLSURBVHgB7ZLdEYIwEIRPxwIogRIsgRIogQ6kA7AC0oF0YAm0YAcpwRLWu/GiEYMEgTd2ZidAfr5bLkQsACnbYnkZdkIKaQSkzyX7jvmy7MwLkZM3UXgTLf5XzU7UFZ6F19RbdME7XYFpv7Pz9ma9vV8gYHo6qbjU9ZKiCawJgkIVDqW7QpvNY47h/v4EOVVetUa/WXw2uxs5IwrkDk69g12KE+Juab2nOAlEYA2PAjlKCh6Nvo9qJzhaX+fYRLO1gTbQSwd2S+vr9gCCp+6KzSH/FQAAAABJRU5ErkJggg==",SD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG2SURBVHgB3VbRccIwDFU6QTZoNoANyAbNBk0nCN0gnYBsAJ2gMEHSCcgGoRPABq50yPDwxY5bvtp3p7MtJD0pVhSI/huSGCNjTM7LE0vGMmc5qfQsuyRJOroHQsCyN9MYWMpQrMRDkPKyYilB3Un2WolAbBYsBdhsWF65whNFVJE6VTRK7LPPWDZgvw/Zo+MKnEqKBNsWLEf1W08Zl0CypB/C8S9ChoObkexVl1McWWMbxGeQQzaZ6grQtRQBveOjm9wD2NhSO+6ag+7n8Lsk8kgT0I7rnZg3RDNdP0F3gH3PQb4oDjtdszGiseBbOO8oHvY9moWILtDH8KLHyt7dLwhviKwyo1uyjpc3Ok+Clsku98b7yvOupS4RgVMd6i5oW6MtX8F5QEKJofpmLBC2d+ohq40fpdpkoMvJE6i1GZMH5jrbBgjY2uTM9QUfKBBkqUZ7ioCSZnCu3Ap9jh9TFQV8n4GkmTK2o6PW6tYqWcBHRg5O/NHPRAIO0rahR9bReWoc9CzB5POeg807yzL44YP7wcwa59J9aM3EdMeKas1Sxk6PWWkQkQX4yu8y+7Z3/zn5k/gGvcZ6oI3HmHQAAAAASUVORK5CYII=",TD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEbSURBVHgB7ZaLDYIwEIb/OgEj4AZuIG7gCI7gCI7gBsYJdIPGCXQDcALY4LyTkmDCoxw0JIYvuTQBytc7+gCYCdN2g4gSbrYcG46Io+B4cNyNMRlCwNKI40ntXDhihMBDns4tjxACD/kJWmQiyXdTynN11tzxXE2ajmf2HVknUIpt7SWXhvt95T5iIKuGa4e63JXRolzPbQwudSV+N8hvUl4PqVBAg5SKxpFgIMaJpVQ59KyHbqPfUnMnKdUVeixpdzE3c1PSk46RxzSjXDI/kX4AqY/c9Awiwe95/HKtRffazTh2k5/bPKANlXv06MwX+SKfSn5GCDzktnp2hQnhdSvrfIf2YzJDSDoyjxEaKvd96yaVtH0/E3/OB+HmoEzJzMepAAAAAElFTkSuQmCC",AD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHSSURBVHgB5VeLbcIwEL1UHSDdwBu0I2QDMkI2KBvQDWCD0AlKJ3A3gA2SDcIG7lnY4nH4EkxBqtonnZK88+W9y8dxiP4rCsqEc67kTcVRAt1z7Iqi2NOt4QU55hzWjcPnG7oV/Mk4BpeH7kcmQretOOngTo2sE6KIJV0DLtwK0TeOGrg2jLPA1WEcGtzmCi9FNybwLfCRM8BZ4LrsK+AO9zgljCIbUWMhVyoGmkvEY8EQhROmalFTQW4OvHHHWzBEYxGPsmveGKAWzMX9CvgZ8zM4xpO+cu4Zjvch76PhWJHStXX3hUW9AoS9swHcytnKjOQIuvPoR3JPZzOhuG8X3VMxBp+Jl5FcFfkHOu8sdqdhp/BYU47UmJQ4oqN87HNzmvgT6SgpH4YmxHvYfxHjxi6pVkNKTR93fsfTHgxYd1+cvOePQv+TjjNZz/EFuQq63yS6b5S6Grp+Jw3u8A3HudhAbp56V0MOP7UN8Di3T79BTv+qldrl4+MPyBkQ7lKmpgysFQNWEYloFeEV5cCdr2QW4vLGhUMLXB3GXb+SAQMrd4pOHLfCoFxo5nWcMNAkRKfgTdR0KwQTdkLU5/1bcdEUfO0fi59KDdA93euP5U/iGwlBp2+hQI6uAAAAAElFTkSuQmCC",ED="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADxSURBVHgB7ZVRDYMwEIaPZAKQUAlI6BzgYHWySsDBJCABCZPAHGwOumsoCZBr1+sC4eG+pOGh/MfHcSkAgiAIJ8I5Z3D1YSkoBcN1KKaZOZ/Z0gAXDLW43osiPSP7JCQ64IKhkSjU/pEtkqCwGbl7JKuAAwZukUK+zTVDYHDTYGrgkBBIihACBkogBKxvI67Grb/zSmRXgc2+IkS85OMQgYSIO1RgcX8TEbDcB2s3Te3ALRS6QZF1hvwqYhk1hk3Wn6wqN+8LdITACAzCi8wifkB1bvaS2PsAg6qqXni5QimRwTJwNKGd87/egCAIwon4AueHu+1F6qkIAAAAAElFTkSuQmCC",CD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEUSURBVHgB7ZeBDYIwEEUPwwC4ASMwAiMwgiO4gXEC4waOgBPIBjCCG8gG9a6WpDQUKbZVk3sJKVxL++ld2wOAYf6YZMoohMghxuBJcrdWkgi8biIe7UicIYYqC4jLFmeop5tUE5IZQqhBB2G5DkJGKBcNPGLFjc7GYu9ngysQKQQGZ7jEIn/TTIZEUDEoZI/FaWHzbgNhcVmZRXA3adTwcodJhRetZIgp5oyLojGNKqakmNBucoLF2GAxNliMjZ8SIzc9lcuUeoXajFygk34u/ymwzyl7pg96EP5o1YcNfV9cXiY37cAfdDBWsBISk4FfelgJiTmCPxqMm1p7dsmha/l3oPz88QxNpapL+/5GmsswXnkCLABBWp2Ty+kAAAAASUVORK5CYII=",kD="/assets/service-1.53548c0e.png",PD="/assets/service-2.03b6c233.png",ID="/assets/service-3.46682951.png",MD="/assets/service-4.5bf65444.png",So="/assets/proyek.09356909.png",g_=[{id:1,title:"Proyek",link:"/proyek"},{id:2,title:"Tentang Kami",link:"/tentang-kami"},{id:3,title:"Harga",link:"/harga"},{id:4,title:"Kontak Kami",link:"/kontak-kami"}],zD=[{id:1,title:"Kebijakan Privasi",link:"/"},{id:2,title:"Kebijakan Cookies",link:"/"}],DD=[{id:1,title:"Website Profil Perusahaan",link:"/",photo:kD},{id:2,title:"Website Toko Online",link:"/",photo:PD},{id:3,title:"Website Undangan",link:"/",photo:ID},{id:4,title:"Landing Page",link:"/",photo:MD}],LD=[{id:1,title:"Teknologi Website Terbaru",desc:"Framework Yang Kami Gunakan Sudah Terupdate. Seperti ReactJS, NextJS, Laravel, Tailwind CSS, MongoDB Dll Sesuai Kebutuhan.",icon:ED},{id:2,title:"Free Maintenance 2 Bulan",desc:"Maksudnya Adalah Perawatan Website Secara Berkala Agar Website Selalu Terupdate Dan Terhindar Dari Error",icon:TD},{id:3,title:"Design Website Responsive",desc:"Website Sudah Mendukung Untuk Tampilan Multi Perangkat Seperti Android/IOS Komputer/Laptop Dan Tablet",icon:CD},{id:4,title:"SEO Optimization",desc:"Merupakan Sebuah Proses Optimasi Pada Mesin Pencari Dalam Mempopulerkan Website Di Halaman Pertama Browser",icon:AD}],RD=[{id:1,title:"Cidulang, Cikijing, Majalengka Jawa Barat, 45466",icon:wD},{id:2,title:"duosdev",icon:Gy},{id:3,title:"duosdevofficial@gmail.com",icon:Wy},{id:4,title:"duosdev",icon:bD},{id:5,title:"+6285721557240",icon:SD}],Tf=[{id:1,title:"Class Mate",link:"www.classmate.com",photo:So,category:"profil-perusahaan"},{id:2,title:"Class Mate",link:"www.classmate.com",photo:So,category:"profil-perusahaan"},{id:3,title:"Class Mate",link:"www.classmate.com",photo:So,category:"profil-perusahaan"},{id:4,title:"Class Mate",link:"www.classmate.com",photo:So,category:"toko-online"},{id:5,title:"Class Mate",link:"www.classmate.com",photo:So,category:"toko-online"},{id:6,title:"Class Mate",link:"www.classmate.com",photo:So,category:"landing-page"},{id:7,title:"Class Mate",link:"www.classmate.com",photo:So,category:"undangan"},{id:8,title:"Class Mate",link:"www.classmate.com",photo:So,category:"undangan"},{id:9,title:"Class Mate",link:"www.classmate.com",photo:So,category:"pemerintah"}],BD=[{id:1,title:"Website Profil Perusahaan",value:"profil-perusahaan"},{id:2,title:"Website Toko Online",value:"toko-online"},{id:3,title:"Landing Page",value:"landing-page"},{id:4,title:"Website Undangan",value:"undangan"},{id:5,title:"Website Pemerintahan",value:"pemerintah"}];function Io({children:e,className:t="container px-4 sm:px-2"}){return H("div",{className:`${t} mx-auto`,children:e})}const ND="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAlwSURBVHgB7Z1NaFVHFMdPWqFSg9oKKhbqbasFP0oiVF0o9NmNLhQtloqLYiwILixtcBE3avxYNItWRQVBULOyBcWUdqEb84QK1RZMUBFqap4WRFNstSTFgnI7//uhMebOnDN37st95v7g8hLmJu/d8585M3PmzDyigoKCgoKCgoKCgoKCgqpSRznG9/2J6qUxuhrUFf8OvCG331dXZdBrt7q6cNXV1d2nnJI7AZTRS+plpbrw2khu6IqudiVGmQqeBUZX1x51/e1nD97jaCT06CYyfKc/cvSqq4lGGzkw/FB6/dEghHpIz8+X4YfSqy6PqshLVCXUg21XL70Udq55xVMXRNhDVSLzUVBUo05RyhHNnf/6qKe/Qv2PBoKfB9QrfgZTxk4OXqe+Mpmmqp/rx7xKM8a9RSmpqGuJGjVVKEMyFUAZf5V6OUrh+F0EjHu6r5O6H1yhrgdXnxibS/2YcUoEjxZNWkiLJy0IxLEA84cdSoS9lBGZCRC5nFbJ38RGP3/vQmB0l6BFrH5jOTVOmGMjRqsSYQdlQCYCSI0Pw5+8/SOdUJe0ptuwbPISWjd9jVSIvUqEZnKMcwEkxq+24Yfy8bTlQasQCHFMibCeHOJUAInxu5Rvb7t+gO487KORBJ32ujfXBK2CidOW4EwAifEP3jgS1Po8gdYAIdB5M3DWJzgRIBrtnDLdh9q+9Vob9Qz0Uh5Ba9jz3k6uS2pSIrRTSlILEI3zO+n58PAzwPjNV7aNuMsxARF2zWrhzCMwRMU8oYtS4EIAVGdPd0+tGD8GbggtgSFCRV3z0qw3pApFRH7f091Ta8YHGJE1X97GcZWeurZTCqxbQOR6tJ+wFo0/GEGfsMR2oSdNCzAqjw63Vo0PggqkWgJjjmLdCqwE8MPYeZPunvZb3+V2tCMBIuBZDJR8y/UEKxdk6ngxyULN4YKAWeOE2VT/cn0Q6exWcSD8jzyxa9aWIKinoaLckDgEKxaAM+Zf++tGluvRjTaaL291HpBLAz7r8fcPmSZq65UIx0iAjQv6QleI5sr1+7rxNmaleQL9AGP2vo6EiASIRj6lpHIYHuFkDjBw44S5ieUoc7Co4hQEDuEiNaAvKJEAaQvQ9vZnlPE5tR/DuyZGDV+k97lVJ1ivuGusYKtIgFSAkq6QX/s/Yd2HABmWF/PESXPofJ0fZvSxYAsQNS0vqRw1g+v7da5nMOjwlk7+kPIEoy8YnD5pRNICtE3rTN9Z4gCjSlaiFufMDYFu8xCZ7YYkAjQkFaDmc4eM76iFcgloLVjHzRN4VkNnvJKYSAQokeYDZQkmannjp3sXdcUetx9gCWAaWp3/6wJxGXj0L0mpf5m1SlVVGDP1EjHgtgBtp3Ln4Z/ExdB0h6X9D2Mspup0m1u9Rwy4AnhJBRgVSIJucWYbF8nMupownqOBGHAFmJ5UYBPxNPjPJ2DMfexW/mp/TE+/9tk9YsAVILFD6bfw6ch8MwFhD9w4Qnmm/7H22T1ikNoF2fj0riDcfNV4T95x4RpTp6fbZrS13/pWW45EqaljrRJqq4bh2T1ikLoF2IIarosdYcbcMnMT5RkX6ZRcATLZ5okMOd1DYBa8WgXkXmRGVAAYf+u1r7T3IGw9Qxi+qBYuXGTqPoCZS5kIXJEuuoj/j/XYvPcHw8CqtKlbgIswQTDZ0oymgvycuTtzJ4Lh81SIAVeASlLBjHqP0hJnoun6gzQiIJiXxeqaIazutAXcJLsPwQZj6oO9+olXLIKkT0Anvlst/u9WbgxZDUunsPcBGDF8jgox4AqQmAEcLLA4cg1YVTMlQeG9Ds/7hpU1gXs3vf3ZM79vmfl5IAT+Ps3nxnMb+r9uYpBaANDgcMEEsR9GJlowOoIhk947zutMKsPfozXZCsF4ZlbaOisxK1pcQORp2JgQam7b9f3kEhiImxuE2DyEi0PEqJmH533Ndo9xOk27IPDX8u4mNVvXrle/xklbZ2fGKREwbS0NV4bOc8XPn5JrJCKA2JBYR7bJKdpwaTM7unt8/iGdwDijaB4xkMwDziUVoMZlsW7LdUcxsWuxTejipsA0mPcanyMmEgHKusKsQgYQAbNlm6irFG5ofZl5JNVBTNgCRBsQEn0a4jZZJVFhAQfzhCxFgPviuB+0ssWva5MEKpLNGtJQxL6kArih1dNWUFbAQGt/2Ri4pCw2dXPXHxrGzzENP8skQCqAtmlVI5UQLmlD12Z2GiSHYBMGY+Efhm+abhwU7CMBIgGiLZnlpPKsW0EMDNb22/5gHwKESOOa4r3LnNUt9HOGzrcs3bZqs0GjROG+4ES4GzRcgqEnYj6CIwdExyXA92PiZ0C8QcN2i1LinABItyi5JB4SQwzEaoYOSeM0GvQlknVnzKoNScVWW5TGkB04J6GUVOgqQGcDDIxRU5z6EsdsEDbvfzxg1TJNm0kirM6OsBVA6+fylNHQP+hoMxvQghibSTqkrifGdkWspCuU5IrmmeDciNktnFutj6+xFUCbft0zUKFaR7BLfkeag/2ctwB0wLW8Ox4IjI+Ot5VSIBZAjYCQKe0lldd67ZcYX12pl9dsWkBJV8jJ+8wr6HAFBzY1uzhT1GYUlOj/MdqohZzO4cAsd/DypQH4fXbEU4eNAImbNdgBrWATtqdGSxdzcWgfUiC5OzcpNH4rOUIkQBSGSExVTxp+TglCuAuCGWoYtg6jiahxCK5xN3i7JIxbLY8CiOzcJqfGB9IWoN1+ibOdAR5oUWDwuUGMRveATdGRkQiqVUMIS8MD58YHoliQagGXSOOCTtz+QRl8YapQxOm7Z6Mzo932JQ1BZZgfLKRbpFNmYnwgWZT3yHBEmUvCvcdXqOufq0HL+l24FQpur3H8HFYr1IAVwI+y/N4ZiQBNFJ6EPiLEUcx4c9zQ9VssBOHAJ6RKogWmTRqmcN1jfW6Or1cCwPhN9OKDWr8vK5czFEknXKIXnzJVodYPhrtTXht+EIDaVaYwelih/FCm8OjJJdU0PhslwJe+PZ3qavXDb06aOOT/jvS3KXX6tfB9Yr7MSJfUtdcfxuCa/+9Ff9PrZw++yA0VwtW39KWCm5zra4or6vqewlWyjrTf2xgZBhO+D8hdv1OmMF2wXJezrzI0CuA/nwUBAyMQhfz3jqx9ZvT+cR+EIxMm0tP+KH6t0NPPhp9vRq9lCmP2mWwydAFHADxwK0UPlPa49oKCgoKCgoKCgoKCgtHO/9dkmP/H/D2zAAAAAElFTkSuQmCC",Jf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8MAAAADCAYAAAC3dd0fAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkpSURBVHgB7RrLchy3sRuY2YcoiVsVOi6lKhUd4kuSm39A59zyJ/kEfkL+xtf8RC5OKtbBJfkhi0uJFsndQbf7AWAw+6B1cJUPXkgsNBr9BjA73QMEa4yXl4D/+QvgXz8BfPUl4N/uIejMVwOE8zPAm3eAgSAsl4B3c8DlB8C59Pd3gCD4+5mMe8DNPeBsI73AyLeh65Y4bAGHeIsK91HgAbCbQdoKfsEQUrxDgAVExeu8/CWBgd2GIePTsEGYzSAmkx/isJVxD0qnuBQAtd/yNkAvBAILd+i7DkjsCmKj6DSZUeBEQo8DRuggCR2h0IQOaTMgCsykY0DCTnxPIst5Ubh0DkA0xgikMAvcCQEpPRi/aJHQpGBwghvFd4JTPsp0wgIUosBJ42tyTXfwPnDkxC6DOePkLyWXoxYhqy7RLXYl9R2UudCj0SuOmAwm8y2h+ZFl6phVttinvcpkLHOU/QnAIsPxok0tYAqOVxy5NqGXuH0YmG/B/AVwfhhlg49dj9CrDLNZZMCoq9jhNgSVa7picH9szuzWQMLETtDFK/ZqvLMdJlftNIN8Td0vxzEzFnuV1XElHuzywWMSii7kd4K/Vhqxw/WA+2p6sz0T3Waz4lUc6Lyw0Dh3qCmN8QTZKmT7zfjB9DCUTRosHuCr43oo8wbj1b3qugw/sWfUkZHq88Q22fDrBLRG2Z+cY2V4t8VDq2cm2i4Bo9M910eWYW2MyeMcfH6U04wjGD+0jOajTFCCVn/lR7eD7Wzoxghs62RzDmvf8pT5lqaGBWEdEq5T7FifGTCINRlOPPZGLIeakzxDdsfRxwqbDhkX+FiTQ5Z5AFt6xXNq/R6yPKWDUU+3Ky/bJA/VQ3Fr7Ro6eLk7J89NTps7dHhR4XGsMu8yZgEKK35XjvK1/AXexbW0BT5k864tx+w7pl/bv/7x7CWc2qmd2qmd2qmd2m+qIfxK7fKSJ69pr57t2/L5596//v907odvfPwZPNzevm34/rQ/f301zv8oyf4f2slncLDdLA/H7PH77wX/SR1/uHkj4wuDfyd/t4/gSZnbdrcyt5R/ebz1sf4fNhmW1ivewGWm86LBUt4xb+V9UwsLReYw5Je6xQLm0qVMOwz3jp/PrevK2JH232nyfGhlFtq5sVsxwtpM5jIsxQltKW1wnudS2CDd4Vm/7B8R+cu7JW2d5S6ouK7T5ZciRZ6P0WFPgGLOoTvh0xd63yqUkyPKL/Em0/AD+ou90g3Gh1mfFhdiw8OZx3I0URJyMkbsiVvREUgKBZiaWMWcSGf7QBMmh62QAHguOe45N8m96csJscG5EAChJF4hy24Sz5yg5oTU1DRJKdSkeZJEezJs6sYk1pLjACVx9qYJsCXCUCVOYJeVMdWWQkBQbBE3VgF5BY0RjndN1TgtAGjlJwDsZUQPtNau0RxqKEJDQA0hHZVZdzZDDdjPPgGz3bJeKyFdYc6yR1HuFSJOxodU8wM6iLhaH6yexNa7d86pQ6pCpBDiJSCgGq22zz5iaNZkbB+zFuLS830s18kR5aUttc1MbpylbPdoNVRfbMxF3mFNLbr47361dE5papknTHvr3Ag1MIdLZai/PPqet4kWv7CiJ5F7aO9gtgV8b7D+55Gf9UngZSRTXWOGlT+7kp8axsRemzMertp5lOF9sR/H7WkeaiWPGRnKfuWXe8Gt0XRcjW3xZ3IwH3A/uDjc9cv9cIRb0hg5PUNljZnreozCCjLjCHbPR+OWVTz1cYsvbZqo8XFKzzunO3sDuyfm5877hM035ohEPkhYz0Y9/z4+9kSrZwj8ST/GmIpYKVbiui4ZYj2rbdtd0sNPU3v2A5RncNh/1k5iSg2uEc5Z2eFnUau59cMFlh+6o3QAa5lfT4q39ltpNPV3sBSHy++oFIzZf68JW9Elql5kHn/Td8eOa2IRDrnTFJOb33bT4XEdVy/b48VutbPzg+c2QwkDDXxNkdfyZaCGUL7wTH7fuSmatnScmsLvHo1LUBqfK+88QhSjjbWHnVbxwQvh8kIluy1NdpsWuSc8Spdx9X0r5WL4TqEcsbti2F4brpOC7ZALwxnW3t/+vCkcBZ86jd/WEEEK1Njlw2ioQV77Yl28JDb3gktcD6yGX8IjMraD+2CFeflKKHK38qUvdF5gDoVHvripTvkKxwr7nNjWlY8Vo2zV0+e+lTHMhHezAXp09h3cKOa90fdnZ877vo3iO+gfZ7zAsyePGSRK13l2RqnqWzdA//Rpxl/BbHUu8A8+fCtv/KuVzb0x1JuqaT6sqqzFxYXA39a55adbhld58LpgHXH16QWfDc/29sy3z4cR97//whef/f0efqWGcGqndmqndmqndmq/qfbPL14/P4TX7/qLBoYD44LTcZz5C1y/Qbw7KOWYhrsjknfa4ogI0z3nFO4/6j2mg+45/NKt+1jCwW+S+G21HcahChsq/LBKpbIbHPmWCkBz0ySLxi2sJBlaFT4pTDI3SZeNJ7d9puNp01s5EcbbOXFnDkqFWQrjSRMMBSacLQtpOUdtiSHPOX0axWQaMSuOGhPsFETbjJPjOSKtatK5c5vJkmFJQjX5rLeqwG9GuSTBQSi3taC5aYUEuRA8qR6Pya3dCKw0U52T5Fx7U1ZLmPvxLvVlGBNjl0lAjfwQxV/w9S0FHzpQnNkrahzW2sxnLktqcyE1jBn+0RJRWzSfFKsPyC5j9MJ5YjpQIB2LUuYbiq8sBXirrNNoxLHW1LSsemj3A/VCIfslRLDrfVoepFzrMxrZdN4bjqVYoUtrdx9tS1oI9BqklZYaWunthOVrklZJzTxBe8rVRrStIkgtkAqxfpExwUZImBROelFRLb0w11Wq8gWrdaiMZEFzY8jD47pcluB08eSLhbiY7GzL9me7SMeyjeQzU0rmG7qB8h0o6V7TA6LaOPYhaU128C83HAZJXEOfCAapTWhc9IKrxUhqMoFQahadzG/11MpDSfEcg9pEwQcUBpmNJp86KUJYzVfxFmn5rBXlG5/gg5BtY5Lvalot6KiTgztorLuYBKSeO9oaR6J+lmjOPd0IvEgDpeWclmlBV7QlKVZQL8Y+efqYvk73dL79kW7u1vTHP/+evvz3e37x4gVdosUUfgLBTd9P7CJoyQAAAABJRU5ErkJggg==";function sw({title:e}){return H("li",{children:H("a",{href:"#",className:"block text-gray-300 text-xs sm:text-sm",children:e})})}function FD(){return H("div",{className:"max-w-5xl mx-auto",children:nt(Io,{children:[nt("div",{className:"py-6 sm:py-10 space-y-16 sm:space-y-12",children:[nt("div",{className:"grid grid-cols-1 sm:grid-cols-2 space-y-4",children:[nt("div",{className:"col-span-1",children:[nt("h1",{className:"text-xl sm:text-3xl text-transparent bg-clip-text bg-gradient-to-t from-teal-400 to-violet-400 font-bold",children:["Ada Pertanyaan? ",H("br",{})," Silahkan Tanyakan Kepada Kami"]}),H("div",{className:"mt-3 sm:mt-6",children:H("ul",{className:"space-y-4",children:RD.map(e=>nt("li",{className:"flex items-center space-x-2",children:[H("div",{className:"w-[20px] sm:w-[25px] flex items-center justify-center",children:H("img",{src:e.icon,alt:e.title,className:`${e.id==1||e.id==5?"w-[20px] sm:w-[25px]":"w-[15px] sm:w-[20px]"}`})}),H("p",{className:"text-gray-200 text-xs sm:text-sm",children:e.title})]},e.id))})})]}),H("div",{className:"col-span-1 text-gray-200",children:nt("form",{action:"",className:"space-y-4 mt-6",children:[nt("div",{className:"relative",children:[H("label",{htmlFor:"Name",className:"text-xs sm:text-sm text-gray-400 flex items-center space-x-2",children:H("span",{children:"Name*"})}),H("input",{type:"text",className:"w-full bg-transparent py-2 focus:outline-none border-b border-gray-700 text-sm sm:text-sm"})]}),nt("div",{className:"relative",children:[H("label",{htmlFor:"Name",className:"text-xs sm:text-sm text-gray-400 flex items-center space-x-2",children:H("span",{children:"Email*"})}),H("input",{type:"text",className:"w-full bg-transparent py-2 focus:outline-none border-b border-gray-700 text-sm sm:text-sm"})]}),nt("div",{className:"relative",children:[H("label",{htmlFor:"Name",className:"text-xs sm:text-sm text-gray-400 flex items-center space-x-2",children:H("span",{children:"Message*"})}),H("textarea",{rows:2,className:"block sm:hidden w-full bg-transparent py-2 focus:outline-none border-b border-gray-700 text-sm sm:text-sm"}),H("textarea",{rows:3,className:"hidden sm:block w-full bg-transparent py-2 focus:outline-none border-b border-gray-700 text-sm sm:text-sm"})]}),nt("button",{className:"py-2 px-6 border border-cyan-600 rounded-sm text-xs sm:text-sm focus:outline-none flex items-center space-x-2",children:[H("span",{children:"Kirim"}),H(qf,{})]})]})})]}),nt("div",{className:"flex items-center justify-between",children:[H("ul",{className:"flex items-center space-x-4",children:zD.map(e=>H(sw,{title:e.title},e.id))}),H("a",{className:"flex items-center space-x-4",children:H("img",{src:ND,alt:"whatsapp",className:"w-[30px] sm:w-[50px]"})})]})]}),nt("div",{className:"relative flex items-center flex-col-reverse sm:flex-row justify-between py-6 sm:py-12",children:[nt("p",{className:"text-gray-300 text-xs sm:text-sm mt-4",children:["\xA9 ",new Date().getFullYear()," Duos dev. all rights reversed"]}),H("ul",{className:"flex items-center space-x-4",children:g_.map(e=>H(sw,{title:e.title},e.id))}),H("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px]",children:H("img",{src:Jf,alt:"sep-line"})})]})]})})}function OD(){return H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:H("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}const VD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAAA/CAYAAAChFpVHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQmSURBVHgB1ZyPVZtQFMa/eDqAbkAn0E5QnKB2gzhBdYLgBNoJdAPtBMUJTCcInUA3uH23gIcQEt6D7z7wd06MQY4XXt53//FggQ+MiCQeu/Xtc1y9QvfJP4GMO6EN+g84lDf3+rJYLApjOyEURyDiTmgFmxO6aQ2clZ0Q1guQqCS0AZ8HN3CXEeyE8OaO6YQ58+7Bp3Cvm9a235ietf6gDJ6bDUv3loLPHOWq/AEDlZE6b+Fz12FnLlzoMY32ee4fqVyX4FKgjK5vDTtTR9cmn1URo2QrpVyX4HPeGri5yFUpalcyePCkjHor8Gn7ucS9ZZgP7/5uzMyzmA36rWatbXOIrk3y+pdBg+dmQwq+XFWm5y07c5Jrzbr+ZVDAMHLe127W3TVsJJg+Ge7ipPbHwTPPaDY8NAeuYm5yVdbNQBY0eEbOu0CripipXJV180PozLOYDXOPrk2emx+8B8+d1A/YyPWhYUN7ZnOUa83WzPMKGNVseEF/0zCEArtVxK17u8I8+d9JaW7wnXnqg5gDp3xvDVyK+Q6csm5v6O0kG5Vg6ufaB5Ngt/00llP3ugCHsE6K2HRMouVuztad8Nj5Evpka5EynCMep+CRe+/pRnopfKL6NOHhrxa387Hw5fqIiDh7qfB46rKxT7ZsuRbudY24nIFH3rVxZ/CkzOnY8tqqIiLxFTzWXnsJX64WV9WinoevwZVw2UhZckVFuBeL9paLR02D4BfkW1VERJj+bm9y3PR5bHl1VRGxSMEjP/hX4ed0k3aAVWrC4+yQIYsSbIkJER6vh+yobLVmS8DlVvzWztGRsjvD4qDbOaquHbB9k0bYSVIUcIPF86E/1gHjEny0PJqiP8dMjnOvvdyJZsLnNbZ8K5ss/HJUsWkGKC+IhLN1Jjx6j/s9z6uSWQv56gndIg4JePzt22GrMeAGMHdvP8HnSrhRcB8peOQIRezkuxHjOlelJjxSDEG4jcQmZvKV8kun4WOzsxlqLF/W1aw25s3PNocuAGUoO8Bs7sUmfYnSSWmyd/AMo69V9fENPHKfnQ5eejSUr0X1wZx5BRiIXfSlVR/CTY5ffe32rlX5IPJlzjrvJonXQh9j+WYYD7MZ8Aw2YidfJcUIZKLkOGhBd/WPLRYfFmit1fNFyqrF2095cOJ7HEHLag3lm2D4DTFUfxfyBQ65DyODTfI8tHmQgkdQRz148Ayjr3Iv4c0DZrAIWsA46A4gY/mGpi/Ra9rRiG309ao+ZKLkuGbwjXvG8l2JX/UxSXJcM+p+W0P5+lYfk/k7hfGMgQw20denefDx/F0bses8K2d7bFI7xzKgSUF5uoWhfJVH6U5fqC2oIStXmc9VyWAj3wTd1UcKHoMe9UEbPOPo21V9xF9W0YL6IC6VrztJHcAEfJLW51/gtY+eMIB/ws/o2UnB5XIAAAAASUVORK5CYII=";/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(e[u]=s[u])}return e},ji.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const ow="popstate";function UD(e){e===void 0&&(e={});function t(u,h){let{pathname:p,search:y,hash:a}=u.location;return _u("",{pathname:p,search:y,hash:a},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(u,h){return typeof h=="string"?h:zo(h)}return qD(t,s,null,e)}function jD(){return Math.random().toString(36).substr(2,8)}function aw(e){return{usr:e.state,key:e.key}}function _u(e,t,s,u){return s===void 0&&(s=null),ji({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Za(t):t,{state:s,key:t&&t.key||u||jD()})}function zo(e){let{pathname:t="/",search:s="",hash:u=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),u&&u!=="#"&&(t+=u.charAt(0)==="#"?u:"#"+u),t}function Za(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let u=e.indexOf("?");u>=0&&(t.search=e.substr(u),e=e.substr(0,u)),e&&(t.pathname=e)}return t}function dd(e){let t=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",s=typeof e=="string"?e:zo(e);return new URL(s,t)}function qD(e,t,s,u){u===void 0&&(u={});let{window:h=document.defaultView,v5Compat:p=!1}=u,y=h.history,a=gr.Pop,S=null;function I(){a=gr.Pop,S&&S({action:a,location:z.location})}function B(ie,ce){a=gr.Push;let he=_u(z.location,ie,ce);s&&s(he,ie);let He=aw(he),oe=z.createHref(he);try{y.pushState(He,"",oe)}catch{h.location.assign(oe)}p&&S&&S({action:a,location:z.location})}function V(ie,ce){a=gr.Replace;let he=_u(z.location,ie,ce);s&&s(he,ie);let He=aw(he),oe=z.createHref(he);y.replaceState(He,"",oe),p&&S&&S({action:a,location:z.location})}let z={get action(){return a},get location(){return e(h,y)},listen(ie){if(S)throw new Error("A history only accepts one active listener");return h.addEventListener(ow,I),S=ie,()=>{h.removeEventListener(ow,I),S=null}},createHref(ie){return t(h,ie)},encodeLocation(ie){let ce=dd(zo(ie));return ji({},ie,{pathname:ce.pathname,search:ce.search,hash:ce.hash})},push:B,replace:V,go(ie){return y.go(ie)}};return z}var Or;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Or||(Or={}));function GD(e){return e.index===!0}function fT(e,t,s){return t===void 0&&(t=[]),s===void 0&&(s=new Set),e.map((u,h)=>{let p=[...t,h],y=typeof u.id=="string"?u.id:p.join("-");return qn(u.index!==!0||!u.children,"Cannot specify children on an index route"),qn(!s.has(y),'Found a route id collision on id "'+y+`".  Route id's must be globally unique within Data Router usages`),s.add(y),GD(u)?ji({},u,{id:y}):ji({},u,{id:y,children:u.children?fT(u.children,p,s):void 0})})}function Ah(e,t,s){s===void 0&&(s="/");let u=typeof t=="string"?Za(t):t,h=gT(u.pathname||"/",s);if(h==null)return null;let p=mT(e);WD(p);let y=null;for(let a=0;y==null&&a<p.length;++a)y=eL(p[a],iL(h));return y}function mT(e,t,s,u){return t===void 0&&(t=[]),s===void 0&&(s=[]),u===void 0&&(u=""),e.forEach((h,p)=>{let y={relativePath:h.path||"",caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};y.relativePath.startsWith("/")&&(qn(y.relativePath.startsWith(u),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(u.length));let a=Va([u,y.relativePath]),S=s.concat(y);h.children&&h.children.length>0&&(qn(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),mT(h.children,t,S,a)),!(h.path==null&&!h.index)&&t.push({path:a,score:QD(a,h.index),routesMeta:S})}),t}function WD(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:JD(t.routesMeta.map(u=>u.childrenIndex),s.routesMeta.map(u=>u.childrenIndex)))}const HD=/^:\w+$/,ZD=3,$D=2,XD=1,KD=10,YD=-2,lw=e=>e==="*";function QD(e,t){let s=e.split("/"),u=s.length;return s.some(lw)&&(u+=YD),t&&(u+=$D),s.filter(h=>!lw(h)).reduce((h,p)=>h+(HD.test(p)?ZD:p===""?XD:KD),u)}function JD(e,t){return e.length===t.length&&e.slice(0,-1).every((u,h)=>u===t[h])?e[e.length-1]-t[t.length-1]:0}function eL(e,t){let{routesMeta:s}=e,u={},h="/",p=[];for(let y=0;y<s.length;++y){let a=s[y],S=y===s.length-1,I=h==="/"?t:t.slice(h.length)||"/",B=tL({path:a.relativePath,caseSensitive:a.caseSensitive,end:S},I);if(!B)return null;Object.assign(u,B.params);let V=a.route;p.push({params:u,pathname:Va([h,B.pathname]),pathnameBase:aL(Va([h,B.pathnameBase])),route:V}),B.pathnameBase!=="/"&&(h=Va([h,B.pathnameBase]))}return p}function tL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,u]=nL(e.path,e.caseSensitive,e.end),h=t.match(s);if(!h)return null;let p=h[0],y=p.replace(/(.)\/+$/,"$1"),a=h.slice(1);return{params:u.reduce((I,B,V)=>{if(B==="*"){let z=a[V]||"";y=p.slice(0,p.length-z.length).replace(/(.)\/+$/,"$1")}return I[B]=rL(a[V]||"",B),I},{}),pathname:p,pathnameBase:y,pattern:e}}function nL(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),y_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let u=[],h="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(y,a)=>(u.push(a),"([^\\/]+)"));return e.endsWith("*")?(u.push("*"),h+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":e!==""&&e!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,t?void 0:"i"),u]}function iL(e){try{return decodeURI(e)}catch(t){return y_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rL(e,t){try{return decodeURIComponent(e)}catch(s){return y_(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),e}}function gT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,u=e.charAt(s);return u&&u!=="/"?null:e.slice(s)||"/"}function qn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function y_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sL(e,t){t===void 0&&(t="/");let{pathname:s,search:u="",hash:h=""}=typeof e=="string"?Za(e):e;return{pathname:s?s.startsWith("/")?s:oL(s,t):t,search:lL(u),hash:uL(h)}}function oL(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function Eg(e,t,s,u){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function em(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function v_(e,t,s,u){u===void 0&&(u=!1);let h;typeof e=="string"?h=Za(e):(h=ji({},e),qn(!h.pathname||!h.pathname.includes("?"),Eg("?","pathname","search",h)),qn(!h.pathname||!h.pathname.includes("#"),Eg("#","pathname","hash",h)),qn(!h.search||!h.search.includes("#"),Eg("#","search","hash",h)));let p=e===""||h.pathname==="",y=p?"/":h.pathname,a;if(u||y==null)a=s;else{let V=t.length-1;if(y.startsWith("..")){let z=y.split("/");for(;z[0]==="..";)z.shift(),V-=1;h.pathname=z.join("/")}a=V>=0?t[V]:"/"}let S=sL(h,a),I=y&&y!=="/"&&y.endsWith("/"),B=(p||y===".")&&s.endsWith("/");return!S.pathname.endsWith("/")&&(I||B)&&(S.pathname+="/"),S}const Va=e=>e.join("/").replace(/\/\/+/g,"/"),aL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class uw extends Error{}class cL{constructor(t){this.pendingKeys=new Set,this.subscriber=void 0,qn(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let s;this.abortPromise=new Promise((h,p)=>s=p),this.controller=new AbortController;let u=()=>s(new uw("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",u),this.controller.signal.addEventListener("abort",u),this.data=Object.entries(t).reduce((h,p)=>{let[y,a]=p;return Object.assign(h,{[y]:this.trackPromise(y,a)})},{})}trackPromise(t,s){if(!(s instanceof Promise))return s;this.pendingKeys.add(t);let u=Promise.race([s,this.abortPromise]).then(h=>this.onSettle(u,t,null,h),h=>this.onSettle(u,t,h));return u.catch(()=>{}),Object.defineProperty(u,"_tracked",{get:()=>!0}),u}onSettle(t,s,u,h){if(this.controller.signal.aborted&&u instanceof uw)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>u}),Promise.reject(u);this.pendingKeys.delete(s),this.done&&this.unlistenAbortSignal();const p=this.subscriber;return u?(Object.defineProperty(t,"_error",{get:()=>u}),p&&p(!1),Promise.reject(u)):(Object.defineProperty(t,"_data",{get:()=>h}),p&&p(!1),h)}subscribe(t){this.subscriber=t}cancel(){this.controller.abort(),this.pendingKeys.forEach((s,u)=>this.pendingKeys.delete(u));let t=this.subscriber;t&&t(!0)}async resolveData(t){let s=!1;if(!this.done){let u=()=>this.cancel();t.addEventListener("abort",u),s=await new Promise(h=>{this.subscribe(p=>{t.removeEventListener("abort",u),(p||this.done)&&h(p)})})}return s}get done(){return this.pendingKeys.size===0}get unwrappedData(){return qn(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,s)=>{let[u,h]=s;return Object.assign(t,{[u]:dL(h)})},{})}}function hL(e){return e instanceof Promise&&e._tracked===!0}function dL(e){if(!hL(e))return e;if(e._error)throw e._error;return e._data}class Bc{constructor(t,s,u){this.status=t,this.statusText=s||"",this.data=u}}function yT(e){return e instanceof Bc}const Cg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},pL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mL=!fL;function gL(e){qn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=fT(e.routes),s=null,u=new Set,h=null,p=null,y=null,a=!1,S=Ah(t,e.history.location,e.basename),I=null;if(S==null){let{matches:it,route:Ye,error:pt}=fw(t);S=it,I={[Ye.id]:pt}}let B=!S.some(it=>it.route.loader)||e.hydrationData!=null,V,z={historyAction:e.history.action,location:e.history.location,matches:S,initialized:B,navigation:Cg,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||I,fetchers:new Map},ie=gr.Pop,ce=!1,he,He=!1,oe=!1,ae=[],re=[],we=new Map,Ue=0,P=-1,ct=new Map,ht=new Set,qt=new Map,zt=new Map;function Un(){return s=e.history.listen(it=>{let{action:Ye,location:pt}=it;return qe(Ye,pt)}),z.initialized||qe(gr.Pop,z.location),V}function _n(){s&&s(),u.clear(),he&&he.abort(),z.fetchers.forEach((it,Ye)=>Bn(Ye))}function Ti(it){return u.add(it),()=>u.delete(it)}function Dn(it){z=ji({},z,it),u.forEach(Ye=>Ye(z))}function si(it,Ye){var pt;let Pt=z.actionData!=null&&z.navigation.formMethod!=null&&z.navigation.state==="loading"&&((pt=z.navigation.formAction)==null?void 0:pt.split("?")[0])===it.pathname,Yt=Ye.loaderData?{loaderData:Pg(z.loaderData,Ye.loaderData,Ye.matches||[])}:{};Dn(ji({},Pt?{}:{actionData:null},Ye,Yt,{historyAction:ie,location:it,initialized:!0,navigation:Cg,revalidation:"idle",restoreScrollPosition:z.navigation.formData?!1:mi(it,Ye.matches||z.matches),preventScrollReset:ce})),He||ie===gr.Pop||(ie===gr.Push?e.history.push(it,it.state):ie===gr.Replace&&e.history.replace(it,it.state)),ie=gr.Pop,ce=!1,He=!1,oe=!1,ae=[],re=[]}async function St(it,Ye){if(typeof it=="number"){e.history.go(it);return}let{path:pt,submission:Pt,error:Yt}=cw(it,Ye),yn=_u(z.location,pt,Ye&&Ye.state);yn=e.history.encodeLocation(yn);let an=(Ye&&Ye.replace)===!0||Pt!=null?gr.Replace:gr.Push,dn=Ye&&"preventScrollReset"in Ye?Ye.preventScrollReset===!0:void 0;return await qe(an,yn,{submission:Pt,pendingError:Yt,preventScrollReset:dn,replace:Ye&&Ye.replace})}function ui(){if(jn(),Dn({revalidation:"loading"}),z.navigation.state!=="submitting"){if(z.navigation.state==="idle"){qe(z.historyAction,z.location,{startUninterruptedRevalidation:!0});return}qe(ie||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation})}}async function qe(it,Ye,pt){he&&he.abort(),he=null,ie=it,He=(pt&&pt.startUninterruptedRevalidation)===!0,Dt(z.location,z.matches),ce=(pt&&pt.preventScrollReset)===!0;let Pt=pt&&pt.overrideNavigation,Yt=Ah(t,Ye,e.basename);if(!Yt){let{matches:lt,route:Hi,error:di}=fw(t);Ni(),si(Ye,{matches:lt,loaderData:{},errors:{[Hi.id]:di}});return}if(bL(z.location,Ye)){si(Ye,{matches:Yt});return}he=new AbortController;let yn=xh(Ye,he.signal,pt&&pt.submission),an,dn;if(pt&&pt.pendingError)dn={[pc(Yt).route.id]:pt.pendingError};else if(pt&&pt.submission){let lt=await st(yn,Ye,pt.submission,Yt,{replace:pt.replace});if(lt.shortCircuited)return;an=lt.pendingActionData,dn=lt.pendingActionError,Pt=ji({state:"loading",location:Ye},pt.submission)}let{shortCircuited:bn,loaderData:kn,errors:ze}=await dt(yn,Ye,Yt,Pt,pt&&pt.submission,pt&&pt.replace,an,dn);bn||(he=null,si(Ye,{matches:Yt,loaderData:kn,errors:ze}))}async function st(it,Ye,pt,Pt,Yt){jn();let yn=ji({state:"submitting",location:Ye},pt);Dn({navigation:yn});let an,dn=_w(Pt,Ye);if(!dn.route.action)an=mw(Ye);else if(an=await _h("action",it,dn,Pt,V.basename),it.signal.aborted)return{shortCircuited:!0};if(bc(an)){let bn=ji({state:"loading",location:_u(z.location,an.location)},pt);return await cn(an,bn,Yt&&Yt.replace),{shortCircuited:!0}}if(jh(an)){let bn=pc(Pt,dn.route.id);return(Yt&&Yt.replace)!==!0&&(ie=gr.Push),{pendingActionError:{[bn.route.id]:an.error}}}if(gu(an))throw new Error("defer() is not supported in actions");return{pendingActionData:{[dn.route.id]:an.data}}}async function dt(it,Ye,pt,Pt,Yt,yn,an,dn){let bn=Pt;bn||(bn={state:"loading",location:Ye,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[kn,ze]=hw(z,pt,Yt,Ye,oe,ae,re,an,dn,qt);if(Ni(Qt=>!(pt&&pt.some(Ze=>Ze.route.id===Qt))||kn&&kn.some(Ze=>Ze.route.id===Qt)),kn.length===0&&ze.length===0)return si(Ye,{matches:pt,loaderData:Pg(z.loaderData,{},pt),errors:dn||null,actionData:an||null}),{shortCircuited:!0};He||(ze.forEach(Qt=>{let[Ze]=Qt,Vt=z.fetchers.get(Ze),Ot={state:"loading",data:Vt&&Vt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};z.fetchers.set(Ze,Ot)}),Dn(ji({navigation:bn,actionData:an||z.actionData||null},ze.length>0?{fetchers:new Map(z.fetchers)}:{}))),P=++Ue,ze.forEach(Qt=>{let[Ze]=Qt;return we.set(Ze,he)});let{results:lt,loaderResults:Hi,fetcherResults:di}=await gn(z.matches,pt,kn,ze,it);if(it.signal.aborted)return{shortCircuited:!0};ze.forEach(Qt=>{let[Ze]=Qt;return we.delete(Ze)});let et=gw(lt);if(et){let Qt=kg(z,et);return await cn(et,Qt,yn),{shortCircuited:!0}}let{loaderData:Ft,errors:hn}=pw(z,pt,kn,Hi,dn,ze,di,zt);zt.forEach((Qt,Ze)=>{Qt.subscribe(Vt=>{(Vt||Qt.done)&&zt.delete(Ze)})}),Pr();let Sn=oi(P);return ji({loaderData:Ft,errors:hn},Sn||ze.length>0?{fetchers:new Map(z.fetchers)}:{})}function Nt(it){return z.fetchers.get(it)||pL}function sn(it,Ye,pt,Pt){if(mL)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");we.has(it)&&kr(it);let Yt=Ah(t,pt,e.basename);if(!Yt){ci(it,Ye,new Bc(404,"Not Found",null));return}let{path:yn,submission:an}=cw(pt,Pt,!0),dn=_w(Yt,yn);if(an){on(it,Ye,yn,dn,Yt,an);return}qt.set(it,[yn,dn,Yt]),Tn(it,Ye,yn,dn,Yt)}async function on(it,Ye,pt,Pt,Yt,yn){if(jn(),qt.delete(it),!Pt.route.action){let{error:vn}=mw(pt);ci(it,Ye,vn);return}let an=z.fetchers.get(it),dn=ji({state:"submitting"},yn,{data:an&&an.data});z.fetchers.set(it,dn),Dn({fetchers:new Map(z.fetchers)});let bn=new AbortController,kn=xh(pt,bn.signal,yn);we.set(it,bn);let ze=await _h("action",kn,Pt,Yt,V.basename);if(kn.signal.aborted){we.get(it)===bn&&we.delete(it);return}if(bc(ze)){we.delete(it),ht.add(it);let vn=ji({state:"loading"},yn,{data:void 0});z.fetchers.set(it,vn),Dn({fetchers:new Map(z.fetchers)});let rr=ji({state:"loading",location:_u(z.location,ze.location)},yn);await cn(ze,rr);return}if(jh(ze)){ci(it,Ye,ze.error);return}gu(ze)&&qn(!1,"defer() is not supported in actions");let lt=z.navigation.location||z.location,Hi=xh(lt,bn.signal),di=z.navigation.state!=="idle"?Ah(t,z.navigation.location,e.basename):z.matches;qn(di,"Didn't find any matches after fetcher action");let et=++Ue;ct.set(it,et);let Ft=ji({state:"loading",data:ze.data},yn);z.fetchers.set(it,Ft);let[hn,Sn]=hw(z,di,yn,lt,oe,ae,re,{[Pt.route.id]:ze.data},void 0,qt);Sn.filter(vn=>{let[rr]=vn;return rr!==it}).forEach(vn=>{let[rr]=vn,gi=z.fetchers.get(rr),zi={state:"loading",data:gi&&gi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};z.fetchers.set(rr,zi),we.set(rr,bn)}),Dn({fetchers:new Map(z.fetchers)});let{results:Qt,loaderResults:Ze,fetcherResults:Vt}=await gn(z.matches,di,hn,Sn,Hi);if(bn.signal.aborted)return;ct.delete(it),we.delete(it),Sn.forEach(vn=>{let[rr]=vn;return we.delete(rr)});let Ot=gw(Qt);if(Ot){let vn=kg(z,Ot);await cn(Ot,vn);return}let{loaderData:Zn,errors:Ai}=pw(z,z.matches,hn,Ze,void 0,Sn,Vt,zt),Rt={state:"idle",data:ze.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};z.fetchers.set(it,Rt);let _i=oi(et);z.navigation.state==="loading"&&et>P?(qn(ie,"Expected pending action"),he&&he.abort(),si(z.navigation.location,{matches:di,loaderData:Zn,errors:Ai,fetchers:new Map(z.fetchers)})):(Dn(ji({errors:Ai,loaderData:Pg(z.loaderData,Zn,di)},_i?{fetchers:new Map(z.fetchers)}:{})),oe=!1)}async function Tn(it,Ye,pt,Pt,Yt){let yn=z.fetchers.get(it),an={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:yn&&yn.data};z.fetchers.set(it,an),Dn({fetchers:new Map(z.fetchers)});let dn=new AbortController,bn=xh(pt,dn.signal);we.set(it,dn);let kn=await _h("loader",bn,Pt,Yt,V.basename);if(gu(kn)&&(kn=await wT(kn,bn.signal,!0)||kn),we.get(it)===dn&&we.delete(it),bn.signal.aborted)return;if(bc(kn)){let lt=kg(z,kn);await cn(kn,lt);return}if(jh(kn)){let lt=pc(z.matches,Ye);z.fetchers.delete(it),Dn({fetchers:new Map(z.fetchers),errors:{[lt.route.id]:kn.error}});return}qn(!gu(kn),"Unhandled fetcher deferred data");let ze={state:"idle",data:kn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};z.fetchers.set(it,ze),Dn({fetchers:new Map(z.fetchers)})}async function cn(it,Ye,pt){it.revalidate&&(oe=!0),qn(Ye.location,"Expected a location on the redirect navigation"),he=null;let Pt=pt===!0?gr.Replace:gr.Push;await qe(Pt,Ye.location,{overrideNavigation:Ye})}async function gn(it,Ye,pt,Pt,Yt){let yn=await Promise.all([...pt.map(bn=>_h("loader",Yt,bn,Ye,V.basename)),...Pt.map(bn=>{let[,kn,ze,lt]=bn;return _h("loader",xh(kn,Yt.signal),ze,lt,V.basename)})]),an=yn.slice(0,pt.length),dn=yn.slice(pt.length);return await Promise.all([yw(it,pt,an,Yt.signal,!1,z.loaderData),yw(it,Pt.map(bn=>{let[,,kn]=bn;return kn}),dn,Yt.signal,!0)]),{results:yn,loaderResults:an,fetcherResults:dn}}function jn(){oe=!0,ae.push(...Ni()),qt.forEach((it,Ye)=>{we.has(Ye)&&(re.push(Ye),kr(Ye))})}function ci(it,Ye,pt){let Pt=pc(z.matches,Ye);Bn(it),Dn({errors:{[Pt.route.id]:pt},fetchers:new Map(z.fetchers)})}function Bn(it){we.has(it)&&kr(it),qt.delete(it),ct.delete(it),ht.delete(it),z.fetchers.delete(it)}function kr(it){let Ye=we.get(it);qn(Ye,"Expected fetch controller: "+it),Ye.abort(),we.delete(it)}function ms(it){for(let Ye of it){let Pt={state:"idle",data:Nt(Ye).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};z.fetchers.set(Ye,Pt)}}function Pr(){let it=[];for(let Ye of ht){let pt=z.fetchers.get(Ye);qn(pt,"Expected fetcher: "+Ye),pt.state==="loading"&&(ht.delete(Ye),it.push(Ye))}ms(it)}function oi(it){let Ye=[];for(let[pt,Pt]of ct)if(Pt<it){let Yt=z.fetchers.get(pt);qn(Yt,"Expected fetcher: "+pt),Yt.state==="loading"&&(kr(pt),ct.delete(pt),Ye.push(pt))}return ms(Ye),Ye.length>0}function Ni(it){let Ye=[];return zt.forEach((pt,Pt)=>{(!it||it(Pt))&&(pt.cancel(),Ye.push(Pt),zt.delete(Pt))}),Ye}function hi(it,Ye,pt){if(h=it,y=Ye,p=pt||(Pt=>Pt.key),!a&&z.navigation===Cg){a=!0;let Pt=mi(z.location,z.matches);Pt!=null&&Dn({restoreScrollPosition:Pt})}return()=>{h=null,y=null,p=null}}function Dt(it,Ye){if(h&&p&&y){let pt=Ye.map(Yt=>vw(Yt,z.loaderData)),Pt=p(it,pt)||it.key;h[Pt]=y()}}function mi(it,Ye){if(h&&p&&y){let pt=Ye.map(yn=>vw(yn,z.loaderData)),Pt=p(it,pt)||it.key,Yt=h[Pt];if(typeof Yt=="number")return Yt}return null}return V={get basename(){return e.basename},get state(){return z},get routes(){return t},initialize:Un,subscribe:Ti,enableScrollRestoration:hi,navigate:St,fetch:sn,revalidate:ui,createHref:it=>e.history.createHref(it),getFetcher:Nt,deleteFetcher:Bn,dispose:_n,_internalFetchControllers:we,_internalActiveDeferreds:zt},V}const yL=new Set(["POST","PUT","PATCH","DELETE"]);[...yL];function cw(e,t,s){s===void 0&&(s=!1);let u=typeof e=="string"?e:zo(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:u};if(t.formMethod!=null&&t.formMethod!=="get")return{path:u,submission:{formMethod:t.formMethod,formAction:xT(u),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:u};let h=Za(u);try{let p=_T(t.formData);s&&h.search&&bT(h.search)&&p.append("index",""),h.search="?"+p}catch{return{path:u,error:new Bc(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:zo(h)}}function kg(e,t){let{formMethod:s,formAction:u,formEncType:h,formData:p}=e.navigation;return{state:"loading",location:_u(e.location,t.location),formMethod:s||void 0,formAction:u||void 0,formEncType:h||void 0,formData:p||void 0}}function vL(e,t){let s=e;if(t){let u=e.findIndex(h=>h.route.id===t);u>=0&&(s=e.slice(0,u))}return s}function hw(e,t,s,u,h,p,y,a,S,I){let B=S?Object.values(S)[0]:a?Object.values(a)[0]:null,V=S?Object.keys(S)[0]:void 0,ie=vL(t,V).filter((he,He)=>he.route.loader!=null&&(_L(e.loaderData,e.matches[He],he)||p.some(oe=>oe===he.route.id)||dw(e.location,e.matches[He],s,u,he,h,B))),ce=[];return I&&I.forEach((he,He)=>{let[oe,ae,re]=he;y.includes(He)?ce.push([He,oe,ae,re]):h&&dw(oe,ae,s,oe,ae,h,B)&&ce.push([He,oe,ae,re])}),[ie,ce]}function _L(e,t,s){let u=!t||s.route.id!==t.route.id,h=e[s.route.id]===void 0;return u||h}function vT(e,t){let s=e.route.path;return e.pathname!==t.pathname||s&&s.endsWith("*")&&e.params["*"]!==t.params["*"]}function dw(e,t,s,u,h,p,y){let a=dd(e),S=t.params,I=dd(u),B=h.params,V=vT(t,h)||a.toString()===I.toString()||a.search!==I.search||p;if(h.route.shouldRevalidate){let z=h.route.shouldRevalidate(ji({currentUrl:a,currentParams:S,nextUrl:I,nextParams:B},s,{actionResult:y,defaultShouldRevalidate:V}));if(typeof z=="boolean")return z}return V}async function _h(e,t,s,u,h,p,y){p===void 0&&(p=!1),y===void 0&&(y=!1);let a,S,I,B=new Promise((z,ie)=>I=ie),V=()=>I();t.signal.addEventListener("abort",V);try{let z=s.route[e];qn(z,"Could not find the "+e+' to run on the "'+s.route.id+'" route'),S=await Promise.race([z({request:t,params:s.params}),B])}catch(z){a=Or.error,S=z}finally{t.signal.removeEventListener("abort",V)}if(S instanceof Response){let z=S.status;if(z>=300&&z<=399){let he=S.headers.get("Location");qn(he,"Redirects returned/thrown from loaders/actions must have a Location header");let He=u.slice(0,u.indexOf(s)+1),oe=em(He).map(we=>we.pathnameBase),ae=dd(t.url).pathname,re=v_(he,oe,ae);if(qn(zo(re),"Unable to resolve redirect location: "+S.headers.get("Location")),h){let we=re.pathname;re.pathname=we==="/"?h:Va([h,we])}if(he=zo(re),p)throw S.headers.set("Location",he),S;return{type:Or.redirect,status:z,location:he,revalidate:S.headers.get("X-Remix-Revalidate")!==null}}if(y)throw{type:a||Or.data,response:S};let ie,ce=S.headers.get("Content-Type");return ce&&ce.startsWith("application/json")?ie=await S.json():ie=await S.text(),a===Or.error?{type:a,error:new Bc(z,S.statusText,ie),headers:S.headers}:{type:Or.data,data:ie,statusCode:S.status,headers:S.headers}}return a===Or.error?{type:a,error:S}:S instanceof cL?{type:Or.deferred,deferredData:S}:{type:Or.data,data:S}}function xh(e,t,s){let u=dd(xT(e)).toString(),h={signal:t};if(s){let{formMethod:p,formEncType:y,formData:a}=s;h.method=p.toUpperCase(),h.body=y==="application/x-www-form-urlencoded"?_T(a):a}return new Request(u,h)}function _T(e){let t=new URLSearchParams;for(let[s,u]of e.entries())qn(typeof u=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(s,u);return t}function xL(e,t,s,u,h){let p={},y=null,a,S=!1,I={};return s.forEach((B,V)=>{let z=t[V].route.id;if(qn(!bc(B),"Cannot handle redirect results in processLoaderData"),jh(B)){let ie=pc(e,z),ce=B.error;u&&(ce=Object.values(u)[0],u=void 0),y=Object.assign(y||{},{[ie.route.id]:ce}),S||(S=!0,a=yT(B.error)?B.error.status:500),B.headers&&(I[z]=B.headers)}else gu(B)?(h&&h.set(z,B.deferredData),p[z]=B.deferredData.data):(p[z]=B.data,B.statusCode!=null&&B.statusCode!==200&&!S&&(a=B.statusCode),B.headers&&(I[z]=B.headers))}),u&&(y=u),{loaderData:p,errors:y,statusCode:a||200,loaderHeaders:I}}function pw(e,t,s,u,h,p,y,a){let{loaderData:S,errors:I}=xL(t,s,u,h,a);for(let B=0;B<p.length;B++){let[V,,z]=p[B];qn(y!==void 0&&y[B]!==void 0,"Did not find corresponding fetcher result");let ie=y[B];if(jh(ie)){let ce=pc(e.matches,z.route.id);I&&I[ce.route.id]||(I=ji({},I,{[ce.route.id]:ie.error})),e.fetchers.delete(V)}else{if(bc(ie))throw new Error("Unhandled fetcher revalidation redirect");if(gu(ie))throw new Error("Unhandled fetcher deferred data");{let ce={state:"idle",data:ie.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(V,ce)}}}return{loaderData:S,errors:I}}function Pg(e,t,s){let u=ji({},t);return s.forEach(h=>{let p=h.route.id;t[p]===void 0&&e[p]!==void 0&&(u[p]=e[p])}),u}function pc(e,t){return(t?e.slice(0,e.findIndex(u=>u.route.id===t)+1):[...e]).reverse().find(u=>u.route.hasErrorBoundary===!0)||e[0]}function wL(e,t,s){let u=e.find(h=>h.index||!h.path||h.path==="/")||{id:"__shim-"+t+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:u}],route:u,error:new Bc(t,s,null)}}function fw(e){return wL(e,404,"Not Found")}function mw(e){let t=typeof e=="string"?e:zo(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+t+"]")),{type:Or.error,error:new Bc(405,"Method Not Allowed","")}}function gw(e){for(let t=e.length-1;t>=0;t--){let s=e[t];if(bc(s))return s}}function xT(e){let t=typeof e=="string"?Za(e):e;return zo(ji({},t,{hash:""}))}function bL(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function gu(e){return e.type===Or.deferred}function jh(e){return e.type===Or.error}function bc(e){return(e&&e.type)===Or.redirect}async function yw(e,t,s,u,h,p){for(let y=0;y<s.length;y++){let a=s[y],S=t[y],I=e.find(V=>V.route.id===S.route.id),B=I!=null&&!vT(I,S)&&(p&&p[S.route.id])!==void 0;gu(a)&&(h||B)&&await wT(a,u,h).then(V=>{V&&(s[y]=V||s[y])})}}async function wT(e,t,s){if(s===void 0&&(s=!1),!await e.deferredData.resolveData(t)){if(s)try{return{type:Or.data,data:e.deferredData.unwrappedData}}catch(h){return{type:Or.error,error:h}}return{type:Or.data,data:e.deferredData.data}}}function bT(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function vw(e,t){let{route:s,pathname:u,params:h}=e;return{id:s.id,pathname:u,params:h,data:t[s.id],handle:s.handle}}function _w(e,t){let s=typeof t=="string"?Za(t).search:t.search;if(e[e.length-1].route.index&&bT(s||""))return e[e.length-1];let u=em(e);return u[u.length-1]}/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(e[u]=s[u])}return e},Af.apply(this,arguments)}function SL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const TL=typeof Object.is=="function"?Object.is:SL,{useState:AL,useEffect:EL,useLayoutEffect:CL,useDebugValue:kL}=zg;function PL(e,t,s){const u=t(),[{inst:h},p]=AL({inst:{value:u,getSnapshot:t}});return CL(()=>{h.value=u,h.getSnapshot=t,Ig(h)&&p({inst:h})},[e,u,t]),EL(()=>(Ig(h)&&p({inst:h}),e(()=>{Ig(h)&&p({inst:h})})),[e]),kL(u),u}function Ig(e){const t=e.getSnapshot,s=e.value;try{const u=t();return!TL(s,u)}catch{return!0}}function IL(e,t,s){return t()}const ML=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zL=!ML,DL=zL?IL:PL,LL="useSyncExternalStore"in zg?(e=>e.useSyncExternalStore)(zg):DL,RL=$e.exports.createContext(null),ST=$e.exports.createContext(null),tm=$e.exports.createContext(null),__=$e.exports.createContext(null),nm=$e.exports.createContext(null),Td=$e.exports.createContext({outlet:null,matches:[]}),TT=$e.exports.createContext(null);function BL(e,t){let{relative:s}=t===void 0?{}:t;Ad()||qn(!1);let{basename:u,navigator:h}=$e.exports.useContext(__),{hash:p,pathname:y,search:a}=x_(e,{relative:s}),S=y;return u!=="/"&&(S=y==="/"?u:Va([u,y])),h.createHref({pathname:S,search:a,hash:p})}function Ad(){return $e.exports.useContext(nm)!=null}function Ed(){return Ad()||qn(!1),$e.exports.useContext(nm).location}function NL(){Ad()||qn(!1);let{basename:e,navigator:t}=$e.exports.useContext(__),{matches:s}=$e.exports.useContext(Td),{pathname:u}=Ed(),h=JSON.stringify(em(s).map(a=>a.pathnameBase)),p=$e.exports.useRef(!1);return $e.exports.useEffect(()=>{p.current=!0}),$e.exports.useCallback(function(a,S){if(S===void 0&&(S={}),!p.current)return;if(typeof a=="number"){t.go(a);return}let I=v_(a,JSON.parse(h),u,S.relative==="path");e!=="/"&&(I.pathname=I.pathname==="/"?e:Va([e,I.pathname])),(S.replace?t.replace:t.push)(I,S.state,S)},[e,t,h,u])}function x_(e,t){let{relative:s}=t===void 0?{}:t,{matches:u}=$e.exports.useContext(Td),{pathname:h}=Ed(),p=JSON.stringify(em(u).map(y=>y.pathnameBase));return $e.exports.useMemo(()=>v_(e,JSON.parse(p),h,s==="path"),[e,p,h,s])}function FL(e,t){Ad()||qn(!1);let s=$e.exports.useContext(tm),{matches:u}=$e.exports.useContext(Td),h=u[u.length-1],p=h?h.params:{};h&&h.pathname;let y=h?h.pathnameBase:"/";h&&h.route;let a=Ed(),S;if(t){var I;let ce=typeof t=="string"?Za(t):t;y==="/"||((I=ce.pathname)==null?void 0:I.startsWith(y))||qn(!1),S=ce}else S=a;let B=S.pathname||"/",V=y==="/"?B:B.slice(y.length)||"/",z=Ah(e,{pathname:V}),ie=jL(z&&z.map(ce=>Object.assign({},ce,{params:Object.assign({},p,ce.params),pathname:Va([y,ce.pathname]),pathnameBase:ce.pathnameBase==="/"?y:Va([y,ce.pathnameBase])})),u,s||void 0);return t&&ie?H(nm.Provider,{value:{location:Af({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:gr.Pop},children:ie}):ie}function OL(){let e=GL(),t=yT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,u="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u};return nt(Mc,{children:[H("h2",{children:"Unhandled Thrown Error!"}),H("h3",{style:{fontStyle:"italic"},children:t}),s?H("pre",{style:h,children:s}):null,H("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),nt("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",H("code",{style:p,children:"errorElement"})," props on\xA0",H("code",{style:p,children:"<Route>"})]})]})}class VL extends $e.exports.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location?{error:t.error,location:t.location}:{error:t.error||s.error,location:s.location}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error?H(TT.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function UL(e){let{routeContext:t,match:s,children:u}=e,h=$e.exports.useContext(RL);return h&&s.route.errorElement&&(h._deepestRenderedBoundaryId=s.route.id),H(Td.Provider,{value:t,children:u})}function jL(e,t,s){if(t===void 0&&(t=[]),e==null)if(s!=null&&s.errors)e=s.matches;else return null;let u=e,h=s==null?void 0:s.errors;if(h!=null){let p=u.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id]));p>=0||qn(!1),u=u.slice(0,Math.min(u.length,p+1))}return u.reduceRight((p,y,a)=>{let S=y.route.id?h==null?void 0:h[y.route.id]:null,I=s?y.route.errorElement||H(OL,{}):null,B=()=>H(UL,{match:y,routeContext:{outlet:p,matches:t.concat(u.slice(0,a+1))},children:S?I:y.route.element!==void 0?y.route.element:p});return s&&(y.route.errorElement||a===0)?H(VL,{location:s.location,component:I,error:S,children:B()}):B()},null)}var xw;(function(e){e.UseRevalidator="useRevalidator"})(xw||(xw={}));var Hy;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Hy||(Hy={}));function qL(e){let t=$e.exports.useContext(tm);return t||qn(!1),t}function GL(){var e;let t=$e.exports.useContext(TT),s=qL(Hy.UseRouteError),u=$e.exports.useContext(Td),h=u.matches[u.matches.length-1];return t||(u||qn(!1),h.route.id||qn(!1),(e=s.errors)==null?void 0:e[h.route.id])}function WL(e){let{fallbackElement:t,router:s}=e,u=LL(s.subscribe,()=>s.state,()=>s.state),h=$e.exports.useMemo(()=>({createHref:s.createHref,go:y=>s.navigate(y),push:(y,a,S)=>s.navigate(y,{state:a,preventScrollReset:S==null?void 0:S.preventScrollReset}),replace:(y,a,S)=>s.navigate(y,{replace:!0,state:a,preventScrollReset:S==null?void 0:S.preventScrollReset})}),[s]),p=s.basename||"/";return H(ST.Provider,{value:{router:s,navigator:h,static:!1,basename:p},children:H(tm.Provider,{value:u,children:H(ZL,{basename:s.basename,location:s.state.location,navigationType:s.state.historyAction,navigator:h,children:s.state.initialized?H($L,{}):t})})})}function HL(e){qn(!1)}function ZL(e){let{basename:t="/",children:s=null,location:u,navigationType:h=gr.Pop,navigator:p,static:y=!1}=e;Ad()&&qn(!1);let a=t.replace(/^\/*/,"/"),S=$e.exports.useMemo(()=>({basename:a,navigator:p,static:y}),[a,p,y]);typeof u=="string"&&(u=Za(u));let{pathname:I="/",search:B="",hash:V="",state:z=null,key:ie="default"}=u,ce=$e.exports.useMemo(()=>{let he=gT(I,a);return he==null?null:{pathname:he,search:B,hash:V,state:z,key:ie}},[a,I,B,V,z,ie]);return ce==null?null:H(__.Provider,{value:S,children:H(nm.Provider,{children:s,value:{location:ce,navigationType:h}})})}function $L(e){let{children:t,location:s}=e,u=$e.exports.useContext(ST),h=u&&!t?u.router.routes:Zy(t);return FL(h,s)}var ww;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(ww||(ww={}));new Promise(()=>{});function Zy(e,t){t===void 0&&(t=[]);let s=[];return $e.exports.Children.forEach(e,(u,h)=>{if(!$e.exports.isValidElement(u))return;if(u.type===$e.exports.Fragment){s.push.apply(s,Zy(u.props.children,t));return}u.type!==HL&&qn(!1),!u.props.index||!u.props.children||qn(!1);let p=[...t,h],y={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,hasErrorBoundary:u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle};u.props.children&&(y.children=Zy(u.props.children,p)),s.push(y)}),s}function AT(e){return e.map(t=>{let s=Af({},t);return s.hasErrorBoundary==null&&(s.hasErrorBoundary=s.errorElement!=null),s.children&&(s.children=AT(s.children)),s})}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ET(e,t){if(e==null)return{};var s={},u=Object.keys(e),h,p;for(p=0;p<u.length;p++)h=u[p],!(t.indexOf(h)>=0)&&(s[h]=e[h]);return s}function XL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KL(e,t){return e.button===0&&(!t||t==="_self")&&!XL(e)}const YL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],QL=["aria-current","caseSensitive","className","end","style","to","children"];function JL(e,t){var s;return gL({basename:t==null?void 0:t.basename,history:UD({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||((s=window)==null?void 0:s.__staticRouterHydrationData),routes:AT(e)}).initialize()}const Do=$e.exports.forwardRef(function(t,s){let{onClick:u,relative:h,reloadDocument:p,replace:y,state:a,target:S,to:I,preventScrollReset:B}=t,V=ET(t,YL),z=BL(I,{relative:h}),ie=eR(I,{replace:y,state:a,target:S,preventScrollReset:B,relative:h});function ce(he){u&&u(he),he.defaultPrevented||ie(he)}return H("a",{...V,href:z,onClick:p?u:ce,ref:s,target:S})}),CT=$e.exports.forwardRef(function(t,s){let{"aria-current":u="page",caseSensitive:h=!1,className:p="",end:y=!1,style:a,to:S,children:I}=t,B=ET(t,QL),V=x_(S,{relative:B.relative}),z=Ed(),ie=$e.exports.useContext(tm),ce=V.pathname,he=z.pathname,He=ie&&ie.navigation&&ie.navigation.location?ie.navigation.location.pathname:null;h||(he=he.toLowerCase(),He=He?He.toLowerCase():null,ce=ce.toLowerCase());let oe=he===ce||!y&&he.startsWith(ce)&&he.charAt(ce.length)==="/",ae=He!=null&&(He===ce||!y&&He.startsWith(ce)&&He.charAt(ce.length)==="/"),re=oe?u:void 0,we;typeof p=="function"?we=p({isActive:oe,isPending:ae}):we=[p,oe?"active":null,ae?"pending":null].filter(Boolean).join(" ");let Ue=typeof a=="function"?a({isActive:oe,isPending:ae}):a;return H(Do,{...B,"aria-current":re,className:we,ref:s,style:Ue,to:S,children:typeof I=="function"?I({isActive:oe,isPending:ae}):I})});var bw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(bw||(bw={}));var Sw;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sw||(Sw={}));function eR(e,t){let{target:s,replace:u,state:h,preventScrollReset:p,relative:y}=t===void 0?{}:t,a=NL(),S=Ed(),I=x_(e,{relative:y});return $e.exports.useCallback(B=>{if(KL(B,s)){B.preventDefault();let V=u!==void 0?u:zo(S)===zo(I);a(e,{replace:V,state:h,preventScrollReset:p,relative:y})}},[S,a,I,u,h,s,e,p,y])}function kT({className:e="w-6 h-6"}){return H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:H("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}function tR({link:e,title:t}){return H("li",{children:H(CT,{to:e,className:({isActive:s})=>`block tracking-wide px-2 sm:px-4 py-1 sm:py-2 rounded-sm text-sm sm:text-sm hover:bg-white/10 ${s&&"bg-white/20"}`,children:t})})}function nR(){return nt(Do,{to:"/",className:"text-gray-200 flex items-center space-x-2",children:[H("div",{children:H("img",{src:VD,alt:"duosdev",className:"w-[46px]"})}),nt("div",{children:[H("h1",{className:"font-bold tracking-wide",children:"Duos Dev"}),H("p",{className:"italic text-[8px] -mt-[2px]",children:"Tech and Solution"})]})]})}function iR({active:e,handleSidebarToggle:t}){const[s,u]=$e.exports.useState((window==null?void 0:window.scrollY)||0);$e.exports.useEffect(()=>(window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)),[]);const h=()=>{u(window.scrollY)};return H(Sf.div,{className:`fixed w-full left-0 top-0 z-50 ${s>30&&"backdrop-blur-md bg-slate-900/50 border-b shadow"} border-slate-700 sm:border-slate-800 `,children:H(Io,{children:nt("div",{className:`flex max-w-5xl mx-auto items-center justify-between ${s>30?"h-[68px] sm:h-16":"h-16"} transition-all duration-300`,children:[H(nR,{}),H("button",{onClick:t,className:"block sm:hidden focus:outline-none text-gray-200",children:e?H(kT,{className:"w-6 h-6 rotate-45"}):H(OD,{})}),H("ul",{className:"hidden sm:flex items-center text-gray-200",children:g_.map(p=>H(tR,{link:p.link,title:p.title},p.id))})]})})})}const rR={initial:{height:0},animate:{height:"100%",transition:{delayChildren:.3,staggerChildren:.1,type:"tween"}},exit:{height:0,transition:{when:"afterChildren",staggerChildren:.1,type:"tween"}}},sR={initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12}};function oR({active:e=!1}){return H(pT,{children:e&&H(Sf.div,{variants:rR,initial:"initial",animate:"animate",exit:"exit",className:"fixed top-16 inset-0 bg-slate-900 z-30 text-gray-300 h-full flex justify-center items-center flex-col space-y-6",children:g_.map(t=>H(Sf.div,{variants:sR,transition:{type:"tween"},children:H(CT,{to:t.link,className:({isActive:s})=>`text-base tracking-wide font-medium py-3 px-8 rounded-sm hover:bg-white/10 ${s&&"bg-white/20"}`,children:t.title})},t.id))})})}function Nc({title:e="Duosdev",children:t}){const[s,u]=$e.exports.useState(!1),[h,p]=$e.exports.useState((window==null?void 0:window.innerWidth)||0);$e.exports.useEffect(()=>{document.body.title=e},[]);const y=$e.exports.useCallback(()=>{u(!s),s?document.body.classList.remove("overflow-y-hidden"):document.body.classList.add("overflow-y-hidden")},[s]);$e.exports.useEffect(()=>{u(!1),window.scrollTo({top:0,left:0,behavior:"smooth"}),document.body.classList.remove("overflow-y-hidden")},[]);const a=()=>{p(window.innerWidth)};return $e.exports.useEffect(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)),[h]),$e.exports.useEffect(()=>{h>=640&&u(!1)},[h]),nt(Mc,{children:[H(iR,{active:s,handleSidebarToggle:y}),H(oR,{handleSidebarToggle:y,active:s}),H(_D,{features:xD,children:t}),H(FD,{})]})}function aR(){return nt("div",{className:"about box-container",children:[H("div",{className:"text-center",children:H("div",{className:"relative w-max mx-auto",children:H("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Tentang Kami"})})}),nt("div",{className:"text-gray-300 mt-8 max-w-5xl mx-auto sm:space-y-0 flex flex-col-reverse sm:flex-row items-start justify-between py-6 sm:py-10 sm:space-x-6",children:[nt("div",{children:[H("p",{className:"text-xs sm:text-base mt-2 sm:mt-4 pr-2 text-gray-300",children:"Duos Dev adalah brand usaha kami di bidang IT yang berlokasi di Cikijing - Majalengka dan memberikan layanan profesional dan dibekali dengan tenaga ahli yang berpengalaman. Dengan bermodal pengetahuan dan jam terbang yang kami miliki. kami siap melayani kebutuhan masyarakat untuk perusahaan khususnya dalam pembuatan website untuk kemajuan usaha."}),nt(Do,{to:"/tentang-kami",className:"mt-6 text-sm sm:text-base w-max rounded-sm py-[10px] px-5 border border-cyan-600 flex items-center space-x-2 focus:outline-none",children:[H("span",{children:"Selengkapnya"}),H(qf,{})]})]}),nt("div",{className:"flex-shrink-0 mb-4 sm:mb-0 sm:space-y-4 flex items-center justify-evenly w-full sm:w-auto sm:block",children:[nt("div",{className:"text-center",children:[H("h2",{className:"text-4xl sm:text-5xl font-bold sm:font-extrabold",children:"47"}),H("p",{className:"sm:mt-2 text-xs sm:text-base",children:"Klien"})]}),nt("div",{className:"text-center",children:[H("h2",{className:"text-4xl sm:text-5xl font-bold sm:font-extrabold",children:"110"}),H("p",{className:" sm:mt-2 text-xs sm:text-base",children:"Proyek"})]})]})]})]})}function lR(){return nt("div",{className:"services box-container",children:[nt("div",{className:"text-center",children:[H("div",{className:"relative w-max mx-auto",children:H("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Layanan Kami"})}),H("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Mau membuat website apa? Duos Dev Solusi Lengkap dalam pembuatan website untuk perusahaan atau perorangan, dengan tampilan yang responsive, serta layanan marketing untuk website anda."})]}),H("div",{className:"max-w-5xl mx-auto mt-8",children:H("div",{className:"owl-carousel owl-1",children:DD.map(e=>nt("div",{className:"item snap-center relative flex-none h-[226px] border border-cyan-600 rounded-sm",children:[H("div",{className:"absolute -left-2 -top-2 w-full  h-[226px] rounded-sm",children:H("img",{src:e.photo,alt:e.title,className:"w-full h-full object-cover rounded-sm"})}),H("div",{className:"absolute z-10 bottom-4 left-2",children:H("h5",{className:"text-gray-200 text-xs sm:text-sm",children:e.title})}),H("span",{className:"block absolute bg-gradient-to-t from-slate-900 to-transparent -left-2 -top-2 w-full  h-[226px] rounded-sm"})]},e.id))})})]})}const uR="/assets/big-centered.a3d2f747.png",cR="/assets/small-right.9fd2a5f9.png";function hR(){return nt("div",{className:"quotes relative box-container sm:max-w-5xl sm:mx-auto -space-y-12 sm:-space-y-16",children:[nt("div",{className:"relative",children:[H("div",{className:"translate-x-4 sm:translate-x-16 shadow",children:H("img",{src:uR,alt:"big-centered",className:"w-[90%] sm:w-[80%] rounded-sm"})}),H("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 shadow",children:H("img",{src:cR,alt:"big-centered",className:"w-[100px] sm:w-[250px] rounded-sm"})})]}),nt("div",{className:"max-w-2xl relative",children:[nt("h1",{className:"text-2xl sm:text-6xl font-bold text-gray-200",children:["Proses Cepat ",H("br",{})," Dan Hasil Berkualitas"]}),H("p",{className:"text-xs sm:text-base mt-2 sm:mt-4 text-gray-400",children:"Proses pembuatan website yang cepat dengan menggunakan teknologi dan framework terupdate yang banyak digunakan di seluruh dunia dapatkan website dengan harga yang realistis dan terjangkau."})]}),H("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px]",children:H("img",{src:Jf,alt:"sep-line"})})]})}function $y({id:e=1,title:t,link:s,photo:u,className:h=""}){return nt("div",{className:"project",children:[H("div",{className:"image-container",children:H("img",{src:u,alt:"proyek",className:"rounded-sm w-full"})}),nt("div",{className:`content-container ${h}`,children:[nt("div",{className:"mt-4",children:[H("h3",{className:"text-base font-bold text-gray-300",children:t}),H("p",{className:"text-xs text-gray-400 mt-2",children:s})]}),nt("div",{className:"mt-6 grid grid-cols-2 gap-6",children:[H("a",{href:"",className:"py-2 px-4 text-gray-300 text-xs tracking-wide border border-cyan-600 rounded-sm text-center",children:"Kunjungi Website"}),H(Do,{to:`/proyek/${e}`,className:"py-2 px-4 text-gray-300 text-xs tracking-wide border border-cyan-600 rounded-sm text-center",children:"Lihat Detail"})]})]})]})}function dR(){return H(Mc,{children:nt("div",{className:"lds-ring",children:[H("div",{}),H("div",{}),H("div",{}),H("div",{})]})})}function pR(){const[e,t]=$e.exports.useState(1),[s,u]=$e.exports.useState(Tf.filter((a,S)=>S<3)),[h,p]=$e.exports.useState(!1),y=(a,S)=>{h||a!=e&&(p(!0),t(a),setTimeout(()=>{p(!1)},1200),u(Tf.filter(I=>I.category==S).filter((I,B)=>B<3)))};return nt("div",{className:"project box-container max-w-5xl mx-auto",children:[H("div",{className:"text-center",children:H("div",{className:"relative w-max mx-auto",children:H("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Hasil Proyek"})})}),H("div",{className:"flex items-center space-x-6 justify-between mt-8 sm:mt-12 border-b border-b-slate-700 sm:px-4 scrollbar-none overflow-x-auto text-gray-300",children:BD.map(a=>nt("button",{className:"block py-3 px-2 h-full focus:outline-none text-xs sm:text-sm sm:px-4 relative flex-none hover:bg-white/5 rounded-sm",onClick:()=>y(a.id,a.value),children:[a.title,a.id==e&&H(Sf.span,{layoutId:"underline",className:"block absolute left-0 bottom-0 w-full h-[2px] bg-cyan-600"})]},a.id))}),H("div",{className:"flex items-center justify-center",children:h?H("div",{className:"py-28",children:H(dR,{})}):H("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-8 sm:gap-y-6 gap-x-6 mt-6 sm:mt-9",children:s.map(a=>H($y,{id:a.id,title:a.title,link:a.link,photo:a.photo},a.id))})}),H("div",{className:"flex items-center justify-center mt-12",children:nt(Do,{to:"/proyek",className:"py-2 px-4 text-gray-300 text-xs tracking-wide border border-cyan-600 rounded-sm text-center flex items-center space-x-2",children:[H("span",{children:"Lihat Proyek Lain"}),H(qf,{})]})})]})}const fR="/assets/profil.51f5f77d.jpg";function Sp(){return H("div",{className:"item relative max-w-xl rounded-md mx-auto",children:nt("div",{className:"text-center",children:[H("div",{className:" bg-gray-200 p-[1px] w-[68px] rounded-full shadow-lg mx-auto mb-4",children:H("img",{src:fR,alt:"profil",className:"w-full object-cover rounded-full brightness-90"})}),H("h4",{className:"text-gray-300 font-semibold",children:"Muhammad Badrun"}),H("p",{className:"text-gray-400 text-sm",children:"Programmer"}),H("div",{className:"flex w-[14px] sm:w-[20px] justify-start mt-4",children:H("img",{src:"/twoquotes.svg",alt:"twoquotes",className:"w-full ml-1"})}),H("p",{className:"text-gray-300/90 text-xs sm:text-base mt-2",children:"Website yang dibuat responnya sangat cepat karna menggunakan server VPS KMV, sangat di rekomendasikan untuk website yang ingin di iklan kan di Google, karena kecepatan website sangat mempengaruhi peringkat teratas pencarian di Google, Terimakasih Duos Dev. Sekses Selalu"})]})})}function mR(){return nt("div",{className:"testimoni box-container",children:[H("div",{className:"text-center",children:H("div",{className:"relative w-max mx-auto",children:H("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Testimoni Dari Klien"})})}),H("div",{className:"max-w-5xl mx-auto flex justify-center mt-10",children:nt("div",{className:"owl-carousel owl-2",children:[H(Sp,{}),H(Sp,{}),H(Sp,{}),H(Sp,{})]})})]})}const Tw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADGSURBVHgB5ZRhDcJADIVbDDAJ54BJQAIOkIAGFCwnAQVIYA6YA+aAOTh6WS95XAYZ3fFrX9J11yyv7b1kFEJoQjkajk8qyCY7DxItLQHGfUo4rblgBCfsmLmPL5p7MoCCNUxYS3JkYMqULoqTkVzwrLmSONG49kVrO23ktWn85iBxfFPEC4VaMuUGtb1ERRlSu34y5fsqzK3EkO4Z8HiYLajT3CU9cPLYyCSoziezJtf/SZBGE5DtUsFZrFDw7//DIoKeyuFfROr9sQx0jZ8AAAAASUVORK5CYII=",gR="/assets/dendi.91332da7.png",yR="/assets/badrun.fc172edf.png",vR=[{id:1,name:"Dendi",title:"Founder",photo:gR,social:[{id:1,icon:Tw,link:"/"},{id:2,icon:Gy,link:"/"},{id:3,icon:Wy,link:"/"}]},{id:2,name:"Badrun",title:"CO-Founder",photo:yR,social:[{id:1,icon:Tw,link:"/"},{id:2,icon:Gy,link:"/"},{id:3,icon:Wy,link:"/"}]}];function PT(){return nt(Mc,{children:[H("div",{className:"text-center",children:H("div",{className:"relative w-max mx-auto",children:H("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Tim Kami"})})}),nt("div",{className:"relative pb-16 mx-auto max-w-xl grid grid-cols-1 sm:grid-cols-2 space-y-8 sm:space-y-0 mt-8 sm:mt-10",children:[vR.map(e=>nt("div",{className:"flex items-center flex-col justify-center",children:[H("div",{className:"w-[220px] shadow rounded-sm",children:H("img",{src:e.photo,alt:"profil",className:"grayscale rounded-sm object-cover"})}),nt("div",{className:"text-center mt-4",children:[H("h5",{className:"text-gray-200 font-semibold",children:e.name}),H("p",{className:"text-gray-400 text-sm mt-1",children:e.title}),H("ul",{className:"flex items-center justify-center space-x-3 text-gray-200 mt-4",children:e.social.map(t=>H("li",{children:H("a",{href:"#",className:"block",children:H("img",{src:t.icon,alt:"social-media",className:`${t.id==1?"w-[18px]":"w-[20px]"}`})})},t.id))})]})]},e.id)),H("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px]",children:H("img",{src:Jf,alt:"sep-line"})})]})]})}function _R(){return nt("div",{className:"our-team box-container",children:[H(PT,{}),nt("div",{className:"max-w-xl mx-auto mt-20 relative",children:[H("div",{className:"-top-6 left-1 sm:-top-8 sm:-left-6 absolute",children:H("img",{src:"/twoquotes.svg",alt:"twoquotes",className:"w-[14px] sm:w-[20px]"})}),H("p",{className:"text-gray-200 text-xs sm:text-base italic",children:"Dengan kondisi tim yang muda siap berkarya, handal dan berpengalaman, kami siap sedia untuk membangun negeri menjadi lebih baik dan go-digital. Menyasar sektor bidang pasar secara menyeluruh."})]})]})}const xR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADDCAYAAABDNXs2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF8SURBVHgBXVNBTgMxDLQnKUWqAIlv8Ep+xh+QeAYSSBXqbmIzTtLstpfp2OOM7TQr7q54/5CE10/C95HgF8nQJwFkIVv+zgkP6ZSQQbU0WAn5kZCCLXnJSEUToAwlH4DVCnOVYdWcoGCooaqHs2uGRQghdBZgccJbnWyMziI1w1suQFX3JeKWg4WdyAD+wMyYbGzkPFS9MgsGMgsWJbYJ3cOG1aYiDKwL82zeXCzqEHWmN323HvDOIHd9ZRq0Rn2C0S0WGXU2B+8rtNw2lfSbGM2bX8yHODaaz7XurORm1V3JXPA6qfSLaM1tK2nOzaUN1Pe49rBgY7R5TVuP3ncazL9R5h7SLsWu09vuDtp8ZS4j+wUNO7+hOpysCjXVSnCCEFwTn7la5WONXKgWghiB766ihqDOEomwCRrMoCWeI108cTrUgmKgmmrUISCcU2PM8fOoWKzQuX1exlAOmYKthEI4l0tFPr4UrGU1HE4H1l1+WffzTHj7qrGQ/AMDrfOEzo1pFgAAAABJRU5ErkJggg==";function wR(){return nt("div",{className:"title box-container max-w-5xl mx-auto",children:[H("div",{className:"text-center",children:H("div",{className:"relative w-max mx-auto",children:H("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Kenapa Menggunakan Jasa Duos Dev?"})})}),H("div",{className:"px-2 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 mt-8 sm:mt-16 space-y-6 sm:space-y-0 gap-0 sm:gap-8 xl:gap-0",children:LD.map(e=>nt("div",{className:"bg-slate-800 rounded-sm sm:bg-transparent py-8 md:py-0 relative title px-4 text-center",children:[nt("div",{className:"text-gray-300 text-sm sm:text-sm font-bold space-y-4 sm:space-y-2 flex justify-center flex-col items-center",children:[H("div",{children:H("img",{src:e.icon,alt:e.title,className:"w-[28px] md:w-[25px]"})}),H("h4",{children:e.title})]}),H("p",{className:"px-6 sm:px-0 text-xs sm:text-[13px] mt-2 text-gray-400",children:e.desc}),e.id<4&&H("div",{className:`hidden md:block absolute right-0 top-1/2 -translate-y-1/2 ${e.id==2&&"md:hidden xl:block"}`,children:H("img",{src:xR,alt:"line"})})]},e.id))})]})}const Aw=[{id:1,question:"Apakah sekali bayar atau ada perpanjangan",type:"desc",answers:[{id:1,answer:"Ada biaya perpanjangan per tahun, biaya perpanjangan per tahun cek daftar harga"}]},{id:2,question:"Proses pembayaranya bagaimana?",type:"desc",answers:[{id:1,answer:"Pembayaran bisa melalui bank transfer BRI atau pembayaran otomatis virtual account atau ORIS melalui checkout pemesanan."},{id:2,answer:"Pembayaran bisa minimum DP 50% di awal, setelah website selesai baru 50%. bisa juga di bayar langsung lunas melalui checkout. Silahkan hubungi customur service kami jika ingin DP 50%."}]},{id:3,question:"Berapa lama proses pengerjaanya?",type:"desc",answers:[{id:1,answer:"Estimasi pengerjaanya website perusahaan mulai dari 1 minggu. tergantung dari kesiapan data yang diberikan oleh klien."}]},{id:4,question:"Bagaimana prosedur pembuatan websitenya?",type:"list",answers:[{id:1,answer:"Silahkan klik tombol Pesan Sekarang di daftar harga, Plush dengan service kami untuk melakukan pemesanan sesuai paket"},{id:2,answer:"Lakukan pembayaran, minimum DP 50% atau langsung lunas, jika sudah transfer harap konfirmasi pembayaran"},{id:3,answer:"Setelah itu kami buatkan group Whatsapp khusus untuk memudahkan selama pembuatan website dan selama free maintenance 1"},{id:4,answer:"Proses pengerjaan"},{id:5,answer:"Proses intput data website dan penyelesain fitur website sesuai paket"},{id:6,answer:"Setelah selesai, akan dibuatkan pelunasan pembayaran invoice 50% (jika tidak bayar lunas di awal)"},{id:7,answer:"Proses maintenance 1 tahun"}]},{id:5,question:"Apa saja data yang perlu dipersiapkan?",type:"list",answers:[{id:1,answer:"Logo usaha / bisnis"},{id:2,answer:"Profil Usaha"},{id:3,answer:"Layanan usaha yang dijual"},{id:4,answer:"Detail produk jika ada, berupa nama produk, deskripsi, harga dan produk"},{id:5,answer:"Alamat usaha / bisnis"},{id:6,answer:"Kontak telepone, email dan whatsapp jika ada"},{id:7,answer:"Link sosial media jika ada"},{id:8,answer:"Portofolio berupa gambar jika ada"},{id:9,answer:"Testimoni dari customer jika ada"},{id:10,answer:"Link google maps jika ada"}]},{id:6,question:"Apa saja maintenance yang diberikan?",type:"list",answers:[{id:1,answer:"Perbaikan website atau server ketika terjadi error"},{id:2,answer:"Backup website"},{id:3,answer:"Input atau update isi konten website (maksimal 5 page sehari)"},{id:4,answer:"Security & Pencegahan dari Hacker & Malwer"}]}];function Sc({className:e="w-6 h-6"}){return H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:H("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}function bR({question:e="",active:t=!1,handleClick:s,index:u}){return nt("button",{onClick:()=>s(u),className:"flex items-center justify-between focus:outline-none w-full",children:[nt("div",{className:"flex items-center space-x-2",children:[H(kT,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400"}),H("h6",{className:"text-gray-300 text-xs sm:text-base",children:e})]}),H(hT.div,{initial:{rotate:180},animate:{rotate:t?0:180},transition:{type:"tween"},children:H(Sc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400"})})]})}function SR(){const[e,t]=$e.exports.useState(Array(Aw.length).fill(!1).map((u,h)=>h==0)),s=u=>{t(e.map((h,p)=>p==u?!h:h))};return nt("div",{className:"faq max-w-5xl mx-auto box-container",children:[nt("div",{className:"text-center max-w-2xl mx-auto",children:[H("div",{className:"relative w-max mx-auto",children:H("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"FAQ"})}),H("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Ini adalah pertanyaan yang sering di tanyakan kepada kami"})]}),H("div",{className:"mt-8 sm:mt-12",children:Aw.map((u,h)=>nt("div",{className:`pb-4 border-b border-b-slate-500 overflow-hidden ${u.id!=1&&"mt-6 sm:mt-8"}`,children:[H(bR,{question:u.question,active:e[h],handleClick:s,index:h}),H(pT,{children:e[h]&&H(hT.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},transition:{type:"tween"},children:u.type=="desc"?u.answers.map(p=>H("p",{className:"text-gray-400 text-xs sm:text-sm max-w-4xl px-4 py-4",children:p.answer},p.id)):H("ul",{className:"text-gray-400 text-xs sm:text-sm mt-4 px-4 list-decimal",children:u.answers.map(p=>H("li",{children:p.answer},p.id))})})})]},u.id))})]})}function TR(){return H("div",{className:"bg-box",children:H("div",{className:"bg-linear overflow-hidden",children:nt(Io,{children:[H(aR,{}),H(lR,{}),H(hR,{}),H(wR,{}),H(mR,{}),H(pR,{}),H(_R,{}),H(SR,{})]})})})}function AR(){return nt(Nc,{children:[H(Hk,{}),H(TR,{})]})}function pd({y:e="bottom-0"}){return H("div",{className:`absolute ${e} left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px]`,children:H("img",{src:Jf,alt:"sep-line"})})}function ER(){return H(Nc,{children:nt("div",{className:"max-w-5xl mx-auto mt-16",children:[H(Io,{children:nt("div",{className:"relative py-8 sm:py-12",children:[H("h1",{className:"text-xl md:text-3xl font-bold text-gray-200",children:"Proyek"}),nt("ul",{className:"flex items-center space-x-1 text-xs mt-1 text-gray-300",children:[H("li",{className:"text-gray-400",children:H(Do,{to:"/",children:"Home"})}),H("li",{children:H(Sc,{className:"w-4 h-4 rotate-90"})}),H("li",{children:H(Do,{to:"/proyek",children:"Proyek"})})]}),H(pd,{})]})}),H(Io,{className:"sm:container",children:nt("div",{className:"py-8 sm:py-12 relative",children:[nt("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-8 sm:gap-y-6 gap-x-6 mt-6 sm:mt-9",children:[Tf.map(e=>H($y,{id:e.id,title:e.title,link:e.link,photo:e.photo,className:"px-4"},e.id)),Tf.map(e=>H($y,{id:e.id,title:e.title,link:e.link,photo:e.photo,className:"px-4"},e.id))]}),H("div",{className:"flex item-center justify-center mt-24 sm:mt-32",children:nt("ul",{className:"text-gray-300 flex items-center space-x-2",children:[H("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm border border-cyan-600",children:H(Sc,{className:"w-5 h-5 -rotate-90"})}),H("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm border border-cyan-600",children:"1"}),H("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm bg-blue-600",children:"2"}),H("li",{className:"text-gray-400",children:"..."}),H("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm border border-cyan-600",children:"4"}),H("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm border border-cyan-600",children:H(Sc,{className:"w-5 h-5 rotate-90"})})]})}),H(pd,{})]})})]})})}var IT={exports:{}};(function(e,t){(function(s,u){e.exports=u()})(Ew,function(){var s,u,h;function p(a,S){if(!s)s=S;else if(!u)u=S;else{var I="var sharedChunk = {}; ("+s+")(sharedChunk); ("+u+")(sharedChunk);",B={};s(B),h=S(B),typeof window<"u"&&(h.workerUrl=window.URL.createObjectURL(new Blob([I],{type:"text/javascript"})))}}p(["exports"],function(a){var S=I;function I(r,n,o,c){this.cx=3*r,this.bx=3*(o-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(c-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=n,this.p2x=o,this.p2y=c}function B(r,n,o,c){const m=new S(r,n,o,c);return function(_){return m.solve(_)}}I.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,n){if(n===void 0&&(n=1e-6),r<0)return 0;if(r>1)return 1;for(var o=r,c=0;c<8;c++){var m=this.sampleCurveX(o)-r;if(Math.abs(m)<n)return o;var _=this.sampleCurveDerivativeX(o);if(Math.abs(_)<1e-6)break;o-=m/_}var w=0,A=1;for(o=r,c=0;c<20&&(m=this.sampleCurveX(o),!(Math.abs(m-r)<n));c++)r>m?w=o:A=o,o=.5*(A-w)+w;return o},solve:function(r,n){return this.sampleCurveY(this.solveCurveX(r,n))}};const V=B(.25,.1,.25,1);function z(r,n,o){return Math.min(o,Math.max(n,r))}function ie(r,n,o){const c=o-n,m=((r-n)%c+c)%c+n;return m===n?o:m}function ce(r,...n){for(const o of n)for(const c in o)r[c]=o[c];return r}let he=1;function He(r,n){r.forEach(o=>{n[o]&&(n[o]=n[o].bind(n))})}function oe(r,n,o){const c={};for(const m in r)c[m]=n.call(o||this,r[m],m,r);return c}function ae(r,n,o){const c={};for(const m in r)n.call(o||this,r[m],m,r)&&(c[m]=r[m]);return c}function re(r){return Array.isArray(r)?r.map(re):typeof r=="object"&&r?oe(r,re):r}const we={};function Ue(r){we[r]||(typeof console<"u"&&console.warn(r),we[r]=!0)}function P(r,n,o){return(o.y-r.y)*(n.x-r.x)>(n.y-r.y)*(o.x-r.x)}function ct(r){let n=0;for(let o,c,m=0,_=r.length,w=_-1;m<_;w=m++)o=r[m],c=r[w],n+=(c.x-o.x)*(o.y+c.y);return n}function ht(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function qt(r){const n={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,c,m,_)=>{const w=m||_;return n[c]=!w||w.toLowerCase(),""}),n["max-age"]){const o=parseInt(n["max-age"],10);isNaN(o)?delete n["max-age"]:n["max-age"]=o}return n}let zt,Un,_n=null;function Ti(r){if(_n==null){const n=r.navigator?r.navigator.userAgent:null;_n=!!r.safari||!(!n||!(/\b(iPad|iPhone|iPod)\b/.test(n)||n.match("Safari")&&!n.match("Chrome")))}return _n}function Dn(r){return typeof ImageBitmap<"u"&&r instanceof ImageBitmap}const si={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(r){const n=requestAnimationFrame(r);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(r,n=0){const o=window.document.createElement("canvas"),c=o.getContext("2d");if(!c)throw new Error("failed to create canvas 2d context");return o.width=r.width,o.height=r.height,c.drawImage(r,0,0,r.width,r.height),c.getImageData(-n,-n,r.width+2*n,r.height+2*n)},resolveURL:r=>(zt||(zt=document.createElement("a")),zt.href=r,zt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Un==null&&(Un=matchMedia("(prefers-reduced-motion: reduce)")),Un.matches)}};var St=ui;function ui(r,n){this.x=r,this.y=n}ui.prototype={clone:function(){return new ui(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,n){return this.clone()._rotateAround(r,n)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var n=r.x-this.x,o=r.y-this.y;return n*n+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,n){return Math.atan2(this.x*n-this.y*r,this.x*r+this.y*n)},_matMult:function(r){var n=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=n,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var n=Math.cos(r),o=Math.sin(r),c=o*this.x+n*this.y;return this.x=n*this.x-o*this.y,this.y=c,this},_rotateAround:function(r,n){var o=Math.cos(r),c=Math.sin(r),m=n.y+c*(this.x-n.x)+o*(this.y-n.y);return this.x=n.x+o*(this.x-n.x)-c*(this.y-n.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ui.convert=function(r){return r instanceof ui?r:Array.isArray(r)?new ui(r[0],r[1]):r};const qe={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},st="mapbox-tiles";let dt,Nt,sn=500,on=50;function Tn(){typeof caches>"u"||dt||(dt=caches.open(st))}let cn=1/0;const gn={supported:!1,testSupport:function(r){!Bn&&ci&&(kr?ms(r):jn=r)}};let jn,ci,Bn=!1,kr=!1;function ms(r){const n=r.createTexture();r.bindTexture(r.TEXTURE_2D,n);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,ci),r.isContextLost())return;gn.supported=!0}catch{}r.deleteTexture(n),Bn=!0}typeof document<"u"&&(ci=document.createElement("img"),ci.onload=function(){jn&&ms(jn),jn=null,kr=!0},ci.onerror=function(){Bn=!0,jn=null},ci.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Pr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Pr);class oi extends Error{constructor(n,o,c,m){super(`AJAXError: ${o} (${n}): ${c}`),this.status=n,this.statusText=o,this.url=c,this.body=m}}const Ni=ht()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function hi(r,n){const o=new AbortController,c=new Request(r.url,{method:r.method||"GET",body:r.body,credentials:r.credentials,headers:r.headers,referrer:Ni(),signal:o.signal});let m=!1,_=!1;return r.type==="json"&&c.headers.set("Accept","application/json"),((w,A,C)=>{if(_)return;const L=Date.now();fetch(c).then(F=>F.ok?((U,Z,K)=>{(r.type==="arrayBuffer"?U.arrayBuffer():r.type==="json"?U.json():U.text()).then(Y=>{_||(Z&&K&&function(me,pe,Pe){if(Tn(),!dt)return;const Ne={status:pe.status,statusText:pe.statusText,headers:new Headers};pe.headers.forEach((Le,Je)=>Ne.headers.set(Je,Le));const Ee=qt(pe.headers.get("Cache-Control")||"");Ee["no-store"]||(Ee["max-age"]&&Ne.headers.set("Expires",new Date(Pe+1e3*Ee["max-age"]).toUTCString()),new Date(Ne.headers.get("Expires")).getTime()-Pe<42e4||function(Le,Je){if(Nt===void 0)try{new Response(new ReadableStream),Nt=!0}catch{Nt=!1}Nt?Je(Le.body):Le.blob().then(Je)}(pe,Le=>{const Je=new Response(Le,Ne);Tn(),dt&&dt.then(Qe=>Qe.put(function(Ct){const Mt=Ct.indexOf("?");return Mt<0?Ct:Ct.slice(0,Mt)}(me.url),Je)).catch(Qe=>Ue(Qe.message))}))}(c,Z,K),m=!0,n(null,Y,U.headers.get("Cache-Control"),U.headers.get("Expires")))}).catch(Y=>{_||n(new Error(Y.message))})})(F,null,L):F.blob().then(U=>n(new oi(F.status,F.statusText,r.url,U)))).catch(F=>{F.code!==20&&n(new Error(F.message))})})(),{cancel:()=>{_=!0,m||o.abort()}}}const Dt=function(r,n){if(/:\/\//.test(r.url)&&!/^https?:|^file:/.test(r.url)){if(ht()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,n);if(!ht()){const c=r.url.substring(0,r.url.indexOf("://"));return(qe.REGISTERED_PROTOCOLS[c]||hi)(r,n)}}if(!(/^file:/.test(o=r.url)||/^file:/.test(Ni())&&!/^\w+:/.test(o))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return hi(r,n);if(ht()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,n,void 0,!0)}var o;return function(c,m){const _=new XMLHttpRequest;_.open(c.method||"GET",c.url,!0),c.type==="arrayBuffer"&&(_.responseType="arraybuffer");for(const w in c.headers)_.setRequestHeader(w,c.headers[w]);return c.type==="json"&&(_.responseType="text",_.setRequestHeader("Accept","application/json")),_.withCredentials=c.credentials==="include",_.onerror=()=>{m(new Error(_.statusText))},_.onload=()=>{if((_.status>=200&&_.status<300||_.status===0)&&_.response!==null){let w=_.response;if(c.type==="json")try{w=JSON.parse(_.response)}catch(A){return m(A)}m(null,w,_.getResponseHeader("Cache-Control"),_.getResponseHeader("Expires"))}else{const w=new Blob([_.response],{type:_.getResponseHeader("Content-Type")});m(new oi(_.status,_.statusText,c.url,w))}},_.send(c.body),{cancel:()=>_.abort()}}(r,n)},mi=function(r,n){return Dt(ce(r,{type:"arrayBuffer"}),n)};function it(r){const n=window.document.createElement("a");return n.href=r,n.protocol===window.document.location.protocol&&n.host===window.document.location.host}const Ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let pt,Pt;pt=[],Pt=0;const Yt=function(r,n){if(gn.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),Pt>=qe.MAX_PARALLEL_IMAGE_REQUESTS){const _={requestParameters:r,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return pt.push(_),_}Pt++;let o=!1;const c=()=>{if(!o)for(o=!0,Pt--;pt.length&&Pt<qe.MAX_PARALLEL_IMAGE_REQUESTS;){const _=pt.shift(),{requestParameters:w,callback:A,cancelled:C}=_;C||(_.cancel=Yt(w,A).cancel)}},m=mi(r,(_,w,A,C)=>{c(),_?n(_):w&&function(L,F){typeof createImageBitmap=="function"?function(U,Z){const K=new Blob([new Uint8Array(U)],{type:"image/png"});createImageBitmap(K).then(Y=>{Z(null,Y)}).catch(Y=>{Z(new Error(`Could not load image because of ${Y.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(L,F):function(U,Z){const K=new Image;K.onload=()=>{Z(null,K),URL.revokeObjectURL(K.src),K.onload=null,window.requestAnimationFrame(()=>{K.src=Ye})},K.onerror=()=>Z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Y=new Blob([new Uint8Array(U)],{type:"image/png"});K.src=U.byteLength?URL.createObjectURL(Y):Ye}(L,F)}(w,(L,F)=>{L!=null?n(L):F!=null&&n(null,F,{cacheControl:A,expires:C})})});return{cancel:()=>{m.cancel(),c()}}};function yn(r,n,o){o[r]&&o[r].indexOf(n)!==-1||(o[r]=o[r]||[],o[r].push(n))}function an(r,n,o){if(o&&o[r]){const c=o[r].indexOf(n);c!==-1&&o[r].splice(c,1)}}class dn{constructor(n,o={}){ce(this,o),this.type=n}}class bn extends dn{constructor(n,o={}){super("error",ce({error:n},o))}}class kn{on(n,o){return this._listeners=this._listeners||{},yn(n,o,this._listeners),this}off(n,o){return an(n,o,this._listeners),an(n,o,this._oneTimeListeners),this}once(n,o){return this._oneTimeListeners=this._oneTimeListeners||{},yn(n,o,this._oneTimeListeners),this}fire(n,o){typeof n=="string"&&(n=new dn(n,o||{}));const c=n.type;if(this.listens(c)){n.target=this;const m=this._listeners&&this._listeners[c]?this._listeners[c].slice():[];for(const A of m)A.call(this,n);const _=this._oneTimeListeners&&this._oneTimeListeners[c]?this._oneTimeListeners[c].slice():[];for(const A of _)an(c,A,this._oneTimeListeners),A.call(this,n);const w=this._eventedParent;w&&(ce(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),w.fire(n))}else n instanceof bn&&console.error(n.error);return this}listens(n){return this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n)}setEventedParent(n,o){return this._eventedParent=n,this._eventedParentData=o,this}}var ze={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class lt{constructor(n,o,c,m){this.message=(n?`${n}: `:"")+c,m&&(this.identifier=m),o!=null&&o.__line__&&(this.line=o.__line__)}}function Hi(r){const n=r.value;return n?[new lt(r.key,n,"constants have been deprecated as of v8")]:[]}function di(r,...n){for(const o of n)for(const c in o)r[c]=o[c];return r}function et(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function Ft(r){if(Array.isArray(r))return r.map(Ft);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const n={};for(const o in r)n[o]=Ft(r[o]);return n}return et(r)}class hn extends Error{constructor(n,o){super(o),this.message=o,this.key=n}}class Sn{constructor(n,o=[]){this.parent=n,this.bindings={};for(const[c,m]of o)this.bindings[c]=m}concat(n){return new Sn(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const Qt={kind:"null"},Ze={kind:"number"},Vt={kind:"string"},Ot={kind:"boolean"},Zn={kind:"color"},Ai={kind:"object"},Rt={kind:"value"},_i={kind:"collator"},vn={kind:"formatted"},rr={kind:"padding"},gi={kind:"resolvedImage"};function zi(r,n){return{kind:"array",itemType:r,N:n}}function $n(r){if(r.kind==="array"){const n=$n(r.itemType);return typeof r.N=="number"?`array<${n}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${n}>`}return r.kind}const Lo=[Qt,Ze,Vt,Ot,Zn,vn,Ai,zi(Rt),rr,gi];function gs(r,n){if(n.kind==="error")return null;if(r.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!gs(r.itemType,n.itemType))&&(typeof r.N!="number"||r.N===n.N))return null}else{if(r.kind===n.kind)return null;if(r.kind==="value"){for(const o of Lo)if(!gs(o,n))return null}}return`Expected ${$n(r)} but found ${$n(n)} instead.`}function js(r,n){return n.some(o=>o.kind===r.kind)}function ao(r,n){return n.some(o=>o==="null"?r===null:o==="array"?Array.isArray(r):o==="object"?r&&!Array.isArray(r)&&typeof r=="object":o===typeof r)}var Ro,qs={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ne(r){return(r=Math.round(r))<0?0:r>255?255:r}function N(r){return ne(r[r.length-1]==="%"?parseFloat(r)/100*255:parseInt(r))}function q(r){return(n=r[r.length-1]==="%"?parseFloat(r)/100:parseFloat(r))<0?0:n>1?1:n;var n}function J(r,n,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?r+(n-r)*o*6:2*o<1?n:3*o<2?r+(n-r)*(2/3-o)*6:r}try{Ro={}.parseCSSColor=function(r){var n,o=r.replace(/ /g,"").toLowerCase();if(o in qs)return qs[o].slice();if(o[0]==="#")return o.length===4?(n=parseInt(o.substr(1),16))>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null:o.length===7&&(n=parseInt(o.substr(1),16))>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null;var c=o.indexOf("("),m=o.indexOf(")");if(c!==-1&&m+1===o.length){var _=o.substr(0,c),w=o.substr(c+1,m-(c+1)).split(","),A=1;switch(_){case"rgba":if(w.length!==4)return null;A=q(w.pop());case"rgb":return w.length!==3?null:[N(w[0]),N(w[1]),N(w[2]),A];case"hsla":if(w.length!==4)return null;A=q(w.pop());case"hsl":if(w.length!==3)return null;var C=(parseFloat(w[0])%360+360)%360/360,L=q(w[1]),F=q(w[2]),U=F<=.5?F*(L+1):F+L-F*L,Z=2*F-U;return[ne(255*J(Z,U,C+1/3)),ne(255*J(Z,U,C)),ne(255*J(Z,U,C-1/3)),A];default:return null}}return null}}catch{}class ee{constructor(n,o,c,m=1){this.r=n,this.g=o,this.b=c,this.a=m}static parse(n){if(!n)return;if(n instanceof ee)return n;if(typeof n!="string")return;const o=Ro(n);return o?new ee(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[n,o,c,m]=this.toArray();return`rgba(${Math.round(n)},${Math.round(o)},${Math.round(c)},${m})`}toArray(){const{r:n,g:o,b:c,a:m}=this;return m===0?[0,0,0,0]:[255*n/m,255*o/m,255*c/m,m]}}ee.black=new ee(0,0,0,1),ee.white=new ee(1,1,1,1),ee.transparent=new ee(0,0,0,0),ee.red=new ee(1,0,0,1);class fe{constructor(n,o,c){this.sensitivity=n?o?"variant":"case":o?"accent":"base",this.locale=c,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,o){return this.collator.compare(n,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class be{constructor(n,o,c,m,_){this.text=n,this.image=o,this.scale=c,this.fontStack=m,this.textColor=_}}class ve{constructor(n){this.sections=n}static fromString(n){return new ve([new be(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof ve?n:ve.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}}class ge{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof ge)return n;if(typeof n=="number")return new ge([n,n,n,n]);if(Array.isArray(n)&&!(n.length<1||n.length>4)){for(const o of n)if(typeof o!="number")return;switch(n.length){case 1:n=[n[0],n[0],n[0],n[0]];break;case 2:n=[n[0],n[1],n[0],n[1]];break;case 3:n=[n[0],n[1],n[2],n[1]]}return new ge(n)}}toString(){return JSON.stringify(this.values)}}class Se{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new Se({name:n,available:!1}):null}}function Fe(r,n,o,c){return typeof r=="number"&&r>=0&&r<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof o=="number"&&o>=0&&o<=255?c===void 0||typeof c=="number"&&c>=0&&c<=1?null:`Invalid rgba value [${[r,n,o,c].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof c=="number"?[r,n,o,c]:[r,n,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function rt(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof ee||r instanceof fe||r instanceof ve||r instanceof ge||r instanceof Se)return!0;if(Array.isArray(r)){for(const n of r)if(!rt(n))return!1;return!0}if(typeof r=="object"){for(const n in r)if(!rt(r[n]))return!1;return!0}return!1}function Oe(r){if(r===null)return Qt;if(typeof r=="string")return Vt;if(typeof r=="boolean")return Ot;if(typeof r=="number")return Ze;if(r instanceof ee)return Zn;if(r instanceof fe)return _i;if(r instanceof ve)return vn;if(r instanceof ge)return rr;if(r instanceof Se)return gi;if(Array.isArray(r)){const n=r.length;let o;for(const c of r){const m=Oe(c);if(o){if(o===m)continue;o=Rt;break}o=m}return zi(o||Rt,n)}return Ai}function kt(r){const n=typeof r;return r===null?"":n==="string"||n==="number"||n==="boolean"?String(r):r instanceof ee||r instanceof ve||r instanceof ge||r instanceof Se?r.toString():JSON.stringify(r)}class It{constructor(n,o){this.type=n,this.value=o}static parse(n,o){if(n.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!rt(n[1]))return o.error("invalid value");const c=n[1];let m=Oe(c);const _=o.expectedType;return m.kind!=="array"||m.N!==0||!_||_.kind!=="array"||typeof _.N=="number"&&_.N!==0||(m=_),new It(m,c)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class xt{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const Gt={string:Vt,number:Ze,boolean:Ot,object:Ai};class Jt{constructor(n,o){this.type=n,this.args=o}static parse(n,o){if(n.length<2)return o.error("Expected at least one argument.");let c,m=1;const _=n[0];if(_==="array"){let A,C;if(n.length>2){const L=n[1];if(typeof L!="string"||!(L in Gt)||L==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);A=Gt[L],m++}else A=Rt;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return o.error('The length argument to "array" must be a positive integer literal',2);C=n[2],m++}c=zi(A,C)}else{if(!Gt[_])throw new Error(`Types doesn't contain name = ${_}`);c=Gt[_]}const w=[];for(;m<n.length;m++){const A=o.parse(n[m],m,Rt);if(!A)return null;w.push(A)}return new Jt(c,w)}evaluate(n){for(let o=0;o<this.args.length;o++){const c=this.args[o].evaluate(n);if(!gs(this.type,Oe(c)))return c;if(o===this.args.length-1)throw new xt(`Expected value to be of type ${$n(this.type)}, but found ${$n(Oe(c))} instead.`)}throw new Error}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}const Ln={"to-boolean":Ot,"to-color":Zn,"to-number":Ze,"to-string":Vt};class nn{constructor(n,o){this.type=n,this.args=o}static parse(n,o){if(n.length<2)return o.error("Expected at least one argument.");const c=n[0];if(!Ln[c])throw new Error(`Can't parse ${c} as it is not part of the known types`);if((c==="to-boolean"||c==="to-string")&&n.length!==2)return o.error("Expected one argument.");const m=Ln[c],_=[];for(let w=1;w<n.length;w++){const A=o.parse(n[w],w,Rt);if(!A)return null;_.push(A)}return new nn(m,_)}evaluate(n){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(n));if(this.type.kind==="color"){let o,c;for(const m of this.args){if(o=m.evaluate(n),c=null,o instanceof ee)return o;if(typeof o=="string"){const _=n.parseColor(o);if(_)return _}else if(Array.isArray(o)&&(c=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:Fe(o[0],o[1],o[2],o[3]),!c))return new ee(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new xt(c||`Could not parse color from value '${typeof o=="string"?o:JSON.stringify(o)}'`)}if(this.type.kind==="padding"){let o;for(const c of this.args){o=c.evaluate(n);const m=ge.parse(o);if(m)return m}throw new xt(`Could not parse padding from value '${typeof o=="string"?o:JSON.stringify(o)}'`)}if(this.type.kind==="number"){let o=null;for(const c of this.args){if(o=c.evaluate(n),o===null)return 0;const m=Number(o);if(!isNaN(m))return m}throw new xt(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?ve.fromString(kt(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?Se.fromString(kt(this.args[0].evaluate(n))):kt(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}const mn=["Unknown","Point","LineString","Polygon"];class Pn{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?mn[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(n){let o=this._parseColorCache[n];return o||(o=this._parseColorCache[n]=ee.parse(n)),o}}class Xn{constructor(n,o,c,m){this.name=n,this.type=o,this._evaluate=c,this.args=m}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}static parse(n,o){const c=n[0],m=Xn.definitions[c];if(!m)return o.error(`Unknown expression "${c}". If you wanted a literal array, use ["literal", [...]].`,0);const _=Array.isArray(m)?m[0]:m.type,w=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,A=w.filter(([L])=>!Array.isArray(L)||L.length===n.length-1);let C=null;for(const[L,F]of A){C=new ys(o.registry,o.path,null,o.scope);const U=[];let Z=!1;for(let K=1;K<n.length;K++){const Y=n[K],me=Array.isArray(L)?L[K-1]:L.type,pe=C.parse(Y,1+U.length,me);if(!pe){Z=!0;break}U.push(pe)}if(!Z)if(Array.isArray(L)&&L.length!==U.length)C.error(`Expected ${L.length} arguments, but found ${U.length} instead.`);else{for(let K=0;K<U.length;K++){const Y=Array.isArray(L)?L[K]:L.type,me=U[K];C.concat(K+1).checkSubtype(Y,me.type)}if(C.errors.length===0)return new Xn(c,_,F,U)}}if(A.length===1)o.errors.push(...C.errors);else{const L=(A.length?A:w).map(([U])=>{return Z=U,Array.isArray(Z)?`(${Z.map($n).join(", ")})`:`(${$n(Z.type)}...)`;var Z}).join(" | "),F=[];for(let U=1;U<n.length;U++){const Z=o.parse(n[U],1+F.length);if(!Z)return null;F.push($n(Z.type))}o.error(`Expected arguments of type ${L}, but found (${F.join(", ")}) instead.`)}return null}static register(n,o){Xn.definitions=o;for(const c in o)n[c]=Xn}}class Wn{constructor(n,o,c){this.type=_i,this.locale=c,this.caseSensitive=n,this.diacriticSensitive=o}static parse(n,o){if(n.length!==2)return o.error("Expected one argument.");const c=n[1];if(typeof c!="object"||Array.isArray(c))return o.error("Collator options argument must be an object.");const m=o.parse(c["case-sensitive"]!==void 0&&c["case-sensitive"],1,Ot);if(!m)return null;const _=o.parse(c["diacritic-sensitive"]!==void 0&&c["diacritic-sensitive"],1,Ot);if(!_)return null;let w=null;return c.locale&&(w=o.parse(c.locale,1,Vt),!w)?null:new Wn(m,_,w)}evaluate(n){return new fe(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}}const Kn=8192;function Fi(r,n){r[0]=Math.min(r[0],n[0]),r[1]=Math.min(r[1],n[1]),r[2]=Math.max(r[2],n[0]),r[3]=Math.max(r[3],n[1])}function Bo(r,n){return!(r[0]<=n[0]||r[2]>=n[2]||r[1]<=n[1]||r[3]>=n[3])}function oa(r,n){const o=(180+r[0])/360,c=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,m=Math.pow(2,n.z);return[Math.round(o*m*Kn),Math.round(c*m*Kn)]}function Hn(r,n,o){const c=r[0]-n[0],m=r[1]-n[1],_=r[0]-o[0],w=r[1]-o[1];return c*w-_*m==0&&c*_<=0&&m*w<=0}function $a(r,n){let o=!1;for(let w=0,A=n.length;w<A;w++){const C=n[w];for(let L=0,F=C.length;L<F-1;L++){if(Hn(r,C[L],C[L+1]))return!1;(m=C[L])[1]>(c=r)[1]!=(_=C[L+1])[1]>c[1]&&c[0]<(_[0]-m[0])*(c[1]-m[1])/(_[1]-m[1])+m[0]&&(o=!o)}}var c,m,_;return o}function No(r,n){for(let o=0;o<n.length;o++)if($a(r,n[o]))return!0;return!1}function Ol(r,n,o,c){const m=c[0]-o[0],_=c[1]-o[1],w=(r[0]-o[0])*_-m*(r[1]-o[1]),A=(n[0]-o[0])*_-m*(n[1]-o[1]);return w>0&&A<0||w<0&&A>0}function Pu(r,n,o){for(const L of o)for(let F=0;F<L.length-1;++F)if((A=[(w=L[F+1])[0]-(_=L[F])[0],w[1]-_[1]])[0]*(C=[(m=n)[0]-(c=r)[0],m[1]-c[1]])[1]-A[1]*C[0]!=0&&Ol(c,m,_,w)&&Ol(_,w,c,m))return!0;var c,m,_,w,A,C;return!1}function Vl(r,n){for(let o=0;o<r.length;++o)if(!$a(r[o],n))return!1;for(let o=0;o<r.length-1;++o)if(Pu(r[o],r[o+1],n))return!1;return!0}function ts(r,n){for(let o=0;o<n.length;o++)if(Vl(r,n[o]))return!0;return!1}function aa(r,n,o){const c=[];for(let m=0;m<r.length;m++){const _=[];for(let w=0;w<r[m].length;w++){const A=oa(r[m][w],o);Fi(n,A),_.push(A)}c.push(_)}return c}function lo(r,n,o){const c=[];for(let m=0;m<r.length;m++){const _=aa(r[m],n,o);c.push(_)}return c}function Iu(r,n,o,c){if(r[0]<o[0]||r[0]>o[2]){const m=.5*c;let _=r[0]-o[0]>m?-c:o[0]-r[0]>m?c:0;_===0&&(_=r[0]-o[2]>m?-c:o[2]-r[0]>m?c:0),r[0]+=_}Fi(n,r)}function Mu(r,n,o,c){const m=Math.pow(2,c.z)*Kn,_=[c.x*Kn,c.y*Kn],w=[];for(const A of r)for(const C of A){const L=[C.x+_[0],C.y+_[1]];Iu(L,n,o,m),w.push(L)}return w}function Gs(r,n,o,c){const m=Math.pow(2,c.z)*Kn,_=[c.x*Kn,c.y*Kn],w=[];for(const C of r){const L=[];for(const F of C){const U=[F.x+_[0],F.y+_[1]];Fi(n,U),L.push(U)}w.push(L)}if(n[2]-n[0]<=m/2){(A=n)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const C of w)for(const L of C)Iu(L,n,o,m)}var A;return w}class Ir{constructor(n,o){this.type=Ot,this.geojson=n,this.geometries=o}static parse(n,o){if(n.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(rt(n[1])){const c=n[1];if(c.type==="FeatureCollection")for(let m=0;m<c.features.length;++m){const _=c.features[m].geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Ir(c,c.features[m].geometry)}else if(c.type==="Feature"){const m=c.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new Ir(c,c.geometry)}else if(c.type==="Polygon"||c.type==="MultiPolygon")return new Ir(c,c)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(o,c){const m=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],w=o.canonicalID();if(c.type==="Polygon"){const A=aa(c.coordinates,_,w),C=Mu(o.geometry(),m,_,w);if(!Bo(m,_))return!1;for(const L of C)if(!$a(L,A))return!1}if(c.type==="MultiPolygon"){const A=lo(c.coordinates,_,w),C=Mu(o.geometry(),m,_,w);if(!Bo(m,_))return!1;for(const L of C)if(!No(L,A))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(o,c){const m=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],w=o.canonicalID();if(c.type==="Polygon"){const A=aa(c.coordinates,_,w),C=Gs(o.geometry(),m,_,w);if(!Bo(m,_))return!1;for(const L of C)if(!Vl(L,A))return!1}if(c.type==="MultiPolygon"){const A=lo(c.coordinates,_,w),C=Gs(o.geometry(),m,_,w);if(!Bo(m,_))return!1;for(const L of C)if(!ts(L,A))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function uo(r){if(r instanceof Xn&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof Ir)return!1;let n=!0;return r.eachChild(o=>{n&&!uo(o)&&(n=!1)}),n}function Fo(r){if(r instanceof Xn&&r.name==="feature-state")return!1;let n=!0;return r.eachChild(o=>{n&&!Fo(o)&&(n=!1)}),n}function la(r,n){if(r instanceof Xn&&n.indexOf(r.name)>=0)return!1;let o=!0;return r.eachChild(c=>{o&&!la(c,n)&&(o=!1)}),o}class ua{constructor(n,o){this.type=o.type,this.name=n,this.boundExpression=o}static parse(n,o){if(n.length!==2||typeof n[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const c=n[1];return o.scope.has(c)?new ua(c,o.scope.get(c)):o.error(`Unknown variable "${c}". Make sure "${c}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}}class ys{constructor(n,o=[],c,m=new Sn,_=[]){this.registry=n,this.path=o,this.key=o.map(w=>`[${w}]`).join(""),this.scope=m,this.errors=_,this.expectedType=c}parse(n,o,c,m,_={}){return o?this.concat(o,c,m)._parse(n,_):this._parse(n,_)}_parse(n,o){function c(m,_,w){return w==="assert"?new Jt(_,[m]):w==="coerce"?new nn(_,[m]):m}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=n[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const _=this.registry[m];if(_){let w=_.parse(n,this);if(!w)return null;if(this.expectedType){const A=this.expectedType,C=w.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||C.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||C.kind!=="value"&&C.kind!=="string")if(A.kind!=="padding"||C.kind!=="value"&&C.kind!=="number"&&C.kind!=="array"){if(this.checkSubtype(A,C))return null}else w=c(w,A,o.typeAnnotation||"coerce");else w=c(w,A,o.typeAnnotation||"coerce");else w=c(w,A,o.typeAnnotation||"assert")}if(!(w instanceof It)&&w.type.kind!=="resolvedImage"&&Xa(w)){const A=new Pn;try{w=new It(w.type,w.evaluate(A))}catch(C){return this.error(C.message),null}}return w}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,o,c){const m=typeof n=="number"?this.path.concat(n):this.path,_=c?this.scope.concat(c):this.scope;return new ys(this.registry,m,o||null,_,this.errors)}error(n,...o){const c=`${this.key}${o.map(m=>`[${m}]`).join("")}`;this.errors.push(new hn(c,n))}checkSubtype(n,o){const c=gs(n,o);return c&&this.error(c),c}}function Xa(r){if(r instanceof ua)return Xa(r.boundExpression);if(r instanceof Xn&&r.name==="error"||r instanceof Wn||r instanceof Ir)return!1;const n=r instanceof nn||r instanceof Jt;let o=!0;return r.eachChild(c=>{o=n?o&&Xa(c):o&&c instanceof It}),!!o&&uo(r)&&la(r,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Oo(r,n){const o=r.length-1;let c,m,_=0,w=o,A=0;for(;_<=w;)if(A=Math.floor((_+w)/2),c=r[A],m=r[A+1],c<=n){if(A===o||n<m)return A;_=A+1}else{if(!(c>n))throw new xt("Input is not a number.");w=A-1}return 0}class ca{constructor(n,o,c){this.type=n,this.input=o,this.labels=[],this.outputs=[];for(const[m,_]of c)this.labels.push(m),this.outputs.push(_)}static parse(n,o){if(n.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return o.error("Expected an even number of arguments.");const c=o.parse(n[1],1,Ze);if(!c)return null;const m=[];let _=null;o.expectedType&&o.expectedType.kind!=="value"&&(_=o.expectedType);for(let w=1;w<n.length;w+=2){const A=w===1?-1/0:n[w],C=n[w+1],L=w,F=w+1;if(typeof A!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',L);if(m.length&&m[m.length-1][0]>=A)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',L);const U=o.parse(C,F,_);if(!U)return null;_=_||U.type,m.push([A,U])}return new ca(_,c,m)}evaluate(n){const o=this.labels,c=this.outputs;if(o.length===1)return c[0].evaluate(n);const m=this.input.evaluate(n);if(m<=o[0])return c[0].evaluate(n);const _=o.length;return m>=o[_-1]?c[_-1].evaluate(n):c[Oo(o,m)].evaluate(n)}eachChild(n){n(this.input);for(const o of this.outputs)n(o)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}}function pi(r,n,o){return r*(1-o)+n*o}var ha=Object.freeze({__proto__:null,number:pi,color:function(r,n,o){return new ee(pi(r.r,n.r,o),pi(r.g,n.g,o),pi(r.b,n.b,o),pi(r.a,n.a,o))},array:function(r,n,o){return r.map((c,m)=>pi(c,n[m],o))},padding:function(r,n,o){const c=r.values,m=n.values;return new ge([pi(c[0],m[0],o),pi(c[1],m[1],o),pi(c[2],m[2],o),pi(c[3],m[3],o)])}});const zu=.95047,Ka=1.08883,Ul=4/29,Ya=6/29,Du=3*Ya*Ya,Fc=Math.PI/180,Oc=180/Math.PI;function jl(r){return r>.008856451679035631?Math.pow(r,1/3):r/Du+Ul}function ql(r){return r>Ya?r*r*r:Du*(r-Ul)}function Qa(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function da(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Nn(r){const n=da(r.r),o=da(r.g),c=da(r.b),m=jl((.4124564*n+.3575761*o+.1804375*c)/zu),_=jl((.2126729*n+.7151522*o+.072175*c)/1);return{l:116*_-16,a:500*(m-_),b:200*(_-jl((.0193339*n+.119192*o+.9503041*c)/Ka)),alpha:r.a}}function Ja(r){let n=(r.l+16)/116,o=isNaN(r.a)?n:n+r.a/500,c=isNaN(r.b)?n:n-r.b/200;return n=1*ql(n),o=zu*ql(o),c=Ka*ql(c),new ee(Qa(3.2404542*o-1.5371385*n-.4985314*c),Qa(-.969266*o+1.8760108*n+.041556*c),Qa(.0556434*o-.2040259*n+1.0572252*c),r.alpha)}function Lu(r,n,o){const c=n-r;return r+o*(c>180||c<-180?c-360*Math.round(c/360):c)}const Vo={forward:Nn,reverse:Ja,interpolate:function(r,n,o){return{l:pi(r.l,n.l,o),a:pi(r.a,n.a,o),b:pi(r.b,n.b,o),alpha:pi(r.alpha,n.alpha,o)}}},co={forward:function(r){const{l:n,a:o,b:c}=Nn(r),m=Math.atan2(c,o)*Oc;return{h:m<0?m+360:m,c:Math.sqrt(o*o+c*c),l:n,alpha:r.a}},reverse:function(r){const n=r.h*Fc,o=r.c;return Ja({l:r.l,a:Math.cos(n)*o,b:Math.sin(n)*o,alpha:r.alpha})},interpolate:function(r,n,o){return{h:Lu(r.h,n.h,o),c:pi(r.c,n.c,o),l:pi(r.l,n.l,o),alpha:pi(r.alpha,n.alpha,o)}}};var Ru=Object.freeze({__proto__:null,lab:Vo,hcl:co});class Mr{constructor(n,o,c,m,_){this.type=n,this.operator=o,this.interpolation=c,this.input=m,this.labels=[],this.outputs=[];for(const[w,A]of _)this.labels.push(w),this.outputs.push(A)}static interpolationFactor(n,o,c,m){let _=0;if(n.name==="exponential")_=Gl(o,n.base,c,m);else if(n.name==="linear")_=Gl(o,1,c,m);else if(n.name==="cubic-bezier"){const w=n.controlPoints;_=new S(w[0],w[1],w[2],w[3]).solve(Gl(o,1,c,m))}return _}static parse(n,o){let[c,m,_,...w]=n;if(!Array.isArray(m)||m.length===0)return o.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const L=m[1];if(typeof L!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:L}}else{if(m[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const L=m.slice(1);if(L.length!==4||L.some(F=>typeof F!="number"||F<0||F>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:L}}}if(n.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(_=o.parse(_,2,Ze),!_)return null;const A=[];let C=null;c==="interpolate-hcl"||c==="interpolate-lab"?C=Zn:o.expectedType&&o.expectedType.kind!=="value"&&(C=o.expectedType);for(let L=0;L<w.length;L+=2){const F=w[L],U=w[L+1],Z=L+3,K=L+4;if(typeof F!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(A.length&&A[A.length-1][0]>=F)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Z);const Y=o.parse(U,K,C);if(!Y)return null;C=C||Y.type,A.push([F,Y])}return C.kind==="number"||C.kind==="color"||C.kind==="padding"||C.kind==="array"&&C.itemType.kind==="number"&&typeof C.N=="number"?new Mr(C,c,m,_,A):o.error(`Type ${$n(C)} is not interpolatable.`)}evaluate(n){const o=this.labels,c=this.outputs;if(o.length===1)return c[0].evaluate(n);const m=this.input.evaluate(n);if(m<=o[0])return c[0].evaluate(n);const _=o.length;if(m>=o[_-1])return c[_-1].evaluate(n);const w=Oo(o,m),A=Mr.interpolationFactor(this.interpolation,m,o[w],o[w+1]),C=c[w].evaluate(n),L=c[w+1].evaluate(n);return this.operator==="interpolate"?ha[this.type.kind.toLowerCase()](C,L,A):this.operator==="interpolate-hcl"?co.reverse(co.interpolate(co.forward(C),co.forward(L),A)):Vo.reverse(Vo.interpolate(Vo.forward(C),Vo.forward(L),A))}eachChild(n){n(this.input);for(const o of this.outputs)n(o)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}}function Gl(r,n,o,c){const m=c-o,_=r-o;return m===0?0:n===1?_/m:(Math.pow(n,_)-1)/(Math.pow(n,m)-1)}class Ws{constructor(n,o){this.type=n,this.args=o}static parse(n,o){if(n.length<2)return o.error("Expectected at least one argument.");let c=null;const m=o.expectedType;m&&m.kind!=="value"&&(c=m);const _=[];for(const A of n.slice(1)){const C=o.parse(A,1+_.length,c,void 0,{typeAnnotation:"omit"});if(!C)return null;c=c||C.type,_.push(C)}if(!c)throw new Error("No output type");const w=m&&_.some(A=>gs(m,A.type));return new Ws(w?Rt:c,_)}evaluate(n){let o,c=null,m=0;for(const _ of this.args)if(m++,c=_.evaluate(n),c&&c instanceof Se&&!c.available&&(o||(o=c.name),c=null,m===this.args.length&&(c=o)),c!==null)break;return c}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}class pa{constructor(n,o){this.type=o.type,this.bindings=[].concat(n),this.result=o}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const o of this.bindings)n(o[1]);n(this.result)}static parse(n,o){if(n.length<4)return o.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const c=[];for(let _=1;_<n.length-1;_+=2){const w=n[_];if(typeof w!="string")return o.error(`Expected string, but found ${typeof w} instead.`,_);if(/[^a-zA-Z0-9_]/.test(w))return o.error("Variable names must contain only alphanumeric characters or '_'.",_);const A=o.parse(n[_+1],_+1);if(!A)return null;c.push([w,A])}const m=o.parse(n[n.length-1],n.length-1,o.expectedType,c);return m?new pa(c,m):null}outputDefined(){return this.result.outputDefined()}}class fa{constructor(n,o,c){this.type=n,this.index=o,this.input=c}static parse(n,o){if(n.length!==3)return o.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const c=o.parse(n[1],1,Ze),m=o.parse(n[2],2,zi(o.expectedType||Rt));return c&&m?new fa(m.type.itemType,c,m):null}evaluate(n){const o=this.index.evaluate(n),c=this.input.evaluate(n);if(o<0)throw new xt(`Array index out of bounds: ${o} < 0.`);if(o>=c.length)throw new xt(`Array index out of bounds: ${o} > ${c.length-1}.`);if(o!==Math.floor(o))throw new xt(`Array index must be an integer, but found ${o} instead.`);return c[o]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}}class Wl{constructor(n,o){this.type=Ot,this.needle=n,this.haystack=o}static parse(n,o){if(n.length!==3)return o.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const c=o.parse(n[1],1,Rt),m=o.parse(n[2],2,Rt);return c&&m?js(c.type,[Ot,Vt,Ze,Qt,Rt])?new Wl(c,m):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${$n(c.type)} instead`):null}evaluate(n){const o=this.needle.evaluate(n),c=this.haystack.evaluate(n);if(!c)return!1;if(!ao(o,["boolean","string","number","null"]))throw new xt(`Expected first argument to be of type boolean, string, number or null, but found ${$n(Oe(o))} instead.`);if(!ao(c,["string","array"]))throw new xt(`Expected second argument to be of type array or string, but found ${$n(Oe(c))} instead.`);return c.indexOf(o)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}}class el{constructor(n,o,c){this.type=Ze,this.needle=n,this.haystack=o,this.fromIndex=c}static parse(n,o){if(n.length<=2||n.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const c=o.parse(n[1],1,Rt),m=o.parse(n[2],2,Rt);if(!c||!m)return null;if(!js(c.type,[Ot,Vt,Ze,Qt,Rt]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${$n(c.type)} instead`);if(n.length===4){const _=o.parse(n[3],3,Ze);return _?new el(c,m,_):null}return new el(c,m)}evaluate(n){const o=this.needle.evaluate(n),c=this.haystack.evaluate(n);if(!ao(o,["boolean","string","number","null"]))throw new xt(`Expected first argument to be of type boolean, string, number or null, but found ${$n(Oe(o))} instead.`);if(!ao(c,["string","array"]))throw new xt(`Expected second argument to be of type array or string, but found ${$n(Oe(c))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(n);return c.indexOf(o,m)}return c.indexOf(o)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}}class Hl{constructor(n,o,c,m,_,w){this.inputType=n,this.type=o,this.input=c,this.cases=m,this.outputs=_,this.otherwise=w}static parse(n,o){if(n.length<5)return o.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return o.error("Expected an even number of arguments.");let c,m;o.expectedType&&o.expectedType.kind!=="value"&&(m=o.expectedType);const _={},w=[];for(let L=2;L<n.length-1;L+=2){let F=n[L];const U=n[L+1];Array.isArray(F)||(F=[F]);const Z=o.concat(L);if(F.length===0)return Z.error("Expected at least one branch label.");for(const Y of F){if(typeof Y!="number"&&typeof Y!="string")return Z.error("Branch labels must be numbers or strings.");if(typeof Y=="number"&&Math.abs(Y)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Y=="number"&&Math.floor(Y)!==Y)return Z.error("Numeric branch labels must be integer values.");if(c){if(Z.checkSubtype(c,Oe(Y)))return null}else c=Oe(Y);if(_[String(Y)]!==void 0)return Z.error("Branch labels must be unique.");_[String(Y)]=w.length}const K=o.parse(U,L,m);if(!K)return null;m=m||K.type,w.push(K)}const A=o.parse(n[1],1,Rt);if(!A)return null;const C=o.parse(n[n.length-1],n.length-1,m);return C?A.type.kind!=="value"&&o.concat(1).checkSubtype(c,A.type)?null:new Hl(c,m,A,_,w,C):null}evaluate(n){const o=this.input.evaluate(n);return(Oe(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}}class v{constructor(n,o,c){this.type=n,this.branches=o,this.otherwise=c}static parse(n,o){if(n.length<4)return o.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return o.error("Expected an odd number of arguments.");let c;o.expectedType&&o.expectedType.kind!=="value"&&(c=o.expectedType);const m=[];for(let w=1;w<n.length-1;w+=2){const A=o.parse(n[w],w,Ot);if(!A)return null;const C=o.parse(n[w+1],w+1,c);if(!C)return null;m.push([A,C]),c=c||C.type}const _=o.parse(n[n.length-1],n.length-1,c);if(!_)return null;if(!c)throw new Error("Can't infer output type");return new v(c,m,_)}evaluate(n){for(const[o,c]of this.branches)if(o.evaluate(n))return c.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[o,c]of this.branches)n(o),n(c);n(this.otherwise)}outputDefined(){return this.branches.every(([n,o])=>o.outputDefined())&&this.otherwise.outputDefined()}}class b{constructor(n,o,c,m){this.type=n,this.input=o,this.beginIndex=c,this.endIndex=m}static parse(n,o){if(n.length<=2||n.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const c=o.parse(n[1],1,Rt),m=o.parse(n[2],2,Ze);if(!c||!m)return null;if(!js(c.type,[zi(Rt),Vt,Rt]))return o.error(`Expected first argument to be of type array or string, but found ${$n(c.type)} instead`);if(n.length===4){const _=o.parse(n[3],3,Ze);return _?new b(c.type,c,m,_):null}return new b(c.type,c,m)}evaluate(n){const o=this.input.evaluate(n),c=this.beginIndex.evaluate(n);if(!ao(o,["string","array"]))throw new xt(`Expected first argument to be of type array or string, but found ${$n(Oe(o))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(n);return o.slice(c,m)}return o.slice(c)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}}function E(r,n){return r==="=="||r==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function D(r,n,o,c){return c.compare(n,o)===0}function j(r,n,o){const c=r!=="=="&&r!=="!=";return class MT{constructor(_,w,A){this.type=Ot,this.lhs=_,this.rhs=w,this.collator=A,this.hasUntypedArgument=_.type.kind==="value"||w.type.kind==="value"}static parse(_,w){if(_.length!==3&&_.length!==4)return w.error("Expected two or three arguments.");const A=_[0];let C=w.parse(_[1],1,Rt);if(!C)return null;if(!E(A,C.type))return w.concat(1).error(`"${A}" comparisons are not supported for type '${$n(C.type)}'.`);let L=w.parse(_[2],2,Rt);if(!L)return null;if(!E(A,L.type))return w.concat(2).error(`"${A}" comparisons are not supported for type '${$n(L.type)}'.`);if(C.type.kind!==L.type.kind&&C.type.kind!=="value"&&L.type.kind!=="value")return w.error(`Cannot compare types '${$n(C.type)}' and '${$n(L.type)}'.`);c&&(C.type.kind==="value"&&L.type.kind!=="value"?C=new Jt(L.type,[C]):C.type.kind!=="value"&&L.type.kind==="value"&&(L=new Jt(C.type,[L])));let F=null;if(_.length===4){if(C.type.kind!=="string"&&L.type.kind!=="string"&&C.type.kind!=="value"&&L.type.kind!=="value")return w.error("Cannot use collator to compare non-string types.");if(F=w.parse(_[3],3,_i),!F)return null}return new MT(C,L,F)}evaluate(_){const w=this.lhs.evaluate(_),A=this.rhs.evaluate(_);if(c&&this.hasUntypedArgument){const C=Oe(w),L=Oe(A);if(C.kind!==L.kind||C.kind!=="string"&&C.kind!=="number")throw new xt(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${C.kind}, ${L.kind}) instead.`)}if(this.collator&&!c&&this.hasUntypedArgument){const C=Oe(w),L=Oe(A);if(C.kind!=="string"||L.kind!=="string")return n(_,w,A)}return this.collator?o(_,w,A,this.collator.evaluate(_)):n(_,w,A)}eachChild(_){_(this.lhs),_(this.rhs),this.collator&&_(this.collator)}outputDefined(){return!0}}}const G=j("==",function(r,n,o){return n===o},D),X=j("!=",function(r,n,o){return n!==o},function(r,n,o,c){return!D(0,n,o,c)}),_e=j("<",function(r,n,o){return n<o},function(r,n,o,c){return c.compare(n,o)<0}),ye=j(">",function(r,n,o){return n>o},function(r,n,o,c){return c.compare(n,o)>0}),Ie=j("<=",function(r,n,o){return n<=o},function(r,n,o,c){return c.compare(n,o)<=0}),je=j(">=",function(r,n,o){return n>=o},function(r,n,o,c){return c.compare(n,o)>=0});class at{constructor(n,o,c,m,_){this.type=Vt,this.number=n,this.locale=o,this.currency=c,this.minFractionDigits=m,this.maxFractionDigits=_}static parse(n,o){if(n.length!==3)return o.error("Expected two arguments.");const c=o.parse(n[1],1,Ze);if(!c)return null;const m=n[2];if(typeof m!="object"||Array.isArray(m))return o.error("NumberFormat options argument must be an object.");let _=null;if(m.locale&&(_=o.parse(m.locale,1,Vt),!_))return null;let w=null;if(m.currency&&(w=o.parse(m.currency,1,Vt),!w))return null;let A=null;if(m["min-fraction-digits"]&&(A=o.parse(m["min-fraction-digits"],1,Ze),!A))return null;let C=null;return m["max-fraction-digits"]&&(C=o.parse(m["max-fraction-digits"],1,Ze),!C)?null:new at(c,_,w,A,C)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}}class Be{constructor(n){this.type=vn,this.sections=n}static parse(n,o){if(n.length<2)return o.error("Expected at least one argument.");const c=n[1];if(!Array.isArray(c)&&typeof c=="object")return o.error("First argument must be an image or text section.");const m=[];let _=!1;for(let w=1;w<=n.length-1;++w){const A=n[w];if(_&&typeof A=="object"&&!Array.isArray(A)){_=!1;let C=null;if(A["font-scale"]&&(C=o.parse(A["font-scale"],1,Ze),!C))return null;let L=null;if(A["text-font"]&&(L=o.parse(A["text-font"],1,zi(Vt)),!L))return null;let F=null;if(A["text-color"]&&(F=o.parse(A["text-color"],1,Zn),!F))return null;const U=m[m.length-1];U.scale=C,U.font=L,U.textColor=F}else{const C=o.parse(n[w],1,Rt);if(!C)return null;const L=C.type.kind;if(L!=="string"&&L!=="value"&&L!=="null"&&L!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");_=!0,m.push({content:C,scale:null,font:null,textColor:null})}}return new Be(m)}evaluate(n){return new ve(this.sections.map(o=>{const c=o.content.evaluate(n);return Oe(c)===gi?new be("",c,null,null,null):new be(kt(c),null,o.scale?o.scale.evaluate(n):null,o.font?o.font.evaluate(n).join(","):null,o.textColor?o.textColor.evaluate(n):null)}))}eachChild(n){for(const o of this.sections)n(o.content),o.scale&&n(o.scale),o.font&&n(o.font),o.textColor&&n(o.textColor)}outputDefined(){return!1}}class Xe{constructor(n){this.type=gi,this.input=n}static parse(n,o){if(n.length!==2)return o.error("Expected two arguments.");const c=o.parse(n[1],1,Vt);return c?new Xe(c):o.error("No image name provided.")}evaluate(n){const o=this.input.evaluate(n),c=Se.fromString(o);return c&&n.availableImages&&(c.available=n.availableImages.indexOf(o)>-1),c}eachChild(n){n(this.input)}outputDefined(){return!1}}class Wt{constructor(n){this.type=Ze,this.input=n}static parse(n,o){if(n.length!==2)return o.error(`Expected 1 argument, but found ${n.length-1} instead.`);const c=o.parse(n[1],1);return c?c.type.kind!=="array"&&c.type.kind!=="string"&&c.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${$n(c.type)} instead.`):new Wt(c):null}evaluate(n){const o=this.input.evaluate(n);if(typeof o=="string"||Array.isArray(o))return o.length;throw new xt(`Expected value to be of type string or array, but found ${$n(Oe(o))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}}const un={"==":G,"!=":X,">":ye,"<":_e,">=":je,"<=":Ie,array:Jt,at:fa,boolean:Jt,case:v,coalesce:Ws,collator:Wn,format:Be,image:Xe,in:Wl,"index-of":el,interpolate:Mr,"interpolate-hcl":Mr,"interpolate-lab":Mr,length:Wt,let:pa,literal:It,match:Hl,number:Jt,"number-format":at,object:Jt,slice:b,step:ca,string:Jt,"to-boolean":nn,"to-color":nn,"to-number":nn,"to-string":nn,var:ua,within:Ir};function $t(r,[n,o,c,m]){n=n.evaluate(r),o=o.evaluate(r),c=c.evaluate(r);const _=m?m.evaluate(r):1,w=Fe(n,o,c,_);if(w)throw new xt(w);return new ee(n/255*_,o/255*_,c/255*_,_)}function Di(r,n){return r in n}function xi(r,n){const o=n[r];return o===void 0?null:o}function Oi(r){return{type:r}}function Jn(r){return{result:"success",value:r}}function ln(r){return{result:"error",value:r}}function An(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function Fn(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function jt(r){return!!r.expression&&r.expression.interpolated}function Mn(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Yn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function zn(r){return r}function ns(r,n){const o=n.type==="color",c=r.stops&&typeof r.stops[0][0]=="object",m=c||!(c||r.property!==void 0),_=r.type||(jt(n)?"exponential":"interval");if(o||n.type==="padding"){const L=o?ee.parse:ge.parse;(r=di({},r)).stops&&(r.stops=r.stops.map(F=>[F[0],L(F[1])])),r.default=L(r.default?r.default:n.default)}if(r.colorSpace&&r.colorSpace!=="rgb"&&!Ru[r.colorSpace])throw new Error(`Unknown color space: ${r.colorSpace}`);let w,A,C;if(_==="exponential")w=zr;else if(_==="interval")w=Hs;else if(_==="categorical"){w=_r,A=Object.create(null);for(const L of r.stops)A[L[0]]=L[1];C=typeof r.stops[0][0]}else{if(_!=="identity")throw new Error(`Unknown function type "${_}"`);w=Zs}if(c){const L={},F=[];for(let K=0;K<r.stops.length;K++){const Y=r.stops[K],me=Y[0].zoom;L[me]===void 0&&(L[me]={zoom:me,type:r.type,property:r.property,default:r.default,stops:[]},F.push(me)),L[me].stops.push([Y[0].value,Y[1]])}const U=[];for(const K of F)U.push([L[K].zoom,ns(L[K],n)]);const Z={name:"linear"};return{kind:"composite",interpolationType:Z,interpolationFactor:Mr.interpolationFactor.bind(void 0,Z),zoomStops:U.map(K=>K[0]),evaluate:({zoom:K},Y)=>zr({stops:U,base:r.base},n,K).evaluate(K,Y)}}if(m){const L=_==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:L,interpolationFactor:Mr.interpolationFactor.bind(void 0,L),zoomStops:r.stops.map(F=>F[0]),evaluate:({zoom:F})=>w(r,n,F,A,C)}}return{kind:"source",evaluate(L,F){const U=F&&F.properties?F.properties[r.property]:void 0;return U===void 0?jr(r.default,n.default):w(r,n,U,A,C)}}}function jr(r,n,o){return r!==void 0?r:n!==void 0?n:o!==void 0?o:void 0}function _r(r,n,o,c,m){return jr(typeof o===m?c[o]:void 0,r.default,n.default)}function Hs(r,n,o){if(Mn(o)!=="number")return jr(r.default,n.default);const c=r.stops.length;if(c===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[c-1][0])return r.stops[c-1][1];const m=Oo(r.stops.map(_=>_[0]),o);return r.stops[m][1]}function zr(r,n,o){const c=r.base!==void 0?r.base:1;if(Mn(o)!=="number")return jr(r.default,n.default);const m=r.stops.length;if(m===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[m-1][0])return r.stops[m-1][1];const _=Oo(r.stops.map(F=>F[0]),o),w=function(F,U,Z,K){const Y=K-Z,me=F-Z;return Y===0?0:U===1?me/Y:(Math.pow(U,me)-1)/(Math.pow(U,Y)-1)}(o,c,r.stops[_][0],r.stops[_+1][0]),A=r.stops[_][1],C=r.stops[_+1][1];let L=ha[n.type]||zn;if(r.colorSpace&&r.colorSpace!=="rgb"){const F=Ru[r.colorSpace];L=(U,Z)=>F.reverse(F.interpolate(F.forward(U),F.forward(Z),w))}return typeof A.evaluate=="function"?{evaluate(...F){const U=A.evaluate.apply(void 0,F),Z=C.evaluate.apply(void 0,F);if(U!==void 0&&Z!==void 0)return L(U,Z,w)}}:L(A,C,w)}function Zs(r,n,o){switch(n.type){case"color":o=ee.parse(o);break;case"formatted":o=ve.fromString(o.toString());break;case"resolvedImage":o=Se.fromString(o.toString());break;case"padding":o=ge.parse(o);break;default:Mn(o)===n.type||n.type==="enum"&&n.values[o]||(o=void 0)}return jr(o,r.default,n.default)}Xn.register(un,{error:[{kind:"error"},[Vt],(r,[n])=>{throw new xt(n.evaluate(r))}],typeof:[Vt,[Rt],(r,[n])=>$n(Oe(n.evaluate(r)))],"to-rgba":[zi(Ze,4),[Zn],(r,[n])=>n.evaluate(r).toArray()],rgb:[Zn,[Ze,Ze,Ze],$t],rgba:[Zn,[Ze,Ze,Ze,Ze],$t],has:{type:Ot,overloads:[[[Vt],(r,[n])=>Di(n.evaluate(r),r.properties())],[[Vt,Ai],(r,[n,o])=>Di(n.evaluate(r),o.evaluate(r))]]},get:{type:Rt,overloads:[[[Vt],(r,[n])=>xi(n.evaluate(r),r.properties())],[[Vt,Ai],(r,[n,o])=>xi(n.evaluate(r),o.evaluate(r))]]},"feature-state":[Rt,[Vt],(r,[n])=>xi(n.evaluate(r),r.featureState||{})],properties:[Ai,[],r=>r.properties()],"geometry-type":[Vt,[],r=>r.geometryType()],id:[Rt,[],r=>r.id()],zoom:[Ze,[],r=>r.globals.zoom],"heatmap-density":[Ze,[],r=>r.globals.heatmapDensity||0],"line-progress":[Ze,[],r=>r.globals.lineProgress||0],accumulated:[Rt,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[Ze,Oi(Ze),(r,n)=>{let o=0;for(const c of n)o+=c.evaluate(r);return o}],"*":[Ze,Oi(Ze),(r,n)=>{let o=1;for(const c of n)o*=c.evaluate(r);return o}],"-":{type:Ze,overloads:[[[Ze,Ze],(r,[n,o])=>n.evaluate(r)-o.evaluate(r)],[[Ze],(r,[n])=>-n.evaluate(r)]]},"/":[Ze,[Ze,Ze],(r,[n,o])=>n.evaluate(r)/o.evaluate(r)],"%":[Ze,[Ze,Ze],(r,[n,o])=>n.evaluate(r)%o.evaluate(r)],ln2:[Ze,[],()=>Math.LN2],pi:[Ze,[],()=>Math.PI],e:[Ze,[],()=>Math.E],"^":[Ze,[Ze,Ze],(r,[n,o])=>Math.pow(n.evaluate(r),o.evaluate(r))],sqrt:[Ze,[Ze],(r,[n])=>Math.sqrt(n.evaluate(r))],log10:[Ze,[Ze],(r,[n])=>Math.log(n.evaluate(r))/Math.LN10],ln:[Ze,[Ze],(r,[n])=>Math.log(n.evaluate(r))],log2:[Ze,[Ze],(r,[n])=>Math.log(n.evaluate(r))/Math.LN2],sin:[Ze,[Ze],(r,[n])=>Math.sin(n.evaluate(r))],cos:[Ze,[Ze],(r,[n])=>Math.cos(n.evaluate(r))],tan:[Ze,[Ze],(r,[n])=>Math.tan(n.evaluate(r))],asin:[Ze,[Ze],(r,[n])=>Math.asin(n.evaluate(r))],acos:[Ze,[Ze],(r,[n])=>Math.acos(n.evaluate(r))],atan:[Ze,[Ze],(r,[n])=>Math.atan(n.evaluate(r))],min:[Ze,Oi(Ze),(r,n)=>Math.min(...n.map(o=>o.evaluate(r)))],max:[Ze,Oi(Ze),(r,n)=>Math.max(...n.map(o=>o.evaluate(r)))],abs:[Ze,[Ze],(r,[n])=>Math.abs(n.evaluate(r))],round:[Ze,[Ze],(r,[n])=>{const o=n.evaluate(r);return o<0?-Math.round(-o):Math.round(o)}],floor:[Ze,[Ze],(r,[n])=>Math.floor(n.evaluate(r))],ceil:[Ze,[Ze],(r,[n])=>Math.ceil(n.evaluate(r))],"filter-==":[Ot,[Vt,Rt],(r,[n,o])=>r.properties()[n.value]===o.value],"filter-id-==":[Ot,[Rt],(r,[n])=>r.id()===n.value],"filter-type-==":[Ot,[Vt],(r,[n])=>r.geometryType()===n.value],"filter-<":[Ot,[Vt,Rt],(r,[n,o])=>{const c=r.properties()[n.value],m=o.value;return typeof c==typeof m&&c<m}],"filter-id-<":[Ot,[Rt],(r,[n])=>{const o=r.id(),c=n.value;return typeof o==typeof c&&o<c}],"filter->":[Ot,[Vt,Rt],(r,[n,o])=>{const c=r.properties()[n.value],m=o.value;return typeof c==typeof m&&c>m}],"filter-id->":[Ot,[Rt],(r,[n])=>{const o=r.id(),c=n.value;return typeof o==typeof c&&o>c}],"filter-<=":[Ot,[Vt,Rt],(r,[n,o])=>{const c=r.properties()[n.value],m=o.value;return typeof c==typeof m&&c<=m}],"filter-id-<=":[Ot,[Rt],(r,[n])=>{const o=r.id(),c=n.value;return typeof o==typeof c&&o<=c}],"filter->=":[Ot,[Vt,Rt],(r,[n,o])=>{const c=r.properties()[n.value],m=o.value;return typeof c==typeof m&&c>=m}],"filter-id->=":[Ot,[Rt],(r,[n])=>{const o=r.id(),c=n.value;return typeof o==typeof c&&o>=c}],"filter-has":[Ot,[Rt],(r,[n])=>n.value in r.properties()],"filter-has-id":[Ot,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Ot,[zi(Vt)],(r,[n])=>n.value.indexOf(r.geometryType())>=0],"filter-id-in":[Ot,[zi(Rt)],(r,[n])=>n.value.indexOf(r.id())>=0],"filter-in-small":[Ot,[Vt,zi(Rt)],(r,[n,o])=>o.value.indexOf(r.properties()[n.value])>=0],"filter-in-large":[Ot,[Vt,zi(Rt)],(r,[n,o])=>function(c,m,_,w){for(;_<=w;){const A=_+w>>1;if(m[A]===c)return!0;m[A]>c?w=A-1:_=A+1}return!1}(r.properties()[n.value],o.value,0,o.value.length-1)],all:{type:Ot,overloads:[[[Ot,Ot],(r,[n,o])=>n.evaluate(r)&&o.evaluate(r)],[Oi(Ot),(r,n)=>{for(const o of n)if(!o.evaluate(r))return!1;return!0}]]},any:{type:Ot,overloads:[[[Ot,Ot],(r,[n,o])=>n.evaluate(r)||o.evaluate(r)],[Oi(Ot),(r,n)=>{for(const o of n)if(o.evaluate(r))return!0;return!1}]]},"!":[Ot,[Ot],(r,[n])=>!n.evaluate(r)],"is-supported-script":[Ot,[Vt],(r,[n])=>{const o=r.globals&&r.globals.isSupportedScript;return!o||o(n.evaluate(r))}],upcase:[Vt,[Vt],(r,[n])=>n.evaluate(r).toUpperCase()],downcase:[Vt,[Vt],(r,[n])=>n.evaluate(r).toLowerCase()],concat:[Vt,Oi(Rt),(r,n)=>n.map(o=>kt(o.evaluate(r))).join("")],"resolved-locale":[Vt,[_i],(r,[n])=>n.evaluate(r).resolvedLocale()]});class ma{constructor(n,o){this.expression=n,this._warningHistory={},this._evaluator=new Pn,this._defaultValue=o?function(c){return c.type==="color"&&Yn(c.default)?new ee(0,0,0,0):c.type==="color"?ee.parse(c.default)||null:c.type==="padding"?ge.parse(c.default)||null:c.default===void 0?null:c.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null}evaluateWithoutErrorHandling(n,o,c,m,_,w){return this._evaluator.globals=n,this._evaluator.feature=o,this._evaluator.featureState=c,this._evaluator.canonical=m,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=w,this.expression.evaluate(this._evaluator)}evaluate(n,o,c,m,_,w){this._evaluator.globals=n,this._evaluator.feature=o||null,this._evaluator.featureState=c||null,this._evaluator.canonical=m,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=w||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new xt(`Expected value to be one of ${Object.keys(this._enumValues).map(C=>JSON.stringify(C)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function is(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in un}function ho(r,n){const o=new ys(un,[],n?function(m){const _={color:Zn,string:Vt,number:Ze,enum:Vt,boolean:Ot,formatted:vn,padding:rr,resolvedImage:gi};return m.type==="array"?zi(_[m.value]||Rt,m.length):_[m.type]}(n):void 0),c=o.parse(r,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return c?Jn(new ma(c,n)):ln(o.errors)}class On{constructor(n,o){this.kind=n,this._styleExpression=o,this.isStateDependent=n!=="constant"&&!Fo(o.expression)}evaluateWithoutErrorHandling(n,o,c,m,_,w){return this._styleExpression.evaluateWithoutErrorHandling(n,o,c,m,_,w)}evaluate(n,o,c,m,_,w){return this._styleExpression.evaluate(n,o,c,m,_,w)}}class Cs{constructor(n,o,c,m){this.kind=n,this.zoomStops=c,this._styleExpression=o,this.isStateDependent=n!=="camera"&&!Fo(o.expression),this.interpolationType=m}evaluateWithoutErrorHandling(n,o,c,m,_,w){return this._styleExpression.evaluateWithoutErrorHandling(n,o,c,m,_,w)}evaluate(n,o,c,m,_,w){return this._styleExpression.evaluate(n,o,c,m,_,w)}interpolationFactor(n,o,c){return this.interpolationType?Mr.interpolationFactor(this.interpolationType,n,o,c):0}}function Zl(r,n){const o=ho(r,n);if(o.result==="error")return o;const c=o.value.expression,m=uo(c);if(!m&&!An(n))return ln([new hn("","data expressions not supported")]);const _=la(c,["zoom"]);if(!_&&!Fn(n))return ln([new hn("","zoom expressions not supported")]);const w=tl(c);return w||_?w instanceof hn?ln([w]):w instanceof Mr&&!jt(n)?ln([new hn("",'"interpolate" expressions cannot be used with this property')]):Jn(w?new Cs(m?"camera":"composite",o.value,w.labels,w instanceof Mr?w.interpolation:void 0):new On(m?"constant":"source",o.value)):ln([new hn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Uo{constructor(n,o){this._parameters=n,this._specification=o,di(this,ns(this._parameters,this._specification))}static deserialize(n){return new Uo(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function tl(r){let n=null;if(r instanceof pa)n=tl(r.result);else if(r instanceof Ws){for(const o of r.args)if(n=tl(o),n)break}else(r instanceof ca||r instanceof Mr)&&r.input instanceof Xn&&r.input.name==="zoom"&&(n=r);return n instanceof hn||r.eachChild(o=>{const c=tl(o);c instanceof hn?n=c:!n&&c?n=new hn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&c&&n!==c&&(n=new hn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function xr(r){const n=r.key,o=r.value,c=r.valueSpec||{},m=r.objectElementValidators||{},_=r.style,w=r.styleSpec;let A=[];const C=Mn(o);if(C!=="object")return[new lt(n,o,`object expected, ${C} found`)];for(const L in o){const F=L.split(".")[0],U=c[F]||c["*"];let Z;if(m[F])Z=m[F];else if(c[F])Z=Vi;else if(m["*"])Z=m["*"];else{if(!c["*"]){A.push(new lt(n,o[L],`unknown property "${L}"`));continue}Z=Vi}A=A.concat(Z({key:(n&&`${n}.`)+L,value:o[L],valueSpec:U,style:_,styleSpec:w,object:o,objectKey:L},o))}for(const L in c)m[L]||c[L].required&&c[L].default===void 0&&o[L]===void 0&&A.push(new lt(n,o,`missing required property "${L}"`));return A}function Bu(r){const n=r.value,o=r.valueSpec,c=r.style,m=r.styleSpec,_=r.key,w=r.arrayElementValidator||Vi;if(Mn(n)!=="array")return[new lt(_,n,`array expected, ${Mn(n)} found`)];if(o.length&&n.length!==o.length)return[new lt(_,n,`array length ${o.length} expected, length ${n.length} found`)];if(o["min-length"]&&n.length<o["min-length"])return[new lt(_,n,`array length at least ${o["min-length"]} expected, length ${n.length} found`)];let A={type:o.value,values:o.values};m.$version<7&&(A.function=o.function),Mn(o.value)==="object"&&(A=o.value);let C=[];for(let L=0;L<n.length;L++)C=C.concat(w({array:n,arrayIndex:L,value:n[L],valueSpec:A,style:c,styleSpec:m,key:`${_}[${L}]`}));return C}function nl(r){const n=r.key,o=r.value,c=r.valueSpec;let m=Mn(o);return m==="number"&&o!=o&&(m="NaN"),m!=="number"?[new lt(n,o,`number expected, ${m} found`)]:"minimum"in c&&o<c.minimum?[new lt(n,o,`${o} is less than the minimum value ${c.minimum}`)]:"maximum"in c&&o>c.maximum?[new lt(n,o,`${o} is greater than the maximum value ${c.maximum}`)]:[]}function Nu(r){const n=r.valueSpec,o=et(r.value.type);let c,m,_,w={};const A=o!=="categorical"&&r.value.property===void 0,C=!A,L=Mn(r.value.stops)==="array"&&Mn(r.value.stops[0])==="array"&&Mn(r.value.stops[0][0])==="object",F=xr({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(K){if(o==="identity")return[new lt(K.key,K.value,'identity function may not have a "stops" property')];let Y=[];const me=K.value;return Y=Y.concat(Bu({key:K.key,value:me,valueSpec:K.valueSpec,style:K.style,styleSpec:K.styleSpec,arrayElementValidator:U})),Mn(me)==="array"&&me.length===0&&Y.push(new lt(K.key,me,"array must have at least one stop")),Y},default:function(K){return Vi({key:K.key,value:K.value,valueSpec:n,style:K.style,styleSpec:K.styleSpec})}}});return o==="identity"&&A&&F.push(new lt(r.key,r.value,'missing required property "property"')),o==="identity"||r.value.stops||F.push(new lt(r.key,r.value,'missing required property "stops"')),o==="exponential"&&r.valueSpec.expression&&!jt(r.valueSpec)&&F.push(new lt(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(C&&!An(r.valueSpec)?F.push(new lt(r.key,r.value,"property functions not supported")):A&&!Fn(r.valueSpec)&&F.push(new lt(r.key,r.value,"zoom functions not supported"))),o!=="categorical"&&!L||r.value.property!==void 0||F.push(new lt(r.key,r.value,'"property" property is required')),F;function U(K){let Y=[];const me=K.value,pe=K.key;if(Mn(me)!=="array")return[new lt(pe,me,`array expected, ${Mn(me)} found`)];if(me.length!==2)return[new lt(pe,me,`array length 2 expected, length ${me.length} found`)];if(L){if(Mn(me[0])!=="object")return[new lt(pe,me,`object expected, ${Mn(me[0])} found`)];if(me[0].zoom===void 0)return[new lt(pe,me,"object stop key must have zoom")];if(me[0].value===void 0)return[new lt(pe,me,"object stop key must have value")];if(_&&_>et(me[0].zoom))return[new lt(pe,me[0].zoom,"stop zoom values must appear in ascending order")];et(me[0].zoom)!==_&&(_=et(me[0].zoom),m=void 0,w={}),Y=Y.concat(xr({key:`${pe}[0]`,value:me[0],valueSpec:{zoom:{}},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{zoom:nl,value:Z}}))}else Y=Y.concat(Z({key:`${pe}[0]`,value:me[0],valueSpec:{},style:K.style,styleSpec:K.styleSpec},me));return is(Ft(me[1]))?Y.concat([new lt(`${pe}[1]`,me[1],"expressions are not allowed in function stops.")]):Y.concat(Vi({key:`${pe}[1]`,value:me[1],valueSpec:n,style:K.style,styleSpec:K.styleSpec}))}function Z(K,Y){const me=Mn(K.value),pe=et(K.value),Pe=K.value!==null?K.value:Y;if(c){if(me!==c)return[new lt(K.key,Pe,`${me} stop domain type must match previous stop domain type ${c}`)]}else c=me;if(me!=="number"&&me!=="string"&&me!=="boolean")return[new lt(K.key,Pe,"stop domain value must be a number, string, or boolean")];if(me!=="number"&&o!=="categorical"){let Ne=`number expected, ${me} found`;return An(n)&&o===void 0&&(Ne+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new lt(K.key,Pe,Ne)]}return o!=="categorical"||me!=="number"||isFinite(pe)&&Math.floor(pe)===pe?o!=="categorical"&&me==="number"&&m!==void 0&&pe<m?[new lt(K.key,Pe,"stop domain values must appear in ascending order")]:(m=pe,o==="categorical"&&pe in w?[new lt(K.key,Pe,"stop domain values must be unique")]:(w[pe]=!0,[])):[new lt(K.key,Pe,`integer expected, found ${pe}`)]}}function po(r){const n=(r.expressionContext==="property"?Zl:ho)(Ft(r.value),r.valueSpec);if(n.result==="error")return n.value.map(c=>new lt(`${r.key}${c.key}`,r.value,c.message));const o=n.value.expression||n.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!o.outputDefined())return[new lt(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!Fo(o))return[new lt(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter"&&!Fo(o))return[new lt(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!la(o,["zoom","feature-state"]))return[new lt(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!uo(o))return[new lt(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ga(r){const n=r.key,o=r.value,c=r.valueSpec,m=[];return Array.isArray(c.values)?c.values.indexOf(et(o))===-1&&m.push(new lt(n,o,`expected one of [${c.values.join(", ")}], ${JSON.stringify(o)} found`)):Object.keys(c.values).indexOf(et(o))===-1&&m.push(new lt(n,o,`expected one of [${Object.keys(c.values).join(", ")}], ${JSON.stringify(o)} found`)),m}function ks(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const n of r.slice(1))if(!ks(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}const Vc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function il(r){if(r==null)return{filter:()=>!0,needGeometry:!1};ks(r)||(r=ya(r));const n=ho(r,Vc);if(n.result==="error")throw new Error(n.value.map(o=>`${o.key}: ${o.message}`).join(", "));return{filter:(o,c,m)=>n.value.evaluate(o,c,{},m),needGeometry:jo(r)}}function Fu(r,n){return r<n?-1:r>n?1:0}function jo(r){if(!Array.isArray(r))return!1;if(r[0]==="within")return!0;for(let n=1;n<r.length;n++)if(jo(r[n]))return!0;return!1}function ya(r){if(!r)return!0;const n=r[0];return r.length<=1?n!=="any":n==="=="?va(r[1],r[2],"=="):n==="!="?fo(va(r[1],r[2],"==")):n==="<"||n===">"||n==="<="||n===">="?va(r[1],r[2],n):n==="any"?(o=r.slice(1),["any"].concat(o.map(ya))):n==="all"?["all"].concat(r.slice(1).map(ya)):n==="none"?["all"].concat(r.slice(1).map(ya).map(fo)):n==="in"?qr(r[1],r.slice(2)):n==="!in"?fo(qr(r[1],r.slice(2))):n==="has"?Dr(r[1]):n==="!has"?fo(Dr(r[1])):n!=="within"||r;var o}function va(r,n,o){switch(r){case"$type":return[`filter-type-${o}`,n];case"$id":return[`filter-id-${o}`,n];default:return[`filter-${o}`,r,n]}}function qr(r,n){if(n.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(o=>typeof o!=typeof n[0])?["filter-in-large",r,["literal",n.sort(Fu)]]:["filter-in-small",r,["literal",n]]}}function Dr(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function fo(r){return["!",r]}function qo(r){return ks(Ft(r.value))?po(di({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):$l(r)}function $l(r){const n=r.value,o=r.key;if(Mn(n)!=="array")return[new lt(o,n,`array expected, ${Mn(n)} found`)];const c=r.styleSpec;let m,_=[];if(n.length<1)return[new lt(o,n,"filter array must have at least 1 element")];switch(_=_.concat(ga({key:`${o}[0]`,value:n[0],valueSpec:c.filter_operator,style:r.style,styleSpec:r.styleSpec})),et(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&et(n[1])==="$type"&&_.push(new lt(o,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&_.push(new lt(o,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(m=Mn(n[1]),m!=="string"&&_.push(new lt(`${o}[1]`,n[1],`string expected, ${m} found`)));for(let w=2;w<n.length;w++)m=Mn(n[w]),et(n[1])==="$type"?_=_.concat(ga({key:`${o}[${w}]`,value:n[w],valueSpec:c.geometry_type,style:r.style,styleSpec:r.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&_.push(new lt(`${o}[${w}]`,n[w],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let w=1;w<n.length;w++)_=_.concat($l({key:`${o}[${w}]`,value:n[w],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":m=Mn(n[1]),n.length!==2?_.push(new lt(o,n,`filter array for "${n[0]}" operator must have 2 elements`)):m!=="string"&&_.push(new lt(`${o}[1]`,n[1],`string expected, ${m} found`));break;case"within":m=Mn(n[1]),n.length!==2?_.push(new lt(o,n,`filter array for "${n[0]}" operator must have 2 elements`)):m!=="object"&&_.push(new lt(`${o}[1]`,n[1],`object expected, ${m} found`))}return _}function _a(r,n){const o=r.key,c=r.style,m=r.styleSpec,_=r.value,w=r.objectKey,A=m[`${n}_${r.layerType}`];if(!A)return[];const C=w.match(/^(.*)-transition$/);if(n==="paint"&&C&&A[C[1]]&&A[C[1]].transition)return Vi({key:o,value:_,valueSpec:m.transition,style:c,styleSpec:m});const L=r.valueSpec||A[w];if(!L)return[new lt(o,_,`unknown property "${w}"`)];let F;if(Mn(_)==="string"&&An(L)&&!L.tokens&&(F=/^{([^}]+)}$/.exec(_)))return[new lt(o,_,`"${w}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(F[1])} }\`.`)];const U=[];return r.layerType==="symbol"&&(w==="text-field"&&c&&!c.glyphs&&U.push(new lt(o,_,'use of "text-field" requires a style "glyphs" property')),w==="text-font"&&Yn(Ft(_))&&et(_.type)==="identity"&&U.push(new lt(o,_,'"text-font" does not support identity functions'))),U.concat(Vi({key:r.key,value:_,valueSpec:L,style:c,styleSpec:m,expressionContext:"property",propertyType:n,propertyKey:w}))}function ii(r){return _a(r,"paint")}function xa(r){return _a(r,"layout")}function Gr(r){let n=[];const o=r.value,c=r.key,m=r.style,_=r.styleSpec;o.type||o.ref||n.push(new lt(c,o,'either "type" or "ref" is required'));let w=et(o.type);const A=et(o.ref);if(o.id){const C=et(o.id);for(let L=0;L<r.arrayIndex;L++){const F=m.layers[L];et(F.id)===C&&n.push(new lt(c,o.id,`duplicate layer id "${o.id}", previously used at line ${F.id.__line__}`))}}if("ref"in o){let C;["type","source","source-layer","filter","layout"].forEach(L=>{L in o&&n.push(new lt(c,o[L],`"${L}" is prohibited for ref layers`))}),m.layers.forEach(L=>{et(L.id)===A&&(C=L)}),C?C.ref?n.push(new lt(c,o.ref,"ref cannot reference another ref layer")):w=et(C.type):n.push(new lt(c,o.ref,`ref layer "${A}" not found`))}else if(w!=="background")if(o.source){const C=m.sources&&m.sources[o.source],L=C&&et(C.type);C?L==="vector"&&w==="raster"?n.push(new lt(c,o.source,`layer "${o.id}" requires a raster source`)):L==="raster"&&w!=="raster"?n.push(new lt(c,o.source,`layer "${o.id}" requires a vector source`)):L!=="vector"||o["source-layer"]?L==="raster-dem"&&w!=="hillshade"?n.push(new lt(c,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):w!=="line"||!o.paint||!o.paint["line-gradient"]||L==="geojson"&&C.lineMetrics||n.push(new lt(c,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new lt(c,o,`layer "${o.id}" must specify a "source-layer"`)):n.push(new lt(c,o.source,`source "${o.source}" not found`))}else n.push(new lt(c,o,'missing required property "source"'));return n=n.concat(xr({key:c,value:o,valueSpec:_.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Vi({key:`${c}.type`,value:o.type,valueSpec:_.layer.type,style:r.style,styleSpec:r.styleSpec,object:o,objectKey:"type"}),filter:qo,layout:C=>xr({layer:o,key:C.key,value:C.value,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":L=>xa(di({layerType:w},L))}}),paint:C=>xr({layer:o,key:C.key,value:C.value,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":L=>ii(di({layerType:w},L))}})}})),n}function sr(r){const n=r.value,o=r.key,c=Mn(n);return c!=="string"?[new lt(o,n,`string expected, ${c} found`)]:[]}const rl={promoteId:function({key:r,value:n}){if(Mn(n)==="string")return sr({key:r,value:n});{const o=[];for(const c in n)o.push(...sr({key:`${r}.${c}`,value:n[c]}));return o}}};function Go(r){const n=r.value,o=r.key,c=r.styleSpec,m=r.style;if(!n.type)return[new lt(o,n,'"type" is required')];const _=et(n.type);let w;switch(_){case"vector":case"raster":case"raster-dem":return w=xr({key:o,value:n,valueSpec:c[`source_${_.replace("-","_")}`],style:r.style,styleSpec:c,objectElementValidators:rl}),w;case"geojson":if(w=xr({key:o,value:n,valueSpec:c.source_geojson,style:m,styleSpec:c,objectElementValidators:rl}),n.cluster)for(const A in n.clusterProperties){const[C,L]=n.clusterProperties[A],F=typeof C=="string"?[C,["accumulated"],["get",A]]:C;w.push(...po({key:`${o}.${A}.map`,value:L,expressionContext:"cluster-map"})),w.push(...po({key:`${o}.${A}.reduce`,value:F,expressionContext:"cluster-reduce"}))}return w;case"video":return xr({key:o,value:n,valueSpec:c.source_video,style:m,styleSpec:c});case"image":return xr({key:o,value:n,valueSpec:c.source_image,style:m,styleSpec:c});case"canvas":return[new lt(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ga({key:`${o}.type`,value:n.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,styleSpec:c})}}function wa(r){const n=r.value,o=r.styleSpec,c=o.light,m=r.style;let _=[];const w=Mn(n);if(n===void 0)return _;if(w!=="object")return _=_.concat([new lt("light",n,`object expected, ${w} found`)]),_;for(const A in n){const C=A.match(/^(.*)-transition$/);_=_.concat(C&&c[C[1]]&&c[C[1]].transition?Vi({key:A,value:n[A],valueSpec:o.transition,style:m,styleSpec:o}):c[A]?Vi({key:A,value:n[A],valueSpec:c[A],style:m,styleSpec:o}):[new lt(A,n[A],`unknown property "${A}"`)])}return _}function Lr(r){const n=r.value,o=r.styleSpec,c=o.terrain,m=r.style;let _=[];const w=Mn(n);if(n===void 0)return _;if(w!=="object")return _=_.concat([new lt("terrain",n,`object expected, ${w} found`)]),_;for(const A in n)_=_.concat(c[A]?Vi({key:A,value:n[A],valueSpec:c[A],style:m,styleSpec:o}):[new lt(A,n[A],`unknown property "${A}"`)]);return _}const Wo={"*":()=>[],array:Bu,boolean:function(r){const n=r.value,o=r.key,c=Mn(n);return c!=="boolean"?[new lt(o,n,`boolean expected, ${c} found`)]:[]},number:nl,color:function(r){const n=r.key,o=r.value,c=Mn(o);return c!=="string"?[new lt(n,o,`color expected, ${c} found`)]:Ro(o)===null?[new lt(n,o,`color expected, "${o}" found`)]:[]},constants:Hi,enum:ga,filter:qo,function:Nu,layer:Gr,object:xr,source:Go,light:wa,terrain:Lr,string:sr,formatted:function(r){return sr(r).length===0?[]:po(r)},resolvedImage:function(r){return sr(r).length===0?[]:po(r)},padding:function(r){const n=r.key,o=r.value;if(Mn(o)==="array"){if(o.length<1||o.length>4)return[new lt(n,o,`padding requires 1 to 4 values; ${o.length} values found`)];const c={type:"number"};let m=[];for(let _=0;_<o.length;_++)m=m.concat(Vi({key:`${n}[${_}]`,value:o[_],valueSpec:c}));return m}return nl({key:n,value:o,valueSpec:{}})}};function Vi(r){const n=r.value,o=r.valueSpec,c=r.styleSpec;return o.expression&&Yn(et(n))?Nu(r):o.expression&&is(Ft(n))?po(r):o.type&&Wo[o.type]?Wo[o.type](r):xr(di({},r,{valueSpec:o.type?c[o.type]:o}))}function Xl(r){const n=r.value,o=r.key,c=sr(r);return c.length||(n.indexOf("{fontstack}")===-1&&c.push(new lt(o,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&c.push(new lt(o,n,'"glyphs" url must include a "{range}" token'))),c}function Ps(r,n=ze){let o=[];return o=o.concat(Vi({key:"",value:r,valueSpec:n.$root,styleSpec:n,style:r,objectElementValidators:{glyphs:Xl,"*":()=>[]}})),r.constants&&(o=o.concat(Hi({key:"constants",value:r.constants,style:r,styleSpec:n}))),ba(o)}function ba(r){return[].concat(r).sort((n,o)=>n.line-o.line)}function Wr(r){return function(...n){return ba(r.apply(this,n))}}Ps.source=Wr(Go),Ps.light=Wr(wa),Ps.terrain=Wr(Lr),Ps.layer=Wr(Gr),Ps.filter=Wr(qo),Ps.paintProperty=Wr(ii),Ps.layoutProperty=Wr(xa);const mo=Ps,Kl=mo.light,sl=mo.paintProperty,Yl=mo.layoutProperty;function Ho(r,n){let o=!1;if(n&&n.length)for(const c of n)r.fire(new bn(new Error(c.message))),o=!0;return o}class Sa{constructor(n,o,c){const m=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;const w=new Int32Array(this.arrayBuffer);n=w[0],this.d=(o=w[1])+2*(c=w[2]);for(let C=0;C<this.d*this.d;C++){const L=w[3+C],F=w[3+C+1];m.push(L===F?null:w.subarray(L,F))}const A=w[3+m.length+1];this.keys=w.subarray(w[3+m.length],A),this.bboxes=w.subarray(A),this.insert=this._insertReadonly}else{this.d=o+2*c;for(let w=0;w<this.d*this.d;w++)m.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=n,this.padding=c,this.scale=o/n,this.uid=0;const _=c/o*n;this.min=-_,this.max=n+_}insert(n,o,c,m,_){this._forEachCell(o,c,m,_,this._insertCell,this.uid++,void 0,void 0),this.keys.push(n),this.bboxes.push(o),this.bboxes.push(c),this.bboxes.push(m),this.bboxes.push(_)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(n,o,c,m,_,w){this.cells[_].push(w)}query(n,o,c,m,_){const w=this.min,A=this.max;if(n<=w&&o<=w&&A<=c&&A<=m&&!_)return Array.prototype.slice.call(this.keys);{const C=[];return this._forEachCell(n,o,c,m,this._queryCell,C,{},_),C}}_queryCell(n,o,c,m,_,w,A,C){const L=this.cells[_];if(L!==null){const F=this.keys,U=this.bboxes;for(let Z=0;Z<L.length;Z++){const K=L[Z];if(A[K]===void 0){const Y=4*K;(C?C(U[Y+0],U[Y+1],U[Y+2],U[Y+3]):n<=U[Y+2]&&o<=U[Y+3]&&c>=U[Y+0]&&m>=U[Y+1])?(A[K]=!0,w.push(F[K])):A[K]=!1}}}}_forEachCell(n,o,c,m,_,w,A,C){const L=this._convertToCellCoord(n),F=this._convertToCellCoord(o),U=this._convertToCellCoord(c),Z=this._convertToCellCoord(m);for(let K=L;K<=U;K++)for(let Y=F;Y<=Z;Y++){const me=this.d*Y+K;if((!C||C(this._convertFromCellCoord(K),this._convertFromCellCoord(Y),this._convertFromCellCoord(K+1),this._convertFromCellCoord(Y+1)))&&_.call(this,n,o,c,m,me,w,A,C))return}}_convertFromCellCoord(n){return(n-this.padding)/this.scale}_convertToCellCoord(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const n=this.cells,o=3+this.cells.length+1+1;let c=0;for(let w=0;w<this.cells.length;w++)c+=this.cells[w].length;const m=new Int32Array(o+c+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let _=o;for(let w=0;w<n.length;w++){const A=n[w];m[3+w]=_,m.set(A,_),_+=A.length}return m[3+n.length]=_,m.set(this.keys,_),_+=this.keys.length,m[3+n.length+1]=_,m.set(this.bboxes,_),_+=this.bboxes.length,m.buffer}static serialize(n,o){const c=n.toArrayBuffer();return o&&o.push(c),{buffer:c}}static deserialize(n){return new Sa(n.buffer)}}const Q={};function te(r,n,o={}){if(Q[r])throw new Error(`${r} is already registered.`);Object.defineProperty(n,"_classRegistryKey",{value:r,writeable:!1}),Q[r]={klass:n,omit:o.omit||[],shallow:o.shallow||[]}}te("Object",Object),te("TransferableGridIndex",Sa),te("Color",ee),te("Error",Error),te("AJAXError",oi),te("ResolvedImage",Se),te("StylePropertyFunction",Uo),te("StyleExpression",ma,{omit:["_evaluator"]}),te("ZoomDependentExpression",Cs),te("ZoomConstantExpression",On),te("CompoundExpression",Xn,{omit:["_evaluate"]});for(const r in un)un[r]._classRegistryKey||te(`Expression_${r}`,un[r]);function Te(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Ke(r,n){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof Blob)return r;if(Te(r)||Dn(r))return n&&n.push(r),r;if(ArrayBuffer.isView(r)){const o=r;return n&&n.push(o.buffer),o}if(r instanceof ImageData)return n&&n.push(r.data.buffer),r;if(Array.isArray(r)){const o=[];for(const c of r)o.push(Ke(c,n));return o}if(typeof r=="object"){const o=r.constructor,c=o._classRegistryKey;if(!c)throw new Error("can't serialize object of unregistered class");if(!Q[c])throw new Error(`${c} is not registered.`);const m=o.serialize?o.serialize(r,n):{};if(o.serialize){if(n&&m===n[n.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const _ in r){if(!r.hasOwnProperty(_)||Q[c].omit.indexOf(_)>=0)continue;const w=r[_];m[_]=Q[c].shallow.indexOf(_)>=0?w:Ke(w,n)}r instanceof Error&&(m.message=r.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(m.$name=c),m}throw new Error("can't serialize object of type "+typeof r)}function ke(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof Blob||Te(r)||Dn(r)||ArrayBuffer.isView(r)||r instanceof ImageData)return r;if(Array.isArray(r))return r.map(ke);if(typeof r=="object"){const n=r.$name||"Object";if(!Q[n])throw new Error(`can't deserialize unregistered class ${n}`);const{klass:o}=Q[n];if(!o)throw new Error(`can't deserialize unregistered class ${n}`);if(o.deserialize)return o.deserialize(r);const c=Object.create(o.prototype);for(const m of Object.keys(r)){if(m==="$name")continue;const _=r[m];c[m]=Q[n].shallow.indexOf(m)>=0?_:ke(_)}return c}throw new Error("can't deserialize object of type "+typeof r)}class tt{constructor(){this.first=!0}update(n,o){const c=Math.floor(n);return this.first?(this.first=!1,this.lastIntegerZoom=c,this.lastIntegerZoomTime=0,this.lastZoom=n,this.lastFloorZoom=c,!0):(this.lastFloorZoom>c?(this.lastIntegerZoom=c+1,this.lastIntegerZoomTime=o):this.lastFloorZoom<c&&(this.lastIntegerZoom=c,this.lastIntegerZoomTime=o),n!==this.lastZoom&&(this.lastZoom=n,this.lastFloorZoom=c,!0))}}const Ce={"Latin-1 Supplement":r=>r>=128&&r<=255,Arabic:r=>r>=1536&&r<=1791,"Arabic Supplement":r=>r>=1872&&r<=1919,"Arabic Extended-A":r=>r>=2208&&r<=2303,"Hangul Jamo":r=>r>=4352&&r<=4607,"Unified Canadian Aboriginal Syllabics":r=>r>=5120&&r<=5759,Khmer:r=>r>=6016&&r<=6143,"Unified Canadian Aboriginal Syllabics Extended":r=>r>=6320&&r<=6399,"General Punctuation":r=>r>=8192&&r<=8303,"Letterlike Symbols":r=>r>=8448&&r<=8527,"Number Forms":r=>r>=8528&&r<=8591,"Miscellaneous Technical":r=>r>=8960&&r<=9215,"Control Pictures":r=>r>=9216&&r<=9279,"Optical Character Recognition":r=>r>=9280&&r<=9311,"Enclosed Alphanumerics":r=>r>=9312&&r<=9471,"Geometric Shapes":r=>r>=9632&&r<=9727,"Miscellaneous Symbols":r=>r>=9728&&r<=9983,"Miscellaneous Symbols and Arrows":r=>r>=11008&&r<=11263,"CJK Radicals Supplement":r=>r>=11904&&r<=12031,"Kangxi Radicals":r=>r>=12032&&r<=12255,"Ideographic Description Characters":r=>r>=12272&&r<=12287,"CJK Symbols and Punctuation":r=>r>=12288&&r<=12351,Hiragana:r=>r>=12352&&r<=12447,Katakana:r=>r>=12448&&r<=12543,Bopomofo:r=>r>=12544&&r<=12591,"Hangul Compatibility Jamo":r=>r>=12592&&r<=12687,Kanbun:r=>r>=12688&&r<=12703,"Bopomofo Extended":r=>r>=12704&&r<=12735,"CJK Strokes":r=>r>=12736&&r<=12783,"Katakana Phonetic Extensions":r=>r>=12784&&r<=12799,"Enclosed CJK Letters and Months":r=>r>=12800&&r<=13055,"CJK Compatibility":r=>r>=13056&&r<=13311,"CJK Unified Ideographs Extension A":r=>r>=13312&&r<=19903,"Yijing Hexagram Symbols":r=>r>=19904&&r<=19967,"CJK Unified Ideographs":r=>r>=19968&&r<=40959,"Yi Syllables":r=>r>=40960&&r<=42127,"Yi Radicals":r=>r>=42128&&r<=42191,"Hangul Jamo Extended-A":r=>r>=43360&&r<=43391,"Hangul Syllables":r=>r>=44032&&r<=55215,"Hangul Jamo Extended-B":r=>r>=55216&&r<=55295,"Private Use Area":r=>r>=57344&&r<=63743,"CJK Compatibility Ideographs":r=>r>=63744&&r<=64255,"Arabic Presentation Forms-A":r=>r>=64336&&r<=65023,"Vertical Forms":r=>r>=65040&&r<=65055,"CJK Compatibility Forms":r=>r>=65072&&r<=65103,"Small Form Variants":r=>r>=65104&&r<=65135,"Arabic Presentation Forms-B":r=>r>=65136&&r<=65279,"Halfwidth and Fullwidth Forms":r=>r>=65280&&r<=65519};function gt(r){for(const n of r)if(Xt(n.charCodeAt(0)))return!0;return!1}function At(r){for(const n of r)if(!en(n.charCodeAt(0)))return!1;return!0}function en(r){return!(Ce.Arabic(r)||Ce["Arabic Supplement"](r)||Ce["Arabic Extended-A"](r)||Ce["Arabic Presentation Forms-A"](r)||Ce["Arabic Presentation Forms-B"](r))}function Xt(r){return!(r!==746&&r!==747&&(r<4352||!(Ce["Bopomofo Extended"](r)||Ce.Bopomofo(r)||Ce["CJK Compatibility Forms"](r)&&!(r>=65097&&r<=65103)||Ce["CJK Compatibility Ideographs"](r)||Ce["CJK Compatibility"](r)||Ce["CJK Radicals Supplement"](r)||Ce["CJK Strokes"](r)||!(!Ce["CJK Symbols and Punctuation"](r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||Ce["CJK Unified Ideographs Extension A"](r)||Ce["CJK Unified Ideographs"](r)||Ce["Enclosed CJK Letters and Months"](r)||Ce["Hangul Compatibility Jamo"](r)||Ce["Hangul Jamo Extended-A"](r)||Ce["Hangul Jamo Extended-B"](r)||Ce["Hangul Jamo"](r)||Ce["Hangul Syllables"](r)||Ce.Hiragana(r)||Ce["Ideographic Description Characters"](r)||Ce.Kanbun(r)||Ce["Kangxi Radicals"](r)||Ce["Katakana Phonetic Extensions"](r)||Ce.Katakana(r)&&r!==12540||!(!Ce["Halfwidth and Fullwidth Forms"](r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!Ce["Small Form Variants"](r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||Ce["Unified Canadian Aboriginal Syllabics"](r)||Ce["Unified Canadian Aboriginal Syllabics Extended"](r)||Ce["Vertical Forms"](r)||Ce["Yijing Hexagram Symbols"](r)||Ce["Yi Syllables"](r)||Ce["Yi Radicals"](r))))}function rn(r){return!(Xt(r)||function(n){return!!(Ce["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||Ce["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||Ce["Letterlike Symbols"](n)||Ce["Number Forms"](n)||Ce["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||Ce["Control Pictures"](n)&&n!==9251||Ce["Optical Character Recognition"](n)||Ce["Enclosed Alphanumerics"](n)||Ce["Geometric Shapes"](n)||Ce["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||Ce["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||Ce["CJK Symbols and Punctuation"](n)||Ce.Katakana(n)||Ce["Private Use Area"](n)||Ce["CJK Compatibility Forms"](n)||Ce["Small Form Variants"](n)||Ce["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(r))}function En(r){return r>=1424&&r<=2303||Ce["Arabic Presentation Forms-A"](r)||Ce["Arabic Presentation Forms-B"](r)}function ai(r,n){return!(!n&&En(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||Ce.Khmer(r))}function tn(r){for(const n of r)if(En(n.charCodeAt(0)))return!0;return!1}const Pi="deferred",Zi="loading",dr="loaded";let fi=null,$i="unavailable",Hr=null;const wr=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&($i="error"),fi&&fi(r)};function ol(){Uc.fire(new dn("pluginStateChange",{pluginStatus:$i,pluginURL:Hr}))}const Uc=new kn,Ql=function(){return $i},Cd=function(){if($i!==Pi||!Hr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$i=Zi,ol(),Hr&&mi({url:Hr},r=>{r?wr(r):($i=dr,ol())})},vs={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>$i===dr||vs.applyArabicShaping!=null,isLoading:()=>$i===Zi,setState(r){if(!ht())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");$i=r.pluginStatus,Hr=r.pluginURL},isParsed(){if(!ht())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return vs.applyArabicShaping!=null&&vs.processBidirectionalText!=null&&vs.processStyledBidirectionalText!=null},getPluginURL(){if(!ht())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Hr}};class wi{constructor(n,o){this.zoom=n,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.zoomHistory=o.zoomHistory,this.transition=o.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new tt,this.transition={})}isSupportedScript(n){return function(o,c){for(const m of o)if(!ai(m.charCodeAt(0),c))return!1;return!0}(n,vs.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const n=this.zoom,o=n-Math.floor(n),c=this.crossFadingFactor();return n>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:o+(1-o)*c}:{fromScale:.5,toScale:1,t:1-(1-c)*o}}}class Jl{constructor(n,o){this.property=n,this.value=o,this.expression=function(c,m){if(Yn(c))return new Uo(c,m);if(is(c)){const _=Zl(c,m);if(_.result==="error")throw new Error(_.value.map(w=>`${w.key}: ${w.message}`).join(", "));return _.value}{let _=c;return m.type==="color"&&typeof c=="string"?_=ee.parse(c):m.type!=="padding"||typeof c!="number"&&!Array.isArray(c)||(_=ge.parse(c)),{kind:"constant",evaluate:()=>_}}}(o===void 0?n.specification.default:o,n.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,o,c){return this.property.possiblyEvaluate(this,n,o,c)}}class Ou{constructor(n){this.property=n,this.value=new Jl(n,void 0)}transitioned(n,o){return new Pd(this.property,this.value,o,ce({},n.transition,this.transition),n.now)}untransitioned(){return new Pd(this.property,this.value,null,{},0)}}class kd{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)}getValue(n){return re(this._values[n].value.value)}setValue(n,o){Object.prototype.hasOwnProperty.call(this._values,n)||(this._values[n]=new Ou(this._values[n].property)),this._values[n].value=new Jl(this._values[n].property,o===null?void 0:re(o))}getTransition(n){return re(this._values[n].transition)}setTransition(n,o){Object.prototype.hasOwnProperty.call(this._values,n)||(this._values[n]=new Ou(this._values[n].property)),this._values[n].transition=re(o)||void 0}serialize(){const n={};for(const o of Object.keys(this._values)){const c=this.getValue(o);c!==void 0&&(n[o]=c);const m=this.getTransition(o);m!==void 0&&(n[`${o}-transition`]=m)}return n}transitioned(n,o){const c=new Id(this._properties);for(const m of Object.keys(this._values))c._values[m]=this._values[m].transitioned(n,o._values[m]);return c}untransitioned(){const n=new Id(this._properties);for(const o of Object.keys(this._values))n._values[o]=this._values[o].untransitioned();return n}}class Pd{constructor(n,o,c,m,_){this.property=n,this.value=o,this.begin=_+m.delay||0,this.end=this.begin+m.duration||0,n.specification.transition&&(m.delay||m.duration)&&(this.prior=c)}possiblyEvaluate(n,o,c){const m=n.now||0,_=this.value.possiblyEvaluate(n,o,c),w=this.prior;if(w){if(m>this.end)return this.prior=null,_;if(this.value.isDataDriven())return this.prior=null,_;if(m<this.begin)return w.possiblyEvaluate(n,o,c);{const A=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(w.possiblyEvaluate(n,o,c),_,function(C){if(C<=0)return 0;if(C>=1)return 1;const L=C*C,F=L*C;return 4*(C<.5?F:3*(C-L)+F-.75)}(A))}}return _}}class Id{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,o,c){const m=new eu(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].possiblyEvaluate(n,o,c);return m}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class im{constructor(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)}getValue(n){return re(this._values[n].value)}setValue(n,o){this._values[n]=new Jl(this._values[n].property,o===null?void 0:re(o))}serialize(){const n={};for(const o of Object.keys(this._values)){const c=this.getValue(o);c!==void 0&&(n[o]=c)}return n}possiblyEvaluate(n,o,c){const m=new eu(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].possiblyEvaluate(n,o,c);return m}}class $s{constructor(n,o,c){this.property=n,this.value=o,this.parameters=c}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,o,c,m){return this.property.evaluate(this.value,this.parameters,n,o,c,m)}}class eu{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class Lt{constructor(n){this.specification=n}possiblyEvaluate(n,o){if(n.isDataDriven())throw new Error("Value should not be data driven");return n.expression.evaluate(o)}interpolate(n,o,c){const m=ha[this.specification.type];return m?m(n,o,c):n}}class Kt{constructor(n,o){this.specification=n,this.overrides=o}possiblyEvaluate(n,o,c,m){return new $s(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(o,null,{},c,m)}:n.expression,o)}interpolate(n,o,c){if(n.value.kind!=="constant"||o.value.kind!=="constant")return n;if(n.value.value===void 0||o.value.value===void 0)return new $s(this,{kind:"constant",value:void 0},n.parameters);const m=ha[this.specification.type];return m?new $s(this,{kind:"constant",value:m(n.value.value,o.value.value,c)},n.parameters):n}evaluate(n,o,c,m,_,w){return n.kind==="constant"?n.value:n.evaluate(o,c,m,_,w)}}class al extends Kt{possiblyEvaluate(n,o,c,m){if(n.value===void 0)return new $s(this,{kind:"constant",value:void 0},o);if(n.expression.kind==="constant"){const _=n.expression.evaluate(o,null,{},c,m),w=n.property.specification.type==="resolvedImage"&&typeof _!="string"?_.name:_,A=this._calculate(w,w,w,o);return new $s(this,{kind:"constant",value:A},o)}if(n.expression.kind==="camera"){const _=this._calculate(n.expression.evaluate({zoom:o.zoom-1}),n.expression.evaluate({zoom:o.zoom}),n.expression.evaluate({zoom:o.zoom+1}),o);return new $s(this,{kind:"constant",value:_},o)}return new $s(this,n.expression,o)}evaluate(n,o,c,m,_,w){if(n.kind==="source"){const A=n.evaluate(o,c,m,_,w);return this._calculate(A,A,A,o)}return n.kind==="composite"?this._calculate(n.evaluate({zoom:Math.floor(o.zoom)-1},c,m),n.evaluate({zoom:Math.floor(o.zoom)},c,m),n.evaluate({zoom:Math.floor(o.zoom)+1},c,m),o):n.value}_calculate(n,o,c,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:n,to:o}:{from:c,to:o}}interpolate(n){return n}}class jc{constructor(n){this.specification=n}possiblyEvaluate(n,o,c,m){if(n.value!==void 0){if(n.expression.kind==="constant"){const _=n.expression.evaluate(o,null,{},c,m);return this._calculate(_,_,_,o)}return this._calculate(n.expression.evaluate(new wi(Math.floor(o.zoom-1),o)),n.expression.evaluate(new wi(Math.floor(o.zoom),o)),n.expression.evaluate(new wi(Math.floor(o.zoom+1),o)),o)}}_calculate(n,o,c,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:n,to:o}:{from:c,to:o}}interpolate(n){return n}}class Zo{constructor(n){this.specification=n}possiblyEvaluate(n,o,c,m){return!!n.expression.evaluate(o,null,{},c,m)}interpolate(){return!1}}class pr{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const o in n){const c=n[o];c.specification.overridable&&this.overridableProperties.push(o);const m=this.defaultPropertyValues[o]=new Jl(c,void 0),_=this.defaultTransitionablePropertyValues[o]=new Ou(c);this.defaultTransitioningPropertyValues[o]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[o]=m.possiblyEvaluate({})}}}te("DataDrivenProperty",Kt),te("DataConstantProperty",Lt),te("CrossFadedDataDrivenProperty",al),te("CrossFadedProperty",jc),te("ColorRampProperty",Zo);const $o="-transition";class Xs extends kn{constructor(n,o){if(super(),this.id=n.id,this.type=n.type,this._featureFilter={filter:()=>!0,needGeometry:!1},n.type!=="custom"&&(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type!=="background"&&(this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter),o.layout&&(this._unevaluatedLayout=new im(o.layout)),o.paint)){this._transitionablePaint=new kd(o.paint);for(const c in n.paint)this.setPaintProperty(c,n.paint[c],{validate:!1});for(const c in n.layout)this.setLayoutProperty(c,n.layout[c],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new eu(o.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,o,c={}){o!=null&&this._validate(Yl,`layers.${this.id}.layout.${n}`,n,o,c)||(n!=="visibility"?this._unevaluatedLayout.setValue(n,o):this.visibility=o)}getPaintProperty(n){return n.endsWith($o)?this._transitionablePaint.getTransition(n.slice(0,-$o.length)):this._transitionablePaint.getValue(n)}setPaintProperty(n,o,c={}){if(o!=null&&this._validate(sl,`layers.${this.id}.paint.${n}`,n,o,c))return!1;if(n.endsWith($o))return this._transitionablePaint.setTransition(n.slice(0,-$o.length),o||void 0),!1;{const m=this._transitionablePaint._values[n],_=m.property.specification["property-type"]==="cross-faded-data-driven",w=m.value.isDataDriven(),A=m.value;this._transitionablePaint.setValue(n,o),this._handleSpecialPaintPropertyUpdate(n);const C=this._transitionablePaint._values[n].value;return C.isDataDriven()||w||_||this._handleOverridablePaintPropertyUpdate(n,A,C)}}_handleSpecialPaintPropertyUpdate(n){}_handleOverridablePaintPropertyUpdate(n,o,c){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,o){n.getCrossfadeParameters&&(this._crossfadeParameters=n.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,o)}serialize(){const n={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(n.layout=n.layout||{},n.layout.visibility=this.visibility),ae(n,(o,c)=>!(o===void 0||c==="layout"&&!Object.keys(o).length||c==="paint"&&!Object.keys(o).length))}_validate(n,o,c,m,_={}){return(!_||_.validate!==!1)&&Ho(this,n.call(mo,{key:o,layerType:this.type,objectKey:c,value:m,styleSpec:ze,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const n in this.paint._values){const o=this.paint.get(n);if(o instanceof $s&&An(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}}const Md={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Xo{constructor(n,o){this._structArray=n,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Li{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,o){return n._trim(),o&&(n.isTransferred=!0,o.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const o=Object.create(this.prototype);return o.arrayBuffer=n.arrayBuffer,o.length=n.length,o.capacity=n.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Xi(r,n=1){let o=0,c=0;return{members:r.map(m=>{const _=Md[m.type].BYTES_PER_ELEMENT,w=o=qc(o,Math.max(n,_)),A=m.components||1;return c=Math.max(c,_),o+=_*A,{name:m.name,type:m.type,components:A,offset:w}}),size:qc(o,Math.max(c,n)),alignment:n}}function qc(r,n){return Math.ceil(r/n)*n}class Ta extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o){const c=this.length;return this.resize(c+1),this.emplace(c,n,o)}emplace(n,o,c){const m=2*n;return this.int16[m+0]=o,this.int16[m+1]=c,n}}Ta.prototype.bytesPerElement=4,te("StructArrayLayout2i4",Ta);class f extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,c,m){const _=this.length;return this.resize(_+1),this.emplace(_,n,o,c,m)}emplace(n,o,c,m,_){const w=4*n;return this.int16[w+0]=o,this.int16[w+1]=c,this.int16[w+2]=m,this.int16[w+3]=_,n}}f.prototype.bytesPerElement=8,te("StructArrayLayout4i8",f);class i extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_,w){const A=this.length;return this.resize(A+1),this.emplace(A,n,o,c,m,_,w)}emplace(n,o,c,m,_,w,A){const C=6*n;return this.int16[C+0]=o,this.int16[C+1]=c,this.int16[C+2]=m,this.int16[C+3]=_,this.int16[C+4]=w,this.int16[C+5]=A,n}}i.prototype.bytesPerElement=12,te("StructArrayLayout2i4i12",i);class l extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_,w){const A=this.length;return this.resize(A+1),this.emplace(A,n,o,c,m,_,w)}emplace(n,o,c,m,_,w,A){const C=4*n,L=8*n;return this.int16[C+0]=o,this.int16[C+1]=c,this.uint8[L+4]=m,this.uint8[L+5]=_,this.uint8[L+6]=w,this.uint8[L+7]=A,n}}l.prototype.bytesPerElement=8,te("StructArrayLayout2i4ub8",l);class d extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o){const c=this.length;return this.resize(c+1),this.emplace(c,n,o)}emplace(n,o,c){const m=2*n;return this.float32[m+0]=o,this.float32[m+1]=c,n}}d.prototype.bytesPerElement=8,te("StructArrayLayout2f8",d);class g extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_,w,A,C,L,F){const U=this.length;return this.resize(U+1),this.emplace(U,n,o,c,m,_,w,A,C,L,F)}emplace(n,o,c,m,_,w,A,C,L,F,U){const Z=10*n;return this.uint16[Z+0]=o,this.uint16[Z+1]=c,this.uint16[Z+2]=m,this.uint16[Z+3]=_,this.uint16[Z+4]=w,this.uint16[Z+5]=A,this.uint16[Z+6]=C,this.uint16[Z+7]=L,this.uint16[Z+8]=F,this.uint16[Z+9]=U,n}}g.prototype.bytesPerElement=20,te("StructArrayLayout10ui20",g);class x extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_,w,A,C,L,F,U,Z){const K=this.length;return this.resize(K+1),this.emplace(K,n,o,c,m,_,w,A,C,L,F,U,Z)}emplace(n,o,c,m,_,w,A,C,L,F,U,Z,K){const Y=12*n;return this.int16[Y+0]=o,this.int16[Y+1]=c,this.int16[Y+2]=m,this.int16[Y+3]=_,this.uint16[Y+4]=w,this.uint16[Y+5]=A,this.uint16[Y+6]=C,this.uint16[Y+7]=L,this.int16[Y+8]=F,this.int16[Y+9]=U,this.int16[Y+10]=Z,this.int16[Y+11]=K,n}}x.prototype.bytesPerElement=24,te("StructArrayLayout4i4ui4i24",x);class T extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,c){const m=this.length;return this.resize(m+1),this.emplace(m,n,o,c)}emplace(n,o,c,m){const _=3*n;return this.float32[_+0]=o,this.float32[_+1]=c,this.float32[_+2]=m,n}}T.prototype.bytesPerElement=12,te("StructArrayLayout3f12",T);class k extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const o=this.length;return this.resize(o+1),this.emplace(o,n)}emplace(n,o){return this.uint32[1*n+0]=o,n}}k.prototype.bytesPerElement=4,te("StructArrayLayout1ul4",k);class M extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_,w,A,C,L){const F=this.length;return this.resize(F+1),this.emplace(F,n,o,c,m,_,w,A,C,L)}emplace(n,o,c,m,_,w,A,C,L,F){const U=10*n,Z=5*n;return this.int16[U+0]=o,this.int16[U+1]=c,this.int16[U+2]=m,this.int16[U+3]=_,this.int16[U+4]=w,this.int16[U+5]=A,this.uint32[Z+3]=C,this.uint16[U+8]=L,this.uint16[U+9]=F,n}}M.prototype.bytesPerElement=20,te("StructArrayLayout6i1ul2ui20",M);class R extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_,w){const A=this.length;return this.resize(A+1),this.emplace(A,n,o,c,m,_,w)}emplace(n,o,c,m,_,w,A){const C=6*n;return this.int16[C+0]=o,this.int16[C+1]=c,this.int16[C+2]=m,this.int16[C+3]=_,this.int16[C+4]=w,this.int16[C+5]=A,n}}R.prototype.bytesPerElement=12,te("StructArrayLayout2i2i2i12",R);class O extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_){const w=this.length;return this.resize(w+1),this.emplace(w,n,o,c,m,_)}emplace(n,o,c,m,_,w){const A=4*n,C=8*n;return this.float32[A+0]=o,this.float32[A+1]=c,this.float32[A+2]=m,this.int16[C+6]=_,this.int16[C+7]=w,n}}O.prototype.bytesPerElement=16,te("StructArrayLayout2f1f2i16",O);class W extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,c,m){const _=this.length;return this.resize(_+1),this.emplace(_,n,o,c,m)}emplace(n,o,c,m,_){const w=12*n,A=3*n;return this.uint8[w+0]=o,this.uint8[w+1]=c,this.float32[A+1]=m,this.float32[A+2]=_,n}}W.prototype.bytesPerElement=12,te("StructArrayLayout2ub2f12",W);class $ extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,c){const m=this.length;return this.resize(m+1),this.emplace(m,n,o,c)}emplace(n,o,c,m){const _=3*n;return this.uint16[_+0]=o,this.uint16[_+1]=c,this.uint16[_+2]=m,n}}$.prototype.bytesPerElement=6,te("StructArrayLayout3ui6",$);class ue extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_,w,A,C,L,F,U,Z,K,Y,me,pe,Pe){const Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,n,o,c,m,_,w,A,C,L,F,U,Z,K,Y,me,pe,Pe)}emplace(n,o,c,m,_,w,A,C,L,F,U,Z,K,Y,me,pe,Pe,Ne){const Ee=24*n,Le=12*n,Je=48*n;return this.int16[Ee+0]=o,this.int16[Ee+1]=c,this.uint16[Ee+2]=m,this.uint16[Ee+3]=_,this.uint32[Le+2]=w,this.uint32[Le+3]=A,this.uint32[Le+4]=C,this.uint16[Ee+10]=L,this.uint16[Ee+11]=F,this.uint16[Ee+12]=U,this.float32[Le+7]=Z,this.float32[Le+8]=K,this.uint8[Je+36]=Y,this.uint8[Je+37]=me,this.uint8[Je+38]=pe,this.uint32[Le+10]=Pe,this.int16[Ee+22]=Ne,n}}ue.prototype.bytesPerElement=48,te("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ue);class se extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,c,m,_,w,A,C,L,F,U,Z,K,Y,me,pe,Pe,Ne,Ee,Le,Je,Qe,Ct,Mt,wt,vt,mt,bt){const _t=this.length;return this.resize(_t+1),this.emplace(_t,n,o,c,m,_,w,A,C,L,F,U,Z,K,Y,me,pe,Pe,Ne,Ee,Le,Je,Qe,Ct,Mt,wt,vt,mt,bt)}emplace(n,o,c,m,_,w,A,C,L,F,U,Z,K,Y,me,pe,Pe,Ne,Ee,Le,Je,Qe,Ct,Mt,wt,vt,mt,bt,_t){const ut=34*n,Zt=17*n;return this.int16[ut+0]=o,this.int16[ut+1]=c,this.int16[ut+2]=m,this.int16[ut+3]=_,this.int16[ut+4]=w,this.int16[ut+5]=A,this.int16[ut+6]=C,this.int16[ut+7]=L,this.uint16[ut+8]=F,this.uint16[ut+9]=U,this.uint16[ut+10]=Z,this.uint16[ut+11]=K,this.uint16[ut+12]=Y,this.uint16[ut+13]=me,this.uint16[ut+14]=pe,this.uint16[ut+15]=Pe,this.uint16[ut+16]=Ne,this.uint16[ut+17]=Ee,this.uint16[ut+18]=Le,this.uint16[ut+19]=Je,this.uint16[ut+20]=Qe,this.uint16[ut+21]=Ct,this.uint16[ut+22]=Mt,this.uint32[Zt+12]=wt,this.float32[Zt+13]=vt,this.float32[Zt+14]=mt,this.float32[Zt+15]=bt,this.float32[Zt+16]=_t,n}}se.prototype.bytesPerElement=68,te("StructArrayLayout8i15ui1ul4f68",se);class le extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const o=this.length;return this.resize(o+1),this.emplace(o,n)}emplace(n,o){return this.float32[1*n+0]=o,n}}le.prototype.bytesPerElement=4,te("StructArrayLayout1f4",le);class xe extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,o,c){const m=this.length;return this.resize(m+1),this.emplace(m,n,o,c)}emplace(n,o,c,m){const _=3*n;return this.int16[_+0]=o,this.int16[_+1]=c,this.int16[_+2]=m,n}}xe.prototype.bytesPerElement=6,te("StructArrayLayout3i6",xe);class Ae extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o,c){const m=this.length;return this.resize(m+1),this.emplace(m,n,o,c)}emplace(n,o,c,m){const _=4*n;return this.uint32[2*n+0]=o,this.uint16[_+2]=c,this.uint16[_+3]=m,n}}Ae.prototype.bytesPerElement=8,te("StructArrayLayout1ul2ui8",Ae);class Me extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,o){const c=this.length;return this.resize(c+1),this.emplace(c,n,o)}emplace(n,o,c){const m=2*n;return this.uint16[m+0]=o,this.uint16[m+1]=c,n}}Me.prototype.bytesPerElement=4,te("StructArrayLayout2ui4",Me);class de extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const o=this.length;return this.resize(o+1),this.emplace(o,n)}emplace(n,o){return this.uint16[1*n+0]=o,n}}de.prototype.bytesPerElement=2,te("StructArrayLayout1ui2",de);class Re extends Li{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,o,c,m){const _=this.length;return this.resize(_+1),this.emplace(_,n,o,c,m)}emplace(n,o,c,m,_){const w=4*n;return this.float32[w+0]=o,this.float32[w+1]=c,this.float32[w+2]=m,this.float32[w+3]=_,n}}Re.prototype.bytesPerElement=16,te("StructArrayLayout4f16",Re);class De extends Xo{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new St(this.anchorPointX,this.anchorPointY)}}De.prototype.size=20;class Ge extends M{get(n){return new De(this,n)}}te("CollisionBoxArray",Ge);class We extends Xo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(n){this._structArray.uint8[this._pos1+37]=n}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(n){this._structArray.uint8[this._pos1+38]=n}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(n){this._structArray.uint32[this._pos4+10]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}We.prototype.size=48;class ot extends ue{get(n){return new We(this,n)}}te("PlacedSymbolArray",ot);class Ve extends Xo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(n){this._structArray.uint32[this._pos4+12]=n}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Ve.prototype.size=68;class Tt extends se{get(n){return new Ve(this,n)}}te("SymbolInstanceArray",Tt);class yt extends le{getoffsetX(n){return this.float32[1*n+0]}}te("GlyphOffsetArray",yt);class Et extends xe{getx(n){return this.int16[3*n+0]}gety(n){return this.int16[3*n+1]}gettileUnitDistanceFromAnchor(n){return this.int16[3*n+2]}}te("SymbolLineVertexArray",Et);class pn extends Xo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}pn.prototype.size=8;class xn extends Ae{get(n){return new pn(this,n)}}te("FeatureIndexArray",xn);class Ht extends Ta{}class ei extends Ta{}class ti extends Ta{}class Rn extends i{}class Vn extends l{}class ri extends d{}class or extends g{}class Ks extends x{}class Is extends T{}class Ys extends k{}class Ko extends R{}class _s extends W{}class Zr extends ${}class go extends Me{}const Vu=Xi([{name:"a_pos",components:2,type:"Int16"}],4),{members:er}=Vu;class Cn{constructor(n=[]){this.segments=n}prepareSegment(n,o,c,m){let _=this.segments[this.segments.length-1];return n>Cn.MAX_VERTEX_ARRAY_LENGTH&&Ue(`Max vertices per segment is ${Cn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!_||_.vertexLength+n>Cn.MAX_VERTEX_ARRAY_LENGTH||_.sortKey!==m)&&(_={vertexOffset:o.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0},m!==void 0&&(_.sortKey=m),this.segments.push(_)),_}get(){return this.segments}destroy(){for(const n of this.segments)for(const o in n.vaos)n.vaos[o].destroy()}static simpleSegment(n,o,c,m){return new Cn([{vertexOffset:n,primitiveOffset:o,vertexLength:c,primitiveLength:m,vaos:{},sortKey:0}])}}function Qn(r,n){return 256*(r=z(Math.floor(r),0,255))+z(Math.floor(n),0,255)}Cn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,te("SegmentVector",Cn);const ar=Xi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var lr={exports:{}},bi={exports:{}};bi.exports=function(r,n){var o,c,m,_,w,A,C,L;for(c=r.length-(o=3&r.length),m=n,w=3432918353,A=461845907,L=0;L<c;)C=255&r.charCodeAt(L)|(255&r.charCodeAt(++L))<<8|(255&r.charCodeAt(++L))<<16|(255&r.charCodeAt(++L))<<24,++L,m=27492+(65535&(_=5*(65535&(m=(m^=C=(65535&(C=(C=(65535&C)*w+(((C>>>16)*w&65535)<<16)&4294967295)<<15|C>>>17))*A+(((C>>>16)*A&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(_>>>16)&65535)<<16);switch(C=0,o){case 3:C^=(255&r.charCodeAt(L+2))<<16;case 2:C^=(255&r.charCodeAt(L+1))<<8;case 1:m^=C=(65535&(C=(C=(65535&(C^=255&r.charCodeAt(L)))*w+(((C>>>16)*w&65535)<<16)&4294967295)<<15|C>>>17))*A+(((C>>>16)*A&65535)<<16)&4294967295}return m^=r.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var xs={exports:{}};xs.exports=function(r,n){for(var o,c=r.length,m=n^c,_=0;c>=4;)o=1540483477*(65535&(o=255&r.charCodeAt(_)|(255&r.charCodeAt(++_))<<8|(255&r.charCodeAt(++_))<<16|(255&r.charCodeAt(++_))<<24))+((1540483477*(o>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),c-=4,++_;switch(c){case 3:m^=(255&r.charCodeAt(_+2))<<16;case 2:m^=(255&r.charCodeAt(_+1))<<8;case 1:m=1540483477*(65535&(m^=255&r.charCodeAt(_)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var Aa=bi.exports,Gc=xs.exports;lr.exports=Aa,lr.exports.murmur3=Aa,lr.exports.murmur2=Gc;class ll{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(n,o,c,m){this.ids.push(zd(n)),this.positions.push(o,c,m)}getPositions(n){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const o=zd(n);let c=0,m=this.ids.length-1;for(;c<m;){const w=c+m>>1;this.ids[w]>=o?m=w:c=w+1}const _=[];for(;this.ids[c]===o;)_.push({index:this.positions[3*c],start:this.positions[3*c+1],end:this.positions[3*c+2]}),c++;return _}static serialize(n,o){const c=new Float64Array(n.ids),m=new Uint32Array(n.positions);return Wc(c,m,0,c.length-1),o&&o.push(c.buffer,m.buffer),{ids:c,positions:m}}static deserialize(n){const o=new ll;return o.ids=n.ids,o.positions=n.positions,o.indexed=!0,o}}function zd(r){const n=+r;return!isNaN(n)&&n<=Number.MAX_SAFE_INTEGER?n:lr.exports(String(r))}function Wc(r,n,o,c){for(;o<c;){const m=r[o+c>>1];let _=o-1,w=c+1;for(;;){do _++;while(r[_]<m);do w--;while(r[w]>m);if(_>=w)break;Yo(r,_,w),Yo(n,3*_,3*w),Yo(n,3*_+1,3*w+1),Yo(n,3*_+2,3*w+2)}w-o<c-w?(Wc(r,n,o,w),o=w+1):(Wc(r,n,w+1,c),c=w)}}function Yo(r,n,o){const c=r[n];r[n]=r[o],r[o]=c}te("FeaturePositionMap",ll);class Ea{constructor(n,o){this.gl=n.gl,this.location=o}}class Ca extends Ea{constructor(n,o){super(n,o),this.current=0}set(n){this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class Uu extends Ea{constructor(n,o){super(n,o),this.current=[0,0,0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3]))}}class w_ extends Ea{constructor(n,o){super(n,o),this.current=ee.transparent}set(n){n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a))}}const DT=new Float32Array(16);function rm(r){return[Qn(255*r.r,255*r.g),Qn(255*r.b,255*r.a)]}class Hc{constructor(n,o,c){this.value=n,this.uniformNames=o.map(m=>`u_${m}`),this.type=c}setUniform(n,o,c){n.set(c.constantOr(this.value))}getBinding(n,o,c){return this.type==="color"?new w_(n,o):new Ca(n,o)}}class ju{constructor(n,o){this.uniformNames=o.map(c=>`u_${c}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(n,o){this.pixelRatioFrom=o.pixelRatio,this.pixelRatioTo=n.pixelRatio,this.patternFrom=o.tlbr,this.patternTo=n.tlbr}setUniform(n,o,c,m){const _=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;_&&n.set(_)}getBinding(n,o,c){return c.substr(0,9)==="u_pattern"?new Uu(n,o):new Ca(n,o)}}class ka{constructor(n,o,c,m){this.expression=n,this.type=c,this.maxValue=0,this.paintVertexAttributes=o.map(_=>({name:`a_${_}`,type:"Float32",components:c==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(n,o,c,m,_){const w=this.paintVertexArray.length,A=this.expression.evaluate(new wi(0),o,{},m,[],_);this.paintVertexArray.resize(n),this._setPaintValue(w,n,A)}updatePaintArray(n,o,c,m){const _=this.expression.evaluate({zoom:0},c,m);this._setPaintValue(n,o,_)}_setPaintValue(n,o,c){if(this.type==="color"){const m=rm(c);for(let _=n;_<o;_++)this.paintVertexArray.emplace(_,m[0],m[1])}else{for(let m=n;m<o;m++)this.paintVertexArray.emplace(m,c);this.maxValue=Math.max(this.maxValue,Math.abs(c))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class yo{constructor(n,o,c,m,_,w){this.expression=n,this.uniformNames=o.map(A=>`u_${A}_t`),this.type=c,this.useIntegerZoom=m,this.zoom=_,this.maxValue=0,this.paintVertexAttributes=o.map(A=>({name:`a_${A}`,type:"Float32",components:c==="color"?4:2,offset:0})),this.paintVertexArray=new w}populatePaintArray(n,o,c,m,_){const w=this.expression.evaluate(new wi(this.zoom),o,{},m,[],_),A=this.expression.evaluate(new wi(this.zoom+1),o,{},m,[],_),C=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(C,n,w,A)}updatePaintArray(n,o,c,m){const _=this.expression.evaluate({zoom:this.zoom},c,m),w=this.expression.evaluate({zoom:this.zoom+1},c,m);this._setPaintValue(n,o,_,w)}_setPaintValue(n,o,c,m){if(this.type==="color"){const _=rm(c),w=rm(m);for(let A=n;A<o;A++)this.paintVertexArray.emplace(A,_[0],_[1],w[0],w[1])}else{for(let _=n;_<o;_++)this.paintVertexArray.emplace(_,c,m);this.maxValue=Math.max(this.maxValue,Math.abs(c),Math.abs(m))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,o){const c=this.useIntegerZoom?Math.floor(o.zoom):o.zoom,m=z(this.expression.interpolationFactor(c,this.zoom,this.zoom+1),0,1);n.set(m)}getBinding(n,o,c){return new Ca(n,o)}}class ul{constructor(n,o,c,m,_,w){this.expression=n,this.type=o,this.useIntegerZoom=c,this.zoom=m,this.layerId=w,this.zoomInPaintVertexArray=new _,this.zoomOutPaintVertexArray=new _}populatePaintArray(n,o,c){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(n),this.zoomOutPaintVertexArray.resize(n),this._setPaintValues(m,n,o.patterns&&o.patterns[this.layerId],c)}updatePaintArray(n,o,c,m,_){this._setPaintValues(n,o,c.patterns&&c.patterns[this.layerId],_)}_setPaintValues(n,o,c,m){if(!m||!c)return;const{min:_,mid:w,max:A}=c,C=m[_],L=m[w],F=m[A];if(C&&L&&F)for(let U=n;U<o;U++)this.zoomInPaintVertexArray.emplace(U,L.tl[0],L.tl[1],L.br[0],L.br[1],C.tl[0],C.tl[1],C.br[0],C.br[1],L.pixelRatio,C.pixelRatio),this.zoomOutPaintVertexArray.emplace(U,L.tl[0],L.tl[1],L.br[0],L.br[1],F.tl[0],F.tl[1],F.br[0],F.br[1],L.pixelRatio,F.pixelRatio)}upload(n){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=n.createVertexBuffer(this.zoomInPaintVertexArray,ar.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=n.createVertexBuffer(this.zoomOutPaintVertexArray,ar.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class b_{constructor(n,o,c){this.binders={},this._buffers=[];const m=[];for(const _ in n.paint._values){if(!c(_))continue;const w=n.paint.get(_);if(!(w instanceof $s&&An(w.property.specification)))continue;const A=LT(_,n.type),C=w.value,L=w.property.specification.type,F=w.property.useIntegerZoom,U=w.property.specification["property-type"],Z=U==="cross-faded"||U==="cross-faded-data-driven";if(C.kind==="constant")this.binders[_]=Z?new ju(C.value,A):new Hc(C.value,A,L),m.push(`/u_${_}`);else if(C.kind==="source"||Z){const K=S_(_,L,"source");this.binders[_]=Z?new ul(C,L,F,o,K,n.id):new ka(C,A,L,K),m.push(`/a_${_}`)}else{const K=S_(_,L,"composite");this.binders[_]=new yo(C,A,L,F,o,K),m.push(`/z_${_}`)}}this.cacheKey=m.sort().join("")}getMaxValue(n){const o=this.binders[n];return o instanceof ka||o instanceof yo?o.maxValue:0}populatePaintArrays(n,o,c,m,_){for(const w in this.binders){const A=this.binders[w];(A instanceof ka||A instanceof yo||A instanceof ul)&&A.populatePaintArray(n,o,c,m,_)}}setConstantPatternPositions(n,o){for(const c in this.binders){const m=this.binders[c];m instanceof ju&&m.setConstantPatternPositions(n,o)}}updatePaintArrays(n,o,c,m,_){let w=!1;for(const A in n){const C=o.getPositions(A);for(const L of C){const F=c.feature(L.index);for(const U in this.binders){const Z=this.binders[U];if((Z instanceof ka||Z instanceof yo||Z instanceof ul)&&Z.expression.isStateDependent===!0){const K=m.paint.get(U);Z.expression=K.value,Z.updatePaintArray(L.start,L.end,F,n[A],_),w=!0}}}}return w}defines(){const n=[];for(const o in this.binders){const c=this.binders[o];(c instanceof Hc||c instanceof ju)&&n.push(...c.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return n}getBinderAttributes(){const n=[];for(const o in this.binders){const c=this.binders[o];if(c instanceof ka||c instanceof yo)for(let m=0;m<c.paintVertexAttributes.length;m++)n.push(c.paintVertexAttributes[m].name);else if(c instanceof ul)for(let m=0;m<ar.members.length;m++)n.push(ar.members[m].name)}return n}getBinderUniforms(){const n=[];for(const o in this.binders){const c=this.binders[o];if(c instanceof Hc||c instanceof ju||c instanceof yo)for(const m of c.uniformNames)n.push(m)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n,o){const c=[];for(const m in this.binders){const _=this.binders[m];if(_ instanceof Hc||_ instanceof ju||_ instanceof yo){for(const w of _.uniformNames)if(o[w]){const A=_.getBinding(n,o[w],w);c.push({name:w,property:m,binding:A})}}}return c}setUniforms(n,o,c,m){for(const{name:_,property:w,binding:A}of o)this.binders[w].setUniform(A,m,c.get(w),_)}updatePaintBuffers(n){this._buffers=[];for(const o in this.binders){const c=this.binders[o];if(n&&c instanceof ul){const m=n.fromScale===2?c.zoomInPaintVertexBuffer:c.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(c instanceof ka||c instanceof yo)&&c.paintVertexBuffer&&this._buffers.push(c.paintVertexBuffer)}}upload(n){for(const o in this.binders){const c=this.binders[o];(c instanceof ka||c instanceof yo||c instanceof ul)&&c.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const o=this.binders[n];(o instanceof ka||o instanceof yo||o instanceof ul)&&o.destroy()}}}class tu{constructor(n,o,c=()=>!0){this.programConfigurations={};for(const m of n)this.programConfigurations[m.id]=new b_(m,o,c);this.needsUpload=!1,this._featureMap=new ll,this._bufferOffset=0}populatePaintArrays(n,o,c,m,_,w){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(n,o,m,_,w);o.id!==void 0&&this._featureMap.add(o.id,c,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,o,c,m){for(const _ of c)this.needsUpload=this.programConfigurations[_.id].updatePaintArrays(n,this._featureMap,o,_,m)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}function LT(r,n){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[r]||[r.replace(`${n}-`,"").replace(/-/g,"_")]}function S_(r,n,o){const c={color:{source:d,composite:Re},number:{source:le,composite:d}},m=function(_){return{"line-pattern":{source:or,composite:or},"fill-pattern":{source:or,composite:or},"fill-extrusion-pattern":{source:or,composite:or}}[_]}(r);return m&&m[o]||c[n][o]}te("ConstantBinder",Hc),te("CrossFadedConstantBinder",ju),te("SourceExpressionBinder",ka),te("CrossFadedCompositeBinder",ul),te("CompositeExpressionBinder",yo),te("ProgramConfiguration",b_,{omit:["_buffers"]}),te("ProgramConfigurationSet",tu);var tr=8192;const sm=Math.pow(2,14)-1,T_=-sm-1;function nu(r){const n=tr/r.extent,o=r.loadGeometry();for(let c=0;c<o.length;c++){const m=o[c];for(let _=0;_<m.length;_++){const w=m[_],A=Math.round(w.x*n),C=Math.round(w.y*n);w.x=z(A,T_,sm),w.y=z(C,T_,sm),(A<w.x||A>w.x+1||C<w.y||C>w.y+1)&&Ue("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return o}function iu(r,n){return{type:r.type,id:r.id,properties:r.properties,geometry:n?nu(r):[]}}function Dd(r,n,o,c,m){r.emplaceBack(2*n+(c+1)/2,2*o+(m+1)/2)}class om{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.id),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new ei,this.indexArray=new Zr,this.segments=new Cn,this.programConfigurations=new tu(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(n,o,c){const m=this.layers[0],_=[];let w=null,A=!1;m.type==="circle"&&(w=m.layout.get("circle-sort-key"),A=!w.isConstant());for(const{feature:C,id:L,index:F,sourceLayerIndex:U}of n){const Z=this.layers[0]._featureFilter.needGeometry,K=iu(C,Z);if(!this.layers[0]._featureFilter.filter(new wi(this.zoom),K,c))continue;const Y=A?w.evaluate(K,{},c):void 0,me={id:L,properties:C.properties,type:C.type,sourceLayerIndex:U,index:F,geometry:Z?K.geometry:nu(C),patterns:{},sortKey:Y};_.push(me)}A&&_.sort((C,L)=>C.sortKey-L.sortKey);for(const C of _){const{geometry:L,index:F,sourceLayerIndex:U}=C,Z=n[F].feature;this.addFeature(C,L,F,c),o.featureIndex.insert(Z,L,F,U,this.index)}}update(n,o,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,c)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,er),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,o,c,m){for(const _ of o)for(const w of _){const A=w.x,C=w.y;if(A<0||A>=tr||C<0||C>=tr)continue;const L=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),F=L.vertexLength;Dd(this.layoutVertexArray,A,C,-1,-1),Dd(this.layoutVertexArray,A,C,1,-1),Dd(this.layoutVertexArray,A,C,1,1),Dd(this.layoutVertexArray,A,C,-1,1),this.indexArray.emplaceBack(F,F+1,F+2),this.indexArray.emplaceBack(F,F+3,F+2),L.vertexLength+=4,L.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,c,{},m)}}function A_(r,n){for(let o=0;o<r.length;o++)if(qu(n,r[o]))return!0;for(let o=0;o<n.length;o++)if(qu(r,n[o]))return!0;return!!am(r,n)}function RT(r,n,o){return!!qu(r,n)||!!lm(n,r,o)}function E_(r,n){if(r.length===1)return k_(n,r[0]);for(let o=0;o<n.length;o++){const c=n[o];for(let m=0;m<c.length;m++)if(qu(r,c[m]))return!0}for(let o=0;o<r.length;o++)if(k_(n,r[o]))return!0;for(let o=0;o<n.length;o++)if(am(r,n[o]))return!0;return!1}function BT(r,n,o){if(r.length>1){if(am(r,n))return!0;for(let c=0;c<n.length;c++)if(lm(n[c],r,o))return!0}for(let c=0;c<r.length;c++)if(lm(r[c],n,o))return!0;return!1}function am(r,n){if(r.length===0||n.length===0)return!1;for(let o=0;o<r.length-1;o++){const c=r[o],m=r[o+1];for(let _=0;_<n.length-1;_++)if(NT(c,m,n[_],n[_+1]))return!0}return!1}function NT(r,n,o,c){return P(r,o,c)!==P(n,o,c)&&P(r,n,o)!==P(r,n,c)}function lm(r,n,o){const c=o*o;if(n.length===1)return r.distSqr(n[0])<c;for(let m=1;m<n.length;m++)if(C_(r,n[m-1],n[m])<c)return!0;return!1}function C_(r,n,o){const c=n.distSqr(o);if(c===0)return r.distSqr(n);const m=((r.x-n.x)*(o.x-n.x)+(r.y-n.y)*(o.y-n.y))/c;return r.distSqr(m<0?n:m>1?o:o.sub(n)._mult(m)._add(n))}function k_(r,n){let o,c,m,_=!1;for(let w=0;w<r.length;w++){o=r[w];for(let A=0,C=o.length-1;A<o.length;C=A++)c=o[A],m=o[C],c.y>n.y!=m.y>n.y&&n.x<(m.x-c.x)*(n.y-c.y)/(m.y-c.y)+c.x&&(_=!_)}return _}function qu(r,n){let o=!1;for(let c=0,m=r.length-1;c<r.length;m=c++){const _=r[c],w=r[m];_.y>n.y!=w.y>n.y&&n.x<(w.x-_.x)*(n.y-_.y)/(w.y-_.y)+_.x&&(o=!o)}return o}function FT(r,n,o){const c=o[0],m=o[2];if(r.x<c.x&&n.x<c.x||r.x>m.x&&n.x>m.x||r.y<c.y&&n.y<c.y||r.y>m.y&&n.y>m.y)return!1;const _=P(r,n,o[0]);return _!==P(r,n,o[1])||_!==P(r,n,o[2])||_!==P(r,n,o[3])}function Zc(r,n,o){const c=n.paint.get(r).value;return c.kind==="constant"?c.value:o.programConfigurations.get(n.id).getMaxValue(r)}function Ld(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Rd(r,n,o,c,m){if(!n[0]&&!n[1])return r;const _=St.convert(n)._mult(m);o==="viewport"&&_._rotate(-c);const w=[];for(let A=0;A<r.length;A++)w.push(r[A].sub(_));return w}te("CircleBucket",om,{omit:["layers"]});const OT=new pr({"circle-sort-key":new Kt(ze.layout_circle["circle-sort-key"])});var VT={paint:new pr({"circle-radius":new Kt(ze.paint_circle["circle-radius"]),"circle-color":new Kt(ze.paint_circle["circle-color"]),"circle-blur":new Kt(ze.paint_circle["circle-blur"]),"circle-opacity":new Kt(ze.paint_circle["circle-opacity"]),"circle-translate":new Lt(ze.paint_circle["circle-translate"]),"circle-translate-anchor":new Lt(ze.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Lt(ze.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Lt(ze.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Kt(ze.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Kt(ze.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Kt(ze.paint_circle["circle-stroke-opacity"])}),layout:OT},$r=1e-6,Xr=typeof Float32Array<"u"?Float32Array:Array;function P_(){var r=new Xr(9);return Xr!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function um(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function I_(r,n,o){var c=n[0],m=n[1],_=n[2],w=n[3],A=n[4],C=n[5],L=n[6],F=n[7],U=n[8],Z=n[9],K=n[10],Y=n[11],me=n[12],pe=n[13],Pe=n[14],Ne=n[15],Ee=o[0],Le=o[1],Je=o[2],Qe=o[3];return r[0]=Ee*c+Le*A+Je*U+Qe*me,r[1]=Ee*m+Le*C+Je*Z+Qe*pe,r[2]=Ee*_+Le*L+Je*K+Qe*Pe,r[3]=Ee*w+Le*F+Je*Y+Qe*Ne,r[4]=(Ee=o[4])*c+(Le=o[5])*A+(Je=o[6])*U+(Qe=o[7])*me,r[5]=Ee*m+Le*C+Je*Z+Qe*pe,r[6]=Ee*_+Le*L+Je*K+Qe*Pe,r[7]=Ee*w+Le*F+Je*Y+Qe*Ne,r[8]=(Ee=o[8])*c+(Le=o[9])*A+(Je=o[10])*U+(Qe=o[11])*me,r[9]=Ee*m+Le*C+Je*Z+Qe*pe,r[10]=Ee*_+Le*L+Je*K+Qe*Pe,r[11]=Ee*w+Le*F+Je*Y+Qe*Ne,r[12]=(Ee=o[12])*c+(Le=o[13])*A+(Je=o[14])*U+(Qe=o[15])*me,r[13]=Ee*m+Le*C+Je*Z+Qe*pe,r[14]=Ee*_+Le*L+Je*K+Qe*Pe,r[15]=Ee*w+Le*F+Je*Y+Qe*Ne,r}Math.hypot||(Math.hypot=function(){for(var r=0,n=arguments.length;n--;)r+=arguments[n]*arguments[n];return Math.sqrt(r)});var $c,UT=I_;function M_(){var r=new Xr(3);return Xr!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function z_(r,n,o){var c=new Xr(3);return c[0]=r,c[1]=n,c[2]=o,c}function Bd(r,n,o){var c=n[0],m=n[1],_=n[2],w=n[3];return r[0]=o[0]*c+o[4]*m+o[8]*_+o[12]*w,r[1]=o[1]*c+o[5]*m+o[9]*_+o[13]*w,r[2]=o[2]*c+o[6]*m+o[10]*_+o[14]*w,r[3]=o[3]*c+o[7]*m+o[11]*_+o[15]*w,r}function D_(){var r=new Xr(4);return Xr!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function L_(r,n){const o=Bd([],[r.x,r.y,0,1],n);return new St(o[0]/o[3],o[1]/o[3])}M_(),$c=new Xr(4),Xr!=Float32Array&&($c[0]=0,$c[1]=0,$c[2]=0,$c[3]=0),M_(),z_(1,0,0),z_(0,1,0),D_(),D_(),P_(),function(){var r;r=new Xr(2),Xr!=Float32Array&&(r[0]=0,r[1]=0)}();class R_ extends om{}te("HeatmapBucket",R_,{omit:["layers"]});var jT={paint:new pr({"heatmap-radius":new Kt(ze.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Kt(ze.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Lt(ze.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Zo(ze.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Lt(ze.paint_heatmap["heatmap-opacity"])})};function cm(r,{width:n,height:o},c,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==n*o*c)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${n*o*c}`)}else m=new Uint8Array(n*o*c);return r.width=n,r.height=o,r.data=m,r}function B_(r,{width:n,height:o},c){if(n===r.width&&o===r.height)return;const m=cm({},{width:n,height:o},c);hm(r,m,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,n),height:Math.min(r.height,o)},c),r.width=n,r.height=o,r.data=m.data}function hm(r,n,o,c,m,_){if(m.width===0||m.height===0)return n;if(m.width>r.width||m.height>r.height||o.x>r.width-m.width||o.y>r.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>n.width||m.height>n.height||c.x>n.width-m.width||c.y>n.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const w=r.data,A=n.data;if(w===A)throw new Error("srcData equals dstData, so image is already copied");for(let C=0;C<m.height;C++){const L=((o.y+C)*r.width+o.x)*_,F=((c.y+C)*n.width+c.x)*_;for(let U=0;U<m.width*_;U++)A[F+U]=w[L+U]}return n}class Xc{constructor(n,o){cm(this,n,1,o)}resize(n){B_(this,n,1)}clone(){return new Xc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,o,c,m,_){hm(n,o,c,m,_,1)}}class Ms{constructor(n,o){cm(this,n,4,o)}resize(n){B_(this,n,4)}replace(n,o){o?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Ms({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,o,c,m,_){hm(n,o,c,m,_,4)}}function N_(r){const n={},o=r.resolution||256,c=r.clips?r.clips.length:1,m=r.image||new Ms({width:o,height:c});if(Math.log(o)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${o}`);const _=(w,A,C)=>{n[r.evaluationKey]=C;const L=r.expression.evaluate(n);m.data[w+A+0]=Math.floor(255*L.r/L.a),m.data[w+A+1]=Math.floor(255*L.g/L.a),m.data[w+A+2]=Math.floor(255*L.b/L.a),m.data[w+A+3]=Math.floor(255*L.a)};if(r.clips)for(let w=0,A=0;w<c;++w,A+=4*o)for(let C=0,L=0;C<o;C++,L+=4){const F=C/(o-1),{start:U,end:Z}=r.clips[w];_(A,L,U*(1-F)+Z*F)}else for(let w=0,A=0;w<o;w++,A+=4)_(0,A,w/(o-1));return m}te("AlphaImage",Xc),te("RGBAImage",Ms);var qT={paint:new pr({"hillshade-illumination-direction":new Lt(ze.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Lt(ze.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Lt(ze.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Lt(ze.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Lt(ze.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Lt(ze.paint_hillshade["hillshade-accent-color"])})};const GT=Xi([{name:"a_pos",components:2,type:"Int16"}],4),{members:WT}=GT;var Nd={exports:{}};function Fd(r,n,o){o=o||2;var c,m,_,w,A,C,L,F=n&&n.length,U=F?n[0]*o:r.length,Z=F_(r,0,U,o,!0),K=[];if(!Z||Z.next===Z.prev)return K;if(F&&(Z=function(me,pe,Pe,Ne){var Ee,Le,Je,Qe=[];for(Ee=0,Le=pe.length;Ee<Le;Ee++)(Je=F_(me,pe[Ee]*Ne,Ee<Le-1?pe[Ee+1]*Ne:me.length,Ne,!1))===Je.next&&(Je.steiner=!0),Qe.push(JT(Je));for(Qe.sort(KT),Ee=0;Ee<Qe.length;Ee++)Pe=YT(Qe[Ee],Pe);return Pe}(r,n,Z,o)),r.length>80*o){c=_=r[0],m=w=r[1];for(var Y=o;Y<U;Y+=o)(A=r[Y])<c&&(c=A),(C=r[Y+1])<m&&(m=C),A>_&&(_=A),C>w&&(w=C);L=(L=Math.max(_-c,w-m))!==0?32767/L:0}return Kc(Z,K,o,c,m,L,0),K}function F_(r,n,o,c,m){var _,w;if(m===fm(r,n,o,c)>0)for(_=n;_<o;_+=c)w=U_(_,r[_],r[_+1],w);else for(_=o-c;_>=n;_-=c)w=U_(_,r[_],r[_+1],w);return w&&Od(w,w.next)&&(Qc(w),w=w.next),w}function ru(r,n){if(!r)return r;n||(n=r);var o,c=r;do if(o=!1,c.steiner||!Od(c,c.next)&&Ui(c.prev,c,c.next)!==0)c=c.next;else{if(Qc(c),(c=n=c.prev)===c.next)break;o=!0}while(o||c!==n);return n}function Kc(r,n,o,c,m,_,w){if(r){!w&&_&&function(F,U,Z,K){var Y=F;do Y.z===0&&(Y.z=dm(Y.x,Y.y,U,Z,K)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==F);Y.prevZ.nextZ=null,Y.prevZ=null,function(me){var pe,Pe,Ne,Ee,Le,Je,Qe,Ct,Mt=1;do{for(Pe=me,me=null,Le=null,Je=0;Pe;){for(Je++,Ne=Pe,Qe=0,pe=0;pe<Mt&&(Qe++,Ne=Ne.nextZ);pe++);for(Ct=Mt;Qe>0||Ct>0&&Ne;)Qe!==0&&(Ct===0||!Ne||Pe.z<=Ne.z)?(Ee=Pe,Pe=Pe.nextZ,Qe--):(Ee=Ne,Ne=Ne.nextZ,Ct--),Le?Le.nextZ=Ee:me=Ee,Ee.prevZ=Le,Le=Ee;Pe=Ne}Le.nextZ=null,Mt*=2}while(Je>1)}(Y)}(r,c,m,_);for(var A,C,L=r;r.prev!==r.next;)if(A=r.prev,C=r.next,_?ZT(r,c,m,_):HT(r))n.push(A.i/o|0),n.push(r.i/o|0),n.push(C.i/o|0),Qc(r),r=C.next,L=C.next;else if((r=C)===L){w?w===1?Kc(r=$T(ru(r),n,o),n,o,c,m,_,2):w===2&&XT(r,n,o,c,m,_):Kc(ru(r),n,o,c,m,_,1);break}}}function HT(r){var n=r.prev,o=r,c=r.next;if(Ui(n,o,c)>=0)return!1;for(var m=n.x,_=o.x,w=c.x,A=n.y,C=o.y,L=c.y,F=m<_?m<w?m:w:_<w?_:w,U=A<C?A<L?A:L:C<L?C:L,Z=m>_?m>w?m:w:_>w?_:w,K=A>C?A>L?A:L:C>L?C:L,Y=c.next;Y!==n;){if(Y.x>=F&&Y.x<=Z&&Y.y>=U&&Y.y<=K&&Gu(m,A,_,C,w,L,Y.x,Y.y)&&Ui(Y.prev,Y,Y.next)>=0)return!1;Y=Y.next}return!0}function ZT(r,n,o,c){var m=r.prev,_=r,w=r.next;if(Ui(m,_,w)>=0)return!1;for(var A=m.x,C=_.x,L=w.x,F=m.y,U=_.y,Z=w.y,K=A<C?A<L?A:L:C<L?C:L,Y=F<U?F<Z?F:Z:U<Z?U:Z,me=A>C?A>L?A:L:C>L?C:L,pe=F>U?F>Z?F:Z:U>Z?U:Z,Pe=dm(K,Y,n,o,c),Ne=dm(me,pe,n,o,c),Ee=r.prevZ,Le=r.nextZ;Ee&&Ee.z>=Pe&&Le&&Le.z<=Ne;){if(Ee.x>=K&&Ee.x<=me&&Ee.y>=Y&&Ee.y<=pe&&Ee!==m&&Ee!==w&&Gu(A,F,C,U,L,Z,Ee.x,Ee.y)&&Ui(Ee.prev,Ee,Ee.next)>=0||(Ee=Ee.prevZ,Le.x>=K&&Le.x<=me&&Le.y>=Y&&Le.y<=pe&&Le!==m&&Le!==w&&Gu(A,F,C,U,L,Z,Le.x,Le.y)&&Ui(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;Ee&&Ee.z>=Pe;){if(Ee.x>=K&&Ee.x<=me&&Ee.y>=Y&&Ee.y<=pe&&Ee!==m&&Ee!==w&&Gu(A,F,C,U,L,Z,Ee.x,Ee.y)&&Ui(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.prevZ}for(;Le&&Le.z<=Ne;){if(Le.x>=K&&Le.x<=me&&Le.y>=Y&&Le.y<=pe&&Le!==m&&Le!==w&&Gu(A,F,C,U,L,Z,Le.x,Le.y)&&Ui(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function $T(r,n,o){var c=r;do{var m=c.prev,_=c.next.next;!Od(m,_)&&O_(m,c,c.next,_)&&Yc(m,_)&&Yc(_,m)&&(n.push(m.i/o|0),n.push(c.i/o|0),n.push(_.i/o|0),Qc(c),Qc(c.next),c=r=_),c=c.next}while(c!==r);return ru(c)}function XT(r,n,o,c,m,_){var w=r;do{for(var A=w.next.next;A!==w.prev;){if(w.i!==A.i&&eA(w,A)){var C=V_(w,A);return w=ru(w,w.next),C=ru(C,C.next),Kc(w,n,o,c,m,_,0),void Kc(C,n,o,c,m,_,0)}A=A.next}w=w.next}while(w!==r)}function KT(r,n){return r.x-n.x}function YT(r,n){var o=function(m,_){var w,A=_,C=m.x,L=m.y,F=-1/0;do{if(L<=A.y&&L>=A.next.y&&A.next.y!==A.y){var U=A.x+(L-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(U<=C&&U>F&&(F=U,w=A.x<A.next.x?A:A.next,U===C))return w}A=A.next}while(A!==_);if(!w)return null;var Z,K=w,Y=w.x,me=w.y,pe=1/0;A=w;do C>=A.x&&A.x>=Y&&C!==A.x&&Gu(L<me?C:F,L,Y,me,L<me?F:C,L,A.x,A.y)&&(Z=Math.abs(L-A.y)/(C-A.x),Yc(A,m)&&(Z<pe||Z===pe&&(A.x>w.x||A.x===w.x&&QT(w,A)))&&(w=A,pe=Z)),A=A.next;while(A!==K);return w}(r,n);if(!o)return n;var c=V_(o,r);return ru(c,c.next),ru(o,o.next)}function QT(r,n){return Ui(r.prev,r,n.prev)<0&&Ui(n.next,r,r.next)<0}function dm(r,n,o,c,m){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-o)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-c)*m|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function JT(r){var n=r,o=r;do(n.x<o.x||n.x===o.x&&n.y<o.y)&&(o=n),n=n.next;while(n!==r);return o}function Gu(r,n,o,c,m,_,w,A){return(m-w)*(n-A)>=(r-w)*(_-A)&&(r-w)*(c-A)>=(o-w)*(n-A)&&(o-w)*(_-A)>=(m-w)*(c-A)}function eA(r,n){return r.next.i!==n.i&&r.prev.i!==n.i&&!function(o,c){var m=o;do{if(m.i!==o.i&&m.next.i!==o.i&&m.i!==c.i&&m.next.i!==c.i&&O_(m,m.next,o,c))return!0;m=m.next}while(m!==o);return!1}(r,n)&&(Yc(r,n)&&Yc(n,r)&&function(o,c){var m=o,_=!1,w=(o.x+c.x)/2,A=(o.y+c.y)/2;do m.y>A!=m.next.y>A&&m.next.y!==m.y&&w<(m.next.x-m.x)*(A-m.y)/(m.next.y-m.y)+m.x&&(_=!_),m=m.next;while(m!==o);return _}(r,n)&&(Ui(r.prev,r,n.prev)||Ui(r,n.prev,n))||Od(r,n)&&Ui(r.prev,r,r.next)>0&&Ui(n.prev,n,n.next)>0)}function Ui(r,n,o){return(n.y-r.y)*(o.x-n.x)-(n.x-r.x)*(o.y-n.y)}function Od(r,n){return r.x===n.x&&r.y===n.y}function O_(r,n,o,c){var m=Ud(Ui(r,n,o)),_=Ud(Ui(r,n,c)),w=Ud(Ui(o,c,r)),A=Ud(Ui(o,c,n));return m!==_&&w!==A||!(m!==0||!Vd(r,o,n))||!(_!==0||!Vd(r,c,n))||!(w!==0||!Vd(o,r,c))||!(A!==0||!Vd(o,n,c))}function Vd(r,n,o){return n.x<=Math.max(r.x,o.x)&&n.x>=Math.min(r.x,o.x)&&n.y<=Math.max(r.y,o.y)&&n.y>=Math.min(r.y,o.y)}function Ud(r){return r>0?1:r<0?-1:0}function Yc(r,n){return Ui(r.prev,r,r.next)<0?Ui(r,n,r.next)>=0&&Ui(r,r.prev,n)>=0:Ui(r,n,r.prev)<0||Ui(r,r.next,n)<0}function V_(r,n){var o=new pm(r.i,r.x,r.y),c=new pm(n.i,n.x,n.y),m=r.next,_=n.prev;return r.next=n,n.prev=r,o.next=m,m.prev=o,c.next=o,o.prev=c,_.next=c,c.prev=_,c}function U_(r,n,o,c){var m=new pm(r,n,o);return c?(m.next=c.next,m.prev=c,c.next.prev=m,c.next=m):(m.prev=m,m.next=m),m}function Qc(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function pm(r,n,o){this.i=r,this.x=n,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fm(r,n,o,c){for(var m=0,_=n,w=o-c;_<o;_+=c)m+=(r[w]-r[_])*(r[_+1]+r[w+1]),w=_;return m}function tA(r,n,o,c,m){j_(r,n,o||0,c||r.length-1,m||nA)}function j_(r,n,o,c,m){for(;c>o;){if(c-o>600){var _=c-o+1,w=n-o+1,A=Math.log(_),C=.5*Math.exp(2*A/3),L=.5*Math.sqrt(A*C*(_-C)/_)*(w-_/2<0?-1:1);j_(r,n,Math.max(o,Math.floor(n-w*C/_+L)),Math.min(c,Math.floor(n+(_-w)*C/_+L)),m)}var F=r[n],U=o,Z=c;for(Jc(r,o,n),m(r[c],F)>0&&Jc(r,o,c);U<Z;){for(Jc(r,U,Z),U++,Z--;m(r[U],F)<0;)U++;for(;m(r[Z],F)>0;)Z--}m(r[o],F)===0?Jc(r,o,Z):Jc(r,++Z,c),Z<=n&&(o=Z+1),n<=Z&&(c=Z-1)}}function Jc(r,n,o){var c=r[n];r[n]=r[o],r[o]=c}function nA(r,n){return r<n?-1:r>n?1:0}function mm(r,n){const o=r.length;if(o<=1)return[r];const c=[];let m,_;for(let w=0;w<o;w++){const A=ct(r[w]);A!==0&&(r[w].area=Math.abs(A),_===void 0&&(_=A<0),_===A<0?(m&&c.push(m),m=[r[w]]):m.push(r[w]))}if(m&&c.push(m),n>1)for(let w=0;w<c.length;w++)c[w].length<=n||(tA(c[w],n,1,c[w].length-1,iA),c[w]=c[w].slice(0,n));return c}function iA(r,n){return n.area-r.area}function gm(r,n,o){const c=o.patternDependencies;let m=!1;for(const _ of n){const w=_.paint.get(`${r}-pattern`);w.isConstant()||(m=!0);const A=w.constantOr(null);A&&(m=!0,c[A.to]=!0,c[A.from]=!0)}return m}function ym(r,n,o,c,m){const _=m.patternDependencies;for(const w of n){const A=w.paint.get(`${r}-pattern`).value;if(A.kind!=="constant"){let C=A.evaluate({zoom:c-1},o,{},m.availableImages),L=A.evaluate({zoom:c},o,{},m.availableImages),F=A.evaluate({zoom:c+1},o,{},m.availableImages);C=C&&C.name?C.name:C,L=L&&L.name?L.name:L,F=F&&F.name?F.name:F,_[C]=!0,_[L]=!0,_[F]=!0,o.patterns[w.id]={min:C,mid:L,max:F}}}return o}Nd.exports=Fd,Nd.exports.default=Fd,Fd.deviation=function(r,n,o,c){var m=n&&n.length,_=Math.abs(fm(r,0,m?n[0]*o:r.length,o));if(m)for(var w=0,A=n.length;w<A;w++)_-=Math.abs(fm(r,n[w]*o,w<A-1?n[w+1]*o:r.length,o));var C=0;for(w=0;w<c.length;w+=3){var L=c[w]*o,F=c[w+1]*o,U=c[w+2]*o;C+=Math.abs((r[L]-r[U])*(r[F+1]-r[L+1])-(r[L]-r[F])*(r[U+1]-r[L+1]))}return _===0&&C===0?0:Math.abs((C-_)/_)},Fd.flatten=function(r){for(var n=r[0][0].length,o={vertices:[],holes:[],dimensions:n},c=0,m=0;m<r.length;m++){for(var _=0;_<r[m].length;_++)for(var w=0;w<n;w++)o.vertices.push(r[m][_][w]);m>0&&o.holes.push(c+=r[m-1].length)}return o};class vm{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ti,this.indexArray=new Zr,this.indexArray2=new go,this.programConfigurations=new tu(n.layers,n.zoom),this.segments=new Cn,this.segments2=new Cn,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(n,o,c){this.hasPattern=gm("fill",this.layers,o);const m=this.layers[0].layout.get("fill-sort-key"),_=!m.isConstant(),w=[];for(const{feature:A,id:C,index:L,sourceLayerIndex:F}of n){const U=this.layers[0]._featureFilter.needGeometry,Z=iu(A,U);if(!this.layers[0]._featureFilter.filter(new wi(this.zoom),Z,c))continue;const K=_?m.evaluate(Z,{},c,o.availableImages):void 0,Y={id:C,properties:A.properties,type:A.type,sourceLayerIndex:F,index:L,geometry:U?Z.geometry:nu(A),patterns:{},sortKey:K};w.push(Y)}_&&w.sort((A,C)=>A.sortKey-C.sortKey);for(const A of w){const{geometry:C,index:L,sourceLayerIndex:F}=A;if(this.hasPattern){const U=ym("fill",this.layers,A,this.zoom,o);this.patternFeatures.push(U)}else this.addFeature(A,C,L,c,{});o.featureIndex.insert(n[L].feature,C,L,F,this.index)}}update(n,o,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,c)}addFeatures(n,o,c){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,o,c)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,WT),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,o,c,m,_){for(const w of mm(o,500)){let A=0;for(const K of w)A+=K.length;const C=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),L=C.vertexLength,F=[],U=[];for(const K of w){if(K.length===0)continue;K!==w[0]&&U.push(F.length/2);const Y=this.segments2.prepareSegment(K.length,this.layoutVertexArray,this.indexArray2),me=Y.vertexLength;this.layoutVertexArray.emplaceBack(K[0].x,K[0].y),this.indexArray2.emplaceBack(me+K.length-1,me),F.push(K[0].x),F.push(K[0].y);for(let pe=1;pe<K.length;pe++)this.layoutVertexArray.emplaceBack(K[pe].x,K[pe].y),this.indexArray2.emplaceBack(me+pe-1,me+pe),F.push(K[pe].x),F.push(K[pe].y);Y.vertexLength+=K.length,Y.primitiveLength+=K.length}const Z=Nd.exports(F,U);for(let K=0;K<Z.length;K+=3)this.indexArray.emplaceBack(L+Z[K],L+Z[K+1],L+Z[K+2]);C.vertexLength+=A,C.primitiveLength+=Z.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,c,_,m)}}te("FillBucket",vm,{omit:["layers","patternFeatures"]});const rA=new pr({"fill-sort-key":new Kt(ze.layout_fill["fill-sort-key"])});var sA={paint:new pr({"fill-antialias":new Lt(ze.paint_fill["fill-antialias"]),"fill-opacity":new Kt(ze.paint_fill["fill-opacity"]),"fill-color":new Kt(ze.paint_fill["fill-color"]),"fill-outline-color":new Kt(ze.paint_fill["fill-outline-color"]),"fill-translate":new Lt(ze.paint_fill["fill-translate"]),"fill-translate-anchor":new Lt(ze.paint_fill["fill-translate-anchor"]),"fill-pattern":new al(ze.paint_fill["fill-pattern"])}),layout:rA};const oA=Xi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),aA=Xi([{name:"a_centroid",components:2,type:"Int16"}],4),{members:lA}=oA;var cl={},uA=St,q_=Wu;function Wu(r,n,o,c,m){this.properties={},this.extent=o,this.type=0,this._pbf=r,this._geometry=-1,this._keys=c,this._values=m,r.readFields(cA,this,n)}function cA(r,n,o){r==1?n.id=o.readVarint():r==2?function(c,m){for(var _=c.readVarint()+c.pos;c.pos<_;){var w=m._keys[c.readVarint()],A=m._values[c.readVarint()];m.properties[w]=A}}(o,n):r==3?n.type=o.readVarint():r==4&&(n._geometry=o.pos)}function hA(r){for(var n,o,c=0,m=0,_=r.length,w=_-1;m<_;w=m++)c+=((o=r[w]).x-(n=r[m]).x)*(n.y+o.y);return c}Wu.types=["Unknown","Point","LineString","Polygon"],Wu.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var n,o=r.readVarint()+r.pos,c=1,m=0,_=0,w=0,A=[];r.pos<o;){if(m<=0){var C=r.readVarint();c=7&C,m=C>>3}if(m--,c===1||c===2)_+=r.readSVarint(),w+=r.readSVarint(),c===1&&(n&&A.push(n),n=[]),n.push(new uA(_,w));else{if(c!==7)throw new Error("unknown command "+c);n&&n.push(n[0].clone())}}return n&&A.push(n),A},Wu.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var n=r.readVarint()+r.pos,o=1,c=0,m=0,_=0,w=1/0,A=-1/0,C=1/0,L=-1/0;r.pos<n;){if(c<=0){var F=r.readVarint();o=7&F,c=F>>3}if(c--,o===1||o===2)(m+=r.readSVarint())<w&&(w=m),m>A&&(A=m),(_+=r.readSVarint())<C&&(C=_),_>L&&(L=_);else if(o!==7)throw new Error("unknown command "+o)}return[w,C,A,L]},Wu.prototype.toGeoJSON=function(r,n,o){var c,m,_=this.extent*Math.pow(2,o),w=this.extent*r,A=this.extent*n,C=this.loadGeometry(),L=Wu.types[this.type];function F(K){for(var Y=0;Y<K.length;Y++){var me=K[Y];K[Y]=[360*(me.x+w)/_-180,360/Math.PI*Math.atan(Math.exp((180-360*(me.y+A)/_)*Math.PI/180))-90]}}switch(this.type){case 1:var U=[];for(c=0;c<C.length;c++)U[c]=C[c][0];F(C=U);break;case 2:for(c=0;c<C.length;c++)F(C[c]);break;case 3:for(C=function(K){var Y=K.length;if(Y<=1)return[K];for(var me,pe,Pe=[],Ne=0;Ne<Y;Ne++){var Ee=hA(K[Ne]);Ee!==0&&(pe===void 0&&(pe=Ee<0),pe===Ee<0?(me&&Pe.push(me),me=[K[Ne]]):me.push(K[Ne]))}return me&&Pe.push(me),Pe}(C),c=0;c<C.length;c++)for(m=0;m<C[c].length;m++)F(C[c][m])}C.length===1?C=C[0]:L="Multi"+L;var Z={type:"Feature",geometry:{type:L,coordinates:C},properties:this.properties};return"id"in this&&(Z.id=this.id),Z};var dA=q_,G_=W_;function W_(r,n){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(pA,this,n),this.length=this._features.length}function pA(r,n,o){r===15?n.version=o.readVarint():r===1?n.name=o.readString():r===5?n.extent=o.readVarint():r===2?n._features.push(o.pos):r===3?n._keys.push(o.readString()):r===4&&n._values.push(function(c){for(var m=null,_=c.readVarint()+c.pos;c.pos<_;){var w=c.readVarint()>>3;m=w===1?c.readString():w===2?c.readFloat():w===3?c.readDouble():w===4?c.readVarint64():w===5?c.readVarint():w===6?c.readSVarint():w===7?c.readBoolean():null}return m}(o))}W_.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var n=this._pbf.readVarint()+this._pbf.pos;return new dA(this._pbf,n,this.extent,this._keys,this._values)};var fA=G_;function mA(r,n,o){if(r===3){var c=new fA(o,o.readVarint()+o.pos);c.length&&(n[c.name]=c)}}cl.VectorTile=function(r,n){this.layers=r.readFields(mA,{},n)},cl.VectorTileFeature=q_,cl.VectorTileLayer=G_;const gA=cl.VectorTileFeature.types,_m=Math.pow(2,13);function eh(r,n,o,c,m,_,w,A){r.emplaceBack(n,o,2*Math.floor(c*_m)+w,m*_m*2,_*_m*2,Math.round(A))}class xm{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.id),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new Rn,this.centroidVertexArray=new Ht,this.indexArray=new Zr,this.programConfigurations=new tu(n.layers,n.zoom),this.segments=new Cn,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(n,o,c){this.features=[],this.hasPattern=gm("fill-extrusion",this.layers,o);for(const{feature:m,id:_,index:w,sourceLayerIndex:A}of n){const C=this.layers[0]._featureFilter.needGeometry,L=iu(m,C);if(!this.layers[0]._featureFilter.filter(new wi(this.zoom),L,c))continue;const F={id:_,sourceLayerIndex:A,index:w,geometry:C?L.geometry:nu(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(ym("fill-extrusion",this.layers,F,this.zoom,o)):this.addFeature(F,F.geometry,w,c,{}),o.featureIndex.insert(m,F.geometry,w,A,this.index,!0)}}addFeatures(n,o,c){for(const m of this.features){const{geometry:_}=m;this.addFeature(m,_,m.index,o,c)}}update(n,o,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,c)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,lA),this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,aA.members,!0),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(n,o,c,m,_){const w={x:0,y:0,vertexCount:0};for(const A of mm(o,500)){let C=0;for(const Y of A)C+=Y.length;let L=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Y of A){if(Y.length===0||vA(Y))continue;let me=0;for(let pe=0;pe<Y.length;pe++){const Pe=Y[pe];if(pe>=1){const Ne=Y[pe-1];if(!yA(Pe,Ne)){L.vertexLength+4>Cn.MAX_VERTEX_ARRAY_LENGTH&&(L=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Ee=Pe.sub(Ne)._perp()._unit(),Le=Ne.dist(Pe);me+Le>32768&&(me=0),eh(this.layoutVertexArray,Pe.x,Pe.y,Ee.x,Ee.y,0,0,me),eh(this.layoutVertexArray,Pe.x,Pe.y,Ee.x,Ee.y,0,1,me),w.x+=2*Pe.x,w.y+=2*Pe.y,w.vertexCount+=2,me+=Le,eh(this.layoutVertexArray,Ne.x,Ne.y,Ee.x,Ee.y,0,0,me),eh(this.layoutVertexArray,Ne.x,Ne.y,Ee.x,Ee.y,0,1,me),w.x+=2*Ne.x,w.y+=2*Ne.y,w.vertexCount+=2;const Je=L.vertexLength;this.indexArray.emplaceBack(Je,Je+2,Je+1),this.indexArray.emplaceBack(Je+1,Je+2,Je+3),L.vertexLength+=4,L.primitiveLength+=2}}}}if(L.vertexLength+C>Cn.MAX_VERTEX_ARRAY_LENGTH&&(L=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray)),gA[n.type]!=="Polygon")continue;const F=[],U=[],Z=L.vertexLength;for(const Y of A)if(Y.length!==0){Y!==A[0]&&U.push(F.length/2);for(let me=0;me<Y.length;me++){const pe=Y[me];eh(this.layoutVertexArray,pe.x,pe.y,0,0,1,1,0),w.x+=pe.x,w.y+=pe.y,w.vertexCount+=1,F.push(pe.x),F.push(pe.y)}}const K=Nd.exports(F,U);for(let Y=0;Y<K.length;Y+=3)this.indexArray.emplaceBack(Z+K[Y],Z+K[Y+2],Z+K[Y+1]);L.primitiveLength+=K.length/3,L.vertexLength+=C}for(let A=0;A<w.vertexCount;A++)this.centroidVertexArray.emplaceBack(Math.floor(w.x/w.vertexCount),Math.floor(w.y/w.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,c,_,m)}}function yA(r,n){return r.x===n.x&&(r.x<0||r.x>tr)||r.y===n.y&&(r.y<0||r.y>tr)}function vA(r){return r.every(n=>n.x<0)||r.every(n=>n.x>tr)||r.every(n=>n.y<0)||r.every(n=>n.y>tr)}te("FillExtrusionBucket",xm,{omit:["layers","features"]});var _A={paint:new pr({"fill-extrusion-opacity":new Lt(ze["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Kt(ze["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Lt(ze["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Lt(ze["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new al(ze["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Kt(ze["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Kt(ze["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Lt(ze["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function th(r,n){return r.x*n.x+r.y*n.y}function H_(r,n){if(r.length===1){let o=0;const c=n[o++];let m;for(;!m||c.equals(m);)if(m=n[o++],!m)return 1/0;for(;o<n.length;o++){const _=n[o],w=r[0],A=m.sub(c),C=_.sub(c),L=w.sub(c),F=th(A,A),U=th(A,C),Z=th(C,C),K=th(L,A),Y=th(L,C),me=F*Z-U*U,pe=(Z*K-U*Y)/me,Pe=(F*Y-U*K)/me,Ne=c.z*(1-pe-Pe)+m.z*pe+_.z*Pe;if(isFinite(Ne))return Ne}return 1/0}{let o=1/0;for(const c of n)o=Math.min(o,c.z);return o}}const xA=Xi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:wA}=xA,bA=Xi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:SA}=bA,TA=cl.VectorTileFeature.types,AA=Math.cos(Math.PI/180*37.5),Z_=Math.pow(2,14)/.5;class wm{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(o=>o.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new Vn,this.layoutVertexArray2=new ri,this.indexArray=new Zr,this.programConfigurations=new tu(n.layers,n.zoom),this.segments=new Cn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(n,o,c){this.hasPattern=gm("line",this.layers,o);const m=this.layers[0].layout.get("line-sort-key"),_=!m.isConstant(),w=[];for(const{feature:A,id:C,index:L,sourceLayerIndex:F}of n){const U=this.layers[0]._featureFilter.needGeometry,Z=iu(A,U);if(!this.layers[0]._featureFilter.filter(new wi(this.zoom),Z,c))continue;const K=_?m.evaluate(Z,{},c):void 0,Y={id:C,properties:A.properties,type:A.type,sourceLayerIndex:F,index:L,geometry:U?Z.geometry:nu(A),patterns:{},sortKey:K};w.push(Y)}_&&w.sort((A,C)=>A.sortKey-C.sortKey);for(const A of w){const{geometry:C,index:L,sourceLayerIndex:F}=A;if(this.hasPattern){const U=ym("line",this.layers,A,this.zoom,o);this.patternFeatures.push(U)}else this.addFeature(A,C,L,c,{});o.featureIndex.insert(n[L].feature,C,L,F,this.index)}}update(n,o,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,c)}addFeatures(n,o,c){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,o,c)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,SA)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,wA),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&Object.prototype.hasOwnProperty.call(n.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(n.properties,"mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,o,c,m,_){const w=this.layers[0].layout,A=w.get("line-join").evaluate(n,{}),C=w.get("line-cap"),L=w.get("line-miter-limit"),F=w.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(const U of o)this.addLine(U,n,A,C,L,F);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,c,_,m)}addLine(n,o,c,m,_,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Pe=0;Pe<n.length-1;Pe++)this.totalDistance+=n[Pe].dist(n[Pe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=TA[o.type]==="Polygon";let C=n.length;for(;C>=2&&n[C-1].equals(n[C-2]);)C--;let L=0;for(;L<C-1&&n[L].equals(n[L+1]);)L++;if(C<(A?3:2))return;c==="bevel"&&(_=1.05);const F=this.overscaling<=16?122880/(512*this.overscaling):0,U=this.segments.prepareSegment(10*C,this.layoutVertexArray,this.indexArray);let Z,K,Y,me,pe;this.e1=this.e2=-1,A&&(Z=n[C-2],pe=n[L].sub(Z)._unit()._perp());for(let Pe=L;Pe<C;Pe++){if(Y=Pe===C-1?A?n[L+1]:void 0:n[Pe+1],Y&&n[Pe].equals(Y))continue;pe&&(me=pe),Z&&(K=Z),Z=n[Pe],pe=Y?Y.sub(Z)._unit()._perp():me,me=me||pe;let Ne=me.add(pe);Ne.x===0&&Ne.y===0||Ne._unit();const Ee=me.x*pe.x+me.y*pe.y,Le=Ne.x*pe.x+Ne.y*pe.y,Je=Le!==0?1/Le:1/0,Qe=2*Math.sqrt(2-2*Le),Ct=Le<AA&&K&&Y,Mt=me.x*pe.y-me.y*pe.x>0;if(Ct&&Pe>L){const mt=Z.dist(K);if(mt>2*F){const bt=Z.sub(Z.sub(K)._mult(F/mt)._round());this.updateDistance(K,bt),this.addCurrentVertex(bt,me,0,0,U),K=bt}}const wt=K&&Y;let vt=wt?c:A?"butt":m;if(wt&&vt==="round"&&(Je<w?vt="miter":Je<=2&&(vt="fakeround")),vt==="miter"&&Je>_&&(vt="bevel"),vt==="bevel"&&(Je>2&&(vt="flipbevel"),Je<_&&(vt="miter")),K&&this.updateDistance(K,Z),vt==="miter")Ne._mult(Je),this.addCurrentVertex(Z,Ne,0,0,U);else if(vt==="flipbevel"){if(Je>100)Ne=pe.mult(-1);else{const mt=Je*me.add(pe).mag()/me.sub(pe).mag();Ne._perp()._mult(mt*(Mt?-1:1))}this.addCurrentVertex(Z,Ne,0,0,U),this.addCurrentVertex(Z,Ne.mult(-1),0,0,U)}else if(vt==="bevel"||vt==="fakeround"){const mt=-Math.sqrt(Je*Je-1),bt=Mt?mt:0,_t=Mt?0:mt;if(K&&this.addCurrentVertex(Z,me,bt,_t,U),vt==="fakeround"){const ut=Math.round(180*Qe/Math.PI/20);for(let Zt=1;Zt<ut;Zt++){let Bt=Zt/ut;if(Bt!==.5){const vi=Bt-.5;Bt+=Bt*vi*(Bt-1)*((1.0904+Ee*(Ee*(3.55645-1.43519*Ee)-3.2452))*vi*vi+(.848013+Ee*(.215638*Ee-1.06021)))}const wn=pe.sub(me)._mult(Bt)._add(me)._unit()._mult(Mt?-1:1);this.addHalfVertex(Z,wn.x,wn.y,!1,Mt,0,U)}}Y&&this.addCurrentVertex(Z,pe,-bt,-_t,U)}else if(vt==="butt")this.addCurrentVertex(Z,Ne,0,0,U);else if(vt==="square"){const mt=K?1:-1;this.addCurrentVertex(Z,Ne,mt,mt,U)}else vt==="round"&&(K&&(this.addCurrentVertex(Z,me,0,0,U),this.addCurrentVertex(Z,me,1,1,U,!0)),Y&&(this.addCurrentVertex(Z,pe,-1,-1,U,!0),this.addCurrentVertex(Z,pe,0,0,U)));if(Ct&&Pe<C-1){const mt=Z.dist(Y);if(mt>2*F){const bt=Z.add(Y.sub(Z)._mult(F/mt)._round());this.updateDistance(Z,bt),this.addCurrentVertex(bt,pe,0,0,U),Z=bt}}}}addCurrentVertex(n,o,c,m,_,w=!1){const A=o.y*m-o.x,C=-o.y-o.x*m;this.addHalfVertex(n,o.x+o.y*c,o.y-o.x*c,w,!1,c,_),this.addHalfVertex(n,A,C,w,!0,-m,_),this.distance>Z_/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(n,o,c,m,_,w))}addHalfVertex({x:n,y:o},c,m,_,w,A,C){const L=.5*(this.lineClips?this.scaledDistance*(Z_-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((n<<1)+(_?1:0),(o<<1)+(w?1:0),Math.round(63*c)+128,Math.round(63*m)+128,1+(A===0?0:A<0?-1:1)|(63&L)<<2,L>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const F=C.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,F),C.primitiveLength++),w?this.e2=F:this.e1=F}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(n,o){this.distance+=n.dist(o),this.updateScaledDistance()}}te("LineBucket",wm,{omit:["layers","patternFeatures"]});const EA=new pr({"line-cap":new Lt(ze.layout_line["line-cap"]),"line-join":new Kt(ze.layout_line["line-join"]),"line-miter-limit":new Lt(ze.layout_line["line-miter-limit"]),"line-round-limit":new Lt(ze.layout_line["line-round-limit"]),"line-sort-key":new Kt(ze.layout_line["line-sort-key"])});var $_={paint:new pr({"line-opacity":new Kt(ze.paint_line["line-opacity"]),"line-color":new Kt(ze.paint_line["line-color"]),"line-translate":new Lt(ze.paint_line["line-translate"]),"line-translate-anchor":new Lt(ze.paint_line["line-translate-anchor"]),"line-width":new Kt(ze.paint_line["line-width"]),"line-gap-width":new Kt(ze.paint_line["line-gap-width"]),"line-offset":new Kt(ze.paint_line["line-offset"]),"line-blur":new Kt(ze.paint_line["line-blur"]),"line-dasharray":new jc(ze.paint_line["line-dasharray"]),"line-pattern":new al(ze.paint_line["line-pattern"]),"line-gradient":new Zo(ze.paint_line["line-gradient"])}),layout:EA};const X_=new class extends Kt{possiblyEvaluate(r,n){return n=new wi(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),super.possiblyEvaluate(r,n)}evaluate(r,n,o,c){return n=ce({},n,{zoom:Math.floor(n.zoom)}),super.evaluate(r,n,o,c)}}($_.paint.properties["line-width"].specification);function K_(r,n){return n>0?n+2*r:r}X_.useIntegerZoom=!0;const CA=Xi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),kA=Xi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Xi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const PA=Xi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Xi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Y_=Xi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),IA=Xi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function MA(r,n,o){return r.sections.forEach(c=>{c.text=function(m,_,w){const A=_.layout.get("text-transform").evaluate(w,{});return A==="uppercase"?m=m.toLocaleUpperCase():A==="lowercase"&&(m=m.toLocaleLowerCase()),vs.applyArabicShaping&&(m=vs.applyArabicShaping(m)),m}(c.text,n,o)}),r}Xi([{name:"triangle",components:3,type:"Uint16"}]),Xi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Xi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Xi([{type:"Float32",name:"offsetX"}]),Xi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const nh={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var fr=24,bm=li,Q_=function(r,n,o,c,m){var _,w,A=8*m-c-1,C=(1<<A)-1,L=C>>1,F=-7,U=o?m-1:0,Z=o?-1:1,K=r[n+U];for(U+=Z,_=K&(1<<-F)-1,K>>=-F,F+=A;F>0;_=256*_+r[n+U],U+=Z,F-=8);for(w=_&(1<<-F)-1,_>>=-F,F+=c;F>0;w=256*w+r[n+U],U+=Z,F-=8);if(_===0)_=1-L;else{if(_===C)return w?NaN:1/0*(K?-1:1);w+=Math.pow(2,c),_-=L}return(K?-1:1)*w*Math.pow(2,_-c)},J_=function(r,n,o,c,m,_){var w,A,C,L=8*_-m-1,F=(1<<L)-1,U=F>>1,Z=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=c?0:_-1,Y=c?1:-1,me=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(A=isNaN(n)?1:0,w=F):(w=Math.floor(Math.log(n)/Math.LN2),n*(C=Math.pow(2,-w))<1&&(w--,C*=2),(n+=w+U>=1?Z/C:Z*Math.pow(2,1-U))*C>=2&&(w++,C/=2),w+U>=F?(A=0,w=F):w+U>=1?(A=(n*C-1)*Math.pow(2,m),w+=U):(A=n*Math.pow(2,U-1)*Math.pow(2,m),w=0));m>=8;r[o+K]=255&A,K+=Y,A/=256,m-=8);for(w=w<<m|A,L+=m;L>0;r[o+K]=255&w,K+=Y,w/=256,L-=8);r[o+K-Y]|=128*me};function li(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}li.Varint=0,li.Fixed64=1,li.Bytes=2,li.Fixed32=5;var hl,Sm=4294967296,ex=1/Sm,tx=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Pa(r){return r.type===li.Bytes?r.readVarint()+r.pos:r.pos+1}function Hu(r,n,o){return o?4294967296*n+(r>>>0):4294967296*(n>>>0)+(r>>>0)}function nx(r,n,o){var c=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(7*Math.LN2));o.realloc(c);for(var m=o.pos-1;m>=r;m--)o.buf[m+c]=o.buf[m]}function zA(r,n){for(var o=0;o<r.length;o++)n.writeVarint(r[o])}function DA(r,n){for(var o=0;o<r.length;o++)n.writeSVarint(r[o])}function LA(r,n){for(var o=0;o<r.length;o++)n.writeFloat(r[o])}function RA(r,n){for(var o=0;o<r.length;o++)n.writeDouble(r[o])}function BA(r,n){for(var o=0;o<r.length;o++)n.writeBoolean(r[o])}function NA(r,n){for(var o=0;o<r.length;o++)n.writeFixed32(r[o])}function FA(r,n){for(var o=0;o<r.length;o++)n.writeSFixed32(r[o])}function OA(r,n){for(var o=0;o<r.length;o++)n.writeFixed64(r[o])}function VA(r,n){for(var o=0;o<r.length;o++)n.writeSFixed64(r[o])}function jd(r,n){return(r[n]|r[n+1]<<8|r[n+2]<<16)+16777216*r[n+3]}function Zu(r,n,o){r[o]=n,r[o+1]=n>>>8,r[o+2]=n>>>16,r[o+3]=n>>>24}function ix(r,n){return(r[n]|r[n+1]<<8|r[n+2]<<16)+(r[n+3]<<24)}function UA(r,n,o){r===1&&o.readMessage(jA,n)}function jA(r,n,o){if(r===3){const{id:c,bitmap:m,width:_,height:w,left:A,top:C,advance:L}=o.readMessage(qA,{});n.push({id:c,bitmap:new Xc({width:_+6,height:w+6},m),metrics:{width:_,height:w,left:A,top:C,advance:L}})}}function qA(r,n,o){r===1?n.id=o.readVarint():r===2?n.bitmap=o.readBytes():r===3?n.width=o.readVarint():r===4?n.height=o.readVarint():r===5?n.left=o.readSVarint():r===6?n.top=o.readSVarint():r===7&&(n.advance=o.readVarint())}function rx(r){let n=0,o=0;for(const w of r)n+=w.w*w.h,o=Math.max(o,w.w);r.sort((w,A)=>A.h-w.h);const c=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),o),h:1/0}];let m=0,_=0;for(const w of r)for(let A=c.length-1;A>=0;A--){const C=c[A];if(!(w.w>C.w||w.h>C.h)){if(w.x=C.x,w.y=C.y,_=Math.max(_,w.y+w.h),m=Math.max(m,w.x+w.w),w.w===C.w&&w.h===C.h){const L=c.pop();A<c.length&&(c[A]=L)}else w.h===C.h?(C.x+=w.w,C.w-=w.w):w.w===C.w?(C.y+=w.h,C.h-=w.h):(c.push({x:C.x+w.w,y:C.y,w:C.w-w.w,h:w.h}),C.y+=w.h,C.h-=w.h);break}}return{w:m,h:_,fill:n/(m*_)||0}}li.prototype={destroy:function(){this.buf=null},readFields:function(r,n,o){for(o=o||this.length;this.pos<o;){var c=this.readVarint(),m=c>>3,_=this.pos;this.type=7&c,r(m,n,this),this.pos===_&&this.skip(c)}return n},readMessage:function(r,n){return this.readFields(r,n,this.readVarint()+this.pos)},readFixed32:function(){var r=jd(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=ix(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=jd(this.buf,this.pos)+jd(this.buf,this.pos+4)*Sm;return this.pos+=8,r},readSFixed64:function(){var r=jd(this.buf,this.pos)+ix(this.buf,this.pos+4)*Sm;return this.pos+=8,r},readFloat:function(){var r=Q_(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=Q_(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var n,o,c=this.buf;return n=127&(o=c[this.pos++]),o<128?n:(n|=(127&(o=c[this.pos++]))<<7,o<128?n:(n|=(127&(o=c[this.pos++]))<<14,o<128?n:(n|=(127&(o=c[this.pos++]))<<21,o<128?n:function(m,_,w){var A,C,L=w.buf;if(A=(112&(C=L[w.pos++]))>>4,C<128||(A|=(127&(C=L[w.pos++]))<<3,C<128)||(A|=(127&(C=L[w.pos++]))<<10,C<128)||(A|=(127&(C=L[w.pos++]))<<17,C<128)||(A|=(127&(C=L[w.pos++]))<<24,C<128)||(A|=(1&(C=L[w.pos++]))<<31,C<128))return Hu(m,A,_);throw new Error("Expected varint not more than 10 bytes")}(n|=(15&(o=c[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var r=this.readVarint()+this.pos,n=this.pos;return this.pos=r,r-n>=12&&tx?function(o,c,m){return tx.decode(o.subarray(c,m))}(this.buf,n,r):function(o,c,m){for(var _="",w=c;w<m;){var A,C,L,F=o[w],U=null,Z=F>239?4:F>223?3:F>191?2:1;if(w+Z>m)break;Z===1?F<128&&(U=F):Z===2?(192&(A=o[w+1]))==128&&(U=(31&F)<<6|63&A)<=127&&(U=null):Z===3?(C=o[w+2],(192&(A=o[w+1]))==128&&(192&C)==128&&((U=(15&F)<<12|(63&A)<<6|63&C)<=2047||U>=55296&&U<=57343)&&(U=null)):Z===4&&(C=o[w+2],L=o[w+3],(192&(A=o[w+1]))==128&&(192&C)==128&&(192&L)==128&&((U=(15&F)<<18|(63&A)<<12|(63&C)<<6|63&L)<=65535||U>=1114112)&&(U=null)),U===null?(U=65533,Z=1):U>65535&&(U-=65536,_+=String.fromCharCode(U>>>10&1023|55296),U=56320|1023&U),_+=String.fromCharCode(U),w+=Z}return _}(this.buf,n,r)},readBytes:function(){var r=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,r);return this.pos=r,n},readPackedVarint:function(r,n){if(this.type!==li.Bytes)return r.push(this.readVarint(n));var o=Pa(this);for(r=r||[];this.pos<o;)r.push(this.readVarint(n));return r},readPackedSVarint:function(r){if(this.type!==li.Bytes)return r.push(this.readSVarint());var n=Pa(this);for(r=r||[];this.pos<n;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==li.Bytes)return r.push(this.readBoolean());var n=Pa(this);for(r=r||[];this.pos<n;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==li.Bytes)return r.push(this.readFloat());var n=Pa(this);for(r=r||[];this.pos<n;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==li.Bytes)return r.push(this.readDouble());var n=Pa(this);for(r=r||[];this.pos<n;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==li.Bytes)return r.push(this.readFixed32());var n=Pa(this);for(r=r||[];this.pos<n;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==li.Bytes)return r.push(this.readSFixed32());var n=Pa(this);for(r=r||[];this.pos<n;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==li.Bytes)return r.push(this.readFixed64());var n=Pa(this);for(r=r||[];this.pos<n;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==li.Bytes)return r.push(this.readSFixed64());var n=Pa(this);for(r=r||[];this.pos<n;)r.push(this.readSFixed64());return r},skip:function(r){var n=7&r;if(n===li.Varint)for(;this.buf[this.pos++]>127;);else if(n===li.Bytes)this.pos=this.readVarint()+this.pos;else if(n===li.Fixed32)this.pos+=4;else{if(n!==li.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(r,n){this.writeVarint(r<<3|n)},realloc:function(r){for(var n=this.length||16;n<this.pos+r;)n*=2;if(n!==this.length){var o=new Uint8Array(n);o.set(this.buf),this.buf=o,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),Zu(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),Zu(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),Zu(this.buf,-1&r,this.pos),Zu(this.buf,Math.floor(r*ex),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),Zu(this.buf,-1&r,this.pos),Zu(this.buf,Math.floor(r*ex),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(n,o){var c,m;if(n>=0?(c=n%4294967296|0,m=n/4294967296|0):(m=~(-n/4294967296),4294967295^(c=~(-n%4294967296))?c=c+1|0:(c=0,m=m+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(_,w,A){A.buf[A.pos++]=127&_|128,_>>>=7,A.buf[A.pos++]=127&_|128,_>>>=7,A.buf[A.pos++]=127&_|128,_>>>=7,A.buf[A.pos++]=127&_|128,A.buf[A.pos]=127&(_>>>=7)}(c,0,o),function(_,w){var A=(7&_)<<4;w.buf[w.pos++]|=A|((_>>>=3)?128:0),_&&(w.buf[w.pos++]=127&_|((_>>>=7)?128:0),_&&(w.buf[w.pos++]=127&_|((_>>>=7)?128:0),_&&(w.buf[w.pos++]=127&_|((_>>>=7)?128:0),_&&(w.buf[w.pos++]=127&_|((_>>>=7)?128:0),_&&(w.buf[w.pos++]=127&_)))))}(m,o)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(Boolean(r))},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var n=this.pos;this.pos=function(c,m,_){for(var w,A,C=0;C<m.length;C++){if((w=m.charCodeAt(C))>55295&&w<57344){if(!A){w>56319||C+1===m.length?(c[_++]=239,c[_++]=191,c[_++]=189):A=w;continue}if(w<56320){c[_++]=239,c[_++]=191,c[_++]=189,A=w;continue}w=A-55296<<10|w-56320|65536,A=null}else A&&(c[_++]=239,c[_++]=191,c[_++]=189,A=null);w<128?c[_++]=w:(w<2048?c[_++]=w>>6|192:(w<65536?c[_++]=w>>12|224:(c[_++]=w>>18|240,c[_++]=w>>12&63|128),c[_++]=w>>6&63|128),c[_++]=63&w|128)}return _}(this.buf,r,this.pos);var o=this.pos-n;o>=128&&nx(n,o,this),this.pos=n-1,this.writeVarint(o),this.pos+=o},writeFloat:function(r){this.realloc(4),J_(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),J_(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var n=r.length;this.writeVarint(n),this.realloc(n);for(var o=0;o<n;o++)this.buf[this.pos++]=r[o]},writeRawMessage:function(r,n){this.pos++;var o=this.pos;r(n,this);var c=this.pos-o;c>=128&&nx(o,c,this),this.pos=o-1,this.writeVarint(c),this.pos+=c},writeMessage:function(r,n,o){this.writeTag(r,li.Bytes),this.writeRawMessage(n,o)},writePackedVarint:function(r,n){n.length&&this.writeMessage(r,zA,n)},writePackedSVarint:function(r,n){n.length&&this.writeMessage(r,DA,n)},writePackedBoolean:function(r,n){n.length&&this.writeMessage(r,BA,n)},writePackedFloat:function(r,n){n.length&&this.writeMessage(r,LA,n)},writePackedDouble:function(r,n){n.length&&this.writeMessage(r,RA,n)},writePackedFixed32:function(r,n){n.length&&this.writeMessage(r,NA,n)},writePackedSFixed32:function(r,n){n.length&&this.writeMessage(r,FA,n)},writePackedFixed64:function(r,n){n.length&&this.writeMessage(r,OA,n)},writePackedSFixed64:function(r,n){n.length&&this.writeMessage(r,VA,n)},writeBytesField:function(r,n){this.writeTag(r,li.Bytes),this.writeBytes(n)},writeFixed32Field:function(r,n){this.writeTag(r,li.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(r,n){this.writeTag(r,li.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(r,n){this.writeTag(r,li.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(r,n){this.writeTag(r,li.Fixed64),this.writeSFixed64(n)},writeVarintField:function(r,n){this.writeTag(r,li.Varint),this.writeVarint(n)},writeSVarintField:function(r,n){this.writeTag(r,li.Varint),this.writeSVarint(n)},writeStringField:function(r,n){this.writeTag(r,li.Bytes),this.writeString(n)},writeFloatField:function(r,n){this.writeTag(r,li.Fixed32),this.writeFloat(n)},writeDoubleField:function(r,n){this.writeTag(r,li.Fixed64),this.writeDouble(n)},writeBooleanField:function(r,n){this.writeVarintField(r,Boolean(n))}};class Tm{constructor(n,{pixelRatio:o,version:c,stretchX:m,stretchY:_,content:w}){this.paddedRect=n,this.pixelRatio=o,this.stretchX=m,this.stretchY=_,this.content=w,this.version=c}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class sx{constructor(n,o){const c={},m={};this.haveRenderCallbacks=[];const _=[];this.addImages(n,c,_),this.addImages(o,m,_);const{w,h:A}=rx(_),C=new Ms({width:w||1,height:A||1});for(const L in n){const F=n[L],U=c[L].paddedRect;Ms.copy(F.data,C,{x:0,y:0},{x:U.x+1,y:U.y+1},F.data)}for(const L in o){const F=o[L],U=m[L].paddedRect,Z=U.x+1,K=U.y+1,Y=F.data.width,me=F.data.height;Ms.copy(F.data,C,{x:0,y:0},{x:Z,y:K},F.data),Ms.copy(F.data,C,{x:0,y:me-1},{x:Z,y:K-1},{width:Y,height:1}),Ms.copy(F.data,C,{x:0,y:0},{x:Z,y:K+me},{width:Y,height:1}),Ms.copy(F.data,C,{x:Y-1,y:0},{x:Z-1,y:K},{width:1,height:me}),Ms.copy(F.data,C,{x:0,y:0},{x:Z+Y,y:K},{width:1,height:me})}this.image=C,this.iconPositions=c,this.patternPositions=m}addImages(n,o,c){for(const m in n){const _=n[m],w={x:0,y:0,w:_.data.width+2,h:_.data.height+2};c.push(w),o[m]=new Tm(w,_),_.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(n,o){n.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const c in n.updatedImages)this.patchUpdatedImage(this.iconPositions[c],n.getImage(c),o),this.patchUpdatedImage(this.patternPositions[c],n.getImage(c),o)}patchUpdatedImage(n,o,c){if(!n||!o||n.version===o.version)return;n.version=o.version;const[m,_]=n.tl;c.update(o.data,void 0,{x:m,y:_})}}te("ImagePosition",Tm),te("ImageAtlas",sx),a.WritingMode=void 0,(hl=a.WritingMode||(a.WritingMode={}))[hl.none=0]="none",hl[hl.horizontal=1]="horizontal",hl[hl.vertical=2]="vertical",hl[hl.horizontalOnly=3]="horizontalOnly";const qd=-17;class ih{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(n,o){const c=new ih;return c.scale=n||1,c.fontStack=o,c}static forImage(n){const o=new ih;return o.imageName=n,o}}class $u{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,o){const c=new $u;for(let m=0;m<n.sections.length;m++){const _=n.sections[m];_.image?c.addImageSection(_):c.addTextSection(_,o)}return c}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSectionIndex(n){return this.sectionIndex[n]}getCharCode(n){return this.text.charCodeAt(n)}verticalizePunctuation(){this.text=function(n){let o="";for(let c=0;c<n.length;c++){const m=n.charCodeAt(c+1)||null,_=n.charCodeAt(c-1)||null;o+=m&&rn(m)&&!nh[n[c+1]]||_&&rn(_)&&!nh[n[c-1]]||!nh[n[c]]?n[c]:nh[n[c]]}return o}(this.text)}trim(){let n=0;for(let c=0;c<this.text.length&&Wd[this.text.charCodeAt(c)];c++)n++;let o=this.text.length;for(let c=this.text.length-1;c>=0&&c>=n&&Wd[this.text.charCodeAt(c)];c--)o--;this.text=this.text.substring(n,o),this.sectionIndex=this.sectionIndex.slice(n,o)}substring(n,o){const c=new $u;return c.text=this.text.substring(n,o),c.sectionIndex=this.sectionIndex.slice(n,o),c.sections=this.sections,c}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,o)=>Math.max(n,this.sections[o].scale),0)}addTextSection(n,o){this.text+=n.text,this.sections.push(ih.forText(n.scale,n.fontStack||o));const c=this.sections.length-1;for(let m=0;m<n.text.length;++m)this.sectionIndex.push(c)}addImageSection(n){const o=n.image?n.image.name:"";if(o.length===0)return void Ue("Can't add FormattedSection with an empty image.");const c=this.getNextImageSectionCharCode();c?(this.text+=String.fromCharCode(c),this.sections.push(ih.forImage(o)),this.sectionIndex.push(this.sections.length-1)):Ue("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Gd(r,n,o,c,m,_,w,A,C,L,F,U,Z,K,Y,me){const pe=$u.fromFeature(r,m);let Pe;U===a.WritingMode.vertical&&pe.verticalizePunctuation();const{processBidirectionalText:Ne,processStyledBidirectionalText:Ee}=vs;if(Ne&&pe.sections.length===1){Pe=[];const Qe=Ne(pe.toString(),Am(pe,L,_,n,c,K,Y));for(const Ct of Qe){const Mt=new $u;Mt.text=Ct,Mt.sections=pe.sections;for(let wt=0;wt<Ct.length;wt++)Mt.sectionIndex.push(0);Pe.push(Mt)}}else if(Ee){Pe=[];const Qe=Ee(pe.text,pe.sectionIndex,Am(pe,L,_,n,c,K,Y));for(const Ct of Qe){const Mt=new $u;Mt.text=Ct[0],Mt.sectionIndex=Ct[1],Mt.sections=pe.sections,Pe.push(Mt)}}else Pe=function(Qe,Ct){const Mt=[],wt=Qe.text;let vt=0;for(const mt of Ct)Mt.push(Qe.substring(vt,mt)),vt=mt;return vt<wt.length&&Mt.push(Qe.substring(vt,wt.length)),Mt}(pe,Am(pe,L,_,n,c,K,Y));const Le=[],Je={positionedLines:Le,text:pe.toString(),top:F[1],bottom:F[1],left:F[0],right:F[0],writingMode:U,iconsInText:!1,verticalizable:!1};return function(Qe,Ct,Mt,wt,vt,mt,bt,_t,ut,Zt,Bt,wn){let vi=0,Si=qd,nr=0,Ds=0;const br=_t==="right"?1:_t==="left"?0:.5;let Ki=0;for(const Yi of vt){Yi.trim();const Tr=Yi.getMaxScale(),Br=(Tr-1)*fr,Kr={positionedGlyphs:[],lineOffset:0};Qe.positionedLines[Ki]=Kr;const ss=Kr.positionedGlyphs;let os=0;if(!Yi.length()){Si+=mt,++Ki;continue}for(let cr=0;cr<Yi.length();cr++){const In=Yi.getSection(cr),ws=Yi.getSectionIndex(cr),Ar=Yi.getCharCode(cr);let Nr=0,Qs=null,vo=null,_o=null,Ma=fr;const Js=!(ut===a.WritingMode.horizontal||!Bt&&!Xt(Ar)||Bt&&(Wd[Ar]||(ur=Ar,Ce.Arabic(ur)||Ce["Arabic Supplement"](ur)||Ce["Arabic Extended-A"](ur)||Ce["Arabic Presentation Forms-A"](ur)||Ce["Arabic Presentation Forms-B"](ur))));if(In.imageName){const Ls=wt[In.imageName];if(!Ls)continue;_o=In.imageName,Qe.iconsInText=Qe.iconsInText||!0,vo=Ls.paddedRect;const as=Ls.displaySize;In.scale=In.scale*fr/wn,Qs={width:as[0],height:as[1],left:1,top:-3,advance:Js?as[1]:as[0]},Nr=Br+(fr-as[1]*In.scale),Ma=Qs.advance;const za=Js?as[0]*In.scale-fr*Tr:as[1]*In.scale-fr*Tr;za>0&&za>os&&(os=za)}else{const Ls=Mt[In.fontStack],as=Ls&&Ls[Ar];if(as&&as.rect)vo=as.rect,Qs=as.metrics;else{const za=Ct[In.fontStack],oh=za&&za[Ar];if(!oh)continue;Qs=oh.metrics}Nr=(Tr-In.scale)*fr}Js?(Qe.verticalizable=!0,ss.push({glyph:Ar,imageName:_o,x:vi,y:Si+Nr,vertical:Js,scale:In.scale,fontStack:In.fontStack,sectionIndex:ws,metrics:Qs,rect:vo}),vi+=Ma*In.scale+Zt):(ss.push({glyph:Ar,imageName:_o,x:vi,y:Si+Nr,vertical:Js,scale:In.scale,fontStack:In.fontStack,sectionIndex:ws,metrics:Qs,rect:vo}),vi+=Qs.advance*In.scale+Zt)}ss.length!==0&&(nr=Math.max(vi-Zt,nr),HA(ss,0,ss.length-1,br,os)),vi=0;const Ei=mt*Tr+os;Kr.lineOffset=Math.max(os,Br),Si+=Ei,Ds=Math.max(Ei,Ds),++Ki}var ur;const Sr=Si-qd,{horizontalAlign:Rr,verticalAlign:rs}=Em(bt);(function(Yi,Tr,Br,Kr,ss,os,Ei,cr,In){const ws=(Tr-Br)*ss;let Ar=0;Ar=os!==Ei?-cr*Kr-qd:(-Kr*In+.5)*Ei;for(const Nr of Yi)for(const Qs of Nr.positionedGlyphs)Qs.x+=ws,Qs.y+=Ar})(Qe.positionedLines,br,Rr,rs,nr,Ds,mt,Sr,vt.length),Qe.top+=-rs*Sr,Qe.bottom=Qe.top+Sr,Qe.left+=-Rr*nr,Qe.right=Qe.left+nr}(Je,n,o,c,Pe,w,A,C,U,L,Z,me),!function(Qe){for(const Ct of Qe)if(Ct.positionedGlyphs.length!==0)return!1;return!0}(Le)&&Je}const Wd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},GA={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ox(r,n,o,c,m,_){if(n.imageName){const w=c[n.imageName];return w?w.displaySize[0]*n.scale*fr/_+m:0}{const w=o[n.fontStack],A=w&&w[r];return A?A.metrics.advance*n.scale+m:0}}function ax(r,n,o,c){const m=Math.pow(r-n,2);return c?r<n?m/2:2*m:m+Math.abs(o)*o}function WA(r,n,o){let c=0;return r===10&&(c-=1e4),o&&(c+=150),r!==40&&r!==65288||(c+=50),n!==41&&n!==65289||(c+=50),c}function lx(r,n,o,c,m,_){let w=null,A=ax(n,o,m,_);for(const C of c){const L=ax(n-C.x,o,m,_)+C.badness;L<=A&&(w=C,A=L)}return{index:r,x:n,priorBreak:w,badness:A}}function ux(r){return r?ux(r.priorBreak).concat(r.index):[]}function Am(r,n,o,c,m,_,w){if(_!=="point")return[];if(!r)return[];const A=[],C=function(Z,K,Y,me,pe,Pe){let Ne=0;for(let Ee=0;Ee<Z.length();Ee++){const Le=Z.getSection(Ee);Ne+=ox(Z.getCharCode(Ee),Le,me,pe,K,Pe)}return Ne/Math.max(1,Math.ceil(Ne/Y))}(r,n,o,c,m,w),L=r.text.indexOf("\u200B")>=0;let F=0;for(let Z=0;Z<r.length();Z++){const K=r.getSection(Z),Y=r.getCharCode(Z);if(Wd[Y]||(F+=ox(Y,K,c,m,n,w)),Z<r.length()-1){const me=!((U=Y)<11904||!(Ce["Bopomofo Extended"](U)||Ce.Bopomofo(U)||Ce["CJK Compatibility Forms"](U)||Ce["CJK Compatibility Ideographs"](U)||Ce["CJK Compatibility"](U)||Ce["CJK Radicals Supplement"](U)||Ce["CJK Strokes"](U)||Ce["CJK Symbols and Punctuation"](U)||Ce["CJK Unified Ideographs Extension A"](U)||Ce["CJK Unified Ideographs"](U)||Ce["Enclosed CJK Letters and Months"](U)||Ce["Halfwidth and Fullwidth Forms"](U)||Ce.Hiragana(U)||Ce["Ideographic Description Characters"](U)||Ce["Kangxi Radicals"](U)||Ce["Katakana Phonetic Extensions"](U)||Ce.Katakana(U)||Ce["Vertical Forms"](U)||Ce["Yi Radicals"](U)||Ce["Yi Syllables"](U)));(GA[Y]||me||K.imageName)&&A.push(lx(Z+1,F,C,A,WA(Y,r.getCharCode(Z+1),me&&L),!1))}}var U;return ux(lx(r.length(),F,C,A,0,!0))}function Em(r){let n=.5,o=.5;switch(r){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:n,verticalAlign:o}}function HA(r,n,o,c,m){if(!c&&!m)return;const _=r[o],w=(r[o].x+_.metrics.advance*_.scale)*c;for(let A=n;A<=o;A++)r[A].x-=w,r[A].y+=m}function ZA(r,n,o){const{horizontalAlign:c,verticalAlign:m}=Em(o),_=n[0]-r.displaySize[0]*c,w=n[1]-r.displaySize[1]*m;return{image:r,top:w,bottom:w+r.displaySize[1],left:_,right:_+r.displaySize[0]}}function cx(r,n,o,c,m,_){const w=r.image;let A;if(w.content){const pe=w.content,Pe=w.pixelRatio||1;A=[pe[0]/Pe,pe[1]/Pe,w.displaySize[0]-pe[2]/Pe,w.displaySize[1]-pe[3]/Pe]}const C=n.left*_,L=n.right*_;let F,U,Z,K;o==="width"||o==="both"?(K=m[0]+C-c[3],U=m[0]+L+c[1]):(K=m[0]+(C+L-w.displaySize[0])/2,U=K+w.displaySize[0]);const Y=n.top*_,me=n.bottom*_;return o==="height"||o==="both"?(F=m[1]+Y-c[0],Z=m[1]+me+c[2]):(F=m[1]+(Y+me-w.displaySize[1])/2,Z=F+w.displaySize[1]),{image:w,top:F,right:U,bottom:Z,left:K,collisionPadding:A}}const Ia=128;function hx(r,n){const{expression:o}=n;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new wi(r+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:c,interpolationType:m}=o;let _=0;for(;_<c.length&&c[_]<=r;)_++;_=Math.max(0,_-1);let w=_;for(;w<c.length&&c[w]<r+1;)w++;w=Math.min(c.length-1,w);const A=c[_],C=c[w];return o.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:C,interpolationType:m}:{kind:"camera",minZoom:A,maxZoom:C,minSize:o.evaluate(new wi(A)),maxSize:o.evaluate(new wi(C)),interpolationType:m}}}class dl extends St{constructor(n,o,c,m){super(n,o),this.angle=c,m!==void 0&&(this.segment=m)}clone(){return new dl(this.x,this.y,this.angle,this.segment)}}function dx(r,n,o,c,m){if(n.segment===void 0)return!0;let _=n,w=n.segment+1,A=0;for(;A>-o/2;){if(w--,w<0)return!1;A-=r[w].dist(_),_=r[w]}A+=r[w].dist(r[w+1]),w++;const C=[];let L=0;for(;A<o/2;){const F=r[w],U=r[w+1];if(!U)return!1;let Z=r[w-1].angleTo(F)-F.angleTo(U);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),C.push({distance:A,angleDelta:Z}),L+=Z;A-C[0].distance>c;)L-=C.shift().angleDelta;if(L>m)return!1;w++,A+=F.dist(U)}return!0}function px(r){let n=0;for(let o=0;o<r.length-1;o++)n+=r[o].dist(r[o+1]);return n}function fx(r,n,o){return r?.6*n*o:0}function mx(r,n){return Math.max(r?r.right-r.left:0,n?n.right-n.left:0)}function $A(r,n,o,c,m,_){const w=fx(o,m,_),A=mx(o,c)*_;let C=0;const L=px(r)/2;for(let F=0;F<r.length-1;F++){const U=r[F],Z=r[F+1],K=U.dist(Z);if(C+K>L){const Y=(L-C)/K,me=pi(U.x,Z.x,Y),pe=pi(U.y,Z.y,Y),Pe=new dl(me,pe,Z.angleTo(U),F);return Pe._round(),!w||dx(r,Pe,A,w,n)?Pe:void 0}C+=K}}function XA(r,n,o,c,m,_,w,A,C){const L=fx(c,_,w),F=mx(c,m),U=F*w,Z=r[0].x===0||r[0].x===C||r[0].y===0||r[0].y===C;return n-U<n/4&&(n=U+n/4),gx(r,Z?n/2*A%n:(F/2+2*_)*w*A%n,n,L,o,U,Z,!1,C)}function gx(r,n,o,c,m,_,w,A,C){const L=_/2,F=px(r);let U=0,Z=n-o,K=[];for(let Y=0;Y<r.length-1;Y++){const me=r[Y],pe=r[Y+1],Pe=me.dist(pe),Ne=pe.angleTo(me);for(;Z+o<U+Pe;){Z+=o;const Ee=(Z-U)/Pe,Le=pi(me.x,pe.x,Ee),Je=pi(me.y,pe.y,Ee);if(Le>=0&&Le<C&&Je>=0&&Je<C&&Z-L>=0&&Z+L<=F){const Qe=new dl(Le,Je,Ne,Y);Qe._round(),c&&!dx(r,Qe,_,c,m)||K.push(Qe)}}U+=Pe}return A||K.length||w||(K=gx(r,U/2,o,c,m,_,w,!0,C)),K}function yx(r,n,o,c,m){const _=[];for(let w=0;w<r.length;w++){const A=r[w];let C;for(let L=0;L<A.length-1;L++){let F=A[L],U=A[L+1];F.x<n&&U.x<n||(F.x<n?F=new St(n,F.y+(n-F.x)/(U.x-F.x)*(U.y-F.y))._round():U.x<n&&(U=new St(n,F.y+(n-F.x)/(U.x-F.x)*(U.y-F.y))._round()),F.y<o&&U.y<o||(F.y<o?F=new St(F.x+(o-F.y)/(U.y-F.y)*(U.x-F.x),o)._round():U.y<o&&(U=new St(F.x+(o-F.y)/(U.y-F.y)*(U.x-F.x),o)._round()),F.x>=c&&U.x>=c||(F.x>=c?F=new St(c,F.y+(c-F.x)/(U.x-F.x)*(U.y-F.y))._round():U.x>=c&&(U=new St(c,F.y+(c-F.x)/(U.x-F.x)*(U.y-F.y))._round()),F.y>=m&&U.y>=m||(F.y>=m?F=new St(F.x+(m-F.y)/(U.y-F.y)*(U.x-F.x),m)._round():U.y>=m&&(U=new St(F.x+(m-F.y)/(U.y-F.y)*(U.x-F.x),m)._round()),C&&F.equals(C[C.length-1])||(C=[F],_.push(C)),C.push(U)))))}}return _}function vx(r,n,o,c){const m=[],_=r.image,w=_.pixelRatio,A=_.paddedRect.w-2,C=_.paddedRect.h-2,L=r.right-r.left,F=r.bottom-r.top,U=_.stretchX||[[0,A]],Z=_.stretchY||[[0,C]],K=(mt,bt)=>mt+bt[1]-bt[0],Y=U.reduce(K,0),me=Z.reduce(K,0),pe=A-Y,Pe=C-me;let Ne=0,Ee=Y,Le=0,Je=me,Qe=0,Ct=pe,Mt=0,wt=Pe;if(_.content&&c){const mt=_.content;Ne=Hd(U,0,mt[0]),Le=Hd(Z,0,mt[1]),Ee=Hd(U,mt[0],mt[2]),Je=Hd(Z,mt[1],mt[3]),Qe=mt[0]-Ne,Mt=mt[1]-Le,Ct=mt[2]-mt[0]-Ee,wt=mt[3]-mt[1]-Je}const vt=(mt,bt,_t,ut)=>{const Zt=Zd(mt.stretch-Ne,Ee,L,r.left),Bt=$d(mt.fixed-Qe,Ct,mt.stretch,Y),wn=Zd(bt.stretch-Le,Je,F,r.top),vi=$d(bt.fixed-Mt,wt,bt.stretch,me),Si=Zd(_t.stretch-Ne,Ee,L,r.left),nr=$d(_t.fixed-Qe,Ct,_t.stretch,Y),Ds=Zd(ut.stretch-Le,Je,F,r.top),br=$d(ut.fixed-Mt,wt,ut.stretch,me),Ki=new St(Zt,wn),ur=new St(Si,wn),Sr=new St(Si,Ds),Rr=new St(Zt,Ds),rs=new St(Bt/w,vi/w),Yi=new St(nr/w,br/w),Tr=n*Math.PI/180;if(Tr){const ss=Math.sin(Tr),os=Math.cos(Tr),Ei=[os,-ss,ss,os];Ki._matMult(Ei),ur._matMult(Ei),Rr._matMult(Ei),Sr._matMult(Ei)}const Br=mt.stretch+mt.fixed,Kr=bt.stretch+bt.fixed;return{tl:Ki,tr:ur,bl:Rr,br:Sr,tex:{x:_.paddedRect.x+1+Br,y:_.paddedRect.y+1+Kr,w:_t.stretch+_t.fixed-Br,h:ut.stretch+ut.fixed-Kr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:rs,pixelOffsetBR:Yi,minFontScaleX:Ct/w/L,minFontScaleY:wt/w/F,isSDF:o}};if(c&&(_.stretchX||_.stretchY)){const mt=_x(U,pe,Y),bt=_x(Z,Pe,me);for(let _t=0;_t<mt.length-1;_t++){const ut=mt[_t],Zt=mt[_t+1];for(let Bt=0;Bt<bt.length-1;Bt++)m.push(vt(ut,bt[Bt],Zt,bt[Bt+1]))}}else m.push(vt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:C+1}));return m}function Hd(r,n,o){let c=0;for(const m of r)c+=Math.max(n,Math.min(o,m[1]))-Math.max(n,Math.min(o,m[0]));return c}function _x(r,n,o){const c=[{fixed:-1,stretch:0}];for(const[m,_]of r){const w=c[c.length-1];c.push({fixed:m-w.stretch,stretch:w.stretch}),c.push({fixed:m-w.stretch,stretch:w.stretch+(_-m)})}return c.push({fixed:n+1,stretch:o}),c}function Zd(r,n,o,c){return r/n*o+c}function $d(r,n,o,c){return r-n*o/c}te("Anchor",dl);class Xd{constructor(n,o,c,m,_,w,A,C,L,F){if(this.boxStartIndex=n.length,L){let U=w.top,Z=w.bottom;const K=w.collisionPadding;K&&(U-=K[1],Z+=K[3]);let Y=Z-U;Y>0&&(Y=Math.max(10,Y),this.circleDiameter=Y)}else{let U=w.top*A-C[0],Z=w.bottom*A+C[2],K=w.left*A-C[3],Y=w.right*A+C[1];const me=w.collisionPadding;if(me&&(K-=me[0]*A,U-=me[1]*A,Y+=me[2]*A,Z+=me[3]*A),F){const pe=new St(K,U),Pe=new St(Y,U),Ne=new St(K,Z),Ee=new St(Y,Z),Le=F*Math.PI/180;pe._rotate(Le),Pe._rotate(Le),Ne._rotate(Le),Ee._rotate(Le),K=Math.min(pe.x,Pe.x,Ne.x,Ee.x),Y=Math.max(pe.x,Pe.x,Ne.x,Ee.x),U=Math.min(pe.y,Pe.y,Ne.y,Ee.y),Z=Math.max(pe.y,Pe.y,Ne.y,Ee.y)}n.emplaceBack(o.x,o.y,K,U,Y,Z,c,m,_)}this.boxEndIndex=n.length}}class KA{constructor(n=[],o=YA){if(this.data=n,this.length=this.data.length,this.compare=o,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:o,compare:c}=this,m=o[n];for(;n>0;){const _=n-1>>1,w=o[_];if(c(m,w)>=0)break;o[n]=w,n=_}o[n]=m}_down(n){const{data:o,compare:c}=this,m=this.length>>1,_=o[n];for(;n<m;){let w=1+(n<<1),A=o[w];const C=w+1;if(C<this.length&&c(o[C],A)<0&&(w=C,A=o[C]),c(A,_)>=0)break;o[n]=A,n=w}o[n]=_}}function YA(r,n){return r<n?-1:r>n?1:0}function QA(r,n=1,o=!1){let c=1/0,m=1/0,_=-1/0,w=-1/0;const A=r[0];for(let K=0;K<A.length;K++){const Y=A[K];(!K||Y.x<c)&&(c=Y.x),(!K||Y.y<m)&&(m=Y.y),(!K||Y.x>_)&&(_=Y.x),(!K||Y.y>w)&&(w=Y.y)}const C=Math.min(_-c,w-m);let L=C/2;const F=new KA([],JA);if(C===0)return new St(c,m);for(let K=c;K<_;K+=C)for(let Y=m;Y<w;Y+=C)F.push(new Xu(K+L,Y+L,L,r));let U=function(K){let Y=0,me=0,pe=0;const Pe=K[0];for(let Ne=0,Ee=Pe.length,Le=Ee-1;Ne<Ee;Le=Ne++){const Je=Pe[Ne],Qe=Pe[Le],Ct=Je.x*Qe.y-Qe.x*Je.y;me+=(Je.x+Qe.x)*Ct,pe+=(Je.y+Qe.y)*Ct,Y+=3*Ct}return new Xu(me/Y,pe/Y,0,K)}(r),Z=F.length;for(;F.length;){const K=F.pop();(K.d>U.d||!U.d)&&(U=K,o&&console.log("found best %d after %d probes",Math.round(1e4*K.d)/1e4,Z)),K.max-U.d<=n||(L=K.h/2,F.push(new Xu(K.p.x-L,K.p.y-L,L,r)),F.push(new Xu(K.p.x+L,K.p.y-L,L,r)),F.push(new Xu(K.p.x-L,K.p.y+L,L,r)),F.push(new Xu(K.p.x+L,K.p.y+L,L,r)),Z+=4)}return o&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${U.d}`)),U.p}function JA(r,n){return n.max-r.max}function Xu(r,n,o,c){this.p=new St(r,n),this.h=o,this.d=function(m,_){let w=!1,A=1/0;for(let C=0;C<_.length;C++){const L=_[C];for(let F=0,U=L.length,Z=U-1;F<U;Z=F++){const K=L[F],Y=L[Z];K.y>m.y!=Y.y>m.y&&m.x<(Y.x-K.x)*(m.y-K.y)/(Y.y-K.y)+K.x&&(w=!w),A=Math.min(A,C_(m,K,Y))}}return(w?1:-1)*Math.sqrt(A)}(this.p,c),this.max=this.d+this.h*Math.SQRT2}const Cm=Number.POSITIVE_INFINITY;function xx(r,n){return n[1]!==Cm?function(o,c,m){let _=0,w=0;switch(c=Math.abs(c),m=Math.abs(m),o){case"top-right":case"top-left":case"top":w=m-7;break;case"bottom-right":case"bottom-left":case"bottom":w=7-m}switch(o){case"top-right":case"bottom-right":case"right":_=-c;break;case"top-left":case"bottom-left":case"left":_=c}return[_,w]}(r,n[0],n[1]):function(o,c){let m=0,_=0;c<0&&(c=0);const w=c/Math.sqrt(2);switch(o){case"top-right":case"top-left":_=w-7;break;case"bottom-right":case"bottom-left":_=7-w;break;case"bottom":_=7-c;break;case"top":_=c-7}switch(o){case"top-right":case"bottom-right":m=-w;break;case"top-left":case"bottom-left":m=w;break;case"left":m=c;break;case"right":m=-c}return[m,_]}(r,n[0])}function km(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function eE(r,n,o,c,m,_,w,A,C,L,F){let U=_.textMaxSize.evaluate(n,{});U===void 0&&(U=w);const Z=r.layers[0].layout,K=Z.get("icon-offset").evaluate(n,{},F),Y=bx(o.horizontal),me=w/24,pe=r.tilePixelRatio*me,Pe=r.tilePixelRatio*U/24,Ne=r.tilePixelRatio*A,Ee=r.tilePixelRatio*Z.get("symbol-spacing"),Le=Z.get("text-padding")*r.tilePixelRatio,Je=function(ut,Zt,Bt,wn=1){const vi=ut.get("icon-padding").evaluate(Zt,{},Bt),Si=vi&&vi.values;return[Si[0]*wn,Si[1]*wn,Si[2]*wn,Si[3]*wn]}(Z,n,F,r.tilePixelRatio),Qe=Z.get("text-max-angle")/180*Math.PI,Ct=Z.get("text-rotation-alignment")!=="viewport"&&Z.get("symbol-placement")!=="point",Mt=Z.get("icon-rotation-alignment")==="map"&&Z.get("symbol-placement")!=="point",wt=Z.get("symbol-placement"),vt=Ee/2,mt=Z.get("icon-text-fit");let bt;c&&mt!=="none"&&(r.allowVerticalPlacement&&o.vertical&&(bt=cx(c,o.vertical,mt,Z.get("icon-text-fit-padding"),K,me)),Y&&(c=cx(c,Y,mt,Z.get("icon-text-fit-padding"),K,me)));const _t=(ut,Zt)=>{Zt.x<0||Zt.x>=tr||Zt.y<0||Zt.y>=tr||function(Bt,wn,vi,Si,nr,Ds,br,Ki,ur,Sr,Rr,rs,Yi,Tr,Br,Kr,ss,os,Ei,cr,In,ws,Ar,Nr,Qs){const vo=Bt.addToLineVertexArray(wn,vi);let _o,Ma,Js,Ls,as=0,za=0,oh=0,Fx=0,Fm=-1,Om=-1;const Da={};let Ox=lr.exports(""),Vm=0,Um=0;if(Ki._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Vm,Um]=Ki.layout.get("text-offset").evaluate(In,{},Nr).map(ls=>ls*fr):(Vm=Ki.layout.get("text-radial-offset").evaluate(In,{},Nr)*fr,Um=Cm),Bt.allowVerticalPlacement&&Si.vertical){const ls=Ki.layout.get("text-rotate").evaluate(In,{},Nr)+90;Js=new Xd(ur,wn,Sr,Rr,rs,Si.vertical,Yi,Tr,Br,ls),br&&(Ls=new Xd(ur,wn,Sr,Rr,rs,br,ss,os,Br,ls))}if(nr){const ls=Ki.layout.get("icon-rotate").evaluate(In,{}),Qo=Ki.layout.get("icon-text-fit")!=="none",ah=vx(nr,ls,Ar,Qo),lh=br?vx(br,ls,Ar,Qo):void 0;Ma=new Xd(ur,wn,Sr,Rr,rs,nr,ss,os,!1,ls),as=4*ah.length;const jx=Bt.iconSizeData;let ou=null;jx.kind==="source"?(ou=[Ia*Ki.layout.get("icon-size").evaluate(In,{})],ou[0]>pl&&Ue(`${Bt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):jx.kind==="composite"&&(ou=[Ia*ws.compositeIconSizes[0].evaluate(In,{},Nr),Ia*ws.compositeIconSizes[1].evaluate(In,{},Nr)],(ou[0]>pl||ou[1]>pl)&&Ue(`${Bt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Bt.addSymbols(Bt.icon,ah,ou,cr,Ei,In,a.WritingMode.none,wn,vo.lineStartIndex,vo.lineLength,-1,Nr),Fm=Bt.icon.placedSymbolArray.length-1,lh&&(za=4*lh.length,Bt.addSymbols(Bt.icon,lh,ou,cr,Ei,In,a.WritingMode.vertical,wn,vo.lineStartIndex,vo.lineLength,-1,Nr),Om=Bt.icon.placedSymbolArray.length-1)}const Vx=Object.keys(Si.horizontal);for(const ls of Vx){const Qo=Si.horizontal[ls];if(!_o){Ox=lr.exports(Qo.text);const lh=Ki.layout.get("text-rotate").evaluate(In,{},Nr);_o=new Xd(ur,wn,Sr,Rr,rs,Qo,Yi,Tr,Br,lh)}const ah=Qo.positionedLines.length===1;if(oh+=wx(Bt,wn,Qo,Ds,Ki,Br,In,Kr,vo,Si.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,ah?Vx:[ls],Da,Fm,ws,Nr),ah)break}Si.vertical&&(Fx+=wx(Bt,wn,Si.vertical,Ds,Ki,Br,In,Kr,vo,a.WritingMode.vertical,["vertical"],Da,Om,ws,Nr));const pE=_o?_o.boxStartIndex:Bt.collisionBoxArray.length,fE=_o?_o.boxEndIndex:Bt.collisionBoxArray.length,mE=Js?Js.boxStartIndex:Bt.collisionBoxArray.length,gE=Js?Js.boxEndIndex:Bt.collisionBoxArray.length,yE=Ma?Ma.boxStartIndex:Bt.collisionBoxArray.length,vE=Ma?Ma.boxEndIndex:Bt.collisionBoxArray.length,_E=Ls?Ls.boxStartIndex:Bt.collisionBoxArray.length,xE=Ls?Ls.boxEndIndex:Bt.collisionBoxArray.length;let xo=-1;const ep=(ls,Qo)=>ls&&ls.circleDiameter?Math.max(ls.circleDiameter,Qo):Qo;xo=ep(_o,xo),xo=ep(Js,xo),xo=ep(Ma,xo),xo=ep(Ls,xo);const Ux=xo>-1?1:0;Ux&&(xo*=Qs/fr),Bt.glyphOffsetArray.length>=Ku.MAX_GLYPHS&&Ue("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),In.sortKey!==void 0&&Bt.addToSortKeyRanges(Bt.symbolInstances.length,In.sortKey),Bt.symbolInstances.emplaceBack(wn.x,wn.y,Da.right>=0?Da.right:-1,Da.center>=0?Da.center:-1,Da.left>=0?Da.left:-1,Da.vertical||-1,Fm,Om,Ox,pE,fE,mE,gE,yE,vE,_E,xE,Sr,oh,Fx,as,za,Ux,0,Yi,Vm,Um,xo)}(r,Zt,ut,o,c,m,bt,r.layers[0],r.collisionBoxArray,n.index,n.sourceLayerIndex,r.index,pe,[Le,Le,Le,Le],Ct,C,Ne,Je,Mt,K,n,_,L,F,w)};if(wt==="line")for(const ut of yx(n.geometry,0,0,tr,tr)){const Zt=XA(ut,Ee,Qe,o.vertical||Y,c,24,Pe,r.overscaling,tr);for(const Bt of Zt){const wn=Y;wn&&tE(r,wn.text,vt,Bt)||_t(ut,Bt)}}else if(wt==="line-center"){for(const ut of n.geometry)if(ut.length>1){const Zt=$A(ut,Qe,o.vertical||Y,c,24,Pe);Zt&&_t(ut,Zt)}}else if(n.type==="Polygon")for(const ut of mm(n.geometry,0)){const Zt=QA(ut,16);_t(ut[0],new dl(Zt.x,Zt.y,0))}else if(n.type==="LineString")for(const ut of n.geometry)_t(ut,new dl(ut[0].x,ut[0].y,0));else if(n.type==="Point")for(const ut of n.geometry)for(const Zt of ut)_t([Zt],new dl(Zt.x,Zt.y,0))}const pl=32640;function wx(r,n,o,c,m,_,w,A,C,L,F,U,Z,K,Y){const me=function(Ne,Ee,Le,Je,Qe,Ct,Mt,wt){const vt=Je.layout.get("text-rotate").evaluate(Ct,{})*Math.PI/180,mt=[];for(const bt of Ee.positionedLines)for(const _t of bt.positionedGlyphs){if(!_t.rect)continue;const ut=_t.rect||{};let Zt=4,Bt=!0,wn=1,vi=0;const Si=(Qe||wt)&&_t.vertical,nr=_t.metrics.advance*_t.scale/2;if(wt&&Ee.verticalizable){const Ei=(_t.scale-1)*fr,cr=(fr-_t.metrics.width*_t.scale)/2;vi=bt.lineOffset/2-(_t.imageName?-cr:Ei)}if(_t.imageName){const Ei=Mt[_t.imageName];Bt=Ei.sdf,wn=Ei.pixelRatio,Zt=1/wn}const Ds=Qe?[_t.x+nr,_t.y]:[0,0];let br=Qe?[0,0]:[_t.x+nr+Le[0],_t.y+Le[1]-vi],Ki=[0,0];Si&&(Ki=br,br=[0,0]);const ur=(_t.metrics.left-Zt)*_t.scale-nr+br[0],Sr=(-_t.metrics.top-Zt)*_t.scale+br[1],Rr=ur+ut.w*_t.scale/wn,rs=Sr+ut.h*_t.scale/wn,Yi=new St(ur,Sr),Tr=new St(Rr,Sr),Br=new St(ur,rs),Kr=new St(Rr,rs);if(Si){const Ei=new St(-nr,nr-qd),cr=-Math.PI/2,In=12-nr,ws=new St(22-In,-(_t.imageName?In:0)),Ar=new St(...Ki);Yi._rotateAround(cr,Ei)._add(ws)._add(Ar),Tr._rotateAround(cr,Ei)._add(ws)._add(Ar),Br._rotateAround(cr,Ei)._add(ws)._add(Ar),Kr._rotateAround(cr,Ei)._add(ws)._add(Ar)}if(vt){const Ei=Math.sin(vt),cr=Math.cos(vt),In=[cr,-Ei,Ei,cr];Yi._matMult(In),Tr._matMult(In),Br._matMult(In),Kr._matMult(In)}const ss=new St(0,0),os=new St(0,0);mt.push({tl:Yi,tr:Tr,bl:Br,br:Kr,tex:ut,writingMode:Ee.writingMode,glyphOffset:Ds,sectionIndex:_t.sectionIndex,isSDF:Bt,pixelOffsetTL:ss,pixelOffsetBR:os,minFontScaleX:0,minFontScaleY:0})}return mt}(0,o,A,m,_,w,c,r.allowVerticalPlacement),pe=r.textSizeData;let Pe=null;pe.kind==="source"?(Pe=[Ia*m.layout.get("text-size").evaluate(w,{})],Pe[0]>pl&&Ue(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):pe.kind==="composite"&&(Pe=[Ia*K.compositeTextSizes[0].evaluate(w,{},Y),Ia*K.compositeTextSizes[1].evaluate(w,{},Y)],(Pe[0]>pl||Pe[1]>pl)&&Ue(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),r.addSymbols(r.text,me,Pe,A,_,w,L,n,C.lineStartIndex,C.lineLength,Z,Y);for(const Ne of F)U[Ne]=r.text.placedSymbolArray.length-1;return 4*me.length}function bx(r){for(const n in r)return r[n];return null}function tE(r,n,o,c){const m=r.compareText;if(n in m){const _=m[n];for(let w=_.length-1;w>=0;w--)if(c.dist(_[w])<o)return!0}else m[n]=[];return m[n].push(c),!1}const nE=cl.VectorTileFeature.types,iE=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Kd(r,n,o,c,m,_,w,A,C,L,F,U,Z){const K=A?Math.min(pl,Math.round(A[0])):0,Y=A?Math.min(pl,Math.round(A[1])):0;r.emplaceBack(n,o,Math.round(32*c),Math.round(32*m),_,w,(K<<1)+(C?1:0),Y,16*L,16*F,256*U,256*Z)}function Pm(r,n,o){r.emplaceBack(n.x,n.y,o),r.emplaceBack(n.x,n.y,o),r.emplaceBack(n.x,n.y,o),r.emplaceBack(n.x,n.y,o)}function rE(r){for(const n of r.sections)if(tn(n.text))return!0;return!1}class Im{constructor(n){this.layoutVertexArray=new Ks,this.indexArray=new Zr,this.programConfigurations=n,this.segments=new Cn,this.dynamicLayoutVertexArray=new Is,this.opacityVertexArray=new Ys,this.placedSymbolArray=new ot}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(n,o,c,m){this.isEmpty()||(c&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,CA.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,kA.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,iE,!0),this.opacityVertexBuffer.itemSize=1),(c||m)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}te("SymbolBuffers",Im);class Mm{constructor(n,o,c){this.layoutVertexArray=new n,this.layoutAttributes=o,this.indexArray=new c,this.segments=new Cn,this.collisionVertexArray=new _s}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,PA.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}te("CollisionBuffers",Mm);class Ku{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(w=>w.id),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=um([]),this.placementViewportMatrix=um([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=hx(this.zoom,o["text-size"]),this.iconSizeData=hx(this.zoom,o["icon-size"]);const c=this.layers[0].layout,m=c.get("symbol-sort-key"),_=c.get("symbol-z-order");this.canOverlap=Dm(c,"text-overlap","text-allow-overlap")!=="never"||Dm(c,"icon-overlap","icon-allow-overlap")!=="never"||c.get("text-ignore-placement")||c.get("icon-ignore-placement"),this.sortFeaturesByKey=_!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(_==="viewport-y"||_==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,c.get("symbol-placement")==="point"&&(this.writingModes=c.get("text-writing-mode").map(w=>a.WritingMode[w])),this.stateDependentLayerIds=this.layers.filter(w=>w.isStateDependent()).map(w=>w.id),this.sourceID=n.sourceID}createArrays(){this.text=new Im(new tu(this.layers,this.zoom,n=>/^text/.test(n))),this.icon=new Im(new tu(this.layers,this.zoom,n=>/^icon/.test(n))),this.glyphOffsetArray=new yt,this.lineVertexArray=new Et,this.symbolInstances=new Tt}calculateGlyphDependencies(n,o,c,m,_){for(let w=0;w<n.length;w++)if(o[n.charCodeAt(w)]=!0,(c||m)&&_){const A=nh[n.charAt(w)];A&&(o[A.charCodeAt(0)]=!0)}}populate(n,o,c){const m=this.layers[0],_=m.layout,w=_.get("text-font"),A=_.get("text-field"),C=_.get("icon-image"),L=(A.value.kind!=="constant"||A.value.value instanceof ve&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(w.value.kind!=="constant"||w.value.value.length>0),F=C.value.kind!=="constant"||!!C.value.value||Object.keys(C.parameters).length>0,U=_.get("symbol-sort-key");if(this.features=[],!L&&!F)return;const Z=o.iconDependencies,K=o.glyphDependencies,Y=o.availableImages,me=new wi(this.zoom);for(const{feature:pe,id:Pe,index:Ne,sourceLayerIndex:Ee}of n){const Le=m._featureFilter.needGeometry,Je=iu(pe,Le);if(!m._featureFilter.filter(me,Je,c))continue;let Qe,Ct;if(Le||(Je.geometry=nu(pe)),L){const wt=m.getValueAndResolveTokens("text-field",Je,c,Y),vt=ve.factory(wt);rE(vt)&&(this.hasRTLText=!0),(!this.hasRTLText||Ql()==="unavailable"||this.hasRTLText&&vs.isParsed())&&(Qe=MA(vt,m,Je))}if(F){const wt=m.getValueAndResolveTokens("icon-image",Je,c,Y);Ct=wt instanceof Se?wt:Se.fromString(wt)}if(!Qe&&!Ct)continue;const Mt=this.sortFeaturesByKey?U.evaluate(Je,{},c):void 0;if(this.features.push({id:Pe,text:Qe,icon:Ct,index:Ne,sourceLayerIndex:Ee,geometry:Je.geometry,properties:pe.properties,type:nE[pe.type],sortKey:Mt}),Ct&&(Z[Ct.name]=!0),Qe){const wt=w.evaluate(Je,{},c).join(","),vt=_.get("text-rotation-alignment")!=="viewport"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const mt of Qe.sections)if(mt.image)Z[mt.image.name]=!0;else{const bt=gt(Qe.toString()),_t=mt.fontStack||wt,ut=K[_t]=K[_t]||{};this.calculateGlyphDependencies(mt.text,ut,vt,this.allowVerticalPlacement,bt)}}}_.get("symbol-placement")==="line"&&(this.features=function(pe){const Pe={},Ne={},Ee=[];let Le=0;function Je(wt){Ee.push(pe[wt]),Le++}function Qe(wt,vt,mt){const bt=Ne[wt];return delete Ne[wt],Ne[vt]=bt,Ee[bt].geometry[0].pop(),Ee[bt].geometry[0]=Ee[bt].geometry[0].concat(mt[0]),bt}function Ct(wt,vt,mt){const bt=Pe[vt];return delete Pe[vt],Pe[wt]=bt,Ee[bt].geometry[0].shift(),Ee[bt].geometry[0]=mt[0].concat(Ee[bt].geometry[0]),bt}function Mt(wt,vt,mt){const bt=mt?vt[0][vt[0].length-1]:vt[0][0];return`${wt}:${bt.x}:${bt.y}`}for(let wt=0;wt<pe.length;wt++){const vt=pe[wt],mt=vt.geometry,bt=vt.text?vt.text.toString():null;if(!bt){Je(wt);continue}const _t=Mt(bt,mt),ut=Mt(bt,mt,!0);if(_t in Ne&&ut in Pe&&Ne[_t]!==Pe[ut]){const Zt=Ct(_t,ut,mt),Bt=Qe(_t,ut,Ee[Zt].geometry);delete Pe[_t],delete Ne[ut],Ne[Mt(bt,Ee[Bt].geometry,!0)]=Bt,Ee[Zt].geometry=null}else _t in Ne?Qe(_t,ut,mt):ut in Pe?Ct(_t,ut,mt):(Je(wt),Pe[_t]=Le-1,Ne[ut]=Le-1)}return Ee.filter(wt=>wt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((pe,Pe)=>pe.sortKey-Pe.sortKey)}update(n,o,c){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,o,this.layers,c),this.icon.programConfigurations.updatePaintArrays(n,o,this.layers,c))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,o){const c=this.lineVertexArray.length;if(n.segment!==void 0){let m=n.dist(o[n.segment+1]),_=n.dist(o[n.segment]);const w={};for(let A=n.segment+1;A<o.length;A++)w[A]={x:o[A].x,y:o[A].y,tileUnitDistanceFromAnchor:m},A<o.length-1&&(m+=o[A+1].dist(o[A]));for(let A=n.segment||0;A>=0;A--)w[A]={x:o[A].x,y:o[A].y,tileUnitDistanceFromAnchor:_},A>0&&(_+=o[A-1].dist(o[A]));for(let A=0;A<o.length;A++){const C=w[A];this.lineVertexArray.emplaceBack(C.x,C.y,C.tileUnitDistanceFromAnchor)}}return{lineStartIndex:c,lineLength:this.lineVertexArray.length-c}}addSymbols(n,o,c,m,_,w,A,C,L,F,U,Z){const K=n.indexArray,Y=n.layoutVertexArray,me=n.segments.prepareSegment(4*o.length,Y,K,this.canOverlap?w.sortKey:void 0),pe=this.glyphOffsetArray.length,Pe=me.vertexLength,Ne=this.allowVerticalPlacement&&A===a.WritingMode.vertical?Math.PI/2:0,Ee=w.text&&w.text.sections;for(let Le=0;Le<o.length;Le++){const{tl:Je,tr:Qe,bl:Ct,br:Mt,tex:wt,pixelOffsetTL:vt,pixelOffsetBR:mt,minFontScaleX:bt,minFontScaleY:_t,glyphOffset:ut,isSDF:Zt,sectionIndex:Bt}=o[Le],wn=me.vertexLength,vi=ut[1];Kd(Y,C.x,C.y,Je.x,vi+Je.y,wt.x,wt.y,c,Zt,vt.x,vt.y,bt,_t),Kd(Y,C.x,C.y,Qe.x,vi+Qe.y,wt.x+wt.w,wt.y,c,Zt,mt.x,vt.y,bt,_t),Kd(Y,C.x,C.y,Ct.x,vi+Ct.y,wt.x,wt.y+wt.h,c,Zt,vt.x,mt.y,bt,_t),Kd(Y,C.x,C.y,Mt.x,vi+Mt.y,wt.x+wt.w,wt.y+wt.h,c,Zt,mt.x,mt.y,bt,_t),Pm(n.dynamicLayoutVertexArray,C,Ne),K.emplaceBack(wn,wn+1,wn+2),K.emplaceBack(wn+1,wn+2,wn+3),me.vertexLength+=4,me.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ut[0]),Le!==o.length-1&&Bt===o[Le+1].sectionIndex||n.programConfigurations.populatePaintArrays(Y.length,w,w.index,{},Z,Ee&&Ee[Bt])}n.placedSymbolArray.emplaceBack(C.x,C.y,pe,this.glyphOffsetArray.length-pe,Pe,L,F,C.segment,c?c[0]:0,c?c[1]:0,m[0],m[1],A,0,!1,0,U)}_addCollisionDebugVertex(n,o,c,m,_,w){return o.emplaceBack(0,0),n.emplaceBack(c.x,c.y,m,_,Math.round(w.x),Math.round(w.y))}addCollisionDebugVertices(n,o,c,m,_,w,A){const C=_.segments.prepareSegment(4,_.layoutVertexArray,_.indexArray),L=C.vertexLength,F=_.layoutVertexArray,U=_.collisionVertexArray,Z=A.anchorX,K=A.anchorY;this._addCollisionDebugVertex(F,U,w,Z,K,new St(n,o)),this._addCollisionDebugVertex(F,U,w,Z,K,new St(c,o)),this._addCollisionDebugVertex(F,U,w,Z,K,new St(c,m)),this._addCollisionDebugVertex(F,U,w,Z,K,new St(n,m)),C.vertexLength+=4;const Y=_.indexArray;Y.emplaceBack(L,L+1),Y.emplaceBack(L+1,L+2),Y.emplaceBack(L+2,L+3),Y.emplaceBack(L+3,L),C.primitiveLength+=4}addDebugCollisionBoxes(n,o,c,m){for(let _=n;_<o;_++){const w=this.collisionBoxArray.get(_);this.addCollisionDebugVertices(w.x1,w.y1,w.x2,w.y2,m?this.textCollisionBox:this.iconCollisionBox,w.anchorPoint,c)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Mm(Ko,Y_.members,go),this.iconCollisionBox=new Mm(Ko,Y_.members,go);for(let n=0;n<this.symbolInstances.length;n++){const o=this.symbolInstances.get(n);this.addDebugCollisionBoxes(o.textBoxStartIndex,o.textBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.iconBoxStartIndex,o.iconBoxEndIndex,o,!1),this.addDebugCollisionBoxes(o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o,!1)}}_deserializeCollisionBoxesForSymbol(n,o,c,m,_,w,A,C,L){const F={};for(let U=o;U<c;U++){const Z=n.get(U);F.textBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},F.textFeatureIndex=Z.featureIndex;break}for(let U=m;U<_;U++){const Z=n.get(U);F.verticalTextBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},F.verticalTextFeatureIndex=Z.featureIndex;break}for(let U=w;U<A;U++){const Z=n.get(U);F.iconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},F.iconFeatureIndex=Z.featureIndex;break}for(let U=C;U<L;U++){const Z=n.get(U);F.verticalIconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},F.verticalIconFeatureIndex=Z.featureIndex;break}return F}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const c=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,c.textBoxStartIndex,c.textBoxEndIndex,c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c.iconBoxStartIndex,c.iconBoxEndIndex,c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(n,o){const c=n.placedSymbolArray.get(o),m=c.vertexStartIndex+4*c.numGlyphs;for(let _=c.vertexStartIndex;_<m;_+=4)n.indexArray.emplaceBack(_,_+1,_+2),n.indexArray.emplaceBack(_+1,_+2,_+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(n),c=Math.cos(n),m=[],_=[],w=[];for(let A=0;A<this.symbolInstances.length;++A){w.push(A);const C=this.symbolInstances.get(A);m.push(0|Math.round(o*C.anchorX+c*C.anchorY)),_.push(C.featureIndex)}return w.sort((A,C)=>m[A]-m[C]||_[C]-_[A]),w}addToSortKeyRanges(n,o){const c=this.sortKeyRanges[this.sortKeyRanges.length-1];c&&c.sortKey===o?c.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const c=this.symbolInstances.get(o);this.featureSortOrder.push(c.featureIndex),[c.rightJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.leftJustifiedTextSymbolIndex].forEach((m,_,w)=>{m>=0&&w.indexOf(m)===_&&this.addIndicesForPlacedSymbol(this.text,m)}),c.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,c.verticalPlacedTextSymbolIndex),c.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,c.placedIconSymbolIndex),c.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,c.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}te("SymbolBucket",Ku,{omit:["layers","collisionBoxArray","features","compareText"]}),Ku.MAX_GLYPHS=65535,Ku.addDynamicAttributes=Pm;const sE=new pr({"symbol-placement":new Lt(ze.layout_symbol["symbol-placement"]),"symbol-spacing":new Lt(ze.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Lt(ze.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Kt(ze.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Lt(ze.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Lt(ze.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Lt(ze.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Lt(ze.layout_symbol["icon-ignore-placement"]),"icon-optional":new Lt(ze.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Lt(ze.layout_symbol["icon-rotation-alignment"]),"icon-size":new Kt(ze.layout_symbol["icon-size"]),"icon-text-fit":new Lt(ze.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Lt(ze.layout_symbol["icon-text-fit-padding"]),"icon-image":new Kt(ze.layout_symbol["icon-image"]),"icon-rotate":new Kt(ze.layout_symbol["icon-rotate"]),"icon-padding":new Kt(ze.layout_symbol["icon-padding"]),"icon-keep-upright":new Lt(ze.layout_symbol["icon-keep-upright"]),"icon-offset":new Kt(ze.layout_symbol["icon-offset"]),"icon-anchor":new Kt(ze.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Lt(ze.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Lt(ze.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Lt(ze.layout_symbol["text-rotation-alignment"]),"text-field":new Kt(ze.layout_symbol["text-field"]),"text-font":new Kt(ze.layout_symbol["text-font"]),"text-size":new Kt(ze.layout_symbol["text-size"]),"text-max-width":new Kt(ze.layout_symbol["text-max-width"]),"text-line-height":new Lt(ze.layout_symbol["text-line-height"]),"text-letter-spacing":new Kt(ze.layout_symbol["text-letter-spacing"]),"text-justify":new Kt(ze.layout_symbol["text-justify"]),"text-radial-offset":new Kt(ze.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Lt(ze.layout_symbol["text-variable-anchor"]),"text-anchor":new Kt(ze.layout_symbol["text-anchor"]),"text-max-angle":new Lt(ze.layout_symbol["text-max-angle"]),"text-writing-mode":new Lt(ze.layout_symbol["text-writing-mode"]),"text-rotate":new Kt(ze.layout_symbol["text-rotate"]),"text-padding":new Lt(ze.layout_symbol["text-padding"]),"text-keep-upright":new Lt(ze.layout_symbol["text-keep-upright"]),"text-transform":new Kt(ze.layout_symbol["text-transform"]),"text-offset":new Kt(ze.layout_symbol["text-offset"]),"text-allow-overlap":new Lt(ze.layout_symbol["text-allow-overlap"]),"text-overlap":new Lt(ze.layout_symbol["text-overlap"]),"text-ignore-placement":new Lt(ze.layout_symbol["text-ignore-placement"]),"text-optional":new Lt(ze.layout_symbol["text-optional"])});var zm={paint:new pr({"icon-opacity":new Kt(ze.paint_symbol["icon-opacity"]),"icon-color":new Kt(ze.paint_symbol["icon-color"]),"icon-halo-color":new Kt(ze.paint_symbol["icon-halo-color"]),"icon-halo-width":new Kt(ze.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Kt(ze.paint_symbol["icon-halo-blur"]),"icon-translate":new Lt(ze.paint_symbol["icon-translate"]),"icon-translate-anchor":new Lt(ze.paint_symbol["icon-translate-anchor"]),"text-opacity":new Kt(ze.paint_symbol["text-opacity"]),"text-color":new Kt(ze.paint_symbol["text-color"],{runtimeType:Zn,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new Kt(ze.paint_symbol["text-halo-color"]),"text-halo-width":new Kt(ze.paint_symbol["text-halo-width"]),"text-halo-blur":new Kt(ze.paint_symbol["text-halo-blur"]),"text-translate":new Lt(ze.paint_symbol["text-translate"]),"text-translate-anchor":new Lt(ze.paint_symbol["text-translate-anchor"])}),layout:sE};class Sx{constructor(n){if(n.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=n.property.overrides?n.property.overrides.runtimeType:Qt,this.defaultValue=n}evaluate(n){if(n.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(n.formattedSection))return o.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}te("FormatSectionOverride",Sx,{omit:["defaultValue"]});class Yd extends Xs{constructor(n){super(n,zm)}recalculate(n,o){if(super.recalculate(n,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const c=this.layout.get("text-writing-mode");if(c){const m=[];for(const _ of c)m.indexOf(_)<0&&m.push(_);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(n,o,c,m){const _=this.layout.get(n).evaluate(o,{},c,m),w=this._unevaluatedLayout._values[n];return w.isDataDriven()||is(w.value)||!_?_:function(A,C){return C.replace(/{([^{}]+)}/g,(L,F)=>F in A?String(A[F]):"")}(o.properties,_)}createBucket(n){return new Ku(n)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const n of zm.paint.overridableProperties){if(!Yd.hasPaintOverride(this.layout,n))continue;const o=this.paint.get(n),c=new Sx(o),m=new ma(c,o.property.specification);let _=null;_=o.value.kind==="constant"||o.value.kind==="source"?new On("source",m):new Cs("composite",m,o.value.zoomStops),this.paint._values[n]=new $s(o.property,_,o.parameters)}}_handleOverridablePaintPropertyUpdate(n,o,c){return!(!this.layout||o.isDataDriven()||c.isDataDriven())&&Yd.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,o){const c=n.get("text-field"),m=zm.paint.properties[o];let _=!1;const w=A=>{for(const C of A)if(m.overrides&&m.overrides.hasOverride(C))return void(_=!0)};if(c.value.kind==="constant"&&c.value.value instanceof ve)w(c.value.value.sections);else if(c.value.kind==="source"){const A=L=>{_||(L instanceof It&&Oe(L.value)===vn?w(L.value.sections):L instanceof Be?w(L.sections):L.eachChild(A))},C=c.value;C._styleExpression&&A(C._styleExpression.expression)}return _}}function Dm(r,n,o){let c="never";const m=r.get(n);return m?c=m:r.get(o)&&(c="always"),c}var oE={paint:new pr({"background-color":new Lt(ze.paint_background["background-color"]),"background-pattern":new jc(ze.paint_background["background-pattern"]),"background-opacity":new Lt(ze.paint_background["background-opacity"])})},aE={paint:new pr({"raster-opacity":new Lt(ze.paint_raster["raster-opacity"]),"raster-hue-rotate":new Lt(ze.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Lt(ze.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Lt(ze.paint_raster["raster-brightness-max"]),"raster-saturation":new Lt(ze.paint_raster["raster-saturation"]),"raster-contrast":new Lt(ze.paint_raster["raster-contrast"]),"raster-resampling":new Lt(ze.paint_raster["raster-resampling"]),"raster-fade-duration":new Lt(ze.paint_raster["raster-fade-duration"])})};class lE extends Xs{constructor(n){super(n,{}),this.onAdd=o=>{this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)},this.onRemove=o=>{this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)},this.implementation=n}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const uE={circle:class extends Xs{constructor(r){super(r,VT)}createBucket(r){return new om(r)}queryRadius(r){const n=r;return Zc("circle-radius",this,n)+Zc("circle-stroke-width",this,n)+Ld(this.paint.get("circle-translate"))}queryIntersectsFeature(r,n,o,c,m,_,w,A){const C=Rd(r,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),_.angle,w),L=this.paint.get("circle-radius").evaluate(n,o)+this.paint.get("circle-stroke-width").evaluate(n,o),F=this.paint.get("circle-pitch-alignment")==="map",U=F?C:function(K,Y){return K.map(me=>L_(me,Y))}(C,A),Z=F?L*w:L;for(const K of c)for(const Y of K){const me=F?Y:L_(Y,A);let pe=Z;const Pe=Bd([],[Y.x,Y.y,0,1],A);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?pe*=Pe[3]/_.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(pe*=_.cameraToCenterDistance/Pe[3]),RT(U,me,pe))return!0}return!1}},heatmap:class extends Xs{constructor(r){super(r,jT),this._updateColorRamp()}createBucket(r){return new R_(r)}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=N_({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends Xs{constructor(r){super(r,qT)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends Xs{constructor(r){super(r,sA)}recalculate(r,n){super.recalculate(r,n);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new vm(r)}queryRadius(){return Ld(this.paint.get("fill-translate"))}queryIntersectsFeature(r,n,o,c,m,_,w){return E_(Rd(r,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),_.angle,w),c)}isTileClipped(){return!0}},"fill-extrusion":class extends Xs{constructor(r){super(r,_A)}createBucket(r){return new xm(r)}queryRadius(){return Ld(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(r,n,o,c,m,_,w,A){const C=Rd(r,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),_.angle,w),L=this.paint.get("fill-extrusion-height").evaluate(n,o),F=this.paint.get("fill-extrusion-base").evaluate(n,o),U=function(K,Y,me,pe){const Pe=[];for(const Ne of K){const Ee=[Ne.x,Ne.y,0,1];Bd(Ee,Ee,Y),Pe.push(new St(Ee[0]/Ee[3],Ee[1]/Ee[3]))}return Pe}(C,A),Z=function(K,Y,me,pe){const Pe=[],Ne=[],Ee=pe[8]*Y,Le=pe[9]*Y,Je=pe[10]*Y,Qe=pe[11]*Y,Ct=pe[8]*me,Mt=pe[9]*me,wt=pe[10]*me,vt=pe[11]*me;for(const mt of K){const bt=[],_t=[];for(const ut of mt){const Zt=ut.x,Bt=ut.y,wn=pe[0]*Zt+pe[4]*Bt+pe[12],vi=pe[1]*Zt+pe[5]*Bt+pe[13],Si=pe[2]*Zt+pe[6]*Bt+pe[14],nr=pe[3]*Zt+pe[7]*Bt+pe[15],Ds=Si+Je,br=nr+Qe,Ki=wn+Ct,ur=vi+Mt,Sr=Si+wt,Rr=nr+vt,rs=new St((wn+Ee)/br,(vi+Le)/br);rs.z=Ds/br,bt.push(rs);const Yi=new St(Ki/Rr,ur/Rr);Yi.z=Sr/Rr,_t.push(Yi)}Pe.push(bt),Ne.push(_t)}return[Pe,Ne]}(c,F,L,A);return function(K,Y,me){let pe=1/0;E_(me,Y)&&(pe=H_(me,Y[0]));for(let Pe=0;Pe<Y.length;Pe++){const Ne=Y[Pe],Ee=K[Pe];for(let Le=0;Le<Ne.length-1;Le++){const Je=Ne[Le],Qe=[Je,Ne[Le+1],Ee[Le+1],Ee[Le],Je];A_(me,Qe)&&(pe=Math.min(pe,H_(me,Qe)))}}return pe!==1/0&&pe}(Z[0],Z[1],U)}},line:class extends Xs{constructor(r){super(r,$_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(r){r==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof ca,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,n){super.recalculate(r,n),this.paint._values["line-floorwidth"]=X_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new wm(r)}queryRadius(r){const n=r,o=K_(Zc("line-width",this,n),Zc("line-gap-width",this,n)),c=Zc("line-offset",this,n);return o/2+Math.abs(c)+Ld(this.paint.get("line-translate"))}queryIntersectsFeature(r,n,o,c,m,_,w){const A=Rd(r,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),_.angle,w),C=w/2*K_(this.paint.get("line-width").evaluate(n,o),this.paint.get("line-gap-width").evaluate(n,o)),L=this.paint.get("line-offset").evaluate(n,o);return L&&(c=function(F,U){const Z=[];for(let K=0;K<F.length;K++){const Y=F[K],me=[];for(let pe=0;pe<Y.length;pe++){const Pe=Y[pe-1],Ne=Y[pe],Ee=Y[pe+1],Le=pe===0?new St(0,0):Ne.sub(Pe)._unit()._perp(),Je=pe===Y.length-1?new St(0,0):Ee.sub(Ne)._unit()._perp(),Qe=Le._add(Je)._unit(),Ct=Qe.x*Je.x+Qe.y*Je.y;Ct!==0&&Qe._mult(1/Ct),me.push(Qe._mult(U)._add(Ne))}Z.push(me)}return Z}(c,L*w)),function(F,U,Z){for(let K=0;K<U.length;K++){const Y=U[K];if(F.length>=3){for(let me=0;me<Y.length;me++)if(qu(F,Y[me]))return!0}if(BT(F,Y,Z))return!0}return!1}(A,c,C)}isTileClipped(){return!0}},symbol:Yd,background:class extends Xs{constructor(r){super(r,oE)}},raster:class extends Xs{constructor(r){super(r,aE)}}};class cE{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Tx=63710088e-1;class Ri{constructor(n,o){if(isNaN(n)||isNaN(o))throw new Error(`Invalid LngLat object: (${n}, ${o})`);if(this.lng=+n,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ri(ie(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const o=Math.PI/180,c=this.lat*o,m=n.lat*o,_=Math.sin(c)*Math.sin(m)+Math.cos(c)*Math.cos(m)*Math.cos((n.lng-this.lng)*o);return Tx*Math.acos(Math.min(_,1))}toBounds(n=0){const o=360*n/40075017,c=o/Math.cos(Math.PI/180*this.lat);return new su(new Ri(this.lng-c,this.lat-o),new Ri(this.lng+c,this.lat+o))}static convert(n){if(n instanceof Ri)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new Ri(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new Ri(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class su{constructor(n,o){n&&(o?this.setSouthWest(n).setNorthEast(o):n.length===4?this.setSouthWest([n[0],n[1]]).setNorthEast([n[2],n[3]]):this.setSouthWest(n[0]).setNorthEast(n[1]))}setNorthEast(n){return this._ne=n instanceof Ri?new Ri(n.lng,n.lat):Ri.convert(n),this}setSouthWest(n){return this._sw=n instanceof Ri?new Ri(n.lng,n.lat):Ri.convert(n),this}extend(n){const o=this._sw,c=this._ne;let m,_;if(n instanceof Ri)m=n,_=n;else{if(!(n instanceof su))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(su.convert(n)):this.extend(Ri.convert(n)):this;if(m=n._sw,_=n._ne,!m||!_)return this}return o||c?(o.lng=Math.min(m.lng,o.lng),o.lat=Math.min(m.lat,o.lat),c.lng=Math.max(_.lng,c.lng),c.lat=Math.max(_.lat,c.lat)):(this._sw=new Ri(m.lng,m.lat),this._ne=new Ri(_.lng,_.lat)),this}getCenter(){return new Ri((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Ri(this.getWest(),this.getNorth())}getSouthEast(){return new Ri(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:o,lat:c}=Ri.convert(n);let m=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=c&&c<=this._ne.lat&&m}static convert(n){return n instanceof su?n:n&&new su(n)}}const Ax=2*Math.PI*Tx;function Ex(r){return Ax*Math.cos(r*Math.PI/180)}function Cx(r){return(180+r)/360}function kx(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function Px(r,n){return r/Ex(n)}function Lm(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}class Qd{constructor(n,o,c=0){this.x=+n,this.y=+o,this.z=+c}static fromLngLat(n,o=0){const c=Ri.convert(n);return new Qd(Cx(c.lng),kx(c.lat),Px(o,c.lat))}toLngLat(){return new Ri(360*this.x-180,Lm(this.y))}toAltitude(){return this.z*Ex(Lm(this.y))}meterInMercatorCoordinateUnits(){return 1/Ax*(n=Lm(this.y),1/Math.cos(n*Math.PI/180));var n}}function Ix(r,n,o){var c=2*Math.PI*6378137/256/Math.pow(2,o);return[r*c-2*Math.PI*6378137/2,n*c-2*Math.PI*6378137/2]}class Rm{constructor(n,o,c){if(n<0||n>25||c<0||c>=Math.pow(2,n)||o<0||o>=Math.pow(2,n))throw new Error(`x=${o}, y=${c}, z=${n} outside of bounds. 0<=x<${Math.pow(2,n)}, 0<=y<${Math.pow(2,n)} 0<=z<=25 `);this.z=n,this.x=o,this.y=c,this.key=rh(0,n,n,o,c)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,o,c){const m=(w=this.y,A=this.z,C=Ix(256*(_=this.x),256*(w=Math.pow(2,A)-w-1),A),L=Ix(256*(_+1),256*(w+1),A),C[0]+","+C[1]+","+L[0]+","+L[1]);var _,w,A,C,L;const F=function(U,Z,K){let Y,me="";for(let pe=U;pe>0;pe--)Y=1<<pe-1,me+=(Z&Y?1:0)+(K&Y?2:0);return me}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(c==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,o>1?"@2x":"").replace(/{quadkey}/g,F).replace(/{bbox-epsg-3857}/g,m)}isChildOf(n){const o=this.z-n.z;return o>0&&n.x===this.x>>o&&n.y===this.y>>o}getTilePoint(n){const o=Math.pow(2,this.z);return new St((n.x*o-this.x)*tr,(n.y*o-this.y)*tr)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Mx{constructor(n,o){this.wrap=n,this.canonical=o,this.key=rh(n,o.z,o.z,o.x,o.y)}}class zs{constructor(n,o,c,m,_){if(n<c)throw new Error(`overscaledZ should be >= z; overscaledZ = ${n}; z = ${c}`);this.overscaledZ=n,this.wrap=o,this.canonical=new Rm(c,+m,+_),this.key=rh(o,n,c,m,_)}clone(){return new zs(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){if(n>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${n}; overscaledZ = ${this.overscaledZ}`);const o=this.canonical.z-n;return n>this.canonical.z?new zs(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new zs(n,this.wrap,n,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(n,o){if(n>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${n}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-n;return n>this.canonical.z?rh(this.wrap*+o,n,this.canonical.z,this.canonical.x,this.canonical.y):rh(this.wrap*+o,n,n,this.canonical.x>>c,this.canonical.y>>c)}isChildOf(n){if(n.wrap!==this.wrap)return!1;const o=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>o&&n.canonical.y===this.canonical.y>>o}children(n){if(this.overscaledZ>=n)return[new zs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,c=2*this.canonical.x,m=2*this.canonical.y;return[new zs(o,this.wrap,o,c,m),new zs(o,this.wrap,o,c+1,m),new zs(o,this.wrap,o,c,m+1),new zs(o,this.wrap,o,c+1,m+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new zs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new zs(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Mx(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(n){return this.canonical.getTilePoint(new Qd(n.x-this.wrap,n.y))}}function rh(r,n,o,c,m){(r*=2)<0&&(r=-1*r-1);const _=1<<o;return(_*_*r+_*m+c).toString(36)+o.toString(36)+n.toString(36)}te("CanonicalTileID",Rm),te("OverscaledTileID",zs,{omit:["posMatrix"]});class zx{constructor(n,o,c){if(this.uid=n,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(c&&c!=="mapbox"&&c!=="terrarium")return void Ue(`"${c}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const m=this.dim=o.height-2;this.data=new Uint32Array(o.data.buffer),this.encoding=c||"mapbox";for(let _=0;_<m;_++)this.data[this._idx(-1,_)]=this.data[this._idx(0,_)],this.data[this._idx(m,_)]=this.data[this._idx(m-1,_)],this.data[this._idx(_,-1)]=this.data[this._idx(_,0)],this.data[this._idx(_,m)]=this.data[this._idx(_,m-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(m,-1)]=this.data[this._idx(m-1,0)],this.data[this._idx(-1,m)]=this.data[this._idx(0,m-1)],this.data[this._idx(m,m)]=this.data[this._idx(m-1,m-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let _=0;_<m;_++)for(let w=0;w<m;w++){const A=this.get(_,w);A>this.max&&(this.max=A),A<this.min&&(this.min=A)}}get(n,o){const c=new Uint8Array(this.data.buffer),m=4*this._idx(n,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(c[m],c[m+1],c[m+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(n,o){if(n<-1||n>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(n+1)}_unpackMapbox(n,o,c){return(256*n*256+256*o+c)/10-1e4}_unpackTerrarium(n,o,c){return 256*n+o+c/256-32768}getPixels(){return new Ms({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(n,o,c){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let m=o*this.dim,_=o*this.dim+this.dim,w=c*this.dim,A=c*this.dim+this.dim;switch(o){case-1:m=_-1;break;case 1:_=m+1}switch(c){case-1:w=A-1;break;case 1:A=w+1}const C=-o*this.dim,L=-c*this.dim;for(let F=w;F<A;F++)for(let U=m;U<_;U++)this.data[this._idx(U,F)]=n.data[this._idx(U+C,F+L)]}}te("DEMData",zx);class Dx{constructor(n){this._stringToNumber={},this._numberToString=[];for(let o=0;o<n.length;o++){const c=n[o];this._stringToNumber[c]=o,this._numberToString[o]=c}}encode(n){return this._stringToNumber[n]}decode(n){if(n>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${n} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[n]}}class Lx{constructor(n,o,c,m,_){this.type="Feature",this._vectorTileFeature=n,n._z=o,n._x=c,n._y=m,this.properties=n.properties,this.id=_}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={geometry:this.geometry};for(const o in this)o!=="_geometry"&&o!=="_vectorTileFeature"&&(n[o]=this[o]);return n}}class Rx{constructor(n,o){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Sa(tr,16,0),this.grid3D=new Sa(tr,16,0),this.featureIndexArray=new xn,this.promoteId=o}insert(n,o,c,m,_,w){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(c,m,_);const C=w?this.grid3D:this.grid;for(let L=0;L<o.length;L++){const F=o[L],U=[1/0,1/0,-1/0,-1/0];for(let Z=0;Z<F.length;Z++){const K=F[Z];U[0]=Math.min(U[0],K.x),U[1]=Math.min(U[1],K.y),U[2]=Math.max(U[2],K.x),U[3]=Math.max(U[3],K.y)}U[0]<tr&&U[1]<tr&&U[2]>=0&&U[3]>=0&&C.insert(A,U[0],U[1],U[2],U[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new cl.VectorTile(new bm(this.rawTileData)).layers,this.sourceLayerCoder=new Dx(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(n,o,c,m){this.loadVTLayers();const _=n.params||{},w=tr/n.tileSize/n.scale,A=il(_.filter),C=n.queryGeometry,L=n.queryPadding*w,F=Nx(C),U=this.grid.query(F.minX-L,F.minY-L,F.maxX+L,F.maxY+L),Z=Nx(n.cameraQueryGeometry),K=this.grid3D.query(Z.minX-L,Z.minY-L,Z.maxX+L,Z.maxY+L,(pe,Pe,Ne,Ee)=>function(Le,Je,Qe,Ct,Mt){for(const vt of Le)if(Je<=vt.x&&Qe<=vt.y&&Ct>=vt.x&&Mt>=vt.y)return!0;const wt=[new St(Je,Qe),new St(Je,Mt),new St(Ct,Mt),new St(Ct,Qe)];if(Le.length>2){for(const vt of wt)if(qu(Le,vt))return!0}for(let vt=0;vt<Le.length-1;vt++)if(FT(Le[vt],Le[vt+1],wt))return!0;return!1}(n.cameraQueryGeometry,pe-L,Pe-L,Ne+L,Ee+L));for(const pe of K)U.push(pe);U.sort(hE);const Y={};let me;for(let pe=0;pe<U.length;pe++){const Pe=U[pe];if(Pe===me)continue;me=Pe;const Ne=this.featureIndexArray.get(Pe);let Ee=null;this.loadMatchingFeature(Y,Ne.bucketIndex,Ne.sourceLayerIndex,Ne.featureIndex,A,_.layers,_.availableImages,o,c,m,(Le,Je,Qe)=>(Ee||(Ee=nu(Le)),Je.queryIntersectsFeature(C,Le,Qe,Ee,this.z,n.transform,w,n.pixelPosMatrix)))}return Y}loadMatchingFeature(n,o,c,m,_,w,A,C,L,F,U){const Z=this.bucketLayerIDs[o];if(w&&!function(pe,Pe){for(let Ne=0;Ne<pe.length;Ne++)if(Pe.indexOf(pe[Ne])>=0)return!0;return!1}(w,Z))return;const K=this.sourceLayerCoder.decode(c),Y=this.vtLayers[K].feature(m);if(_.needGeometry){const pe=iu(Y,!0);if(!_.filter(new wi(this.tileID.overscaledZ),pe,this.tileID.canonical))return}else if(!_.filter(new wi(this.tileID.overscaledZ),Y))return;const me=this.getId(Y,K);for(let pe=0;pe<Z.length;pe++){const Pe=Z[pe];if(w&&w.indexOf(Pe)<0)continue;const Ne=C[Pe];if(!Ne)continue;let Ee={};me&&F&&(Ee=F.getState(Ne.sourceLayer||"_geojsonTileLayer",me));const Le=ce({},L[Pe]);Le.paint=Bx(Le.paint,Ne.paint,Y,Ee,A),Le.layout=Bx(Le.layout,Ne.layout,Y,Ee,A);const Je=!U||U(Y,Ne,Ee);if(!Je)continue;const Qe=new Lx(Y,this.z,this.x,this.y,me);Qe.layer=Le;let Ct=n[Pe];Ct===void 0&&(Ct=n[Pe]=[]),Ct.push({featureIndex:m,feature:Qe,intersectionZ:Je})}}lookupSymbolFeatures(n,o,c,m,_,w,A,C){const L={};this.loadVTLayers();const F=il(_);for(const U of n)this.loadMatchingFeature(L,c,m,U,F,w,A,C,o);return L}hasLayer(n){for(const o of this.bucketLayerIDs)for(const c of o)if(n===c)return!0;return!1}getId(n,o){let c=n.id;return this.promoteId&&(c=n.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[o]],typeof c=="boolean"&&(c=Number(c))),c}}function Bx(r,n,o,c,m){return oe(r,(_,w)=>{const A=n instanceof eu?n.get(w):null;return A&&A.evaluate?A.evaluate(o,c,m):A})}function Nx(r){let n=1/0,o=1/0,c=-1/0,m=-1/0;for(const _ of r)n=Math.min(n,_.x),o=Math.min(o,_.y),c=Math.max(c,_.x),m=Math.max(m,_.y);return{minX:n,minY:o,maxX:c,maxY:m}}function hE(r,n){return n-r}var Bm;te("FeatureIndex",Rx,{omit:["rawTileData","sourceLayerCoder"]}),a.PerformanceMarkers=void 0,(Bm=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",Bm.load="load",Bm.fullLoad="fullLoad";let Jd=null,sh=[];const Nm=1e3/30,dE={mark(r){performance.mark(r)},frame(r){const n=r;Jd!=null&&sh.push(n-Jd),Jd=n},clearMetrics(){Jd=null,sh=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const r in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[r])},getPerformanceMetrics(){performance.measure("loadTime",a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure("fullLoadTime",a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const r=performance.getEntriesByName("loadTime")[0].duration,n=performance.getEntriesByName("fullLoadTime")[0].duration,o=sh.length,c=1/(sh.reduce((_,w)=>_+w,0)/o/1e3),m=sh.filter(_=>_>Nm).reduce((_,w)=>_+(w-Nm)/Nm,0);return{loadTime:r,fullLoadTime:n,fps:c,percentDroppedFrames:m/(o+m)*100}}};a.AJAXError=oi,a.ARRAY_TYPE=Xr,a.Actor=class{constructor(r,n,o){this.target=r,this.parent=n,this.mapId=o,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},He(["receive","process"],this),this.invoker=new cE(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=ht()?r:window}send(r,n,o,c,m=!1){const _=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(this.callbacks[_]=o);const w=Ti(this.globalScope)?void 0:[];return this.target.postMessage({id:_,type:r,hasCallback:!!o,targetMapId:c,mustQueue:m,sourceMapId:this.mapId,data:Ke(n,w)},w),{cancel:()=>{o&&delete this.callbacks[_],this.target.postMessage({id:_,type:"<cancel>",targetMapId:c,sourceMapId:this.mapId})}}}receive(r){const n=r.data,o=n.id;if(o&&(!n.targetMapId||this.mapId===n.targetMapId))if(n.type==="<cancel>"){delete this.tasks[o];const c=this.cancelCallbacks[o];delete this.cancelCallbacks[o],c&&c()}else ht()||n.mustQueue?(this.tasks[o]=n,this.taskQueue.push(o),this.invoker.trigger()):this.processTask(o,n)}process(){if(!this.taskQueue.length)return;const r=this.taskQueue.shift(),n=this.tasks[r];delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),n&&this.processTask(r,n)}processTask(r,n){if(n.type==="<response>"){const o=this.callbacks[r];delete this.callbacks[r],o&&(n.error?o(ke(n.error)):o(null,ke(n.data)))}else{let o=!1;const c=Ti(this.globalScope)?void 0:[],m=n.hasCallback?(A,C)=>{o=!0,delete this.cancelCallbacks[r],this.target.postMessage({id:r,type:"<response>",sourceMapId:this.mapId,error:A?Ke(A):null,data:Ke(C,c)},c)}:A=>{o=!0};let _=null;const w=ke(n.data);if(this.parent[n.type])_=this.parent[n.type](n.sourceMapId,w,m);else if(this.parent.getWorkerSource){const A=n.type.split(".");_=this.parent.getWorkerSource(n.sourceMapId,A[0],w.source)[A[1]](w,m)}else m(new Error(`Could not find function ${n.type}`));!o&&_&&_.cancel&&(this.cancelCallbacks[r]=_.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=Xc,a.CanonicalTileID=Rm,a.CollisionBoxArray=Ge,a.CollisionCircleLayoutArray=class extends O{},a.Color=ee,a.DEMData=zx,a.DataConstantProperty=Lt,a.DictionaryCoder=Dx,a.EXTENT=tr,a.ErrorEvent=bn,a.EvaluationParameters=wi,a.Event=dn,a.Evented=kn,a.FeatureIndex=Rx,a.FillBucket=vm,a.FillExtrusionBucket=xm,a.GeoJSONFeature=Lx,a.ImageAtlas=sx,a.ImagePosition=Tm,a.LineBucket=wm,a.LineStripIndexArray=class extends de{},a.LngLat=Ri,a.LngLatBounds=su,a.MercatorCoordinate=Qd,a.ONE_EM=fr,a.OverscaledTileID=zs,a.PerformanceUtils=dE,a.PosArray=Ht,a.Properties=pr,a.QuadTriangleArray=class extends ${},a.RGBAImage=Ms,a.RasterBoundsArray=class extends f{},a.RequestPerformance=class{constructor(r){this._marks={start:[r.url,"start"].join("#"),end:[r.url,"end"].join("#"),measure:r.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let r=performance.getEntriesByName(this._marks.measure);return r.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),r=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),r}},a.ResourceType=Pr,a.SegmentVector=Cn,a.SymbolBucket=Ku,a.Transitionable=kd,a.TriangleIndexArray=Zr,a.Uniform1f=Ca,a.Uniform1i=class extends Ea{constructor(r,n){super(r,n),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))}},a.Uniform2f=class extends Ea{constructor(r,n){super(r,n),this.current=[0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1]))}},a.Uniform3f=class extends Ea{constructor(r,n){super(r,n),this.current=[0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2]))}},a.Uniform4f=Uu,a.UniformColor=w_,a.UniformMatrix4f=class extends Ea{constructor(r,n){super(r,n),this.current=DT}set(r){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let n=1;n<16;n++)if(r[n]!==this.current[n]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}},a.UnwrappedTileID=Mx,a.ValidationError=lt,a.ZoomHistory=tt,a.add=function(r,n,o){return r[0]=n[0]+o[0],r[1]=n[1]+o[1],r[2]=n[2]+o[2],r},a.addDynamicAttributes=Pm,a.asyncAll=function(r,n,o){if(!r.length)return o(null,[]);let c=r.length;const m=new Array(r.length);let _=null;r.forEach((w,A)=>{n(w,(C,L)=>{C&&(_=C),m[A]=L,--c==0&&o(_,m)})})},a.bezier=B,a.bindAll=He,a.cacheEntryPossiblyAdded=function(r){cn++,cn>on&&(r.getActor().send("enforceCacheSizeLimit",sn),cn=0)},a.clamp=z,a.clearTileCache=function(r){const n=caches.delete(st);r&&n.catch(r).then(()=>r())},a.clipLine=yx,a.clone=function(r){var n=new Xr(16);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n},a.clone$1=re,a.clone$2=function(r){var n=new Xr(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n},a.collisionCircleLayout=IA,a.config=qe,a.copy=function(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r},a.create=function(){var r=new Xr(16);return Xr!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},a.create$1=P_,a.createExpression=ho,a.createFilter=il,a.createLayout=Xi,a.createStyleLayer=function(r){return r.type==="custom"?new lE(r):new uE[r.type](r)},a.cross=function(r,n,o){var c=n[0],m=n[1],_=n[2],w=o[0],A=o[1],C=o[2];return r[0]=m*C-_*A,r[1]=_*w-c*C,r[2]=c*A-m*w,r},a.dot=function(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]},a.dot$1=function(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]*n[3]},a.ease=V,a.emitValidationErrors=Ho,a.enforceCacheSizeLimit=function(r){Tn(),dt&&dt.then(n=>{n.keys().then(o=>{for(let c=0;c<o.length-r;c++)n.delete(o[c])})})},a.equals=function(r,n){var o=r[0],c=r[1],m=r[2],_=r[3],w=r[4],A=r[5],C=r[6],L=r[7],F=r[8],U=r[9],Z=r[10],K=r[11],Y=r[12],me=r[13],pe=r[14],Pe=r[15],Ne=n[0],Ee=n[1],Le=n[2],Je=n[3],Qe=n[4],Ct=n[5],Mt=n[6],wt=n[7],vt=n[8],mt=n[9],bt=n[10],_t=n[11],ut=n[12],Zt=n[13],Bt=n[14],wn=n[15];return Math.abs(o-Ne)<=$r*Math.max(1,Math.abs(o),Math.abs(Ne))&&Math.abs(c-Ee)<=$r*Math.max(1,Math.abs(c),Math.abs(Ee))&&Math.abs(m-Le)<=$r*Math.max(1,Math.abs(m),Math.abs(Le))&&Math.abs(_-Je)<=$r*Math.max(1,Math.abs(_),Math.abs(Je))&&Math.abs(w-Qe)<=$r*Math.max(1,Math.abs(w),Math.abs(Qe))&&Math.abs(A-Ct)<=$r*Math.max(1,Math.abs(A),Math.abs(Ct))&&Math.abs(C-Mt)<=$r*Math.max(1,Math.abs(C),Math.abs(Mt))&&Math.abs(L-wt)<=$r*Math.max(1,Math.abs(L),Math.abs(wt))&&Math.abs(F-vt)<=$r*Math.max(1,Math.abs(F),Math.abs(vt))&&Math.abs(U-mt)<=$r*Math.max(1,Math.abs(U),Math.abs(mt))&&Math.abs(Z-bt)<=$r*Math.max(1,Math.abs(Z),Math.abs(bt))&&Math.abs(K-_t)<=$r*Math.max(1,Math.abs(K),Math.abs(_t))&&Math.abs(Y-ut)<=$r*Math.max(1,Math.abs(Y),Math.abs(ut))&&Math.abs(me-Zt)<=$r*Math.max(1,Math.abs(me),Math.abs(Zt))&&Math.abs(pe-Bt)<=$r*Math.max(1,Math.abs(pe),Math.abs(Bt))&&Math.abs(Pe-wn)<=$r*Math.max(1,Math.abs(Pe),Math.abs(wn))},a.evaluateSizeForFeature=function(r,{uSize:n,uSizeT:o},{lowerSize:c,upperSize:m}){return r.kind==="source"?c/Ia:r.kind==="composite"?pi(c/Ia,m/Ia,o):n},a.evaluateSizeForZoom=function(r,n){let o=0,c=0;if(r.kind==="constant")c=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:m,minZoom:_,maxZoom:w}=r,A=m?z(Mr.interpolationFactor(m,n,_,w),0,1):0;r.kind==="camera"?c=pi(r.minSize,r.maxSize,A):o=A}return{uSizeT:o,uSize:c}},a.evaluateVariableOffset=xx,a.evented=Uc,a.exported=si,a.exported$1=gn,a.extend=ce,a.filterObject=ae,a.fromRotation=function(r,n){var o=Math.sin(n),c=Math.cos(n);return r[0]=c,r[1]=o,r[2]=0,r[3]=-o,r[4]=c,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},a.fromScaling=function(r,n){return r[0]=n[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.getAnchorAlignment=Em,a.getAnchorJustification=km,a.getArrayBuffer=mi,a.getImage=Yt,a.getJSON=function(r,n){return Dt(ce(r,{type:"json"}),n)},a.getOverlapMode=Dm,a.getRTLTextPluginStatus=Ql,a.getReferrer=Ni,a.getVideo=function(r,n){const o=window.document.createElement("video");o.muted=!0,o.onloadstart=function(){n(null,o)};for(let c=0;c<r.length;c++){const m=window.document.createElement("source");it(r[c])||(o.crossOrigin="Anonymous"),m.src=r[c],o.appendChild(m)}return{cancel:()=>{}}},a.identity=um,a.invert=function(r,n){var o=n[0],c=n[1],m=n[2],_=n[3],w=n[4],A=n[5],C=n[6],L=n[7],F=n[8],U=n[9],Z=n[10],K=n[11],Y=n[12],me=n[13],pe=n[14],Pe=n[15],Ne=o*A-c*w,Ee=o*C-m*w,Le=o*L-_*w,Je=c*C-m*A,Qe=c*L-_*A,Ct=m*L-_*C,Mt=F*me-U*Y,wt=F*pe-Z*Y,vt=F*Pe-K*Y,mt=U*pe-Z*me,bt=U*Pe-K*me,_t=Z*Pe-K*pe,ut=Ne*_t-Ee*bt+Le*mt+Je*vt-Qe*wt+Ct*Mt;return ut?(r[0]=(A*_t-C*bt+L*mt)*(ut=1/ut),r[1]=(m*bt-c*_t-_*mt)*ut,r[2]=(me*Ct-pe*Qe+Pe*Je)*ut,r[3]=(Z*Qe-U*Ct-K*Je)*ut,r[4]=(C*vt-w*_t-L*wt)*ut,r[5]=(o*_t-m*vt+_*wt)*ut,r[6]=(pe*Le-Y*Ct-Pe*Ee)*ut,r[7]=(F*Ct-Z*Le+K*Ee)*ut,r[8]=(w*bt-A*vt+L*Mt)*ut,r[9]=(c*vt-o*bt-_*Mt)*ut,r[10]=(Y*Qe-me*Le+Pe*Ne)*ut,r[11]=(U*Le-F*Qe-K*Ne)*ut,r[12]=(A*wt-w*mt-C*Mt)*ut,r[13]=(o*mt-c*wt+m*Mt)*ut,r[14]=(me*Ee-Y*Je-pe*Ne)*ut,r[15]=(F*Je-U*Ee+Z*Ne)*ut,r):null},a.isImageBitmap=Dn,a.isSafari=Ti,a.isWorker=ht,a.keysDifference=function(r,n){const o=[];for(const c in r)c in n||o.push(c);return o},a.lazyLoadRTLTextPlugin=function(){vs.isLoading()||vs.isLoaded()||Ql()!=="deferred"||Cd()},a.makeRequest=Dt,a.mapObject=oe,a.mercatorXfromLng=Cx,a.mercatorYfromLat=kx,a.mercatorZfromAltitude=Px,a.mul=UT,a.mul$1=function(r,n,o){return r[0]=n[0]*o[0],r[1]=n[1]*o[1],r[2]=n[2]*o[2],r[3]=n[3]*o[3],r},a.multiply=I_,a.nextPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))},a.normalize=function(r,n){var o=n[0],c=n[1],m=n[2],_=o*o+c*c+m*m;return _>0&&(_=1/Math.sqrt(_)),r[0]=n[0]*_,r[1]=n[1]*_,r[2]=n[2]*_,r},a.number=pi,a.ortho=function(r,n,o,c,m,_,w){var A=1/(n-o),C=1/(c-m),L=1/(_-w);return r[0]=-2*A,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*C,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*L,r[11]=0,r[12]=(n+o)*A,r[13]=(m+c)*C,r[14]=(w+_)*L,r[15]=1,r},a.parseCacheControl=qt,a.parseGlyphPbf=function(r){return new bm(r).readFields(UA,[])},a.pbf=bm,a.performSymbolLayout=function(r){r.bucket.createArrays(),r.bucket.tilePixelRatio=tr/(512*r.bucket.overscaling),r.bucket.compareText={},r.bucket.iconsNeedLinear=!1;const n=r.bucket.layers[0].layout,o=r.bucket.layers[0]._unevaluatedLayout._values,c={layoutIconSize:o["icon-size"].possiblyEvaluate(new wi(r.bucket.zoom+1),r.canonical),layoutTextSize:o["text-size"].possiblyEvaluate(new wi(r.bucket.zoom+1),r.canonical),textMaxSize:o["text-size"].possiblyEvaluate(new wi(18))};if(r.bucket.textSizeData.kind==="composite"){const{minZoom:C,maxZoom:L}=r.bucket.textSizeData;c.compositeTextSizes=[o["text-size"].possiblyEvaluate(new wi(C),r.canonical),o["text-size"].possiblyEvaluate(new wi(L),r.canonical)]}if(r.bucket.iconSizeData.kind==="composite"){const{minZoom:C,maxZoom:L}=r.bucket.iconSizeData;c.compositeIconSizes=[o["icon-size"].possiblyEvaluate(new wi(C),r.canonical),o["icon-size"].possiblyEvaluate(new wi(L),r.canonical)]}const m=n.get("text-line-height")*fr,_=n.get("text-rotation-alignment")!=="viewport"&&n.get("symbol-placement")!=="point",w=n.get("text-keep-upright"),A=n.get("text-size");for(const C of r.bucket.features){const L=n.get("text-font").evaluate(C,{},r.canonical).join(","),F=A.evaluate(C,{},r.canonical),U=c.layoutTextSize.evaluate(C,{},r.canonical),Z=c.layoutIconSize.evaluate(C,{},r.canonical),K={horizontal:{},vertical:void 0},Y=C.text;let me,pe=[0,0];if(Y){const Ee=Y.toString(),Le=n.get("text-letter-spacing").evaluate(C,{},r.canonical)*fr,Je=At(Ee)?Le:0,Qe=n.get("text-anchor").evaluate(C,{},r.canonical),Ct=n.get("text-variable-anchor");if(!Ct){const bt=n.get("text-radial-offset").evaluate(C,{},r.canonical);pe=bt?xx(Qe,[bt*fr,Cm]):n.get("text-offset").evaluate(C,{},r.canonical).map(_t=>_t*fr)}let Mt=_?"center":n.get("text-justify").evaluate(C,{},r.canonical);const wt=n.get("symbol-placement"),vt=wt==="point"?n.get("text-max-width").evaluate(C,{},r.canonical)*fr:0,mt=()=>{r.bucket.allowVerticalPlacement&&gt(Ee)&&(K.vertical=Gd(Y,r.glyphMap,r.glyphPositions,r.imagePositions,L,vt,m,Qe,"left",Je,pe,a.WritingMode.vertical,!0,wt,U,F))};if(!_&&Ct){const bt=Mt==="auto"?Ct.map(ut=>km(ut)):[Mt];let _t=!1;for(let ut=0;ut<bt.length;ut++){const Zt=bt[ut];if(!K.horizontal[Zt])if(_t)K.horizontal[Zt]=K.horizontal[0];else{const Bt=Gd(Y,r.glyphMap,r.glyphPositions,r.imagePositions,L,vt,m,"center",Zt,Je,pe,a.WritingMode.horizontal,!1,wt,U,F);Bt&&(K.horizontal[Zt]=Bt,_t=Bt.positionedLines.length===1)}}mt()}else{Mt==="auto"&&(Mt=km(Qe));const bt=Gd(Y,r.glyphMap,r.glyphPositions,r.imagePositions,L,vt,m,Qe,Mt,Je,pe,a.WritingMode.horizontal,!1,wt,U,F);bt&&(K.horizontal[Mt]=bt),mt(),gt(Ee)&&_&&w&&(K.vertical=Gd(Y,r.glyphMap,r.glyphPositions,r.imagePositions,L,vt,m,Qe,Mt,Je,pe,a.WritingMode.vertical,!1,wt,U,F))}}let Pe=!1;if(C.icon&&C.icon.name){const Ee=r.imageMap[C.icon.name];Ee&&(me=ZA(r.imagePositions[C.icon.name],n.get("icon-offset").evaluate(C,{},r.canonical),n.get("icon-anchor").evaluate(C,{},r.canonical)),Pe=!!Ee.sdf,r.bucket.sdfIcons===void 0?r.bucket.sdfIcons=Pe:r.bucket.sdfIcons!==Pe&&Ue("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ee.pixelRatio!==r.bucket.pixelRatio||n.get("icon-rotate").constantOr(1)!==0)&&(r.bucket.iconsNeedLinear=!0))}const Ne=bx(K.horizontal)||K.vertical;r.bucket.iconsInText=!!Ne&&Ne.iconsInText,(Ne||me)&&eE(r.bucket,C,K,me,r.imageMap,c,U,Z,pe,Pe,r.canonical)}r.showCollisionBoxes&&r.bucket.generateCollisionDebugBuffers()},a.perspective=function(r,n,o,c,m){var _,w=1/Math.tan(n/2);return r[0]=w/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=w,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,m!=null&&m!==1/0?(r[10]=(m+c)*(_=1/(c-m)),r[14]=2*m*c*_):(r[10]=-1,r[14]=-2*c),r},a.pick=function(r,n){const o={};for(let c=0;c<n.length;c++){const m=n[c];m in r&&(o[m]=r[m])}return o},a.plugin=vs,a.pointGeometry=St,a.polygonIntersectsPolygon=A_,a.potpack=rx,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=te,a.registerForPluginStateChange=function(r){return r({pluginStatus:$i,pluginURL:Hr}),Uc.on("pluginStateChange",r),r},a.renderColorRamp=N_,a.rotateX=function(r,n,o){var c=Math.sin(o),m=Math.cos(o),_=n[4],w=n[5],A=n[6],C=n[7],L=n[8],F=n[9],U=n[10],Z=n[11];return n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[4]=_*m+L*c,r[5]=w*m+F*c,r[6]=A*m+U*c,r[7]=C*m+Z*c,r[8]=L*m-_*c,r[9]=F*m-w*c,r[10]=U*m-A*c,r[11]=Z*m-C*c,r},a.rotateZ=function(r,n,o){var c=Math.sin(o),m=Math.cos(o),_=n[0],w=n[1],A=n[2],C=n[3],L=n[4],F=n[5],U=n[6],Z=n[7];return n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=_*m+L*c,r[1]=w*m+F*c,r[2]=A*m+U*c,r[3]=C*m+Z*c,r[4]=L*m-_*c,r[5]=F*m-w*c,r[6]=U*m-A*c,r[7]=Z*m-C*c,r},a.scale=function(r,n,o){var c=o[0],m=o[1],_=o[2];return r[0]=n[0]*c,r[1]=n[1]*c,r[2]=n[2]*c,r[3]=n[3]*c,r[4]=n[4]*m,r[5]=n[5]*m,r[6]=n[6]*m,r[7]=n[7]*m,r[8]=n[8]*_,r[9]=n[9]*_,r[10]=n[10]*_,r[11]=n[11]*_,r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r},a.scale$1=function(r,n,o){return r[0]=n[0]*o,r[1]=n[1]*o,r[2]=n[2]*o,r},a.setCacheLimits=function(r,n){sn=r,on=n},a.setRTLTextPlugin=function(r,n,o=!1){if($i===Pi||$i===Zi||$i===dr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Hr=si.resolveURL(r),$i=Pi,fi=n,ol(),o||Cd()},a.spec=ze,a.sphericalToCartesian=function([r,n,o]){return n+=90,n*=Math.PI/180,o*=Math.PI/180,{x:r*Math.cos(n)*Math.sin(o),y:r*Math.sin(n)*Math.sin(o),z:r*Math.cos(o)}},a.sqrLen=function(r){var n=r[0],o=r[1];return n*n+o*o},a.sub=function(r,n,o){return r[0]=n[0]-o[0],r[1]=n[1]-o[1],r[2]=n[2]-o[2],r},a.toEvaluationFeature=iu,a.transformMat3=function(r,n,o){var c=n[0],m=n[1],_=n[2];return r[0]=c*o[0]+m*o[3]+_*o[6],r[1]=c*o[1]+m*o[4]+_*o[7],r[2]=c*o[2]+m*o[5]+_*o[8],r},a.transformMat4=Bd,a.transformMat4$1=function(r,n,o){var c=n[0],m=n[1];return r[0]=o[0]*c+o[4]*m+o[12],r[1]=o[1]*c+o[5]*m+o[13],r},a.translate=function(r,n,o){var c,m,_,w,A,C,L,F,U,Z,K,Y,me=o[0],pe=o[1],Pe=o[2];return n===r?(r[12]=n[0]*me+n[4]*pe+n[8]*Pe+n[12],r[13]=n[1]*me+n[5]*pe+n[9]*Pe+n[13],r[14]=n[2]*me+n[6]*pe+n[10]*Pe+n[14],r[15]=n[3]*me+n[7]*pe+n[11]*Pe+n[15]):(m=n[1],_=n[2],w=n[3],A=n[4],C=n[5],L=n[6],F=n[7],U=n[8],Z=n[9],K=n[10],Y=n[11],r[0]=c=n[0],r[1]=m,r[2]=_,r[3]=w,r[4]=A,r[5]=C,r[6]=L,r[7]=F,r[8]=U,r[9]=Z,r[10]=K,r[11]=Y,r[12]=c*me+A*pe+U*Pe+n[12],r[13]=m*me+C*pe+Z*Pe+n[13],r[14]=_*me+L*pe+K*Pe+n[14],r[15]=w*me+F*pe+Y*Pe+n[15]),r},a.triggerPluginCompletionEvent=wr,a.unicodeBlockLookup=Ce,a.uniqueId=function(){return he++},a.validateCustomStyleLayer=function(r){const n=[],o=r.id;return o===void 0&&n.push({message:`layers.${o}: missing required property "id"`}),r.render===void 0&&n.push({message:`layers.${o}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&n.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),n},a.validateLight=Kl,a.validateStyle=mo,a.vectorTile=cl,a.warnOnce=Ue,a.wrap=ie}),p(["./shared"],function(a){function S(ne){const N=typeof ne;if(N==="number"||N==="boolean"||N==="string"||ne==null)return JSON.stringify(ne);if(Array.isArray(ne)){let ee="[";for(const fe of ne)ee+=`${S(fe)},`;return`${ee}]`}const q=Object.keys(ne).sort();let J="{";for(let ee=0;ee<q.length;ee++)J+=`${JSON.stringify(q[ee])}:${S(ne[q[ee]])},`;return`${J}}`}function I(ne){let N="";for(const q of a.refProperties)N+=`/${S(ne[q])}`;return N}class B{constructor(N){this.keyCache={},N&&this.replace(N)}replace(N){this._layerConfigs={},this._layers={},this.update(N,[])}update(N,q){for(const ee of N){this._layerConfigs[ee.id]=ee;const fe=this._layers[ee.id]=a.createStyleLayer(ee);fe._featureFilter=a.createFilter(fe.filter),this.keyCache[ee.id]&&delete this.keyCache[ee.id]}for(const ee of q)delete this.keyCache[ee],delete this._layerConfigs[ee],delete this._layers[ee];this.familiesBySource={};const J=function(ee,fe){const be={};for(let ge=0;ge<ee.length;ge++){const Se=fe&&fe[ee[ge].id]||I(ee[ge]);fe&&(fe[ee[ge].id]=Se);let Fe=be[Se];Fe||(Fe=be[Se]=[]),Fe.push(ee[ge])}const ve=[];for(const ge in be)ve.push(be[ge]);return ve}(Object.values(this._layerConfigs),this.keyCache);for(const ee of J){const fe=ee.map(rt=>this._layers[rt.id]),be=fe[0];if(be.visibility==="none")continue;const ve=be.source||"";let ge=this.familiesBySource[ve];ge||(ge=this.familiesBySource[ve]={});const Se=be.sourceLayer||"_geojsonTileLayer";let Fe=ge[Se];Fe||(Fe=ge[Se]=[]),Fe.push(fe)}}}class V{constructor(N){const q={},J=[];for(const ve in N){const ge=N[ve],Se=q[ve]={};for(const Fe in ge){const rt=ge[+Fe];if(!rt||rt.bitmap.width===0||rt.bitmap.height===0)continue;const Oe={x:0,y:0,w:rt.bitmap.width+2,h:rt.bitmap.height+2};J.push(Oe),Se[Fe]={rect:Oe,metrics:rt.metrics}}}const{w:ee,h:fe}=a.potpack(J),be=new a.AlphaImage({width:ee||1,height:fe||1});for(const ve in N){const ge=N[ve];for(const Se in ge){const Fe=ge[+Se];if(!Fe||Fe.bitmap.width===0||Fe.bitmap.height===0)continue;const rt=q[ve][Se].rect;a.AlphaImage.copy(Fe.bitmap,be,{x:0,y:0},{x:rt.x+1,y:rt.y+1},Fe.bitmap)}}this.image=be,this.positions=q}}a.register("GlyphAtlas",V);class z{constructor(N){this.tileID=new a.OverscaledTileID(N.tileID.overscaledZ,N.tileID.wrap,N.tileID.canonical.z,N.tileID.canonical.x,N.tileID.canonical.y),this.uid=N.uid,this.zoom=N.zoom,this.pixelRatio=N.pixelRatio,this.tileSize=N.tileSize,this.source=N.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=N.showCollisionBoxes,this.collectResourceTiming=!!N.collectResourceTiming,this.returnDependencies=!!N.returnDependencies,this.promoteId=N.promoteId}parse(N,q,J,ee,fe){this.status="parsing",this.data=N,this.collisionBoxArray=new a.CollisionBoxArray;const be=new a.DictionaryCoder(Object.keys(N.layers).sort()),ve=new a.FeatureIndex(this.tileID,this.promoteId);ve.bucketLayerIDs=[];const ge={},Se={featureIndex:ve,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:J},Fe=q.familiesBySource[this.source];for(const nn in Fe){const mn=N.layers[nn];if(!mn)continue;mn.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${nn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Pn=be.encode(nn),Xn=[];for(let Wn=0;Wn<mn.length;Wn++){const Kn=mn.feature(Wn),Fi=ve.getId(Kn,nn);Xn.push({feature:Kn,id:Fi,index:Wn,sourceLayerIndex:Pn})}for(const Wn of Fe[nn]){const Kn=Wn[0];Kn.source!==this.source&&a.warnOnce(`layer.source = ${Kn.source} does not equal this.source = ${this.source}`),Kn.minzoom&&this.zoom<Math.floor(Kn.minzoom)||Kn.maxzoom&&this.zoom>=Kn.maxzoom||Kn.visibility!=="none"&&(ie(Wn,this.zoom,J),(ge[Kn.id]=Kn.createBucket({index:ve.bucketLayerIDs.length,layers:Wn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pn,sourceID:this.source})).populate(Xn,Se,this.tileID.canonical),ve.bucketLayerIDs.push(Wn.map(Fi=>Fi.id)))}}let rt,Oe,kt,It;const xt=a.mapObject(Se.glyphDependencies,nn=>Object.keys(nn).map(Number));Object.keys(xt).length?ee.send("getGlyphs",{uid:this.uid,stacks:xt},(nn,mn)=>{rt||(rt=nn,Oe=mn,Ln.call(this))}):Oe={};const Gt=Object.keys(Se.iconDependencies);Gt.length?ee.send("getImages",{icons:Gt,source:this.source,tileID:this.tileID,type:"icons"},(nn,mn)=>{rt||(rt=nn,kt=mn,Ln.call(this))}):kt={};const Jt=Object.keys(Se.patternDependencies);function Ln(){if(rt)return fe(rt);if(Oe&&kt&&It){const nn=new V(Oe),mn=new a.ImageAtlas(kt,It);for(const Pn in ge){const Xn=ge[Pn];Xn instanceof a.SymbolBucket?(ie(Xn.layers,this.zoom,J),a.performSymbolLayout({bucket:Xn,glyphMap:Oe,glyphPositions:nn.positions,imageMap:kt,imagePositions:mn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Xn.hasPattern&&(Xn instanceof a.LineBucket||Xn instanceof a.FillBucket||Xn instanceof a.FillExtrusionBucket)&&(ie(Xn.layers,this.zoom,J),Xn.addFeatures(Se,this.tileID.canonical,mn.patternPositions))}this.status="done",fe(null,{buckets:Object.values(ge).filter(Pn=>!Pn.isEmpty()),featureIndex:ve,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:nn.image,imageAtlas:mn,glyphMap:this.returnDependencies?Oe:null,iconMap:this.returnDependencies?kt:null,glyphPositions:this.returnDependencies?nn.positions:null})}}Jt.length?ee.send("getImages",{icons:Jt,source:this.source,tileID:this.tileID,type:"patterns"},(nn,mn)=>{rt||(rt=nn,It=mn,Ln.call(this))}):It={},Ln.call(this)}}function ie(ne,N,q){const J=new a.EvaluationParameters(N);for(const ee of ne)ee.recalculate(J,q)}function ce(ne,N){const q=a.getArrayBuffer(ne.request,(J,ee,fe,be)=>{J?N(J):ee&&N(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(ee)),rawData:ee,cacheControl:fe,expires:be})});return()=>{q.cancel(),N()}}class he{constructor(N,q,J,ee){this.actor=N,this.layerIndex=q,this.availableImages=J,this.loadVectorData=ee||ce,this.loading={},this.loaded={}}loadTile(N,q){const J=N.uid;this.loading||(this.loading={});const ee=!!(N&&N.request&&N.request.collectResourceTiming)&&new a.RequestPerformance(N.request),fe=this.loading[J]=new z(N);fe.abort=this.loadVectorData(N,(be,ve)=>{if(delete this.loading[J],be||!ve)return fe.status="done",this.loaded[J]=fe,q(be);const ge=ve.rawData,Se={};ve.expires&&(Se.expires=ve.expires),ve.cacheControl&&(Se.cacheControl=ve.cacheControl);const Fe={};if(ee){const rt=ee.finish();rt&&(Fe.resourceTiming=JSON.parse(JSON.stringify(rt)))}fe.vectorTile=ve.vectorTile,fe.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,(rt,Oe)=>{if(rt||!Oe)return q(rt);q(null,a.extend({rawTileData:ge.slice(0)},Oe,Se,Fe))}),this.loaded=this.loaded||{},this.loaded[J]=fe})}reloadTile(N,q){const J=this.loaded,ee=N.uid,fe=this;if(J&&J[ee]){const be=J[ee];be.showCollisionBoxes=N.showCollisionBoxes;const ve=(ge,Se)=>{const Fe=be.reloadCallback;Fe&&(delete be.reloadCallback,be.parse(be.vectorTile,fe.layerIndex,this.availableImages,fe.actor,Fe)),q(ge,Se)};be.status==="parsing"?be.reloadCallback=ve:be.status==="done"&&(be.vectorTile?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,ve):ve())}}abortTile(N,q){const J=this.loading,ee=N.uid;J&&J[ee]&&J[ee].abort&&(J[ee].abort(),delete J[ee]),q()}removeTile(N,q){const J=this.loaded,ee=N.uid;J&&J[ee]&&delete J[ee],q()}}class He{constructor(){this.loaded={}}loadTile(N,q){const{uid:J,encoding:ee,rawImageData:fe}=N,be=a.isImageBitmap(fe)?this.getImageData(fe):fe,ve=new a.DEMData(J,be,ee);this.loaded=this.loaded||{},this.loaded[J]=ve,q(null,ve)}getImageData(N){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(N.width,N.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=N.width,this.offscreenCanvas.height=N.height,this.offscreenCanvasContext.drawImage(N,0,0,N.width,N.height);const q=this.offscreenCanvasContext.getImageData(-1,-1,N.width+2,N.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:q.width,height:q.height},q.data)}removeTile(N){const q=this.loaded,J=N.uid;q&&q[J]&&delete q[J]}}var oe=function ne(N,q){var J,ee=N&&N.type;if(ee==="FeatureCollection")for(J=0;J<N.features.length;J++)ne(N.features[J],q);else if(ee==="GeometryCollection")for(J=0;J<N.geometries.length;J++)ne(N.geometries[J],q);else if(ee==="Feature")ne(N.geometry,q);else if(ee==="Polygon")ae(N.coordinates,q);else if(ee==="MultiPolygon")for(J=0;J<N.coordinates.length;J++)ae(N.coordinates[J],q);return N};function ae(ne,N){if(ne.length!==0){re(ne[0],N);for(var q=1;q<ne.length;q++)re(ne[q],!N)}}function re(ne,N){for(var q=0,J=0,ee=0,fe=ne.length,be=fe-1;ee<fe;be=ee++){var ve=(ne[ee][0]-ne[be][0])*(ne[be][1]+ne[ee][1]),ge=q+ve;J+=Math.abs(q)>=Math.abs(ve)?q-ge+ve:ve-ge+q,q=ge}q+J>=0!=!!N&&ne.reverse()}const we=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;class Ue{constructor(N){this._feature=N,this.extent=a.EXTENT,this.type=N.type,this.properties=N.tags,"id"in N&&!isNaN(N.id)&&(this.id=parseInt(N.id,10))}loadGeometry(){if(this._feature.type===1){const N=[];for(const q of this._feature.geometry)N.push([new a.pointGeometry(q[0],q[1])]);return N}{const N=[];for(const q of this._feature.geometry){const J=[];for(const ee of q)J.push(new a.pointGeometry(ee[0],ee[1]));N.push(J)}return N}}toGeoJSON(N,q,J){return we.call(this,N,q,J)}}class P{constructor(N){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=N.length,this._features=N}feature(N){return new Ue(this._features[N])}}var ct={exports:{}},ht=a.pointGeometry,qt=a.vectorTile.VectorTileFeature,zt=Un;function Un(ne,N){this.options=N||{},this.features=ne,this.length=ne.length}function _n(ne,N){this.id=typeof ne.id=="number"?ne.id:void 0,this.type=ne.type,this.rawGeometry=ne.type===1?[ne.geometry]:ne.geometry,this.properties=ne.tags,this.extent=N||4096}Un.prototype.feature=function(ne){return new _n(this.features[ne],this.options.extent)},_n.prototype.loadGeometry=function(){var ne=this.rawGeometry;this.geometry=[];for(var N=0;N<ne.length;N++){for(var q=ne[N],J=[],ee=0;ee<q.length;ee++)J.push(new ht(q[ee][0],q[ee][1]));this.geometry.push(J)}return this.geometry},_n.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ne=this.geometry,N=1/0,q=-1/0,J=1/0,ee=-1/0,fe=0;fe<ne.length;fe++)for(var be=ne[fe],ve=0;ve<be.length;ve++){var ge=be[ve];N=Math.min(N,ge.x),q=Math.max(q,ge.x),J=Math.min(J,ge.y),ee=Math.max(ee,ge.y)}return[N,J,q,ee]},_n.prototype.toGeoJSON=qt.prototype.toGeoJSON;var Ti=a.pbf,Dn=zt;function si(ne){var N=new Ti;return function(q,J){for(var ee in q.layers)J.writeMessage(3,St,q.layers[ee])}(ne,N),N.finish()}function St(ne,N){var q;N.writeVarintField(15,ne.version||1),N.writeStringField(1,ne.name||""),N.writeVarintField(5,ne.extent||4096);var J={keys:[],values:[],keycache:{},valuecache:{}};for(q=0;q<ne.length;q++)J.feature=ne.feature(q),N.writeMessage(2,ui,J);var ee=J.keys;for(q=0;q<ee.length;q++)N.writeStringField(3,ee[q]);var fe=J.values;for(q=0;q<fe.length;q++)N.writeMessage(4,sn,fe[q])}function ui(ne,N){var q=ne.feature;q.id!==void 0&&N.writeVarintField(1,q.id),N.writeMessage(2,qe,ne),N.writeVarintField(3,q.type),N.writeMessage(4,Nt,q)}function qe(ne,N){var q=ne.feature,J=ne.keys,ee=ne.values,fe=ne.keycache,be=ne.valuecache;for(var ve in q.properties){var ge=q.properties[ve],Se=fe[ve];if(ge!==null){Se===void 0&&(J.push(ve),fe[ve]=Se=J.length-1),N.writeVarint(Se);var Fe=typeof ge;Fe!=="string"&&Fe!=="boolean"&&Fe!=="number"&&(ge=JSON.stringify(ge));var rt=Fe+":"+ge,Oe=be[rt];Oe===void 0&&(ee.push(ge),be[rt]=Oe=ee.length-1),N.writeVarint(Oe)}}}function st(ne,N){return(N<<3)+(7&ne)}function dt(ne){return ne<<1^ne>>31}function Nt(ne,N){for(var q=ne.loadGeometry(),J=ne.type,ee=0,fe=0,be=q.length,ve=0;ve<be;ve++){var ge=q[ve],Se=1;J===1&&(Se=ge.length),N.writeVarint(st(1,Se));for(var Fe=J===3?ge.length-1:ge.length,rt=0;rt<Fe;rt++){rt===1&&J!==1&&N.writeVarint(st(2,Fe-1));var Oe=ge[rt].x-ee,kt=ge[rt].y-fe;N.writeVarint(dt(Oe)),N.writeVarint(dt(kt)),ee+=Oe,fe+=kt}J===3&&N.writeVarint(st(7,1))}}function sn(ne,N){var q=typeof ne;q==="string"?N.writeStringField(1,ne):q==="boolean"?N.writeBooleanField(7,ne):q==="number"&&(ne%1!=0?N.writeDoubleField(3,ne):ne<0?N.writeSVarintField(6,ne):N.writeVarintField(5,ne))}function on(ne,N,q,J,ee,fe){if(ee-J<=q)return;const be=J+ee>>1;Tn(ne,N,be,J,ee,fe%2),on(ne,N,q,J,be-1,fe+1),on(ne,N,q,be+1,ee,fe+1)}function Tn(ne,N,q,J,ee,fe){for(;ee>J;){if(ee-J>600){const Se=ee-J+1,Fe=q-J+1,rt=Math.log(Se),Oe=.5*Math.exp(2*rt/3),kt=.5*Math.sqrt(rt*Oe*(Se-Oe)/Se)*(Fe-Se/2<0?-1:1);Tn(ne,N,q,Math.max(J,Math.floor(q-Fe*Oe/Se+kt)),Math.min(ee,Math.floor(q+(Se-Fe)*Oe/Se+kt)),fe)}const be=N[2*q+fe];let ve=J,ge=ee;for(cn(ne,N,J,q),N[2*ee+fe]>be&&cn(ne,N,J,ee);ve<ge;){for(cn(ne,N,ve,ge),ve++,ge--;N[2*ve+fe]<be;)ve++;for(;N[2*ge+fe]>be;)ge--}N[2*J+fe]===be?cn(ne,N,J,ge):(ge++,cn(ne,N,ge,ee)),ge<=q&&(J=ge+1),q<=ge&&(ee=ge-1)}}function cn(ne,N,q,J){gn(ne,q,J),gn(N,2*q,2*J),gn(N,2*q+1,2*J+1)}function gn(ne,N,q){const J=ne[N];ne[N]=ne[q],ne[q]=J}function jn(ne,N,q,J){const ee=ne-q,fe=N-J;return ee*ee+fe*fe}ct.exports=si,ct.exports.fromVectorTileJs=si,ct.exports.fromGeojsonVt=function(ne,N){N=N||{};var q={};for(var J in ne)q[J]=new Dn(ne[J].features,N),q[J].name=J,q[J].version=N.version,q[J].extent=N.extent;return si({layers:q})},ct.exports.GeoJSONWrapper=Dn;const ci=ne=>ne[0],Bn=ne=>ne[1];class kr{constructor(N,q=ci,J=Bn,ee=64,fe=Float64Array){this.nodeSize=ee,this.points=N;const be=N.length<65536?Uint16Array:Uint32Array,ve=this.ids=new be(N.length),ge=this.coords=new fe(2*N.length);for(let Se=0;Se<N.length;Se++)ve[Se]=Se,ge[2*Se]=q(N[Se]),ge[2*Se+1]=J(N[Se]);on(ve,ge,ee,0,ve.length-1,0)}range(N,q,J,ee){return function(fe,be,ve,ge,Se,Fe,rt){const Oe=[0,fe.length-1,0],kt=[];let It,xt;for(;Oe.length;){const Gt=Oe.pop(),Jt=Oe.pop(),Ln=Oe.pop();if(Jt-Ln<=rt){for(let Pn=Ln;Pn<=Jt;Pn++)It=be[2*Pn],xt=be[2*Pn+1],It>=ve&&It<=Se&&xt>=ge&&xt<=Fe&&kt.push(fe[Pn]);continue}const nn=Math.floor((Ln+Jt)/2);It=be[2*nn],xt=be[2*nn+1],It>=ve&&It<=Se&&xt>=ge&&xt<=Fe&&kt.push(fe[nn]);const mn=(Gt+1)%2;(Gt===0?ve<=It:ge<=xt)&&(Oe.push(Ln),Oe.push(nn-1),Oe.push(mn)),(Gt===0?Se>=It:Fe>=xt)&&(Oe.push(nn+1),Oe.push(Jt),Oe.push(mn))}return kt}(this.ids,this.coords,N,q,J,ee,this.nodeSize)}within(N,q,J){return function(ee,fe,be,ve,ge,Se){const Fe=[0,ee.length-1,0],rt=[],Oe=ge*ge;for(;Fe.length;){const kt=Fe.pop(),It=Fe.pop(),xt=Fe.pop();if(It-xt<=Se){for(let mn=xt;mn<=It;mn++)jn(fe[2*mn],fe[2*mn+1],be,ve)<=Oe&&rt.push(ee[mn]);continue}const Gt=Math.floor((xt+It)/2),Jt=fe[2*Gt],Ln=fe[2*Gt+1];jn(Jt,Ln,be,ve)<=Oe&&rt.push(ee[Gt]);const nn=(kt+1)%2;(kt===0?be-ge<=Jt:ve-ge<=Ln)&&(Fe.push(xt),Fe.push(Gt-1),Fe.push(nn)),(kt===0?be+ge>=Jt:ve+ge>=Ln)&&(Fe.push(Gt+1),Fe.push(It),Fe.push(nn))}return rt}(this.ids,this.coords,N,q,J,this.nodeSize)}}const ms={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ne=>ne},Pr=Math.fround||(oi=new Float32Array(1),ne=>(oi[0]=+ne,oi[0]));var oi;class Ni{constructor(N){this.options=Yt(Object.create(ms),N),this.trees=new Array(this.options.maxZoom+1)}load(N){const{log:q,minZoom:J,maxZoom:ee,nodeSize:fe}=this.options;q&&console.time("total time");const be=`prepare ${N.length} points`;q&&console.time(be),this.points=N;let ve=[];for(let ge=0;ge<N.length;ge++)N[ge].geometry&&ve.push(Dt(N[ge],ge));this.trees[ee+1]=new kr(ve,yn,an,fe,Float32Array),q&&console.timeEnd(be);for(let ge=ee;ge>=J;ge--){const Se=+Date.now();ve=this._cluster(ve,ge),this.trees[ge]=new kr(ve,yn,an,fe,Float32Array),q&&console.log("z%d: %d clusters in %dms",ge,ve.length,+Date.now()-Se)}return q&&console.timeEnd("total time"),this}getClusters(N,q){let J=((N[0]+180)%360+360)%360-180;const ee=Math.max(-90,Math.min(90,N[1]));let fe=N[2]===180?180:((N[2]+180)%360+360)%360-180;const be=Math.max(-90,Math.min(90,N[3]));if(N[2]-N[0]>=360)J=-180,fe=180;else if(J>fe){const Fe=this.getClusters([J,ee,180,be],q),rt=this.getClusters([-180,ee,fe,be],q);return Fe.concat(rt)}const ve=this.trees[this._limitZoom(q)],ge=ve.range(Ye(J),pt(be),Ye(fe),pt(ee)),Se=[];for(const Fe of ge){const rt=ve.points[Fe];Se.push(rt.numPoints?mi(rt):this.points[rt.index])}return Se}getChildren(N){const q=this._getOriginId(N),J=this._getOriginZoom(N),ee="No cluster with the specified id.",fe=this.trees[J];if(!fe)throw new Error(ee);const be=fe.points[q];if(!be)throw new Error(ee);const ve=this.options.radius/(this.options.extent*Math.pow(2,J-1)),ge=fe.within(be.x,be.y,ve),Se=[];for(const Fe of ge){const rt=fe.points[Fe];rt.parentId===N&&Se.push(rt.numPoints?mi(rt):this.points[rt.index])}if(Se.length===0)throw new Error(ee);return Se}getLeaves(N,q,J){const ee=[];return this._appendLeaves(ee,N,q=q||10,J=J||0,0),ee}getTile(N,q,J){const ee=this.trees[this._limitZoom(N)],fe=Math.pow(2,N),{extent:be,radius:ve}=this.options,ge=ve/be,Se=(J-ge)/fe,Fe=(J+1+ge)/fe,rt={features:[]};return this._addTileFeatures(ee.range((q-ge)/fe,Se,(q+1+ge)/fe,Fe),ee.points,q,J,fe,rt),q===0&&this._addTileFeatures(ee.range(1-ge/fe,Se,1,Fe),ee.points,fe,J,fe,rt),q===fe-1&&this._addTileFeatures(ee.range(0,Se,ge/fe,Fe),ee.points,-1,J,fe,rt),rt.features.length?rt:null}getClusterExpansionZoom(N){let q=this._getOriginZoom(N)-1;for(;q<=this.options.maxZoom;){const J=this.getChildren(N);if(q++,J.length!==1)break;N=J[0].properties.cluster_id}return q}_appendLeaves(N,q,J,ee,fe){const be=this.getChildren(q);for(const ve of be){const ge=ve.properties;if(ge&&ge.cluster?fe+ge.point_count<=ee?fe+=ge.point_count:fe=this._appendLeaves(N,ge.cluster_id,J,ee,fe):fe<ee?fe++:N.push(ve),N.length===J)break}return fe}_addTileFeatures(N,q,J,ee,fe,be){for(const ve of N){const ge=q[ve],Se=ge.numPoints;let Fe,rt,Oe;if(Se)Fe=it(ge),rt=ge.x,Oe=ge.y;else{const xt=this.points[ge.index];Fe=xt.properties,rt=Ye(xt.geometry.coordinates[0]),Oe=pt(xt.geometry.coordinates[1])}const kt={type:1,geometry:[[Math.round(this.options.extent*(rt*fe-J)),Math.round(this.options.extent*(Oe*fe-ee))]],tags:Fe};let It;Se?It=ge.id:this.options.generateId?It=ge.index:this.points[ge.index].id&&(It=this.points[ge.index].id),It!==void 0&&(kt.id=It),be.features.push(kt)}}_limitZoom(N){return Math.max(this.options.minZoom,Math.min(Math.floor(+N),this.options.maxZoom+1))}_cluster(N,q){const J=[],{radius:ee,extent:fe,reduce:be,minPoints:ve}=this.options,ge=ee/(fe*Math.pow(2,q));for(let Se=0;Se<N.length;Se++){const Fe=N[Se];if(Fe.zoom<=q)continue;Fe.zoom=q;const rt=this.trees[q+1],Oe=rt.within(Fe.x,Fe.y,ge),kt=Fe.numPoints||1;let It=kt;for(const xt of Oe){const Gt=rt.points[xt];Gt.zoom>q&&(It+=Gt.numPoints||1)}if(It>kt&&It>=ve){let xt=Fe.x*kt,Gt=Fe.y*kt,Jt=be&&kt>1?this._map(Fe,!0):null;const Ln=(Se<<5)+(q+1)+this.points.length;for(const nn of Oe){const mn=rt.points[nn];if(mn.zoom<=q)continue;mn.zoom=q;const Pn=mn.numPoints||1;xt+=mn.x*Pn,Gt+=mn.y*Pn,mn.parentId=Ln,be&&(Jt||(Jt=this._map(Fe,!0)),be(Jt,this._map(mn)))}Fe.parentId=Ln,J.push(hi(xt/It,Gt/It,Ln,It,Jt))}else if(J.push(Fe),It>1)for(const xt of Oe){const Gt=rt.points[xt];Gt.zoom<=q||(Gt.zoom=q,J.push(Gt))}}return J}_getOriginId(N){return N-this.points.length>>5}_getOriginZoom(N){return(N-this.points.length)%32}_map(N,q){if(N.numPoints)return q?Yt({},N.properties):N.properties;const J=this.points[N.index].properties,ee=this.options.map(J);return q&&ee===J?Yt({},ee):ee}}function hi(ne,N,q,J,ee){return{x:Pr(ne),y:Pr(N),zoom:1/0,id:q,parentId:-1,numPoints:J,properties:ee}}function Dt(ne,N){const[q,J]=ne.geometry.coordinates;return{x:Pr(Ye(q)),y:Pr(pt(J)),zoom:1/0,index:N,parentId:-1}}function mi(ne){return{type:"Feature",id:ne.id,properties:it(ne),geometry:{type:"Point",coordinates:[(N=ne.x,360*(N-.5)),Pt(ne.y)]}};var N}function it(ne){const N=ne.numPoints,q=N>=1e4?`${Math.round(N/1e3)}k`:N>=1e3?Math.round(N/100)/10+"k":N;return Yt(Yt({},ne.properties),{cluster:!0,cluster_id:ne.id,point_count:N,point_count_abbreviated:q})}function Ye(ne){return ne/360+.5}function pt(ne){const N=Math.sin(ne*Math.PI/180),q=.5-.25*Math.log((1+N)/(1-N))/Math.PI;return q<0?0:q>1?1:q}function Pt(ne){const N=(180-360*ne)*Math.PI/180;return 360*Math.atan(Math.exp(N))/Math.PI-90}function Yt(ne,N){for(const q in N)ne[q]=N[q];return ne}function yn(ne){return ne.x}function an(ne){return ne.y}function dn(ne,N,q,J){for(var ee,fe=J,be=q-N>>1,ve=q-N,ge=ne[N],Se=ne[N+1],Fe=ne[q],rt=ne[q+1],Oe=N+3;Oe<q;Oe+=3){var kt=bn(ne[Oe],ne[Oe+1],ge,Se,Fe,rt);if(kt>fe)ee=Oe,fe=kt;else if(kt===fe){var It=Math.abs(Oe-be);It<ve&&(ee=Oe,ve=It)}}fe>J&&(ee-N>3&&dn(ne,N,ee,J),ne[ee+2]=fe,q-ee>3&&dn(ne,ee,q,J))}function bn(ne,N,q,J,ee,fe){var be=ee-q,ve=fe-J;if(be!==0||ve!==0){var ge=((ne-q)*be+(N-J)*ve)/(be*be+ve*ve);ge>1?(q=ee,J=fe):ge>0&&(q+=be*ge,J+=ve*ge)}return(be=ne-q)*be+(ve=N-J)*ve}function kn(ne,N,q,J){var ee={id:ne===void 0?null:ne,type:N,geometry:q,tags:J,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(fe){var be=fe.geometry,ve=fe.type;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")ze(fe,be);else if(ve==="Polygon"||ve==="MultiLineString")for(var ge=0;ge<be.length;ge++)ze(fe,be[ge]);else if(ve==="MultiPolygon")for(ge=0;ge<be.length;ge++)for(var Se=0;Se<be[ge].length;Se++)ze(fe,be[ge][Se])}(ee),ee}function ze(ne,N){for(var q=0;q<N.length;q+=3)ne.minX=Math.min(ne.minX,N[q]),ne.minY=Math.min(ne.minY,N[q+1]),ne.maxX=Math.max(ne.maxX,N[q]),ne.maxY=Math.max(ne.maxY,N[q+1])}function lt(ne,N,q,J){if(N.geometry){var ee=N.geometry.coordinates,fe=N.geometry.type,be=Math.pow(q.tolerance/((1<<q.maxZoom)*q.extent),2),ve=[],ge=N.id;if(q.promoteId?ge=N.properties[q.promoteId]:q.generateId&&(ge=J||0),fe==="Point")Hi(ee,ve);else if(fe==="MultiPoint")for(var Se=0;Se<ee.length;Se++)Hi(ee[Se],ve);else if(fe==="LineString")di(ee,ve,be,!1);else if(fe==="MultiLineString"){if(q.lineMetrics){for(Se=0;Se<ee.length;Se++)di(ee[Se],ve=[],be,!1),ne.push(kn(ge,"LineString",ve,N.properties));return}et(ee,ve,be,!1)}else if(fe==="Polygon")et(ee,ve,be,!0);else{if(fe!=="MultiPolygon"){if(fe==="GeometryCollection"){for(Se=0;Se<N.geometry.geometries.length;Se++)lt(ne,{id:ge,geometry:N.geometry.geometries[Se],properties:N.properties},q,J);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Se=0;Se<ee.length;Se++){var Fe=[];et(ee[Se],Fe,be,!0),ve.push(Fe)}}ne.push(kn(ge,fe,ve,N.properties))}}function Hi(ne,N){N.push(Ft(ne[0])),N.push(hn(ne[1])),N.push(0)}function di(ne,N,q,J){for(var ee,fe,be=0,ve=0;ve<ne.length;ve++){var ge=Ft(ne[ve][0]),Se=hn(ne[ve][1]);N.push(ge),N.push(Se),N.push(0),ve>0&&(be+=J?(ee*Se-ge*fe)/2:Math.sqrt(Math.pow(ge-ee,2)+Math.pow(Se-fe,2))),ee=ge,fe=Se}var Fe=N.length-3;N[2]=1,dn(N,0,Fe,q),N[Fe+2]=1,N.size=Math.abs(be),N.start=0,N.end=N.size}function et(ne,N,q,J){for(var ee=0;ee<ne.length;ee++){var fe=[];di(ne[ee],fe,q,J),N.push(fe)}}function Ft(ne){return ne/360+.5}function hn(ne){var N=Math.sin(ne*Math.PI/180),q=.5-.25*Math.log((1+N)/(1-N))/Math.PI;return q<0?0:q>1?1:q}function Sn(ne,N,q,J,ee,fe,be,ve){if(J/=N,fe>=(q/=N)&&be<J)return ne;if(be<q||fe>=J)return null;for(var ge=[],Se=0;Se<ne.length;Se++){var Fe=ne[Se],rt=Fe.geometry,Oe=Fe.type,kt=ee===0?Fe.minX:Fe.minY,It=ee===0?Fe.maxX:Fe.maxY;if(kt>=q&&It<J)ge.push(Fe);else if(!(It<q||kt>=J)){var xt=[];if(Oe==="Point"||Oe==="MultiPoint")Qt(rt,xt,q,J,ee);else if(Oe==="LineString")Ze(rt,xt,q,J,ee,!1,ve.lineMetrics);else if(Oe==="MultiLineString")Ot(rt,xt,q,J,ee,!1);else if(Oe==="Polygon")Ot(rt,xt,q,J,ee,!0);else if(Oe==="MultiPolygon")for(var Gt=0;Gt<rt.length;Gt++){var Jt=[];Ot(rt[Gt],Jt,q,J,ee,!0),Jt.length&&xt.push(Jt)}if(xt.length){if(ve.lineMetrics&&Oe==="LineString"){for(Gt=0;Gt<xt.length;Gt++)ge.push(kn(Fe.id,Oe,xt[Gt],Fe.tags));continue}Oe!=="LineString"&&Oe!=="MultiLineString"||(xt.length===1?(Oe="LineString",xt=xt[0]):Oe="MultiLineString"),Oe!=="Point"&&Oe!=="MultiPoint"||(Oe=xt.length===3?"Point":"MultiPoint"),ge.push(kn(Fe.id,Oe,xt,Fe.tags))}}}return ge.length?ge:null}function Qt(ne,N,q,J,ee){for(var fe=0;fe<ne.length;fe+=3){var be=ne[fe+ee];be>=q&&be<=J&&(N.push(ne[fe]),N.push(ne[fe+1]),N.push(ne[fe+2]))}}function Ze(ne,N,q,J,ee,fe,be){for(var ve,ge,Se=Vt(ne),Fe=ee===0?Ai:Rt,rt=ne.start,Oe=0;Oe<ne.length-3;Oe+=3){var kt=ne[Oe],It=ne[Oe+1],xt=ne[Oe+2],Gt=ne[Oe+3],Jt=ne[Oe+4],Ln=ee===0?kt:It,nn=ee===0?Gt:Jt,mn=!1;be&&(ve=Math.sqrt(Math.pow(kt-Gt,2)+Math.pow(It-Jt,2))),Ln<q?nn>q&&(ge=Fe(Se,kt,It,Gt,Jt,q),be&&(Se.start=rt+ve*ge)):Ln>J?nn<J&&(ge=Fe(Se,kt,It,Gt,Jt,J),be&&(Se.start=rt+ve*ge)):Zn(Se,kt,It,xt),nn<q&&Ln>=q&&(ge=Fe(Se,kt,It,Gt,Jt,q),mn=!0),nn>J&&Ln<=J&&(ge=Fe(Se,kt,It,Gt,Jt,J),mn=!0),!fe&&mn&&(be&&(Se.end=rt+ve*ge),N.push(Se),Se=Vt(ne)),be&&(rt+=ve)}var Pn=ne.length-3;kt=ne[Pn],It=ne[Pn+1],xt=ne[Pn+2],(Ln=ee===0?kt:It)>=q&&Ln<=J&&Zn(Se,kt,It,xt),Pn=Se.length-3,fe&&Pn>=3&&(Se[Pn]!==Se[0]||Se[Pn+1]!==Se[1])&&Zn(Se,Se[0],Se[1],Se[2]),Se.length&&N.push(Se)}function Vt(ne){var N=[];return N.size=ne.size,N.start=ne.start,N.end=ne.end,N}function Ot(ne,N,q,J,ee,fe){for(var be=0;be<ne.length;be++)Ze(ne[be],N,q,J,ee,fe,!1)}function Zn(ne,N,q,J){ne.push(N),ne.push(q),ne.push(J)}function Ai(ne,N,q,J,ee,fe){var be=(fe-N)/(J-N);return ne.push(fe),ne.push(q+(ee-q)*be),ne.push(1),be}function Rt(ne,N,q,J,ee,fe){var be=(fe-q)/(ee-q);return ne.push(N+(J-N)*be),ne.push(fe),ne.push(1),be}function _i(ne,N){for(var q=[],J=0;J<ne.length;J++){var ee,fe=ne[J],be=fe.type;if(be==="Point"||be==="MultiPoint"||be==="LineString")ee=vn(fe.geometry,N);else if(be==="MultiLineString"||be==="Polygon"){ee=[];for(var ve=0;ve<fe.geometry.length;ve++)ee.push(vn(fe.geometry[ve],N))}else if(be==="MultiPolygon")for(ee=[],ve=0;ve<fe.geometry.length;ve++){for(var ge=[],Se=0;Se<fe.geometry[ve].length;Se++)ge.push(vn(fe.geometry[ve][Se],N));ee.push(ge)}q.push(kn(fe.id,be,ee,fe.tags))}return q}function vn(ne,N){var q=[];q.size=ne.size,ne.start!==void 0&&(q.start=ne.start,q.end=ne.end);for(var J=0;J<ne.length;J+=3)q.push(ne[J]+N,ne[J+1],ne[J+2]);return q}function rr(ne,N){if(ne.transformed)return ne;var q,J,ee,fe=1<<ne.z,be=ne.x,ve=ne.y;for(q=0;q<ne.features.length;q++){var ge=ne.features[q],Se=ge.geometry,Fe=ge.type;if(ge.geometry=[],Fe===1)for(J=0;J<Se.length;J+=2)ge.geometry.push(gi(Se[J],Se[J+1],N,fe,be,ve));else for(J=0;J<Se.length;J++){var rt=[];for(ee=0;ee<Se[J].length;ee+=2)rt.push(gi(Se[J][ee],Se[J][ee+1],N,fe,be,ve));ge.geometry.push(rt)}}return ne.transformed=!0,ne}function gi(ne,N,q,J,ee,fe){return[Math.round(q*(ne*J-ee)),Math.round(q*(N*J-fe))]}function zi(ne,N,q,J,ee){for(var fe=N===ee.maxZoom?0:ee.tolerance/((1<<N)*ee.extent),be={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:q,y:J,z:N,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ve=0;ve<ne.length;ve++){be.numFeatures++,$n(be,ne[ve],fe,ee);var ge=ne[ve].minX,Se=ne[ve].minY,Fe=ne[ve].maxX,rt=ne[ve].maxY;ge<be.minX&&(be.minX=ge),Se<be.minY&&(be.minY=Se),Fe>be.maxX&&(be.maxX=Fe),rt>be.maxY&&(be.maxY=rt)}return be}function $n(ne,N,q,J){var ee=N.geometry,fe=N.type,be=[];if(fe==="Point"||fe==="MultiPoint")for(var ve=0;ve<ee.length;ve+=3)be.push(ee[ve]),be.push(ee[ve+1]),ne.numPoints++,ne.numSimplified++;else if(fe==="LineString")Lo(be,ee,ne,q,!1,!1);else if(fe==="MultiLineString"||fe==="Polygon")for(ve=0;ve<ee.length;ve++)Lo(be,ee[ve],ne,q,fe==="Polygon",ve===0);else if(fe==="MultiPolygon")for(var ge=0;ge<ee.length;ge++){var Se=ee[ge];for(ve=0;ve<Se.length;ve++)Lo(be,Se[ve],ne,q,!0,ve===0)}if(be.length){var Fe=N.tags||null;if(fe==="LineString"&&J.lineMetrics){for(var rt in Fe={},N.tags)Fe[rt]=N.tags[rt];Fe.mapbox_clip_start=ee.start/ee.size,Fe.mapbox_clip_end=ee.end/ee.size}var Oe={geometry:be,type:fe==="Polygon"||fe==="MultiPolygon"?3:fe==="LineString"||fe==="MultiLineString"?2:1,tags:Fe};N.id!==null&&(Oe.id=N.id),ne.features.push(Oe)}}function Lo(ne,N,q,J,ee,fe){var be=J*J;if(J>0&&N.size<(ee?be:J))q.numPoints+=N.length/3;else{for(var ve=[],ge=0;ge<N.length;ge+=3)(J===0||N[ge+2]>be)&&(q.numSimplified++,ve.push(N[ge]),ve.push(N[ge+1])),q.numPoints++;ee&&function(Se,Fe){for(var rt=0,Oe=0,kt=Se.length,It=kt-2;Oe<kt;It=Oe,Oe+=2)rt+=(Se[Oe]-Se[It])*(Se[Oe+1]+Se[It+1]);if(rt>0===Fe)for(Oe=0,kt=Se.length;Oe<kt/2;Oe+=2){var xt=Se[Oe],Gt=Se[Oe+1];Se[Oe]=Se[kt-2-Oe],Se[Oe+1]=Se[kt-1-Oe],Se[kt-2-Oe]=xt,Se[kt-1-Oe]=Gt}}(ve,fe),ne.push(ve)}}function gs(ne,N){var q=(N=this.options=function(ee,fe){for(var be in fe)ee[be]=fe[be];return ee}(Object.create(this.options),N)).debug;if(q&&console.time("preprocess data"),N.maxZoom<0||N.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(N.promoteId&&N.generateId)throw new Error("promoteId and generateId cannot be used together.");var J=function(ee,fe){var be=[];if(ee.type==="FeatureCollection")for(var ve=0;ve<ee.features.length;ve++)lt(be,ee.features[ve],fe,ve);else lt(be,ee.type==="Feature"?ee:{geometry:ee},fe);return be}(ne,N);this.tiles={},this.tileCoords=[],q&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",N.indexMaxZoom,N.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),J=function(ee,fe){var be=fe.buffer/fe.extent,ve=ee,ge=Sn(ee,1,-1-be,be,0,-1,2,fe),Se=Sn(ee,1,1-be,2+be,0,-1,2,fe);return(ge||Se)&&(ve=Sn(ee,1,-be,1+be,0,-1,2,fe)||[],ge&&(ve=_i(ge,1).concat(ve)),Se&&(ve=ve.concat(_i(Se,-1)))),ve}(J,N),J.length&&this.splitTile(J,0,0,0),q&&(J.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function js(ne,N,q){return 32*((1<<ne)*q+N)+ne}function ao(ne,N){const q=ne.tileID.canonical;if(!this._geoJSONIndex)return N(null,null);const J=this._geoJSONIndex.getTile(q.z,q.x,q.y);if(!J)return N(null,null);const ee=new P(J.features);let fe=ct.exports(ee);fe.byteOffset===0&&fe.byteLength===fe.buffer.byteLength||(fe=new Uint8Array(fe)),N(null,{vectorTile:ee,rawData:fe.buffer})}gs.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gs.prototype.splitTile=function(ne,N,q,J,ee,fe,be){for(var ve=[ne,N,q,J],ge=this.options,Se=ge.debug;ve.length;){J=ve.pop(),q=ve.pop(),N=ve.pop(),ne=ve.pop();var Fe=1<<N,rt=js(N,q,J),Oe=this.tiles[rt];if(!Oe&&(Se>1&&console.time("creation"),Oe=this.tiles[rt]=zi(ne,N,q,J,ge),this.tileCoords.push({z:N,x:q,y:J}),Se)){Se>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",N,q,J,Oe.numFeatures,Oe.numPoints,Oe.numSimplified),console.timeEnd("creation"));var kt="z"+N;this.stats[kt]=(this.stats[kt]||0)+1,this.total++}if(Oe.source=ne,ee){if(N===ge.maxZoom||N===ee)continue;var It=1<<ee-N;if(q!==Math.floor(fe/It)||J!==Math.floor(be/It))continue}else if(N===ge.indexMaxZoom||Oe.numPoints<=ge.indexMaxPoints)continue;if(Oe.source=null,ne.length!==0){Se>1&&console.time("clipping");var xt,Gt,Jt,Ln,nn,mn,Pn=.5*ge.buffer/ge.extent,Xn=.5-Pn,Wn=.5+Pn,Kn=1+Pn;xt=Gt=Jt=Ln=null,nn=Sn(ne,Fe,q-Pn,q+Wn,0,Oe.minX,Oe.maxX,ge),mn=Sn(ne,Fe,q+Xn,q+Kn,0,Oe.minX,Oe.maxX,ge),ne=null,nn&&(xt=Sn(nn,Fe,J-Pn,J+Wn,1,Oe.minY,Oe.maxY,ge),Gt=Sn(nn,Fe,J+Xn,J+Kn,1,Oe.minY,Oe.maxY,ge),nn=null),mn&&(Jt=Sn(mn,Fe,J-Pn,J+Wn,1,Oe.minY,Oe.maxY,ge),Ln=Sn(mn,Fe,J+Xn,J+Kn,1,Oe.minY,Oe.maxY,ge),mn=null),Se>1&&console.timeEnd("clipping"),ve.push(xt||[],N+1,2*q,2*J),ve.push(Gt||[],N+1,2*q,2*J+1),ve.push(Jt||[],N+1,2*q+1,2*J),ve.push(Ln||[],N+1,2*q+1,2*J+1)}}},gs.prototype.getTile=function(ne,N,q){var J=this.options,ee=J.extent,fe=J.debug;if(ne<0||ne>24)return null;var be=1<<ne,ve=js(ne,N=(N%be+be)%be,q);if(this.tiles[ve])return rr(this.tiles[ve],ee);fe>1&&console.log("drilling down to z%d-%d-%d",ne,N,q);for(var ge,Se=ne,Fe=N,rt=q;!ge&&Se>0;)Se--,Fe=Math.floor(Fe/2),rt=Math.floor(rt/2),ge=this.tiles[js(Se,Fe,rt)];return ge&&ge.source?(fe>1&&console.log("found parent tile z%d-%d-%d",Se,Fe,rt),fe>1&&console.time("drilling down"),this.splitTile(ge.source,Se,Fe,rt,ne,N,q),fe>1&&console.timeEnd("drilling down"),this.tiles[ve]?rr(this.tiles[ve],ee):null):null};class Ro extends he{constructor(N,q,J,ee){super(N,q,J,ao),ee&&(this.loadGeoJSON=ee)}loadData(N,q){var J;(J=this._pendingRequest)===null||J===void 0||J.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ee=!!(N&&N.request&&N.request.collectResourceTiming)&&new a.RequestPerformance(N.request);this._pendingCallback=q,this._pendingRequest=this.loadGeoJSON(N,(fe,be)=>{if(delete this._pendingCallback,delete this._pendingRequest,fe||!be)return q(fe);if(typeof be!="object")return q(new Error(`Input data given to '${N.source}' is not a valid GeoJSON object.`));{oe(be,!0);try{if(N.filter){const ge=a.createExpression(N.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ge.result==="error")throw new Error(ge.value.map(Fe=>`${Fe.key}: ${Fe.message}`).join(", "));be={type:"FeatureCollection",features:be.features.filter(Fe=>ge.value.evaluate({zoom:0},Fe))}}this._geoJSONIndex=N.cluster?new Ni(function({superclusterOptions:ge,clusterProperties:Se}){if(!Se||!ge)return ge;const Fe={},rt={},Oe={accumulated:null,zoom:0},kt={properties:null},It=Object.keys(Se);for(const xt of It){const[Gt,Jt]=Se[xt],Ln=a.createExpression(Jt),nn=a.createExpression(typeof Gt=="string"?[Gt,["accumulated"],["get",xt]]:Gt);Fe[xt]=Ln.value,rt[xt]=nn.value}return ge.map=xt=>{kt.properties=xt;const Gt={};for(const Jt of It)Gt[Jt]=Fe[Jt].evaluate(Oe,kt);return Gt},ge.reduce=(xt,Gt)=>{kt.properties=Gt;for(const Jt of It)Oe.accumulated=xt[Jt],xt[Jt]=rt[Jt].evaluate(Oe,kt)},ge}(N)).load(be.features):function(ge,Se){return new gs(ge,Se)}(be,N.geojsonVtOptions)}catch(ge){return q(ge)}this.loaded={};const ve={};if(ee){const ge=ee.finish();ge&&(ve.resourceTiming={},ve.resourceTiming[N.source]=JSON.parse(JSON.stringify(ge)))}q(null,ve)}})}reloadTile(N,q){const J=this.loaded;return J&&J[N.uid]?super.reloadTile(N,q):this.loadTile(N,q)}loadGeoJSON(N,q){if(N.request)return a.getJSON(N.request,q);if(typeof N.data=="string")try{q(null,JSON.parse(N.data))}catch{q(new Error(`Input data given to '${N.source}' is not a valid GeoJSON object.`))}else q(new Error(`Input data given to '${N.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(N,q){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),q()}getClusterExpansionZoom(N,q){try{q(null,this._geoJSONIndex.getClusterExpansionZoom(N.clusterId))}catch(J){q(J)}}getClusterChildren(N,q){try{q(null,this._geoJSONIndex.getChildren(N.clusterId))}catch(J){q(J)}}getClusterLeaves(N,q){try{q(null,this._geoJSONIndex.getLeaves(N.clusterId,N.limit,N.offset))}catch(J){q(J)}}}class qs{constructor(N){this.self=N,this.actor=new a.Actor(N,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:he,geojson:Ro},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(q,J)=>{if(this.workerSourceTypes[q])throw new Error(`Worker source with name "${q}" already registered.`);this.workerSourceTypes[q]=J},this.self.registerRTLTextPlugin=q=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=q.applyArabicShaping,a.plugin.processBidirectionalText=q.processBidirectionalText,a.plugin.processStyledBidirectionalText=q.processStyledBidirectionalText}}setReferrer(N,q){this.referrer=q}setImages(N,q,J){this.availableImages[N]=q;for(const ee in this.workerSources[N]){const fe=this.workerSources[N][ee];for(const be in fe)fe[be].availableImages=q}J()}setLayers(N,q,J){this.getLayerIndex(N).replace(q),J()}updateLayers(N,q,J){this.getLayerIndex(N).update(q.layers,q.removedIds),J()}loadTile(N,q,J){this.getWorkerSource(N,q.type,q.source).loadTile(q,J)}loadDEMTile(N,q,J){this.getDEMWorkerSource(N,q.source).loadTile(q,J)}reloadTile(N,q,J){this.getWorkerSource(N,q.type,q.source).reloadTile(q,J)}abortTile(N,q,J){this.getWorkerSource(N,q.type,q.source).abortTile(q,J)}removeTile(N,q,J){this.getWorkerSource(N,q.type,q.source).removeTile(q,J)}removeDEMTile(N,q){this.getDEMWorkerSource(N,q.source).removeTile(q)}removeSource(N,q,J){if(!this.workerSources[N]||!this.workerSources[N][q.type]||!this.workerSources[N][q.type][q.source])return;const ee=this.workerSources[N][q.type][q.source];delete this.workerSources[N][q.type][q.source],ee.removeSource!==void 0?ee.removeSource(q,J):J()}loadWorkerSource(N,q,J){try{this.self.importScripts(q.url),J()}catch(ee){J(ee.toString())}}syncRTLPluginState(N,q,J){try{a.plugin.setState(q);const ee=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&ee!=null){this.self.importScripts(ee);const fe=a.plugin.isParsed();J(fe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ee}`),fe)}}catch(ee){J(ee.toString())}}getAvailableImages(N){let q=this.availableImages[N];return q||(q=[]),q}getLayerIndex(N){let q=this.layerIndexes[N];return q||(q=this.layerIndexes[N]=new B),q}getWorkerSource(N,q,J){if(this.workerSources[N]||(this.workerSources[N]={}),this.workerSources[N][q]||(this.workerSources[N][q]={}),!this.workerSources[N][q][J]){const ee={send:(fe,be,ve)=>{this.actor.send(fe,be,ve,N)}};this.workerSources[N][q][J]=new this.workerSourceTypes[q](ee,this.getLayerIndex(N),this.getAvailableImages(N))}return this.workerSources[N][q][J]}getDEMWorkerSource(N,q){return this.demWorkerSources[N]||(this.demWorkerSources[N]={}),this.demWorkerSources[N][q]||(this.demWorkerSources[N][q]=new He),this.demWorkerSources[N][q]}enforceCacheSizeLimit(N,q){a.enforceCacheSizeLimit(q)}}return a.isWorker()&&(self.worker=new qs(self)),qs}),p(["./shared"],function(a){var S=I;function I(f){return!function(i){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var d,g,x=new Blob([""],{type:"text/javascript"}),T=URL.createObjectURL(x);try{g=new Worker(T),d=!0}catch{d=!1}return g&&g.terminate(),URL.revokeObjectURL(T),d}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var d=document.createElement("canvas");d.width=d.height=1;var g=d.getContext("2d");if(!g)return!1;var x=g.getImageData(0,0,1,1);return x&&x.width===d.width}()?(B[l=i&&i.failIfMajorPerformanceCaveat]===void 0&&(B[l]=function(d){var g,x=function(T){var k=document.createElement("canvas"),M=Object.create(I.webGLContextAttributes);return M.failIfMajorPerformanceCaveat=T,k.getContext("webgl",M)||k.getContext("experimental-webgl",M)}(d);if(!x)return!1;try{g=x.createShader(x.VERTEX_SHADER)}catch{return!1}return!(!g||x.isContextLost())&&(x.shaderSource(g,"void main() {}"),x.compileShader(g),x.getShaderParameter(g,x.COMPILE_STATUS)===!0)}(l)),B[l]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var l}(f)}var B={};function V(f,i){if(Array.isArray(f)){if(!Array.isArray(i)||f.length!==i.length)return!1;for(let l=0;l<f.length;l++)if(!V(f[l],i[l]))return!1;return!0}if(typeof f=="object"&&f!==null&&i!==null){if(typeof i!="object"||Object.keys(f).length!==Object.keys(i).length)return!1;for(const l in f)if(!V(f[l],i[l]))return!1;return!0}return f===i}I.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class z{static testProp(i){if(!z.docStyle)return i[0];for(let l=0;l<i.length;l++)if(i[l]in z.docStyle)return i[l];return i[0]}static create(i,l,d){const g=window.document.createElement(i);return l!==void 0&&(g.className=l),d&&d.appendChild(g),g}static createNS(i,l){return window.document.createElementNS(i,l)}static disableDrag(){z.docStyle&&z.selectProp&&(z.userSelect=z.docStyle[z.selectProp],z.docStyle[z.selectProp]="none")}static enableDrag(){z.docStyle&&z.selectProp&&(z.docStyle[z.selectProp]=z.userSelect)}static setTransform(i,l){i.style[z.transformProp]=l}static addEventListener(i,l,d,g={}){i.addEventListener(l,d,"passive"in g?g:g.capture)}static removeEventListener(i,l,d,g={}){i.removeEventListener(l,d,"passive"in g?g:g.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",z.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",z.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",z.suppressClickInternal,!0)},0)}static mousePos(i,l){const d=i.getBoundingClientRect();return new a.pointGeometry(l.clientX-d.left-i.clientLeft,l.clientY-d.top-i.clientTop)}static touchPos(i,l){const d=i.getBoundingClientRect(),g=[];for(let x=0;x<l.length;x++)g.push(new a.pointGeometry(l[x].clientX-d.left-i.clientLeft,l[x].clientY-d.top-i.clientTop));return g}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}z.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,z.selectProp=z.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),z.transformProp=z.testProp(["transform","WebkitTransform"]);class ie{constructor(i){this._transformRequestFn=i}transformRequest(i,l){return this._transformRequestFn&&this._transformRequestFn(i,l)||{url:i}}normalizeSpriteURL(i,l,d){const g=function(x){const T=x.match(ce);if(!T)throw new Error(`Unable to parse URL "${x}"`);return{protocol:T[1],authority:T[2],path:T[3]||"/",params:T[4]?T[4].split("&"):[]}}(i);return g.path+=`${l}${d}`,function(x){const T=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${T}`}(g)}setTransformRequest(i){this._transformRequestFn=i}}const ce=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class he{constructor(i,l,d,g){this.context=i,this.format=d,this.texture=i.gl.createTexture(),this.update(l,g)}update(i,l,d){const{width:g,height:x}=i,T=!(this.size&&this.size[0]===g&&this.size[1]===x||d),{context:k}=this,{gl:M}=k;if(this.useMipmap=Boolean(l&&l.useMipmap),M.bindTexture(M.TEXTURE_2D,this.texture),k.pixelStoreUnpackFlipY.set(!1),k.pixelStoreUnpack.set(1),k.pixelStoreUnpackPremultiplyAlpha.set(this.format===M.RGBA&&(!l||l.premultiply!==!1)),T)this.size=[g,x],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||a.isImageBitmap(i)?M.texImage2D(M.TEXTURE_2D,0,this.format,this.format,M.UNSIGNED_BYTE,i):M.texImage2D(M.TEXTURE_2D,0,this.format,g,x,0,this.format,M.UNSIGNED_BYTE,i.data);else{const{x:R,y:O}=d||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||a.isImageBitmap(i)?M.texSubImage2D(M.TEXTURE_2D,0,R,O,M.RGBA,M.UNSIGNED_BYTE,i):M.texSubImage2D(M.TEXTURE_2D,0,R,O,g,x,M.RGBA,M.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&M.generateMipmap(M.TEXTURE_2D)}bind(i,l,d){const{context:g}=this,{gl:x}=g;x.bindTexture(x.TEXTURE_2D,this.texture),d!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=x.LINEAR),i!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,i),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,d||i),this.filter=i),l!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,l),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function He(f){const{userImage:i}=f;return!!(i&&i.render&&i.render())&&(f.data.replace(new Uint8Array(i.data.buffer)),!0)}class oe extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:l,callback:d}of this.requestors)this._notify(l,d);this.requestors=[]}}getImage(i){return this.images[i]}addImage(i,l){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,l)&&(this.images[i]=l)}_validate(i,l){let d=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${i}" has invalid "stretchX" value`))),d=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${i}" has invalid "stretchY" value`))),d=!1),this._validateContent(l.content,l)||(this.fire(new a.ErrorEvent(new Error(`Image "${i}" has invalid "content" value`))),d=!1),d}_validateStretch(i,l){if(!i)return!0;let d=0;for(const g of i){if(g[0]<d||g[1]<g[0]||l<g[1])return!1;d=g[1]}return!0}_validateContent(i,l){return!(i&&(i.length!==4||i[0]<0||l.data.width<i[0]||i[1]<0||l.data.height<i[1]||i[2]<0||l.data.width<i[2]||i[3]<0||l.data.height<i[3]||i[2]<i[0]||i[3]<i[1]))}updateImage(i,l){const d=this.images[i];if(d.data.width!==l.data.width||d.data.height!==l.data.height)throw new Error(`size mismatch between old image (${d.data.width}x${d.data.height}) and new image (${l.data.width}x${l.data.height}).`);l.version=d.version+1,this.images[i]=l,this.updatedImages[i]=!0}removeImage(i){const l=this.images[i];delete this.images[i],delete this.patterns[i],l.userImage&&l.userImage.onRemove&&l.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,l){let d=!0;if(!this.isLoaded())for(const g of i)this.images[g]||(d=!1);this.isLoaded()||d?this._notify(i,l):this.requestors.push({ids:i,callback:l})}_notify(i,l){const d={};for(const g of i){this.images[g]||this.fire(new a.Event("styleimagemissing",{id:g}));const x=this.images[g];x?d[g]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:Boolean(x.userImage&&x.userImage.render)}:a.warnOnce(`Image "${g}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}l(null,d)}getPixelSize(){const{width:i,height:l}=this.atlasImage;return{width:i,height:l}}getPattern(i){const l=this.patterns[i],d=this.getImage(i);if(!d)return null;if(l&&l.position.version===d.version)return l.position;if(l)l.position.version=d.version;else{const g={w:d.data.width+2,h:d.data.height+2,x:0,y:0},x=new a.ImagePosition(g,d);this.patterns[i]={bin:g,position:x}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const l=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new he(i,this.atlasImage,l.RGBA),this.atlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const x in this.patterns)i.push(this.patterns[x].bin);const{w:l,h:d}=a.potpack(i),g=this.atlasImage;g.resize({width:l||1,height:d||1});for(const x in this.patterns){const{bin:T}=this.patterns[x],k=T.x+1,M=T.y+1,R=this.images[x].data,O=R.width,W=R.height;a.RGBAImage.copy(R,g,{x:0,y:0},{x:k,y:M},{width:O,height:W}),a.RGBAImage.copy(R,g,{x:0,y:W-1},{x:k,y:M-1},{width:O,height:1}),a.RGBAImage.copy(R,g,{x:0,y:0},{x:k,y:M+W},{width:O,height:1}),a.RGBAImage.copy(R,g,{x:O-1,y:0},{x:k-1,y:M},{width:1,height:W}),a.RGBAImage.copy(R,g,{x:0,y:0},{x:k+O,y:M},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const l of i){if(this.callbackDispatchedThisFrame[l])continue;this.callbackDispatchedThisFrame[l]=!0;const d=this.images[l];d||a.warnOnce(`Image with ID: "${l}" was not found`),He(d)&&this.updateImage(l,d)}}}const ae=1e20;function re(f,i,l,d,g,x,T,k,M){for(let R=i;R<i+d;R++)we(f,l*x+R,x,g,T,k,M);for(let R=l;R<l+g;R++)we(f,R*x+i,1,d,T,k,M)}function we(f,i,l,d,g,x,T){x[0]=0,T[0]=-ae,T[1]=ae,g[0]=f[i];for(let k=1,M=0,R=0;k<d;k++){g[k]=f[i+k*l];const O=k*k;do{const W=x[M];R=(g[k]-g[W]+O-W*W)/(k-W)/2}while(R<=T[M]&&--M>-1);M++,x[M]=k,T[M]=R,T[M+1]=ae}for(let k=0,M=0;k<d;k++){for(;T[M+1]<k;)M++;const R=x[M],O=k-R;f[i+k*l]=g[R]+O*O}}class Ue{constructor(i,l){this.requestManager=i,this.localIdeographFontFamily=l,this.entries={}}setURL(i){this.url=i}getGlyphs(i,l){const d=[];for(const g in i)for(const x of i[g])d.push({stack:g,id:x});a.asyncAll(d,({stack:g,id:x},T)=>{let k=this.entries[g];k||(k=this.entries[g]={glyphs:{},requests:{},ranges:{}});let M=k.glyphs[x];if(M!==void 0)return void T(null,{stack:g,id:x,glyph:M});if(M=this._tinySDF(k,g,x),M)return k.glyphs[x]=M,void T(null,{stack:g,id:x,glyph:M});const R=Math.floor(x/256);if(256*R>65535)return void T(new Error("glyphs > 65535 not supported"));if(k.ranges[R])return void T(null,{stack:g,id:x,glyph:M});let O=k.requests[R];O||(O=k.requests[R]=[],Ue.loadGlyphRange(g,R,this.url,this.requestManager,(W,$)=>{if($){for(const ue in $)this._doesCharSupportLocalGlyph(+ue)||(k.glyphs[+ue]=$[+ue]);k.ranges[R]=!0}for(const ue of O)ue(W,$);delete k.requests[R]})),O.push((W,$)=>{W?T(W):$&&T(null,{stack:g,id:x,glyph:$[x]||null})})},(g,x)=>{if(g)l(g);else if(x){const T={};for(const{stack:k,id:M,glyph:R}of x)(T[k]||(T[k]={}))[M]=R&&{id:R.id,bitmap:R.bitmap.clone(),metrics:R.metrics};l(null,T)}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](i)||a.unicodeBlockLookup["Hangul Syllables"](i)||a.unicodeBlockLookup.Hiragana(i)||a.unicodeBlockLookup.Katakana(i))}_tinySDF(i,l,d){const g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(d))return;let x=i.tinySDF;if(!x){let k="400";/bold/i.test(l)?k="900":/medium/i.test(l)?k="500":/light/i.test(l)&&(k="200"),x=i.tinySDF=new Ue.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:g,fontWeight:k})}const T=x.draw(String.fromCharCode(d));return{id:d,bitmap:new a.AlphaImage({width:T.width||30,height:T.height||30},T.data),metrics:{width:T.glyphWidth||24,height:T.glyphHeight||24,left:T.glyphLeft||0,top:T.glyphTop-27||-8,advance:T.glyphAdvance||24}}}}Ue.loadGlyphRange=function(f,i,l,d,g){const x=256*i,T=x+255,k=d.transformRequest(l.replace("{fontstack}",f).replace("{range}",`${x}-${T}`),a.ResourceType.Glyphs);a.getArrayBuffer(k,(M,R)=>{if(M)g(M);else if(R){const O={};for(const W of a.parseGlyphPbf(R))O[W.id]=W;g(null,O)}})},Ue.TinySDF=class{constructor({fontSize:f=24,buffer:i=3,radius:l=8,cutoff:d=.25,fontFamily:g="sans-serif",fontWeight:x="normal",fontStyle:T="normal"}={}){this.buffer=i,this.cutoff=d,this.radius=l;const k=this.size=f+4*i,M=this._createCanvas(k),R=this.ctx=M.getContext("2d",{willReadFrequently:!0});R.font=`${T} ${x} ${f}px ${g}`,R.textBaseline="alphabetic",R.textAlign="left",R.fillStyle="black",this.gridOuter=new Float64Array(k*k),this.gridInner=new Float64Array(k*k),this.f=new Float64Array(k),this.z=new Float64Array(k+1),this.v=new Uint16Array(k)}_createCanvas(f){const i=document.createElement("canvas");return i.width=i.height=f,i}draw(f){const{width:i,actualBoundingBoxAscent:l,actualBoundingBoxDescent:d,actualBoundingBoxLeft:g,actualBoundingBoxRight:x}=this.ctx.measureText(f),T=Math.ceil(l),k=Math.min(this.size-this.buffer,Math.ceil(x-g)),M=Math.min(this.size-this.buffer,T+Math.ceil(d)),R=k+2*this.buffer,O=M+2*this.buffer,W=Math.max(R*O,0),$=new Uint8ClampedArray(W),ue={data:$,width:R,height:O,glyphWidth:k,glyphHeight:M,glyphTop:T,glyphLeft:0,glyphAdvance:i};if(k===0||M===0)return ue;const{ctx:se,buffer:le,gridInner:xe,gridOuter:Ae}=this;se.clearRect(le,le,k,M),se.fillText(f,le,le+T);const Me=se.getImageData(le,le,k,M);Ae.fill(ae,0,W),xe.fill(0,0,W);for(let de=0;de<M;de++)for(let Re=0;Re<k;Re++){const De=Me.data[4*(de*k+Re)+3]/255;if(De===0)continue;const Ge=(de+le)*R+Re+le;if(De===1)Ae[Ge]=0,xe[Ge]=ae;else{const We=.5-De;Ae[Ge]=We>0?We*We:0,xe[Ge]=We<0?We*We:0}}re(Ae,0,0,R,O,R,this.f,this.v,this.z),re(xe,le,le,k,M,R,this.f,this.v,this.z);for(let de=0;de<W;de++){const Re=Math.sqrt(Ae[de])-Math.sqrt(xe[de]);$[de]=Math.round(255-255*(Re/this.radius+this.cutoff))}return ue}};const P=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(f,i){return a.sphericalToCartesian(f.expression.evaluate(i))}interpolate(f,i,l){return{x:a.number(f.x,i.x,l),y:a.number(f.y,i.y,l),z:a.number(f.z,i.z,l)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)}),ct="-transition";class ht extends a.Evented{constructor(i){super(),this._transitionable=new a.Transitionable(P),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,l={}){if(!this._validate(a.validateLight,i,l))for(const d in i){const g=i[d];d.endsWith(ct)?this._transitionable.setTransition(d.slice(0,-ct.length),g):this._transitionable.setValue(d,g)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,l,d){return(!d||d.validate!==!1)&&a.emitValidationErrors(this,i.call(a.validateStyle,a.extend({value:l,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class qt{constructor(i,l){this.width=i,this.height=l,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,l){const d=i.join(",")+String(l);return this.dashEntry[d]||(this.dashEntry[d]=this.addDash(i,l)),this.dashEntry[d]}getDashRanges(i,l,d){const g=[];let x=i.length%2==1?-i[i.length-1]*d:0,T=i[0]*d,k=!0;g.push({left:x,right:T,isDash:k,zeroLength:i[0]===0});let M=i[0];for(let R=1;R<i.length;R++){k=!k;const O=i[R];x=M*d,M+=O,T=M*d,g.push({left:x,right:T,isDash:k,zeroLength:O===0})}return g}addRoundDash(i,l,d){const g=l/2;for(let x=-d;x<=d;x++){const T=this.width*(this.nextRow+d+x);let k=0,M=i[k];for(let R=0;R<this.width;R++){R/M.right>1&&(M=i[++k]);const O=Math.abs(R-M.left),W=Math.abs(R-M.right),$=Math.min(O,W);let ue;const se=x/d*(g+1);if(M.isDash){const le=g-Math.abs(se);ue=Math.sqrt($*$+le*le)}else ue=g-Math.sqrt($*$+se*se);this.data[T+R]=Math.max(0,Math.min(255,ue+128))}}}addRegularDash(i){for(let k=i.length-1;k>=0;--k){const M=i[k],R=i[k+1];M.zeroLength?i.splice(k,1):R&&R.isDash===M.isDash&&(R.left=M.left,i.splice(k,1))}const l=i[0],d=i[i.length-1];l.isDash===d.isDash&&(l.left=d.left-this.width,d.right=l.right+this.width);const g=this.width*this.nextRow;let x=0,T=i[x];for(let k=0;k<this.width;k++){k/T.right>1&&(T=i[++x]);const M=Math.abs(k-T.left),R=Math.abs(k-T.right),O=Math.min(M,R);this.data[g+k]=Math.max(0,Math.min(255,(T.isDash?O:-O)+128))}}addDash(i,l){const d=l?7:0,g=2*d+1;if(this.nextRow+g>this.height)return a.warnOnce("LineAtlas out of space"),null;let x=0;for(let k=0;k<i.length;k++)x+=i[k];if(x!==0){const k=this.width/x,M=this.getDashRanges(i,this.width,k);l?this.addRoundDash(M,k,d):this.addRegularDash(M)}const T={y:(this.nextRow+d+.5)/this.height,height:2*d/this.height,width:x};return this.nextRow+=g,this.dirty=!0,T}bind(i){const l=i.gl;this.texture?(l.bindTexture(l.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,l.texSubImage2D(l.TEXTURE_2D,0,0,0,this.width,this.height,l.ALPHA,l.UNSIGNED_BYTE,this.data))):(this.texture=l.createTexture(),l.bindTexture(l.TEXTURE_2D,this.texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texImage2D(l.TEXTURE_2D,0,l.ALPHA,this.width,this.height,0,l.ALPHA,l.UNSIGNED_BYTE,this.data))}}class zt{constructor(i,l){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const d=this.workerPool.acquire(this.id);for(let g=0;g<d.length;g++){const x=new zt.Actor(d[g],l,this.id);x.name=`Worker ${g}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,l,d){a.asyncAll(this.actors,(g,x)=>{g.send(i,l,x)},d=d||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(i=>{i.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Un(f,i,l){const d=function(g,x){if(g)return l(g);if(x){const T=a.pick(a.extend(x,f),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(T.vectorLayers=x.vector_layers,T.vectorLayerIds=T.vectorLayers.map(k=>k.id)),l(null,T)}};return f.url?a.getJSON(i.transformRequest(f.url,a.ResourceType.Source),d):a.exported.frame(()=>d(null,f))}zt.Actor=a.Actor;class _n{constructor(i,l,d){this.bounds=a.LngLatBounds.convert(this.validateBounds(i)),this.minzoom=l||0,this.maxzoom=d||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const l=Math.pow(2,i.z),d=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*l),g=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*l),x=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*l),T=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*l);return i.x>=d&&i.x<x&&i.y>=g&&i.y<T}}class Ti extends a.Evented{constructor(i,l,d,g){if(super(),this.id=i,this.dispatcher=d,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(l,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Un(this._options,this.map._requestManager,(i,l)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i?this.fire(new a.ErrorEvent(i)):l&&(a.extend(this,l),l.bounds&&(this.tileBounds=new _n(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}loadTile(i,l){const d=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g={request:this.map._requestManager.transformRequest(d,a.ResourceType.Tile),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function x(T,k){return delete i.request,i.aborted?l(null):T&&T.status!==404?l(T):(k&&k.resourceTiming&&(i.resourceTiming=k.resourceTiming),this.map._refreshExpiredTiles&&k&&i.setExpiryData(k),i.loadVectorData(k,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),l(null),void(i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)))}g.request.collectResourceTiming=this._collectResourceTiming,i.actor&&i.state!=="expired"?i.state==="loading"?i.reloadCallback=l:i.request=i.actor.send("reloadTile",g,x.bind(this)):(i.actor=this.dispatcher.getActor(),i.request=i.actor.send("loadTile",g,x.bind(this)))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.actor&&i.actor.send("abortTile",{uid:i.uid,type:this.type,source:this.id},void 0)}unloadTile(i){i.unloadVectorData(),i.actor&&i.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Dn extends a.Evented{constructor(i,l,d,g){super(),this.id=i,this.dispatcher=d,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},l),a.extend(this,a.pick(l,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Un(this._options,this.map._requestManager,(i,l)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new a.ErrorEvent(i)):l&&(a.extend(this,l),l.bounds&&(this.tileBounds=new _n(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,l){const d=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.request=a.getImage(this.map._requestManager.transformRequest(d,a.ResourceType.Tile),(g,x,T)=>{if(delete i.request,i.aborted)i.state="unloaded",l(null);else if(g)i.state="errored",l(g);else if(x){this.map._refreshExpiredTiles&&i.setExpiryData(T);const k=this.map.painter.context,M=k.gl;i.texture=this.map.painter.getTileTexture(x.width),i.texture?i.texture.update(x,{useMipmap:!0}):(i.texture=new he(k,x,M.RGBA,{useMipmap:!0}),i.texture.bind(M.LINEAR,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),k.extTextureFilterAnisotropic&&M.texParameterf(M.TEXTURE_2D,k.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,k.extTextureFilterAnisotropicMax)),i.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),l(null)}})}abortTile(i,l){i.request&&(i.request.cancel(),delete i.request),l()}unloadTile(i,l){i.texture&&this.map.painter.saveTileTexture(i.texture),l()}hasTransition(){return!1}}let si;class St extends Dn{constructor(i,l,d,g){super(i,l,d,g),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(i,l){const d=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function g(x,T){x&&(i.state="errored",l(x)),T&&(i.dem=T,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded",l(null))}i.request=a.getImage(this.map._requestManager.transformRequest(d,a.ResourceType.Tile),function(x,T){if(delete i.request,i.aborted)i.state="unloaded",l(null);else if(x)i.state="errored",l(x);else if(T){this.map._refreshExpiredTiles&&i.setExpiryData(T),delete T.cacheControl,delete T.expires;const k=a.isImageBitmap(T)&&(si==null&&(si=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),si)?T:a.exported.getImageData(T,1),M={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:k,encoding:this.encoding};i.actor&&i.state!=="expired"||(i.actor=this.dispatcher.getActor(),i.actor.send("loadDEMTile",M,g.bind(this)))}}.bind(this)),i.neighboringTiles=this._getNeighboringTiles(i.tileID)}_getNeighboringTiles(i){const l=i.canonical,d=Math.pow(2,l.z),g=(l.x-1+d)%d,x=l.x===0?i.wrap-1:i.wrap,T=(l.x+1+d)%d,k=l.x+1===d?i.wrap+1:i.wrap,M={};return M[new a.OverscaledTileID(i.overscaledZ,x,l.z,g,l.y).key]={backfilled:!1},M[new a.OverscaledTileID(i.overscaledZ,k,l.z,T,l.y).key]={backfilled:!1},l.y>0&&(M[new a.OverscaledTileID(i.overscaledZ,x,l.z,g,l.y-1).key]={backfilled:!1},M[new a.OverscaledTileID(i.overscaledZ,i.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},M[new a.OverscaledTileID(i.overscaledZ,k,l.z,T,l.y-1).key]={backfilled:!1}),l.y+1<d&&(M[new a.OverscaledTileID(i.overscaledZ,x,l.z,g,l.y+1).key]={backfilled:!1},M[new a.OverscaledTileID(i.overscaledZ,i.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},M[new a.OverscaledTileID(i.overscaledZ,k,l.z,T,l.y+1).key]={backfilled:!1}),M}unloadTile(i){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&i.actor.send("removeDEMTile",{uid:i.uid,source:this.id})}}class ui extends a.Evented{constructor(i,l,d,g){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=d.getActor(),this.setEventedParent(g),this._data=l.data,this._options=a.extend({},l),this._collectResourceTiming=l.collectResourceTiming,l.maxzoom!==void 0&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;const x=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(l.buffer!==void 0?l.buffer:128)*x,tolerance:(l.tolerance!==void 0?l.tolerance:.375)*x,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:l.clusterMaxZoom!==void 0?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:a.EXTENT,radius:(l.clusterRadius||50)*x,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData("content"),this}getClusterExpansionZoom(i,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:i,source:this.id},l),this}getClusterChildren(i,l){return this.actor.send("geojson.getClusterChildren",{clusterId:i,source:this.id},l),this}getClusterLeaves(i,l,d,g){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:i,limit:l,offset:d},g),this}_updateWorkerData(i){const l=a.extend({},this.workerOptions),d=this._data;typeof d=="string"?(l.request=this.map._requestManager.transformRequest(a.exported.resolveURL(d),a.ResourceType.Source),l.request.collectResourceTiming=this._collectResourceTiming):l.data=JSON.stringify(d),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,l,(g,x)=>{if(this._pendingLoads--,this._removed||x&&x.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source",sourceDataType:i}));let T=null;if(x&&x.resourceTiming&&x.resourceTiming[this.id]&&(T=x.resourceTiming[this.id].slice(0)),g)return void this.fire(new a.ErrorEvent(g));const k={dataType:"source",sourceDataType:i};this._collectResourceTiming&&T&&T.length>0&&a.extend(k,{resourceTiming:T}),this.fire(new a.Event("data",k))})}loaded(){return this._pendingLoads===0}loadTile(i,l){const d=i.actor?"reloadTile":"loadTile";i.actor=this.actor;const g={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.request=this.actor.send(d,g,(x,T)=>(delete i.request,i.unloadVectorData(),i.aborted?l(null):x?l(x):(i.loadVectorData(T,this.map.painter,d==="reloadTile"),l(null))))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.aborted=!0}unloadTile(i){i.unloadVectorData(),this.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var qe=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class st extends a.Evented{constructor(i,l,d,g){super(),this.id=i,this.dispatcher=d,this.coordinates=l.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=l}load(i,l){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(d,g)=>{this._loaded=!0,d?this.fire(new a.ErrorEvent(d)):g&&(this.image=g,i&&(this.coordinates=i),l&&l(),this._finishLoading())})}loaded(){return this._loaded}updateImage(i){return this.image&&i.url?(this.options.url=i.url,this.load(i.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}setCoordinates(i){this.coordinates=i;const l=i.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(g){let x=1/0,T=1/0,k=-1/0,M=-1/0;for(const $ of g)x=Math.min(x,$.x),T=Math.min(T,$.y),k=Math.max(k,$.x),M=Math.max(M,$.y);const R=Math.max(k-x,M-T),O=Math.max(0,Math.floor(-Math.log(R)/Math.LN2)),W=Math.pow(2,O);return new a.CanonicalTileID(O,Math.floor((x+k)/2*W),Math.floor((T+M)/2*W))}(l),this.minzoom=this.maxzoom=this.tileID.z;const d=l.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(d[0].x,d[0].y,0,0),this._boundsArray.emplaceBack(d[1].x,d[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(d[3].x,d[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(d[2].x,d[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,l=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,qe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new he(i,this.image,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE));for(const d in this.tiles){const g=this.tiles[d];g.state!=="loaded"&&(g.state="loaded",g.texture=this.texture)}}loadTile(i,l){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},l(null)):(i.state="errored",l(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class dt extends st{constructor(i,l,d,g){super(i,l,d,g),this.roundZoom=!0,this.type="video",this.options=l}load(){this._loaded=!1;const i=this.options;this.urls=[];for(const l of i.urls)this.urls.push(this.map._requestManager.transformRequest(l,a.ResourceType.Source).url);a.getVideo(this.urls,(l,d)=>{this._loaded=!0,l?this.fire(new a.ErrorEvent(l)):d&&(this.video=d,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const l=this.video.seekable;i<l.start(0)||i>l.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,l=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,qe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new he(i,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE));for(const d in this.tiles){const g=this.tiles[d];g.state!=="loaded"&&(g.state="loaded",g.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Nt extends st{constructor(i,l,d,g){super(i,l,d,g),l.coordinates?Array.isArray(l.coordinates)&&l.coordinates.length===4&&!l.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(T=>typeof T!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${i}`,null,'missing required property "coordinates"'))),l.animate&&typeof l.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),l.canvas?typeof l.canvas=="string"||l.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${i}`,null,'missing required property "canvas"'))),this.options=l,this.animate=l.animate===void 0||l.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const l=this.map.painter.context,d=l.gl;this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,qe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new he(l,this.canvas,d.RGBA,{premultiply:!0});for(const g in this.tiles){const x=this.tiles[g];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const sn={vector:Ti,raster:Dn,"raster-dem":St,geojson:ui,video:dt,image:st,canvas:Nt};function on(f,i){const l=a.create();return a.translate(l,l,[1,1,0]),a.scale(l,l,[.5*f.width,.5*f.height,1]),a.multiply(l,l,f.calculatePosMatrix(i.toUnwrapped()))}function Tn(f,i,l,d,g,x){const T=function(W,$,ue){if(W)for(const se of W){const le=$[se];if(le&&le.source===ue&&le.type==="fill-extrusion")return!0}else for(const se in $){const le=$[se];if(le.source===ue&&le.type==="fill-extrusion")return!0}return!1}(g&&g.layers,i,f.id),k=x.maxPitchScaleFactor(),M=f.tilesIn(d,k,T);M.sort(cn);const R=[];for(const W of M)R.push({wrappedTileID:W.tileID.wrapped().key,queryResults:W.tile.queryRenderedFeatures(i,l,f._state,W.queryGeometry,W.cameraQueryGeometry,W.scale,g,x,k,on(f.transform,W.tileID))});const O=function(W){const $={},ue={};for(const se of W){const le=se.queryResults,xe=se.wrappedTileID,Ae=ue[xe]=ue[xe]||{};for(const Me in le){const de=le[Me],Re=Ae[Me]=Ae[Me]||{},De=$[Me]=$[Me]||[];for(const Ge of de)Re[Ge.featureIndex]||(Re[Ge.featureIndex]=!0,De.push(Ge))}}return $}(R);for(const W in O)O[W].forEach($=>{const ue=$.feature,se=f.getFeatureState(ue.layer["source-layer"],ue.id);ue.source=ue.layer.source,ue.layer["source-layer"]&&(ue.sourceLayer=ue.layer["source-layer"]),ue.state=se});return O}function cn(f,i){const l=f.tileID,d=i.tileID;return l.overscaledZ-d.overscaledZ||l.canonical.y-d.canonical.y||l.wrap-d.wrap||l.canonical.x-d.canonical.x}class gn{constructor(i,l){this.tileID=i,this.uid=a.uniqueId(),this.uses=0,this.tileSize=l,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const l=i+this.timeAdded;l<a.exported.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.textures.forEach(l=>i.saveTileTexture(l)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(i,l,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(g,x){const T={};if(!x)return T;for(const k of g){const M=k.layerIds.map(R=>x.getLayer(R)).filter(Boolean);if(M.length!==0){k.layers=M,k.stateDependentLayerIds&&(k.stateDependentLayers=k.stateDependentLayerIds.map(R=>M.filter(O=>O.id===R)[0]));for(const R of M)T[R.id]=k}}return T}(i.buckets,l.style),this.hasSymbolBuckets=!1;for(const g in this.buckets){const x=this.buckets[g];if(x instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!d)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const g in this.buckets){const x=this.buckets[g];if(x instanceof a.SymbolBucket&&x.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const g in this.buckets){const x=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(g).queryRadius(x))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const d in this.buckets){const g=this.buckets[d];g.uploadPending()&&g.upload(i)}const l=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new he(i,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new he(i,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,l,d,g,x,T,k,M,R,O){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:x,scale:T,tileSize:this.tileSize,pixelPosMatrix:O,transform:M,params:k,queryPadding:this.queryPadding*R},i,l,d):{}}querySourceFeatures(i,l){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const g=d.loadVTLayers(),x=l?l.sourceLayer:"",T=g._geojsonTileLayer||g[x];if(!T)return;const k=a.createFilter(l&&l.filter),{z:M,x:R,y:O}=this.tileID.canonical,W={z:M,x:R,y:O};for(let $=0;$<T.length;$++){const ue=T.feature($);if(k.needGeometry){const xe=a.toEvaluationFeature(ue,!0);if(!k.filter(new a.EvaluationParameters(this.tileID.overscaledZ),xe,this.tileID.canonical))continue}else if(!k.filter(new a.EvaluationParameters(this.tileID.overscaledZ),ue))continue;const se=d.getId(ue,x),le=new a.GeoJSONFeature(ue,M,R,O,se);le.tile=W,i.push(le)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const l=this.expirationTime;if(i.cacheControl){const d=a.parseCacheControl(i.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const d=Date.now();let g=!1;if(this.expirationTime>d)g=!1;else if(l)if(this.expirationTime<l)g=!0;else{const x=this.expirationTime-l;x?this.expirationTime=d+Math.max(x,3e4):g=!0}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const d=this.latestFeatureIndex.loadVTLayers();for(const g in this.buckets){if(!l.style.hasLayer(g))continue;const x=this.buckets[g],T=x.layers[0].sourceLayer||"_geojsonTileLayer",k=d[T],M=i[T];if(!k||!M||Object.keys(M).length===0)continue;x.update(M,k,this.imageAtlas&&this.imageAtlas.patternPositions||{});const R=l&&l.style&&l.style.getLayer(g);R&&(this.queryPadding=Math.max(this.queryPadding,R.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=a.exported.now()+i}setDependencies(i,l){const d={};for(const g of l)d[g]=!0;this.dependencies[i]=d}hasDependency(i,l){for(const d of i){const g=this.dependencies[d];if(g){for(const x of l)if(g[x])return!0}}return!1}}class jn{constructor(i,l){this.max=i,this.onRemove=l,this.reset()}reset(){for(const i in this.data)for(const l of this.data[i])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(i,l,d){const g=i.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const x={value:l,timeout:void 0};if(d!==void 0&&(x.timeout=setTimeout(()=>{this.remove(i,x)},d)),this.data[g].push(x),this.order.push(g),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const l=this.data[i].shift();return l.timeout&&clearTimeout(l.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),l.value}getByKey(i){const l=this.data[i];return l?l[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,l){if(!this.has(i))return this;const d=i.wrapped().key,g=l===void 0?0:this.data[d].indexOf(l),x=this.data[d][g];return this.data[d].splice(g,1),x.timeout&&clearTimeout(x.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(x.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(i){const l=[];for(const d in this.data)for(const g of this.data[d])i(g.value)||l.push(g);for(const d of l)this.remove(d.value.tileID,d)}}class ci{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,l,d){const g=String(l);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][g]=this.stateChanges[i][g]||{},a.extend(this.stateChanges[i][g],d),this.deletedStates[i]===null){this.deletedStates[i]={};for(const x in this.state[i])x!==g&&(this.deletedStates[i][x]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][g]===null){this.deletedStates[i][g]={};for(const x in this.state[i][g])d[x]||(this.deletedStates[i][g][x]=null)}else for(const x in d)this.deletedStates[i]&&this.deletedStates[i][g]&&this.deletedStates[i][g][x]===null&&delete this.deletedStates[i][g][x]}removeFeatureState(i,l,d){if(this.deletedStates[i]===null)return;const g=String(l);if(this.deletedStates[i]=this.deletedStates[i]||{},d&&l!==void 0)this.deletedStates[i][g]!==null&&(this.deletedStates[i][g]=this.deletedStates[i][g]||{},this.deletedStates[i][g][d]=null);else if(l!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][g])for(d in this.deletedStates[i][g]={},this.stateChanges[i][g])this.deletedStates[i][g][d]=null;else this.deletedStates[i][g]=null;else this.deletedStates[i]=null}getState(i,l){const d=String(l),g=a.extend({},(this.state[i]||{})[d],(this.stateChanges[i]||{})[d]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const x=this.deletedStates[i][l];if(x===null)return{};for(const T in x)delete g[T]}return g}initializeTileState(i,l){i.setFeatureState(this.state,l)}coalesceChanges(i,l){const d={};for(const g in this.stateChanges){this.state[g]=this.state[g]||{};const x={};for(const T in this.stateChanges[g])this.state[g][T]||(this.state[g][T]={}),a.extend(this.state[g][T],this.stateChanges[g][T]),x[T]=this.state[g][T];d[g]=x}for(const g in this.deletedStates){this.state[g]=this.state[g]||{};const x={};if(this.deletedStates[g]===null)for(const T in this.state[g])x[T]={},this.state[g][T]={};else for(const T in this.deletedStates[g]){if(this.deletedStates[g][T]===null)this.state[g][T]={};else for(const k of Object.keys(this.deletedStates[g][T]))delete this.state[g][T][k];x[T]=this.state[g][T]}d[g]=d[g]||{},a.extend(d[g],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const g in i)i[g].setFeatureState(d,l)}}class Bn extends a.Evented{constructor(i,l,d){super(),this.id=i,this.dispatcher=d,this.on("data",g=>{g.dataType==="source"&&g.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&g.dataType==="source"&&g.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(g,x,T,k){const M=new sn[x.type](g,x,T,k);if(M.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${M.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],M),M}(i,l,d,this),this._tiles={},this._cache=new jn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ci}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const l=this._tiles[i];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,l){return this._source.loadTile(i,l)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){this._source.abortTile&&this._source.abortTile(i,()=>{}),this._source.fire(new a.Event("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const d=this._tiles[l];d.upload(i),d.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(kr).map(i=>i.key)}getRenderableIds(i){const l=[];for(const d in this._tiles)this._isIdRenderable(d,i)&&l.push(this._tiles[d]);return i?l.sort((d,g)=>{const x=d.tileID,T=g.tileID,k=new a.pointGeometry(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),M=new a.pointGeometry(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-T.overscaledZ||M.y-k.y||M.x-k.x}).map(d=>d.tileID.key):l.map(d=>d.tileID).sort(kr).map(d=>d.key)}hasRenderableParent(i){const l=this.findLoadedParent(i,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(i,l){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(l||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(i,"reloading")}}_reloadTile(i,l){const d=this._tiles[i];d&&(d.state!=="loading"&&(d.state=l),this._loadTile(d,this._tileLoaded.bind(this,d,i,l)))}_tileLoaded(i,l,d,g){if(g)return i.state="errored",void(g.status!==404?this._source.fire(new a.ErrorEvent(g,{tile:i})):this.update(this.transform,this.terrain));i.timeAdded=a.exported.now(),d==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(l,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const l=this.getRenderableIds();for(let g=0;g<l.length;g++){const x=l[g];if(i.neighboringTiles&&i.neighboringTiles[x]){const T=this.getTileByID(x);d(i,T),d(T,i)}}function d(g,x){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let T=x.tileID.canonical.x-g.tileID.canonical.x;const k=x.tileID.canonical.y-g.tileID.canonical.y,M=Math.pow(2,g.tileID.canonical.z),R=x.tileID.key;T===0&&k===0||Math.abs(k)>1||(Math.abs(T)>1&&(Math.abs(T+M)===1?T+=M:Math.abs(T-M)===1&&(T-=M)),x.dem&&g.dem&&(g.dem.backfillBorder(x.dem,T,k),g.neighboringTiles&&g.neighboringTiles[R]&&(g.neighboringTiles[R].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,l,d,g){for(const x in this._tiles){let T=this._tiles[x];if(g[x]||!T.hasData()||T.tileID.overscaledZ<=l||T.tileID.overscaledZ>d)continue;let k=T.tileID;for(;T&&T.tileID.overscaledZ>l+1;){const R=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[R.key],T&&T.hasData()&&(k=R)}let M=k;for(;M.overscaledZ>l;)if(M=M.scaledTo(M.overscaledZ-1),i[M.key]){g[k.key]=k;break}}}findLoadedParent(i,l){if(i.key in this._loadedParentTiles){const d=this._loadedParentTiles[i.key];return d&&d.tileID.overscaledZ>=l?d:null}for(let d=i.overscaledZ-1;d>=l;d--){const g=i.scaledTo(d),x=this._getLoadedTile(g);if(x)return x}}_getLoadedTile(i){const l=this._tiles[i.key];return l&&l.hasData()?l:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const l=Math.ceil(i.width/this._source.tileSize)+1,d=Math.ceil(i.height/this._source.tileSize)+1,g=Math.floor(l*d*5),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(x)}handleWrapJump(i){const l=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,l){const d={};for(const g in this._tiles){const x=this._tiles[g];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+l),d[x.tileID.key]=x}this._tiles=d;for(const g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(const g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}update(i,l){if(this.transform=i,this.terrain=l,!this._sourceLoaded||this._paused)return;let d;this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?d=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(R=>new a.OverscaledTileID(R.canonical.z,R.wrap,R.canonical.z,R.canonical.x,R.canonical.y)):(d=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:l}),this._source.hasTile&&(d=d.filter(R=>this._source.hasTile(R)))):d=[];const g=i.coveringZoomLevel(this._source),x=Math.max(g-Bn.maxOverzooming,this._source.minzoom),T=Math.max(g+Bn.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const R={};for(const O of d)if(O.canonical.z>this._source.minzoom){const W=O.scaledTo(O.canonical.z-1);R[W.key]=W;const $=O.scaledTo(Math.max(this._source.minzoom,Math.min(O.canonical.z,5)));R[$.key]=$}d=d.concat(Object.values(R))}const k=this._updateRetainedTiles(d,g);if(ms(this._source.type)){const R={},O={},W=Object.keys(k);for(const $ of W){const ue=k[$],se=this._tiles[$];if(!se||se.fadeEndTime&&se.fadeEndTime<=a.exported.now())continue;const le=this.findLoadedParent(ue,x);le&&(this._addTile(le.tileID),R[le.tileID.key]=le.tileID),O[$]=ue}this._retainLoadedChildren(O,g,T,k);for(const $ in R)k[$]||(this._coveredTiles[$]=!0,k[$]=R[$]);if(l){const $={},ue={};for(const se of d)this._tiles[se.key].hasData()?$[se.key]=se:ue[se.key]=se;for(const se in ue){const le=ue[se].children(this._source.maxzoom);this._tiles[le[0].key]&&this._tiles[le[1].key]&&this._tiles[le[2].key]&&this._tiles[le[3].key]&&($[le[0].key]=k[le[0].key]=le[0],$[le[1].key]=k[le[1].key]=le[1],$[le[2].key]=k[le[2].key]=le[2],$[le[3].key]=k[le[3].key]=le[3],delete ue[se])}for(const se in ue){const le=this.findLoadedParent(ue[se],this._source.minzoom);if(le){$[le.tileID.key]=k[le.tileID.key]=le.tileID;for(const xe in $)$[xe].isChildOf(le.tileID)&&delete $[xe]}}for(const se in this._tiles)$[se]||(this._coveredTiles[se]=!0)}}for(const R in k)this._tiles[R].clearFadeHold();const M=a.keysDifference(this._tiles,k);for(const R of M){const O=this._tiles[R];O.hasSymbolBuckets&&!O.holdingForFade()?O.setHoldDuration(this.map._fadeDuration):O.hasSymbolBuckets&&!O.symbolFadeFinished()||this._removeTile(R)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,l){const d={},g={},x=Math.max(l-Bn.maxOverzooming,this._source.minzoom),T=Math.max(l+Bn.maxUnderzooming,this._source.minzoom),k={};for(const M of i){const R=this._addTile(M);d[M.key]=M,R.hasData()||l<this._source.maxzoom&&(k[M.key]=M)}this._retainLoadedChildren(k,l,T,d);for(const M of i){let R=this._tiles[M.key];if(R.hasData())continue;if(l+1>this._source.maxzoom){const W=M.children(this._source.maxzoom)[0],$=this.getTile(W);if($&&$.hasData()){d[W.key]=W;continue}}else{const W=M.children(this._source.maxzoom);if(d[W[0].key]&&d[W[1].key]&&d[W[2].key]&&d[W[3].key])continue}let O=R.wasRequested();for(let W=M.overscaledZ-1;W>=x;--W){const $=M.scaledTo(W);if(g[$.key]||(g[$.key]=!0,R=this.getTile($),!R&&O&&(R=this._addTile($)),R&&(d[$.key]=$,O=R.wasRequested(),R.hasData())))break}}return d}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const l=[];let d,g=this._tiles[i].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){d=this._loadedParentTiles[g.key];break}l.push(g.key);const x=g.scaledTo(g.overscaledZ-1);if(d=this._getLoadedTile(x),d)break;g=x}for(const x of l)this._loadedParentTiles[x]=d}}_addTile(i){let l=this._tiles[i.key];if(l)return l;l=this._cache.getAndRemove(i),l&&(this._setTileReloadTimer(i.key,l),l.tileID=i,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,l)));const d=l;return l||(l=new gn(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(l,this._tileLoaded.bind(this,l,i.key,l.state))),l.uses++,this._tiles[i.key]=l,d||this._source.fire(new a.Event("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l}_setTileReloadTimer(i,l){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const d=l.getExpiryTimeout();d&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},d))}_removeTile(i){const l=this._tiles[i];l&&(l.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,l,d){const g=[],x=this.transform;if(!x)return g;const T=d?x.getCameraQueryGeometry(i):i,k=i.map(se=>x.pointCoordinate(se,this.terrain)),M=T.map(se=>x.pointCoordinate(se,this.terrain)),R=this.getIds();let O=1/0,W=1/0,$=-1/0,ue=-1/0;for(const se of M)O=Math.min(O,se.x),W=Math.min(W,se.y),$=Math.max($,se.x),ue=Math.max(ue,se.y);for(let se=0;se<R.length;se++){const le=this._tiles[R[se]];if(le.holdingForFade())continue;const xe=le.tileID,Ae=Math.pow(2,x.zoom-le.tileID.overscaledZ),Me=l*le.queryPadding*a.EXTENT/le.tileSize/Ae,de=[xe.getTilePoint(new a.MercatorCoordinate(O,W)),xe.getTilePoint(new a.MercatorCoordinate($,ue))];if(de[0].x-Me<a.EXTENT&&de[0].y-Me<a.EXTENT&&de[1].x+Me>=0&&de[1].y+Me>=0){const Re=k.map(Ge=>xe.getTilePoint(Ge)),De=M.map(Ge=>xe.getTilePoint(Ge));g.push({tile:le,tileID:xe,queryGeometry:Re,cameraQueryGeometry:De,scale:Ae})}}return g}getVisibleCoordinates(i){const l=this.getRenderableIds(i).map(d=>this._tiles[d].tileID);for(const d of l)d.posMatrix=this.transform.calculatePosMatrix(d.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(ms(this._source.type))for(const i in this._tiles){const l=this._tiles[i];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=a.exported.now())return!0}return!1}setFeatureState(i,l,d){this._state.updateState(i=i||"_geojsonTileLayer",l,d)}removeFeatureState(i,l,d){this._state.removeFeatureState(i=i||"_geojsonTileLayer",l,d)}getFeatureState(i,l){return this._state.getState(i=i||"_geojsonTileLayer",l)}setDependencies(i,l,d){const g=this._tiles[i];g&&g.setDependencies(l,d)}reloadTilesForDependencies(i,l){for(const d in this._tiles)this._tiles[d].hasDependency(i,l)&&this._reloadTile(d,"reloading");this._cache.filter(d=>!d.hasDependency(i,l))}}function kr(f,i){const l=Math.abs(2*f.wrap)-+(f.wrap<0),d=Math.abs(2*i.wrap)-+(i.wrap<0);return f.overscaledZ-i.overscaledZ||d-l||i.canonical.y-f.canonical.y||i.canonical.x-f.canonical.x}function ms(f){return f==="raster"||f==="image"||f==="video"}Bn.maxOverzooming=10,Bn.maxUnderzooming=3;const Pr="mapboxgl_preloaded_worker_pool";class oi{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<oi.workerCount;)this.workers.push(new Worker(Ta.workerUrl));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(l=>{l.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Pr]}numActive(){return Object.keys(this.active).length}}const Ni=Math.floor(a.exported.hardwareConcurrency/2);let hi;function Dt(){return hi||(hi=new oi),hi}function mi(f,i){const l={};for(const d in f)d!=="ref"&&(l[d]=f[d]);return a.refProperties.forEach(d=>{d in i&&(l[d]=i[d])}),l}function it(f){f=f.slice();const i=Object.create(null);for(let l=0;l<f.length;l++)i[f[l].id]=f[l];for(let l=0;l<f.length;l++)"ref"in f[l]&&(f[l]=mi(f[l],i[f[l].ref]));return f}oi.workerCount=Math.max(Math.min(Ni,6),1);const Ye={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function pt(f,i,l){l.push({command:Ye.addSource,args:[f,i[f]]})}function Pt(f,i,l){i.push({command:Ye.removeSource,args:[f]}),l[f]=!0}function Yt(f,i,l,d){Pt(f,l,d),pt(f,i,l)}function yn(f,i,l){let d;for(d in f[l])if(Object.prototype.hasOwnProperty.call(f[l],d)&&d!=="data"&&!V(f[l][d],i[l][d]))return!1;for(d in i[l])if(Object.prototype.hasOwnProperty.call(i[l],d)&&d!=="data"&&!V(f[l][d],i[l][d]))return!1;return!0}function an(f,i,l,d,g,x){let T;for(T in i=i||{},f=f||{})Object.prototype.hasOwnProperty.call(f,T)&&(V(f[T],i[T])||l.push({command:x,args:[d,T,i[T],g]}));for(T in i)Object.prototype.hasOwnProperty.call(i,T)&&!Object.prototype.hasOwnProperty.call(f,T)&&(V(f[T],i[T])||l.push({command:x,args:[d,T,i[T],g]}))}function dn(f){return f.id}function bn(f,i){return f[i.id]=i,f}class kn{constructor(i,l){this.reset(i,l)}reset(i,l){this.points=i||[],this._distances=[0];for(let d=1;d<this.points.length;d++)this._distances[d]=this._distances[d-1]+this.points[d].dist(this.points[d-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=a.clamp(i,0,1);let l=1,d=this._distances[l];const g=i*this.paddedLength+this.padding;for(;d<g&&l<this._distances.length;)d=this._distances[++l];const x=l-1,T=this._distances[x],k=d-T,M=k>0?(g-T)/k:0;return this.points[x].mult(1-M).add(this.points[l].mult(M))}}function ze(f,i){let l=!0;return f==="always"||f!=="never"&&i!=="never"||(l=!1),l}class lt{constructor(i,l,d){const g=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(i/d),this.yCellCount=Math.ceil(l/d);for(let T=0;T<this.xCellCount*this.yCellCount;T++)g.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=l,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,l,d,g,x){this._forEachCell(l,d,g,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(x)}insertCircle(i,l,d,g){this._forEachCell(l-g,d-g,l+g,d+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(l),this.circles.push(d),this.circles.push(g)}_insertBoxCell(i,l,d,g,x,T){this.boxCells[x].push(T)}_insertCircleCell(i,l,d,g,x,T){this.circleCells[x].push(T)}_query(i,l,d,g,x,T,k){if(d<0||i>this.width||g<0||l>this.height)return[];const M=[];if(i<=0&&l<=0&&this.width<=d&&this.height<=g){if(x)return[{key:null,x1:i,y1:l,x2:d,y2:g}];for(let R=0;R<this.boxKeys.length;R++)M.push({key:this.boxKeys[R],x1:this.bboxes[4*R],y1:this.bboxes[4*R+1],x2:this.bboxes[4*R+2],y2:this.bboxes[4*R+3]});for(let R=0;R<this.circleKeys.length;R++){const O=this.circles[3*R],W=this.circles[3*R+1],$=this.circles[3*R+2];M.push({key:this.circleKeys[R],x1:O-$,y1:W-$,x2:O+$,y2:W+$})}}else this._forEachCell(i,l,d,g,this._queryCell,M,{hitTest:x,overlapMode:T,seenUids:{box:{},circle:{}}},k);return M}query(i,l,d,g){return this._query(i,l,d,g,!1,null)}hitTest(i,l,d,g,x,T){return this._query(i,l,d,g,!0,x,T).length>0}hitTestCircle(i,l,d,g,x){const T=i-d,k=i+d,M=l-d,R=l+d;if(k<0||T>this.width||R<0||M>this.height)return!1;const O=[];return this._forEachCell(T,M,k,R,this._queryCellCircle,O,{hitTest:!0,overlapMode:g,circle:{x:i,y:l,radius:d},seenUids:{box:{},circle:{}}},x),O.length>0}_queryCell(i,l,d,g,x,T,k,M){const{seenUids:R,hitTest:O,overlapMode:W}=k,$=this.boxCells[x];if($!==null){const se=this.bboxes;for(const le of $)if(!R.box[le]){R.box[le]=!0;const xe=4*le,Ae=this.boxKeys[le];if(i<=se[xe+2]&&l<=se[xe+3]&&d>=se[xe+0]&&g>=se[xe+1]&&(!M||M(Ae))&&(!O||!ze(W,Ae.overlapMode))&&(T.push({key:Ae,x1:se[xe],y1:se[xe+1],x2:se[xe+2],y2:se[xe+3]}),O))return!0}}const ue=this.circleCells[x];if(ue!==null){const se=this.circles;for(const le of ue)if(!R.circle[le]){R.circle[le]=!0;const xe=3*le,Ae=this.circleKeys[le];if(this._circleAndRectCollide(se[xe],se[xe+1],se[xe+2],i,l,d,g)&&(!M||M(Ae))&&(!O||!ze(W,Ae.overlapMode))){const Me=se[xe],de=se[xe+1],Re=se[xe+2];if(T.push({key:Ae,x1:Me-Re,y1:de-Re,x2:Me+Re,y2:de+Re}),O)return!0}}}return!1}_queryCellCircle(i,l,d,g,x,T,k,M){const{circle:R,seenUids:O,overlapMode:W}=k,$=this.boxCells[x];if($!==null){const se=this.bboxes;for(const le of $)if(!O.box[le]){O.box[le]=!0;const xe=4*le,Ae=this.boxKeys[le];if(this._circleAndRectCollide(R.x,R.y,R.radius,se[xe+0],se[xe+1],se[xe+2],se[xe+3])&&(!M||M(Ae))&&!ze(W,Ae.overlapMode))return T.push(!0),!0}}const ue=this.circleCells[x];if(ue!==null){const se=this.circles;for(const le of ue)if(!O.circle[le]){O.circle[le]=!0;const xe=3*le,Ae=this.circleKeys[le];if(this._circlesCollide(se[xe],se[xe+1],se[xe+2],R.x,R.y,R.radius)&&(!M||M(Ae))&&!ze(W,Ae.overlapMode))return T.push(!0),!0}}}_forEachCell(i,l,d,g,x,T,k,M){const R=this._convertToXCellCoord(i),O=this._convertToYCellCoord(l),W=this._convertToXCellCoord(d),$=this._convertToYCellCoord(g);for(let ue=R;ue<=W;ue++)for(let se=O;se<=$;se++)if(x.call(this,i,l,d,g,this.xCellCount*se+ue,T,k,M))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,l,d,g,x,T){const k=g-i,M=x-l,R=d+T;return R*R>k*k+M*M}_circleAndRectCollide(i,l,d,g,x,T,k){const M=(T-g)/2,R=Math.abs(i-(g+M));if(R>M+d)return!1;const O=(k-x)/2,W=Math.abs(l-(x+O));if(W>O+d)return!1;if(R<=M||W<=O)return!0;const $=R-M,ue=W-O;return $*$+ue*ue<=d*d}}function Hi(f,i,l,d,g){const x=a.create();return i?(a.scale(x,x,[1/g,1/g,1]),l||a.rotateZ(x,x,d.angle)):a.multiply(x,d.labelPlaneMatrix,f),x}function di(f,i,l,d,g){if(i){const x=a.clone(f);return a.scale(x,x,[g,g,1]),l||a.rotateZ(x,x,-d.angle),x}return d.glCoordMatrix}function et(f,i,l){let d;l?(d=[f.x,f.y,l(f.x,f.y),1],a.transformMat4(d,d,i)):(d=[f.x,f.y,0,1],_i(d,d,i));const g=d[3];return{point:new a.pointGeometry(d[0]/g,d[1]/g),signedDistanceFromCamera:g}}function Ft(f,i){return .5+f/i*.5}function hn(f,i){const l=f[0]/f[3],d=f[1]/f[3];return l>=-i[0]&&l<=i[0]&&d>=-i[1]&&d<=i[1]}function Sn(f,i,l,d,g,x,T,k,M,R){const O=d?f.textSizeData:f.iconSizeData,W=a.evaluateSizeForZoom(O,l.transform.zoom),$=[256/l.width*2+1,256/l.height*2+1],ue=d?f.text.dynamicLayoutVertexArray:f.icon.dynamicLayoutVertexArray;ue.clear();const se=f.lineVertexArray,le=d?f.text.placedSymbolArray:f.icon.placedSymbolArray,xe=l.transform.width/l.transform.height;let Ae=!1;for(let Me=0;Me<le.length;Me++){const de=le.get(Me);if(de.hidden||de.writingMode===a.WritingMode.vertical&&!Ae){Rt(de.numGlyphs,ue);continue}let Re;if(Ae=!1,R?(Re=[de.anchorX,de.anchorY,R(de.anchorX,de.anchorY),1],a.transformMat4(Re,Re,i)):(Re=[de.anchorX,de.anchorY,0,1],_i(Re,Re,i)),!hn(Re,$)){Rt(de.numGlyphs,ue);continue}const De=Ft(l.transform.cameraToCenterDistance,Re[3]),Ge=a.evaluateSizeForFeature(O,W,de),We=T?Ge/De:Ge*De,ot=new a.pointGeometry(de.anchorX,de.anchorY),Ve=et(ot,g,R).point,Tt={},yt=Vt(de,We,!1,k,i,g,x,f.glyphOffsetArray,se,ue,Ve,ot,Tt,xe,M,R);Ae=yt.useVertical,(yt.notEnoughRoom||Ae||yt.needsFlipping&&Vt(de,We,!0,k,i,g,x,f.glyphOffsetArray,se,ue,Ve,ot,Tt,xe,M,R).notEnoughRoom)&&Rt(de.numGlyphs,ue)}d?f.text.dynamicLayoutVertexBuffer.updateData(ue):f.icon.dynamicLayoutVertexBuffer.updateData(ue)}function Qt(f,i,l,d,g,x,T,k,M,R,O,W,$){const ue=k.glyphStartIndex+k.numGlyphs,se=k.lineStartIndex,le=k.lineStartIndex+k.lineLength,xe=i.getoffsetX(k.glyphStartIndex),Ae=i.getoffsetX(ue-1),Me=Zn(f*xe,l,d,g,x,T,k.segment,se,le,M,R,O,W,$);if(!Me)return null;const de=Zn(f*Ae,l,d,g,x,T,k.segment,se,le,M,R,O,W,$);return de?{first:Me,last:de}:null}function Ze(f,i,l,d){return f===a.WritingMode.horizontal&&Math.abs(l.y-i.y)>Math.abs(l.x-i.x)*d?{useVertical:!0}:(f===a.WritingMode.vertical?i.y<l.y:i.x>l.x)?{needsFlipping:!0}:null}function Vt(f,i,l,d,g,x,T,k,M,R,O,W,$,ue,se,le){const xe=i/24,Ae=f.lineOffsetX*xe,Me=f.lineOffsetY*xe;let de;if(f.numGlyphs>1){const Re=f.glyphStartIndex+f.numGlyphs,De=f.lineStartIndex,Ge=f.lineStartIndex+f.lineLength,We=Qt(xe,k,Ae,Me,l,O,W,f,M,x,$,se,le);if(!We)return{notEnoughRoom:!0};const ot=et(We.first.point,T,le).point,Ve=et(We.last.point,T,le).point;if(d&&!l){const Tt=Ze(f.writingMode,ot,Ve,ue);if(Tt)return Tt}de=[We.first];for(let Tt=f.glyphStartIndex+1;Tt<Re-1;Tt++)de.push(Zn(xe*k.getoffsetX(Tt),Ae,Me,l,O,W,f.segment,De,Ge,M,x,$,se,le));de.push(We.last)}else{if(d&&!l){const De=et(W,g,le).point,Ge=f.lineStartIndex+f.segment+1,We=new a.pointGeometry(M.getx(Ge),M.gety(Ge)),ot=et(We,g,le),Ve=ot.signedDistanceFromCamera>0?ot.point:Ot(W,We,De,1,g,le),Tt=Ze(f.writingMode,De,Ve,ue);if(Tt)return Tt}const Re=Zn(xe*k.getoffsetX(f.glyphStartIndex),Ae,Me,l,O,W,f.segment,f.lineStartIndex,f.lineStartIndex+f.lineLength,M,x,$,se,le);if(!Re)return{notEnoughRoom:!0};de=[Re]}for(const Re of de)a.addDynamicAttributes(R,Re.point,Re.angle);return{}}function Ot(f,i,l,d,g,x){const T=et(f.add(f.sub(i)._unit()),g,x).point,k=l.sub(T);return l.add(k._mult(d/k.mag()))}function Zn(f,i,l,d,g,x,T,k,M,R,O,W,$,ue){const se=d?f-i:f+i;let le=se>0?1:-1,xe=0;d&&(le*=-1,xe=Math.PI),le<0&&(xe+=Math.PI);let Ae=le>0?k+T:k+T+1,Me=g,de=g,Re=0,De=0;const Ge=Math.abs(se),We=[];for(;Re+De<=Ge;){if(Ae+=le,Ae<k||Ae>=M)return null;if(de=Me,We.push(Me),Me=W[Ae],Me===void 0){const Et=new a.pointGeometry(R.getx(Ae),R.gety(Ae)),pn=et(Et,O,ue);if(pn.signedDistanceFromCamera>0)Me=W[Ae]=pn.point;else{const xn=Ae-le;Me=Ot(Re===0?x:new a.pointGeometry(R.getx(xn),R.gety(xn)),Et,de,Ge-Re+1,O,ue)}}Re+=De,De=de.dist(Me)}const ot=(Ge-Re)/De,Ve=Me.sub(de),Tt=Ve.mult(ot)._add(de);Tt._add(Ve._unit()._perp()._mult(l*le));const yt=xe+Math.atan2(Me.y-de.y,Me.x-de.x);return We.push(Tt),{point:Tt,angle:$?yt:0,path:We}}const Ai=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Rt(f,i){for(let l=0;l<f;l++){const d=i.length;i.resize(d+4),i.float32.set(Ai,3*d)}}function _i(f,i,l){const d=i[0],g=i[1];return f[0]=l[0]*d+l[4]*g+l[12],f[1]=l[1]*d+l[5]*g+l[13],f[3]=l[3]*d+l[7]*g+l[15],f}const vn=100;class rr{constructor(i,l=new lt(i.width+200,i.height+200,25),d=new lt(i.width+200,i.height+200,25)){this.transform=i,this.grid=l,this.ignoredGrid=d,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+vn,this.screenBottomBoundary=i.height+vn,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,l,d,g,x,T){const k=this.projectAndGetPerspectiveRatio(g,i.anchorPointX,i.anchorPointY,T),M=d*k.perspectiveRatio,R=i.x1*M+k.point.x,O=i.y1*M+k.point.y,W=i.x2*M+k.point.x,$=i.y2*M+k.point.y;return!this.isInsideGrid(R,O,W,$)||l!=="always"&&this.grid.hitTest(R,O,W,$,l,x)||k.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[R,O,W,$],offscreen:this.isOffscreen(R,O,W,$)}}placeCollisionCircles(i,l,d,g,x,T,k,M,R,O,W,$,ue,se){const le=[],xe=new a.pointGeometry(l.anchorX,l.anchorY),Ae=et(xe,T,se),Me=Ft(this.transform.cameraToCenterDistance,Ae.signedDistanceFromCamera),de=(O?x/Me:x*Me)/a.ONE_EM,Re=et(xe,k,se).point,De=Qt(de,g,l.lineOffsetX*de,l.lineOffsetY*de,!1,Re,xe,l,d,k,{},!1,se);let Ge=!1,We=!1,ot=!0;if(De){const Ve=.5*$*Me+ue,Tt=new a.pointGeometry(-100,-100),yt=new a.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Et=new kn,pn=De.first,xn=De.last;let Ht=[];for(let Rn=pn.path.length-1;Rn>=1;Rn--)Ht.push(pn.path[Rn]);for(let Rn=1;Rn<xn.path.length;Rn++)Ht.push(xn.path[Rn]);const ei=2.5*Ve;if(M){const Rn=Ht.map(Vn=>et(Vn,M,se));Ht=Rn.some(Vn=>Vn.signedDistanceFromCamera<=0)?[]:Rn.map(Vn=>Vn.point)}let ti=[];if(Ht.length>0){const Rn=Ht[0].clone(),Vn=Ht[0].clone();for(let ri=1;ri<Ht.length;ri++)Rn.x=Math.min(Rn.x,Ht[ri].x),Rn.y=Math.min(Rn.y,Ht[ri].y),Vn.x=Math.max(Vn.x,Ht[ri].x),Vn.y=Math.max(Vn.y,Ht[ri].y);ti=Rn.x>=Tt.x&&Vn.x<=yt.x&&Rn.y>=Tt.y&&Vn.y<=yt.y?[Ht]:Vn.x<Tt.x||Rn.x>yt.x||Vn.y<Tt.y||Rn.y>yt.y?[]:a.clipLine([Ht],Tt.x,Tt.y,yt.x,yt.y)}for(const Rn of ti){Et.reset(Rn,.25*Ve);let Vn=0;Vn=Et.length<=.5*Ve?1:Math.ceil(Et.paddedLength/ei)+1;for(let ri=0;ri<Vn;ri++){const or=ri/Math.max(Vn-1,1),Ks=Et.lerp(or),Is=Ks.x+vn,Ys=Ks.y+vn;le.push(Is,Ys,Ve,0);const Ko=Is-Ve,_s=Ys-Ve,Zr=Is+Ve,go=Ys+Ve;if(ot=ot&&this.isOffscreen(Ko,_s,Zr,go),We=We||this.isInsideGrid(Ko,_s,Zr,go),i!=="always"&&this.grid.hitTestCircle(Is,Ys,Ve,i,W)&&(Ge=!0,!R))return{circles:[],offscreen:!1,collisionDetected:Ge}}}}return{circles:!R&&Ge||!We||Me<this.perspectiveRatioCutoff?[]:le,offscreen:ot,collisionDetected:Ge}}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const l=[];let d=1/0,g=1/0,x=-1/0,T=-1/0;for(const O of i){const W=new a.pointGeometry(O.x+vn,O.y+vn);d=Math.min(d,W.x),g=Math.min(g,W.y),x=Math.max(x,W.x),T=Math.max(T,W.y),l.push(W)}const k=this.grid.query(d,g,x,T).concat(this.ignoredGrid.query(d,g,x,T)),M={},R={};for(const O of k){const W=O.key;if(M[W.bucketInstanceId]===void 0&&(M[W.bucketInstanceId]={}),M[W.bucketInstanceId][W.featureIndex])continue;const $=[new a.pointGeometry(O.x1,O.y1),new a.pointGeometry(O.x2,O.y1),new a.pointGeometry(O.x2,O.y2),new a.pointGeometry(O.x1,O.y2)];a.polygonIntersectsPolygon(l,$)&&(M[W.bucketInstanceId][W.featureIndex]=!0,R[W.bucketInstanceId]===void 0&&(R[W.bucketInstanceId]=[]),R[W.bucketInstanceId].push(W.featureIndex))}return R}insertCollisionBox(i,l,d,g,x,T){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:x,collisionGroupID:T,overlapMode:l},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,l,d,g,x,T){const k=d?this.ignoredGrid:this.grid,M={bucketInstanceId:g,featureIndex:x,collisionGroupID:T,overlapMode:l};for(let R=0;R<i.length;R+=4)k.insertCircle(M,i[R],i[R+1],i[R+2])}projectAndGetPerspectiveRatio(i,l,d,g){let x;return g?(x=[l,d,g(l,d),1],a.transformMat4(x,x,i)):(x=[l,d,0,1],_i(x,x,i)),{point:new a.pointGeometry((x[0]/x[3]+1)/2*this.transform.width+vn,(-x[1]/x[3]+1)/2*this.transform.height+vn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/x[3]*.5}}isOffscreen(i,l,d,g){return d<vn||i>=this.screenRightBoundary||g<vn||l>this.screenBottomBoundary}isInsideGrid(i,l,d,g){return d>=0&&i<this.gridRightBoundary&&g>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const i=a.identity([]);return a.translate(i,i,[-100,-100,0]),i}}function gi(f,i,l){return i*(a.EXTENT/(f.tileSize*Math.pow(2,l-f.tileID.overscaledZ)))}class zi{constructor(i,l,d,g){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?l:-l))):g&&d?1:0,this.placed=d}isHidden(){return this.opacity===0&&!this.placed}}class $n{constructor(i,l,d,g,x){this.text=new zi(i?i.text:null,l,d,x),this.icon=new zi(i?i.icon:null,l,g,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Lo{constructor(i,l,d){this.text=i,this.icon=l,this.skipFade=d}}class gs{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class js{constructor(i,l,d,g,x){this.bucketInstanceId=i,this.featureIndex=l,this.sourceLayerIndex=d,this.bucketIndex=g,this.tileID=x}}class ao{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const l=++this.maxGroupID;this.collisionGroups[i]={ID:l,predicate:d=>d.collisionGroupID===l}}return this.collisionGroups[i]}}function Ro(f,i,l,d,g){const{horizontalAlign:x,verticalAlign:T}=a.getAnchorAlignment(f),k=-(x-.5)*i,M=-(T-.5)*l,R=a.evaluateVariableOffset(f,d);return new a.pointGeometry(k+R[0]*g,M+R[1]*g)}function qs(f,i,l,d,g,x){const{x1:T,x2:k,y1:M,y2:R,anchorPointX:O,anchorPointY:W}=f,$=new a.pointGeometry(i,l);return d&&$._rotate(g?x:-x),{x1:T+$.x,y1:M+$.y,x2:k+$.x,y2:R+$.y,anchorPointX:O,anchorPointY:W}}class ne{constructor(i,l,d,g,x){this.transform=i.clone(),this.terrain=l,this.collisionIndex=new rr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new ao(g),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,l,d,g){const x=d.getBucket(l),T=d.latestFeatureIndex;if(!x||!T||l.id!==x.layerIds[0])return;const k=d.collisionBoxArray,M=x.layers[0].layout,R=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),O=d.tileSize/a.EXTENT,W=this.transform.calculatePosMatrix(d.tileID.toUnwrapped()),$=M.get("text-pitch-alignment")==="map",ue=M.get("text-rotation-alignment")==="map",se=gi(d,1,this.transform.zoom),le=Hi(W,$,ue,this.transform,se);let xe=null;if($){const Me=di(W,$,ue,this.transform,se);xe=a.multiply([],this.transform.labelPlaneMatrix,Me)}this.retainedQueryData[x.bucketInstanceId]=new js(x.bucketInstanceId,T,x.sourceLayerIndex,x.index,d.tileID);const Ae={bucket:x,layout:M,posMatrix:W,textLabelPlaneMatrix:le,labelToScreenMatrix:xe,scale:R,textPixelRatio:O,holdingForFade:d.holdingForFade(),collisionBoxArray:k,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(g)for(const Me of x.sortKeyRanges){const{sortKey:de,symbolInstanceStart:Re,symbolInstanceEnd:De}=Me;i.push({sortKey:de,symbolInstanceStart:Re,symbolInstanceEnd:De,parameters:Ae})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:Ae})}attemptAnchorPlacement(i,l,d,g,x,T,k,M,R,O,W,$,ue,se,le,xe){const Ae=[$.textOffset0,$.textOffset1],Me=Ro(i,d,g,Ae,x),de=this.collisionIndex.placeCollisionBox(qs(l,Me.x,Me.y,T,k,this.transform.angle),W,M,R,O.predicate,xe);if((!le||this.collisionIndex.placeCollisionBox(qs(le,Me.x,Me.y,T,k,this.transform.angle),W,M,R,O.predicate,xe).box.length!==0)&&de.box.length>0){let Re;if(this.prevPlacement&&this.prevPlacement.variableOffsets[$.crossTileID]&&this.prevPlacement.placements[$.crossTileID]&&this.prevPlacement.placements[$.crossTileID].text&&(Re=this.prevPlacement.variableOffsets[$.crossTileID].anchor),$.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[$.crossTileID]={textOffset:Ae,width:d,height:g,anchor:i,textBoxScale:x,prevAnchor:Re},this.markUsedJustification(ue,i,$,se),ue.allowVerticalPlacement&&(this.markUsedOrientation(ue,se,$),this.placedOrientations[$.crossTileID]=se),{shift:Me,placedGlyphBoxes:de}}}placeLayerBucketPart(i,l,d){const{bucket:g,layout:x,posMatrix:T,textLabelPlaneMatrix:k,labelToScreenMatrix:M,textPixelRatio:R,holdingForFade:O,collisionBoxArray:W,partiallyEvaluatedTextSize:$,collisionGroup:ue}=i.parameters,se=x.get("text-optional"),le=x.get("icon-optional"),xe=a.getOverlapMode(x,"text-overlap","text-allow-overlap"),Ae=xe==="always",Me=a.getOverlapMode(x,"icon-overlap","icon-allow-overlap"),de=Me==="always",Re=x.get("text-rotation-alignment")==="map",De=x.get("text-pitch-alignment")==="map",Ge=x.get("icon-text-fit")!=="none",We=x.get("symbol-z-order")==="viewport-y",ot=Ae&&(de||!g.hasIconData()||le),Ve=de&&(Ae||!g.hasTextData()||se);!g.collisionArrays&&W&&g.deserializeCollisionBoxes(W);const Tt=(yt,Et)=>{if(l[yt.crossTileID])return;if(O)return void(this.placements[yt.crossTileID]=new Lo(!1,!1,!1));let pn=!1,xn=!1,Ht=!0,ei=null,ti={box:null,offscreen:null},Rn={box:null,offscreen:null},Vn=null,ri=null,or=null,Ks=0,Is=0,Ys=0;Et.textFeatureIndex?Ks=Et.textFeatureIndex:yt.useRuntimeCollisionCircles&&(Ks=yt.featureIndex),Et.verticalTextFeatureIndex&&(Is=Et.verticalTextFeatureIndex);const Ko=this.retainedQueryData[g.bucketInstanceId].tileID,_s=this.terrain?(er,Cn)=>this.terrain.getElevation(Ko,er,Cn):null;for(const er of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const Cn=Et[er];Cn&&(Cn.elevation=_s?_s(Cn.anchorPointX,Cn.anchorPointY):0)}const Zr=Et.textBox;if(Zr){const er=Qn=>{let ar=a.WritingMode.horizontal;if(g.allowVerticalPlacement&&!Qn&&this.prevPlacement){const lr=this.prevPlacement.placedOrientations[yt.crossTileID];lr&&(this.placedOrientations[yt.crossTileID]=lr,ar=lr,this.markUsedOrientation(g,ar,yt))}return ar},Cn=(Qn,ar)=>{if(g.allowVerticalPlacement&&yt.numVerticalGlyphVertices>0&&Et.verticalTextBox){for(const lr of g.writingModes)if(lr===a.WritingMode.vertical?(ti=ar(),Rn=ti):ti=Qn(),ti&&ti.box&&ti.box.length)break}else ti=Qn()};if(x.get("text-variable-anchor")){let Qn=x.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[yt.crossTileID]){const bi=this.prevPlacement.variableOffsets[yt.crossTileID];Qn.indexOf(bi.anchor)>0&&(Qn=Qn.filter(xs=>xs!==bi.anchor),Qn.unshift(bi.anchor))}const ar=(bi,xs,Aa)=>{const Gc=bi.x2-bi.x1,ll=bi.y2-bi.y1,zd=yt.textBoxScale,Wc=Ge&&Me==="never"?xs:null;let Yo={box:[],offscreen:!1};const Ea=xe!=="never"?2*Qn.length:Qn.length;for(let Ca=0;Ca<Ea;++Ca){const Uu=this.attemptAnchorPlacement(Qn[Ca%Qn.length],bi,Gc,ll,zd,Re,De,R,T,ue,Ca>=Qn.length?xe:"never",yt,g,Aa,Wc,_s);if(Uu&&(Yo=Uu.placedGlyphBoxes,Yo&&Yo.box&&Yo.box.length)){pn=!0,ei=Uu.shift;break}}return Yo};Cn(()=>ar(Zr,Et.iconBox,a.WritingMode.horizontal),()=>{const bi=Et.verticalTextBox;return g.allowVerticalPlacement&&!(ti&&ti.box&&ti.box.length)&&yt.numVerticalGlyphVertices>0&&bi?ar(bi,Et.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),ti&&(pn=ti.box,Ht=ti.offscreen);const lr=er(ti&&ti.box);if(!pn&&this.prevPlacement){const bi=this.prevPlacement.variableOffsets[yt.crossTileID];bi&&(this.variableOffsets[yt.crossTileID]=bi,this.markUsedJustification(g,bi.anchor,yt,lr))}}else{const Qn=(ar,lr)=>{const bi=this.collisionIndex.placeCollisionBox(ar,xe,R,T,ue.predicate,_s);return bi&&bi.box&&bi.box.length&&(this.markUsedOrientation(g,lr,yt),this.placedOrientations[yt.crossTileID]=lr),bi};Cn(()=>Qn(Zr,a.WritingMode.horizontal),()=>{const ar=Et.verticalTextBox;return g.allowVerticalPlacement&&yt.numVerticalGlyphVertices>0&&ar?Qn(ar,a.WritingMode.vertical):{box:null,offscreen:null}}),er(ti&&ti.box&&ti.box.length)}}if(Vn=ti,pn=Vn&&Vn.box&&Vn.box.length>0,Ht=Vn&&Vn.offscreen,yt.useRuntimeCollisionCircles){const er=g.text.placedSymbolArray.get(yt.centerJustifiedTextSymbolIndex),Cn=a.evaluateSizeForFeature(g.textSizeData,$,er),Qn=x.get("text-padding");ri=this.collisionIndex.placeCollisionCircles(xe,er,g.lineVertexArray,g.glyphOffsetArray,Cn,T,k,M,d,De,ue.predicate,yt.collisionCircleDiameter,Qn,_s),ri.circles.length&&ri.collisionDetected&&!d&&a.warnOnce("Collisions detected, but collision boxes are not shown"),pn=Ae||ri.circles.length>0&&!ri.collisionDetected,Ht=Ht&&ri.offscreen}if(Et.iconFeatureIndex&&(Ys=Et.iconFeatureIndex),Et.iconBox){const er=Cn=>{const Qn=Ge&&ei?qs(Cn,ei.x,ei.y,Re,De,this.transform.angle):Cn;return this.collisionIndex.placeCollisionBox(Qn,Me,R,T,ue.predicate,_s)};Rn&&Rn.box&&Rn.box.length&&Et.verticalIconBox?(or=er(Et.verticalIconBox),xn=or.box.length>0):(or=er(Et.iconBox),xn=or.box.length>0),Ht=Ht&&or.offscreen}const go=se||yt.numHorizontalGlyphVertices===0&&yt.numVerticalGlyphVertices===0,Vu=le||yt.numIconVertices===0;if(go||Vu?Vu?go||(xn=xn&&pn):pn=xn&&pn:xn=pn=xn&&pn,pn&&Vn&&Vn.box&&this.collisionIndex.insertCollisionBox(Vn.box,xe,x.get("text-ignore-placement"),g.bucketInstanceId,Rn&&Rn.box&&Is?Is:Ks,ue.ID),xn&&or&&this.collisionIndex.insertCollisionBox(or.box,Me,x.get("icon-ignore-placement"),g.bucketInstanceId,Ys,ue.ID),ri&&(pn&&this.collisionIndex.insertCollisionCircles(ri.circles,xe,x.get("text-ignore-placement"),g.bucketInstanceId,Ks,ue.ID),d)){const er=g.bucketInstanceId;let Cn=this.collisionCircleArrays[er];Cn===void 0&&(Cn=this.collisionCircleArrays[er]=new gs);for(let Qn=0;Qn<ri.circles.length;Qn+=4)Cn.circles.push(ri.circles[Qn+0]),Cn.circles.push(ri.circles[Qn+1]),Cn.circles.push(ri.circles[Qn+2]),Cn.circles.push(ri.collisionDetected?1:0)}if(yt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[yt.crossTileID]=new Lo(pn||ot,xn||Ve,Ht||g.justReloaded),l[yt.crossTileID]=!0};if(We){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const yt=g.getSortedSymbolIndexes(this.transform.angle);for(let Et=yt.length-1;Et>=0;--Et){const pn=yt[Et];Tt(g.symbolInstances.get(pn),g.collisionArrays[pn])}}else for(let yt=i.symbolInstanceStart;yt<i.symbolInstanceEnd;yt++)Tt(g.symbolInstances.get(yt),g.collisionArrays[yt]);if(d&&g.bucketInstanceId in this.collisionCircleArrays){const yt=this.collisionCircleArrays[g.bucketInstanceId];a.invert(yt.invProjMatrix,T),yt.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}markUsedJustification(i,l,d,g){let x;x=g===a.WritingMode.vertical?d.verticalPlacedTextSymbolIndex:{left:d.leftJustifiedTextSymbolIndex,center:d.centerJustifiedTextSymbolIndex,right:d.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(l)];const T=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex,d.verticalPlacedTextSymbolIndex];for(const k of T)k>=0&&(i.text.placedSymbolArray.get(k).crossTileID=x>=0&&k!==x?0:d.crossTileID)}markUsedOrientation(i,l,d){const g=l===a.WritingMode.horizontal||l===a.WritingMode.horizontalOnly?l:0,x=l===a.WritingMode.vertical?l:0,T=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex];for(const k of T)i.text.placedSymbolArray.get(k).placedOrientation=g;d.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(d.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let d=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const g=l?l.symbolFadeChange(i):1,x=l?l.opacities:{},T=l?l.variableOffsets:{},k=l?l.placedOrientations:{};for(const M in this.placements){const R=this.placements[M],O=x[M];O?(this.opacities[M]=new $n(O,g,R.text,R.icon),d=d||R.text!==O.text.placed||R.icon!==O.icon.placed):(this.opacities[M]=new $n(null,g,R.text,R.icon,R.skipFade),d=d||R.text||R.icon)}for(const M in x){const R=x[M];if(!this.opacities[M]){const O=new $n(R,g,!1,!1);O.isHidden()||(this.opacities[M]=O,d=d||R.text.placed||R.icon.placed)}}for(const M in T)this.variableOffsets[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.variableOffsets[M]=T[M]);for(const M in k)this.placedOrientations[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.placedOrientations[M]=k[M]);if(l&&l.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");d?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:i)}updateLayerOpacities(i,l){const d={};for(const g of l){const x=g.getBucket(i);x&&g.latestFeatureIndex&&i.id===x.layerIds[0]&&this.updateBucketOpacities(x,d,g.collisionBoxArray)}}updateBucketOpacities(i,l,d){i.hasTextData()&&i.text.opacityVertexArray.clear(),i.hasIconData()&&i.icon.opacityVertexArray.clear(),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const g=i.layers[0].layout,x=new $n(null,0,!1,!1,!0),T=g.get("text-allow-overlap"),k=g.get("icon-allow-overlap"),M=g.get("text-variable-anchor"),R=g.get("text-rotation-alignment")==="map",O=g.get("text-pitch-alignment")==="map",W=g.get("icon-text-fit")!=="none",$=new $n(null,0,T&&(k||!i.hasIconData()||g.get("icon-optional")),k&&(T||!i.hasTextData()||g.get("text-optional")),!0);!i.collisionArrays&&d&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(d);const ue=(se,le,xe)=>{for(let Ae=0;Ae<le/4;Ae++)se.opacityVertexArray.emplaceBack(xe)};for(let se=0;se<i.symbolInstances.length;se++){const le=i.symbolInstances.get(se),{numHorizontalGlyphVertices:xe,numVerticalGlyphVertices:Ae,crossTileID:Me}=le;let de=this.opacities[Me];l[Me]?de=x:de||(de=$,this.opacities[Me]=de),l[Me]=!0;const Re=le.numIconVertices>0,De=this.placedOrientations[le.crossTileID],Ge=De===a.WritingMode.vertical,We=De===a.WritingMode.horizontal||De===a.WritingMode.horizontalOnly;if(xe>0||Ae>0){const ot=Se(de.text);ue(i.text,xe,Ge?Fe:ot),ue(i.text,Ae,We?Fe:ot);const Ve=de.text.isHidden();[le.rightJustifiedTextSymbolIndex,le.centerJustifiedTextSymbolIndex,le.leftJustifiedTextSymbolIndex].forEach(Et=>{Et>=0&&(i.text.placedSymbolArray.get(Et).hidden=Ve||Ge?1:0)}),le.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(le.verticalPlacedTextSymbolIndex).hidden=Ve||We?1:0);const Tt=this.variableOffsets[le.crossTileID];Tt&&this.markUsedJustification(i,Tt.anchor,le,De);const yt=this.placedOrientations[le.crossTileID];yt&&(this.markUsedJustification(i,"left",le,yt),this.markUsedOrientation(i,yt,le))}if(Re){const ot=Se(de.icon),Ve=!(W&&le.verticalPlacedIconSymbolIndex&&Ge);le.placedIconSymbolIndex>=0&&(ue(i.icon,le.numIconVertices,Ve?ot:Fe),i.icon.placedSymbolArray.get(le.placedIconSymbolIndex).hidden=de.icon.isHidden()),le.verticalPlacedIconSymbolIndex>=0&&(ue(i.icon,le.numVerticalIconVertices,Ve?Fe:ot),i.icon.placedSymbolArray.get(le.verticalPlacedIconSymbolIndex).hidden=de.icon.isHidden())}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const ot=i.collisionArrays[se];if(ot){let Ve=new a.pointGeometry(0,0);if(ot.textBox||ot.verticalTextBox){let yt=!0;if(M){const Et=this.variableOffsets[Me];Et?(Ve=Ro(Et.anchor,Et.width,Et.height,Et.textOffset,Et.textBoxScale),R&&Ve._rotate(O?this.transform.angle:-this.transform.angle)):yt=!1}ot.textBox&&N(i.textCollisionBox.collisionVertexArray,de.text.placed,!yt||Ge,Ve.x,Ve.y),ot.verticalTextBox&&N(i.textCollisionBox.collisionVertexArray,de.text.placed,!yt||We,Ve.x,Ve.y)}const Tt=Boolean(!We&&ot.verticalIconBox);ot.iconBox&&N(i.iconCollisionBox.collisionVertexArray,de.icon.placed,Tt,W?Ve.x:0,W?Ve.y:0),ot.verticalIconBox&&N(i.iconCollisionBox.collisionVertexArray,de.icon.placed,!Tt,W?Ve.x:0,W?Ve.y:0)}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const se=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=se.invProjMatrix,i.placementViewportMatrix=se.viewportMatrix,i.collisionCircleArray=se.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,l){const d=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*d>i}setStale(){this.stale=!0}}function N(f,i,l,d,g){f.emplaceBack(i?1:0,l?1:0,d||0,g||0),f.emplaceBack(i?1:0,l?1:0,d||0,g||0),f.emplaceBack(i?1:0,l?1:0,d||0,g||0),f.emplaceBack(i?1:0,l?1:0,d||0,g||0)}const q=Math.pow(2,25),J=Math.pow(2,24),ee=Math.pow(2,17),fe=Math.pow(2,16),be=Math.pow(2,9),ve=Math.pow(2,8),ge=Math.pow(2,1);function Se(f){if(f.opacity===0&&!f.placed)return 0;if(f.opacity===1&&f.placed)return 4294967295;const i=f.placed?1:0,l=Math.floor(127*f.opacity);return l*q+i*J+l*ee+i*fe+l*be+i*ve+l*ge+i}const Fe=0;class rt{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,l,d,g,x){const T=this._bucketParts;for(;this._currentTileIndex<i.length;)if(l.getBucketParts(T,g,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,T.sort((k,M)=>k.sortKey-M.sortKey));this._currentPartIndex<T.length;)if(l.placeLayerBucketPart(T[this._currentPartIndex],this._seenCrossTileIDs,d),this._currentPartIndex++,x())return!0;return!1}}class Oe{constructor(i,l,d,g,x,T,k,M){this.placement=new ne(i,l,T,k,M),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(i,l,d){const g=a.exported.now(),x=()=>{const T=a.exported.now()-g;return!this._forceFullPlacement&&T>2};for(;this._currentPlacementIndex>=0;){const T=l[i[this._currentPlacementIndex]],k=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=k)&&(!T.maxzoom||T.maxzoom>k)){if(this._inProgressLayer||(this._inProgressLayer=new rt(T)),this._inProgressLayer.continuePlacement(d[T.source],this.placement,this._showCollisionBoxes,T,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const kt=512/a.EXTENT/2;class It{constructor(i,l,d){this.tileID=i,this.indexedSymbolInstances={},this.bucketInstanceId=d;for(let g=0;g<l.length;g++){const x=l.get(g),T=x.key;this.indexedSymbolInstances[T]||(this.indexedSymbolInstances[T]=[]),this.indexedSymbolInstances[T].push({crossTileID:x.crossTileID,coord:this.getScaledCoordinates(x,i)})}}getScaledCoordinates(i,l){const d=kt/Math.pow(2,l.canonical.z-this.tileID.canonical.z);return{x:Math.floor((l.canonical.x*a.EXTENT+i.anchorX)*d),y:Math.floor((l.canonical.y*a.EXTENT+i.anchorY)*d)}}findMatches(i,l,d){const g=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z);for(let x=0;x<i.length;x++){const T=i.get(x);if(T.crossTileID)continue;const k=this.indexedSymbolInstances[T.key];if(!k)continue;const M=this.getScaledCoordinates(T,l);for(const R of k)if(Math.abs(R.coord.x-M.x)<=g&&Math.abs(R.coord.y-M.y)<=g&&!d[R.crossTileID]){d[R.crossTileID]=!0,T.crossTileID=R.crossTileID;break}}}}class xt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Gt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const l=Math.round((i-this.lng)/360);if(l!==0)for(const d in this.indexes){const g=this.indexes[d],x={};for(const T in g){const k=g[T];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+l),x[k.tileID.key]=k}this.indexes[d]=x}this.lng=i}addBucket(i,l,d){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let x=0;x<l.symbolInstances.length;x++)l.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const g=this.usedCrossTileIDs[i.overscaledZ];for(const x in this.indexes){const T=this.indexes[x];if(Number(x)>i.overscaledZ)for(const k in T){const M=T[k];M.tileID.isChildOf(i)&&M.findMatches(l.symbolInstances,i,g)}else{const k=T[i.scaledTo(Number(x)).key];k&&k.findMatches(l.symbolInstances,i,g)}}for(let x=0;x<l.symbolInstances.length;x++){const T=l.symbolInstances.get(x);T.crossTileID||(T.crossTileID=d.generate(),g[T.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new It(i,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(i,l){for(const d in l.indexedSymbolInstances)for(const g of l.indexedSymbolInstances[d])delete this.usedCrossTileIDs[i][g.crossTileID]}removeStaleBuckets(i){let l=!1;for(const d in this.indexes){const g=this.indexes[d];for(const x in g)i[g[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(d,g[x]),delete g[x],l=!0)}return l}}class Jt{constructor(){this.layerIndexes={},this.crossTileIDs=new xt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,l,d){let g=this.layerIndexes[i.id];g===void 0&&(g=this.layerIndexes[i.id]=new Gt);let x=!1;const T={};g.handleWrapJump(d);for(const k of l){const M=k.getBucket(i);M&&i.id===M.layerIds[0]&&(M.bucketInstanceId||(M.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(k.tileID,M,this.crossTileIDs)&&(x=!0),T[M.bucketInstanceId]=!0)}return g.removeStaleBuckets(T)&&(x=!0),x}pruneUnusedLayers(i){const l={};i.forEach(d=>{l[d]=!0});for(const d in this.layerIndexes)l[d]||delete this.layerIndexes[d]}}var Ln=a.createLayout([{name:"a_pos",type:"Int16",components:2}]);class nn extends a.Evented{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=i._cache.max,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const i in this._tiles){const l=this._tiles[i];l.textures.forEach(d=>d.destroy()),l.textures=[]}}update(i,l){this.sourceCache.update(i,l),this._renderableTilesKeys=[];for(const d of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:l}))this._renderableTilesKeys.push(d.key),this._tiles[d.key]||(d.posMatrix=new Float64Array(16),a.ortho(d.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[d.key]=new gn(d,this.tileSize))}removeOutdated(i){const l={};this.renderHistory=this.renderHistory.filter((d,g)=>this.renderHistory.indexOf(d)===g).slice(0,this.renderHistorySize);for(const d of this._renderableTilesKeys)l[d]=!0;for(const d of this.renderHistory)l[d]=!0;for(const d in this._tiles)l[d]||(this._tiles[d].clearTextures(i),delete this._tiles[d])}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const l={};for(const d of this._renderableTilesKeys){const g=this._tiles[d].tileID;if(g.canonical.equals(i.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16),a.ortho(x.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),l[d]=x}else if(g.canonical.isChildOf(i.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16);const T=g.canonical.z-i.canonical.z,k=g.canonical.x-(g.canonical.x>>T<<T),M=g.canonical.y-(g.canonical.y>>T<<T),R=a.EXTENT>>T;a.ortho(x.posMatrix,0,R,0,R,0,1),a.translate(x.posMatrix,x.posMatrix,[-k*R,-M*R,0]),l[d]=x}else if(i.canonical.isChildOf(g.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16);const T=i.canonical.z-g.canonical.z,k=i.canonical.x-(i.canonical.x>>T<<T),M=i.canonical.y-(i.canonical.y>>T<<T),R=a.EXTENT>>T;a.ortho(x.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(x.posMatrix,x.posMatrix,[k*R,M*R,0]),a.scale(x.posMatrix,x.posMatrix,[1/2**T,1/2**T,0]),l[d]=x}}return l}getSourceTile(i,l){const d=this.sourceCache._source;let g=i.overscaledZ-this.deltaZoom;if(g>d.maxzoom&&(g=d.maxzoom),g<d.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(g).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!x||!x.dem)&&l)for(;g>=d.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(i.scaledTo(g--).key);return x}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter(l=>l.timeLoaded>=i)}}class mn{constructor(i,l,d){this.style=i,this.sourceCache=new nn(l),this.options=d,this.exaggeration=typeof d.exaggeration=="number"?d.exaggeration:1,this.elevationOffset=typeof d.elevationOffset=="number"?d.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(i,l,d,g=a.EXTENT){if(!(l>=0&&l<g&&d>=0&&d<g))return this.elevationOffset;let x=0;const T=this.getTerrainData(i);if(T.tile&&T.tile.dem){const k=a.transformMat4$1([],[l/g*a.EXTENT,d/g*a.EXTENT],T.u_terrain_matrix),M=[k[0]*T.tile.dem.dim,k[1]*T.tile.dem.dim],R=[Math.floor(M[0]),Math.floor(M[1])],O=T.tile.dem.get(R[0],R[1]),W=T.tile.dem.get(R[0],R[1]+1),$=T.tile.dem.get(R[0]+1,R[1]),ue=T.tile.dem.get(R[0]+1,R[1]+1);x=a.number(a.number(O,W,M[0]-R[0]),a.number($,ue,M[0]-R[0]),M[1]-R[1])}return x}rememberForRerender(i,l){for(const d in this.sourceCache._tiles){const g=this.sourceCache._tiles[d];(g.tileID.equals(l)||g.tileID.isChildOf(l))&&(i===this.sourceCache.sourceCache.id&&(g.timeLoaded=Date.now()),this._rerender[i]=this._rerender[i]||{},this._rerender[i][g.tileID.key]=!0)}}needsRerender(i,l){return this._rerender[i]&&this._rerender[i][l.key]}clearRerenderCache(){this._rerender={}}getElevation(i,l,d,g=a.EXTENT){return(this.getDEMElevation(i,l,d,g)+this.elevationOffset)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const g=this.style.map.painter.context,x=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new he(g,x,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new he(g,new a.RGBAImage({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const l=this.sourceCache.getSourceTile(i,!0);if(l&&l.dem&&(!l.demTexture||l.needsTerrainPrepare)){const g=this.style.map.painter.context;l.demTexture=this.style.map.painter.getTileTexture(l.dem.stride),l.demTexture?l.demTexture.update(l.dem.getPixels(),{premultiply:!1}):l.demTexture=new he(g,l.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),l.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),l.needsTerrainPrepare=!1}const d=l&&l+l.tileID.key+i.key;if(d&&!this._demMatrixCache[d]){const g=this.sourceCache.sourceCache._source.maxzoom;let x=i.canonical.z-l.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=g?x=i.canonical.z-g:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const T=i.canonical.x-(i.canonical.x>>x<<x),k=i.canonical.y-(i.canonical.y>>x<<x),M=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<x),1/(a.EXTENT<<x),0]);a.translate(M,M,[T*a.EXTENT,k*a.EXTENT,0]),this._demMatrixCache[i.key]={matrix:M,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:l&&l.dem&&l.dem.dim||1,u_terrain_matrix:d?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:l&&l.dem&&l.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(l&&l.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:l}}getRTTFramebuffer(){const i=this.style.map.painter;if(!this._rttFramebuffer){const l=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=i.context.createFramebuffer(l,l,!0),this._rttFramebuffer.depthAttachment.set(i.context.createRenderbuffer(i.context.gl.DEPTH_COMPONENT16,l,l))}return this._rttFramebuffer}getFramebuffer(i){const l=this.style.map.painter,d=l.width/devicePixelRatio,g=l.height/devicePixelRatio;return!this._fbo||this._fbo.width===d&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new he(l.context,{width:d,height:g,data:null},l.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(l.context.gl.NEAREST,l.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new he(l.context,{width:d,height:g,data:null},l.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(l.context.gl.NEAREST,l.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=l.context.createFramebuffer(d,g,!0),this._fbo.depthAttachment.set(l.context.createRenderbuffer(l.context.gl.DEPTH_COMPONENT16,d,g))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const l=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,T=0;x<this._coordsTextureSize;x++)for(let k=0;k<this._coordsTextureSize;k++,T+=4)l[T+0]=255&k,l[T+1]=255&x,l[T+2]=k>>8<<4|x>>8,l[T+3]=0;const d=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(l.buffer)),g=new he(i,d,i.gl.RGBA,{premultiply:!1});return g.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(i){const l=new Uint8Array(4),d=this.style.map.painter,g=d.context,x=g.gl;g.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),x.readPixels(i.x,d.height/devicePixelRatio-i.y-1,1,1,x.RGBA,x.UNSIGNED_BYTE,l),g.bindFramebuffer.set(null);const T=l[0]+(l[2]>>4<<8),k=l[1]+((15&l[2])<<8),M=this.coordsIndex[255-l[3]],R=M&&this.sourceCache.getTileByID(M);if(!R)return null;const O=this._coordsTextureSize,W=(1<<R.tileID.canonical.z)*O;return new a.MercatorCoordinate((R.tileID.canonical.x*O+T)/W,(R.tileID.canonical.y*O+k)/W,this.getElevation(R.tileID,T,k,O))}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.style.map.painter.context,l=new a.PosArray,d=new a.TriangleIndexArray,g=this.meshSize,x=a.EXTENT/g,T=g*g;for(let k=0;k<=g;k++)for(let M=0;M<=g;M++)l.emplaceBack(M*x,k*x);for(let k=0;k<T;k+=g+1)for(let M=0;M<g;M++)d.emplaceBack(M+k,g+M+k+1,g+M+k+2),d.emplaceBack(M+k,g+M+k+2,M+k+1);return this._mesh={indexBuffer:i.createIndexBuffer(d),vertexBuffer:i.createVertexBuffer(l,Ln.members),segments:a.SegmentVector.simpleSegment(0,0,l.length,d.length)},this._mesh}getMinMaxElevation(i){const l=this.getTerrainData(i).tile,d={minElevation:null,maxElevation:null};return l&&l.dem&&(d.minElevation=(l.dem.min+this.elevationOffset)*this.exaggeration,d.maxElevation=(l.dem.max+this.elevationOffset)*this.exaggeration),d}}const Pn=(f,i)=>a.emitValidationErrors(f,i&&i.filter(l=>l.identifier!=="source.canvas")),Xn=a.pick(Ye,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Wn=a.pick(Ye,["setCenter","setZoom","setBearing","setPitch"]),Kn=function(){const f={},i=a.spec.$version;for(const l in a.spec.$root){const d=a.spec.$root[l];if(d.required){let g=null;g=l==="version"?i:d.type==="array"?[]:{},g!=null&&(f[l]=g)}}return f}();class Fi extends a.Evented{constructor(i,l={}){super(),this.map=i,this.dispatcher=new zt(Dt(),this),this.imageManager=new oe,this.imageManager.setEventedParent(this),this.glyphManager=new Ue(i._requestManager,l.localIdeographFontFamily),this.lineAtlas=new qt(256,512),this.crossTileSymbolIndex=new Jt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const d=this;this._rtlTextPluginCallback=Fi.registerForPluginStateChange(g=>{d.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:g.pluginStatus,pluginURL:g.pluginURL},(x,T)=>{if(a.triggerPluginCompletionEvent(x),T&&T.every(k=>k))for(const k in d.sourceCaches)d.sourceCaches[k].reload()})}),this.on("data",g=>{if(g.dataType!=="source"||g.sourceDataType!=="metadata")return;const x=this.sourceCaches[g.sourceId];if(!x)return;const T=x.getSource();if(T&&T.vectorLayerIds)for(const k in this._layers){const M=this._layers[k];M.source===T.id&&this._validateLayer(M)}})}loadURL(i,l={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const d=typeof l.validate!="boolean"||l.validate,g=this.map._requestManager.transformRequest(i,a.ResourceType.Style);this._request=a.getJSON(g,(x,T)=>{this._request=null,x?this.fire(new a.ErrorEvent(x)):T&&this._load(T,d)})}loadJSON(i,l={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(i,l.validate!==!1)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Kn,!1)}_load(i,l){if(l&&Pn(this,a.validateStyle(i)))return;this._loaded=!0,this.stylesheet=i;for(const g in i.sources)this.addSource(g,i.sources[g],{validate:!1});i.sprite?this._loadSprite(i.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(i.glyphs);const d=it(this.stylesheet.layers);this._order=d.map(g=>g.id),this._layers={},this._serializedLayers={};for(let g of d)g=a.createStyleLayer(g),g.setEventedParent(this,{layer:{id:g.id}}),this._layers[g.id]=g,this._serializedLayers[g.id]=g.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ht(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}_loadSprite(i){this._spriteRequest=function(l,d,g,x){let T,k,M;const R=g>1?"@2x":"";let O=a.getJSON(d.transformRequest(d.normalizeSpriteURL(l,R,".json"),a.ResourceType.SpriteJSON),(ue,se)=>{O=null,M||(M=ue,T=se,$())}),W=a.getImage(d.transformRequest(d.normalizeSpriteURL(l,R,".png"),a.ResourceType.SpriteImage),(ue,se)=>{W=null,M||(M=ue,k=se,$())});function $(){if(M)x(M);else if(T&&k){const ue=a.exported.getImageData(k),se={};for(const le in T){const{width:xe,height:Ae,x:Me,y:de,sdf:Re,pixelRatio:De,stretchX:Ge,stretchY:We,content:ot}=T[le],Ve=new a.RGBAImage({width:xe,height:Ae});a.RGBAImage.copy(ue,Ve,{x:Me,y:de},{x:0,y:0},{width:xe,height:Ae}),se[le]={data:Ve,pixelRatio:De,sdf:Re,stretchX:Ge,stretchY:We,content:ot}}x(null,se)}}return{cancel(){O&&(O.cancel(),O=null),W&&(W.cancel(),W=null)}}}(i,this.map._requestManager,this.map.getPixelRatio(),(l,d)=>{if(this._spriteRequest=null,l)this.fire(new a.ErrorEvent(l));else if(d)for(const g in d)this.imageManager.addImage(g,d[g]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(i){const l=this.sourceCaches[i.source];if(!l)return;const d=i.sourceLayer;if(!d)return;const g=l.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(d)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${d}" does not exist on source "${g.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(i){const l=[];for(const d of i){const g=this._layers[d];g.type!=="custom"&&l.push(g.serialize())}return l}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const l=this._changed;if(this._changed){const g=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(g.length||x.length)&&this._updateWorkerLayers(g,x);for(const T in this._updatedSources){const k=this._updatedSources[T];if(k==="reload")this._reloadSource(T);else{if(k!=="clear")throw new Error(`Invalid action ${k}`);this._clearSource(T)}}this._updateTilesForChangedImages();for(const T in this._updatedPaintProps)this._layers[T].updateTransitions(i);this.light.updateTransitions(i),this._resetUpdates()}const d={};for(const g in this.sourceCaches){const x=this.sourceCaches[g];d[g]=x.used,x.used=!1}for(const g of this._order){const x=this._layers[g];x.recalculate(i,this._availableImages),!x.isHidden(i.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const g in d){const x=this.sourceCaches[g];d[g]!==x.used&&x.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(i),this.z=i.zoom,l&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateWorkerLayers(i,l){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(i),removedIds:l})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(i){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),i){const l=this.sourceCaches[i.source];if(!l)throw new Error(`cannot load terrain, because there exists no source with ID: ${i.source}`);this.terrain=new mn(this,l,i),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=d=>{d.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=d=>{d.tile&&(d.sourceId===i.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(d.sourceId,d.tile.tileID)):d.source.type==="geojson"&&this.terrain.rememberForRerender(d.sourceId,d.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new a.Event("terrain",{terrain:i}))}setState(i){if(this._checkLoaded(),Pn(this,a.validateStyle(i)))return!1;(i=a.clone$1(i)).layers=it(i.layers);const l=function(g,x){if(!g)return[{command:Ye.setStyle,args:[x]}];let T=[];try{if(!V(g.version,x.version))return[{command:Ye.setStyle,args:[x]}];V(g.center,x.center)||T.push({command:Ye.setCenter,args:[x.center]}),V(g.zoom,x.zoom)||T.push({command:Ye.setZoom,args:[x.zoom]}),V(g.bearing,x.bearing)||T.push({command:Ye.setBearing,args:[x.bearing]}),V(g.pitch,x.pitch)||T.push({command:Ye.setPitch,args:[x.pitch]}),V(g.sprite,x.sprite)||T.push({command:Ye.setSprite,args:[x.sprite]}),V(g.glyphs,x.glyphs)||T.push({command:Ye.setGlyphs,args:[x.glyphs]}),V(g.transition,x.transition)||T.push({command:Ye.setTransition,args:[x.transition]}),V(g.light,x.light)||T.push({command:Ye.setLight,args:[x.light]});const k={},M=[];(function(O,W,$,ue){let se;for(se in W=W||{},O=O||{})Object.prototype.hasOwnProperty.call(O,se)&&(Object.prototype.hasOwnProperty.call(W,se)||Pt(se,$,ue));for(se in W)Object.prototype.hasOwnProperty.call(W,se)&&(Object.prototype.hasOwnProperty.call(O,se)?V(O[se],W[se])||(O[se].type==="geojson"&&W[se].type==="geojson"&&yn(O,W,se)?$.push({command:Ye.setGeoJSONSourceData,args:[se,W[se].data]}):Yt(se,W,$,ue)):pt(se,W,$))})(g.sources,x.sources,M,k);const R=[];g.layers&&g.layers.forEach(O=>{k[O.source]?T.push({command:Ye.removeLayer,args:[O.id]}):R.push(O)}),T=T.concat(M),function(O,W,$){W=W||[];const ue=(O=O||[]).map(dn),se=W.map(dn),le=O.reduce(bn,{}),xe=W.reduce(bn,{}),Ae=ue.slice(),Me=Object.create(null);let de,Re,De,Ge,We,ot,Ve;for(de=0,Re=0;de<ue.length;de++)De=ue[de],Object.prototype.hasOwnProperty.call(xe,De)?Re++:($.push({command:Ye.removeLayer,args:[De]}),Ae.splice(Ae.indexOf(De,Re),1));for(de=0,Re=0;de<se.length;de++)De=se[se.length-1-de],Ae[Ae.length-1-de]!==De&&(Object.prototype.hasOwnProperty.call(le,De)?($.push({command:Ye.removeLayer,args:[De]}),Ae.splice(Ae.lastIndexOf(De,Ae.length-Re),1)):Re++,ot=Ae[Ae.length-de],$.push({command:Ye.addLayer,args:[xe[De],ot]}),Ae.splice(Ae.length-de,0,De),Me[De]=!0);for(de=0;de<se.length;de++)if(De=se[de],Ge=le[De],We=xe[De],!Me[De]&&!V(Ge,We))if(V(Ge.source,We.source)&&V(Ge["source-layer"],We["source-layer"])&&V(Ge.type,We.type)){for(Ve in an(Ge.layout,We.layout,$,De,null,Ye.setLayoutProperty),an(Ge.paint,We.paint,$,De,null,Ye.setPaintProperty),V(Ge.filter,We.filter)||$.push({command:Ye.setFilter,args:[De,We.filter]}),V(Ge.minzoom,We.minzoom)&&V(Ge.maxzoom,We.maxzoom)||$.push({command:Ye.setLayerZoomRange,args:[De,We.minzoom,We.maxzoom]}),Ge)Object.prototype.hasOwnProperty.call(Ge,Ve)&&Ve!=="layout"&&Ve!=="paint"&&Ve!=="filter"&&Ve!=="metadata"&&Ve!=="minzoom"&&Ve!=="maxzoom"&&(Ve.indexOf("paint.")===0?an(Ge[Ve],We[Ve],$,De,Ve.slice(6),Ye.setPaintProperty):V(Ge[Ve],We[Ve])||$.push({command:Ye.setLayerProperty,args:[De,Ve,We[Ve]]}));for(Ve in We)Object.prototype.hasOwnProperty.call(We,Ve)&&!Object.prototype.hasOwnProperty.call(Ge,Ve)&&Ve!=="layout"&&Ve!=="paint"&&Ve!=="filter"&&Ve!=="metadata"&&Ve!=="minzoom"&&Ve!=="maxzoom"&&(Ve.indexOf("paint.")===0?an(Ge[Ve],We[Ve],$,De,Ve.slice(6),Ye.setPaintProperty):V(Ge[Ve],We[Ve])||$.push({command:Ye.setLayerProperty,args:[De,Ve,We[Ve]]}))}else $.push({command:Ye.removeLayer,args:[De]}),ot=Ae[Ae.lastIndexOf(De)+1],$.push({command:Ye.addLayer,args:[We,ot]})}(R,x.layers,T)}catch(k){console.warn("Unable to compute style diff:",k),T=[{command:Ye.setStyle,args:[x]}]}return T}(this.serialize(),i).filter(g=>!(g.command in Wn));if(l.length===0)return!1;const d=l.filter(g=>!(g.command in Xn));if(d.length>0)throw new Error(`Unimplemented: ${d.map(g=>g.command).join(", ")}.`);return l.forEach(g=>{g.command!=="setTransition"&&this[g.command].apply(this,g.args)}),this.stylesheet=i,!0}addImage(i,l){if(this.getImage(i))return this.fire(new a.ErrorEvent(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,l),this._afterImageUpdated(i)}updateImage(i,l){this.imageManager.updateImage(i,l)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new a.ErrorEvent(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,l,d={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(a.validateStyle.source,`sources.${i}`,l,null,d))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const g=this.sourceCaches[i]=new Bn(i,l,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:g.serialize(),sourceId:i})),g.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const d in this._layers)if(this._layers[d].source===i)return this.fire(new a.ErrorEvent(new Error(`Source "${i}" cannot be removed while layer "${d}" is using it.`)));const l=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],l.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),l.setEventedParent(null),l.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,l){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const d=this.sourceCaches[i].getSource();if(d.type!=="geojson")throw new Error(`geojsonSource.type is ${d.type}, which is !== 'geojson`);d.setData(l),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,l,d={}){this._checkLoaded();const g=i.id;if(this.getLayer(g))return void this.fire(new a.ErrorEvent(new Error(`Layer "${g}" already exists on this map.`)));let x;if(i.type==="custom"){if(Pn(this,a.validateCustomStyleLayer(i)))return;x=a.createStyleLayer(i)}else{if(typeof i.source=="object"&&(this.addSource(g,i.source),i=a.clone$1(i),i=a.extend(i,{source:g})),this._validate(a.validateStyle.layer,`layers.${g}`,i,{arrayIndex:-1},d))return;x=a.createStyleLayer(i),this._validateLayer(x),x.setEventedParent(this,{layer:{id:g}}),this._serializedLayers[x.id]=x.serialize()}const T=l?this._order.indexOf(l):this._order.length;if(l&&T===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${g}" before non-existing layer "${l}".`)));else{if(this._order.splice(T,0,g),this._layerOrderChanged=!0,this._layers[g]=x,this._removedLayers[g]&&x.source&&x.type!=="custom"){const k=this._removedLayers[g];delete this._removedLayers[g],k.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(i,l){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new a.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===l)return;const d=this._order.indexOf(i);this._order.splice(d,1);const g=l?this._order.indexOf(l):this._order.length;l&&g===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${i}" before non-existing layer "${l}".`))):(this._order.splice(g,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const l=this._layers[i];if(!l)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${i}".`)));l.setEventedParent(null);const d=this._order.indexOf(i);this._order.splice(d,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=l,delete this._layers[i],delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],l.onRemove&&l.onRemove(this.map)}getLayer(i){return this._layers[i]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,l,d){this._checkLoaded();const g=this.getLayer(i);g?g.minzoom===l&&g.maxzoom===d||(l!=null&&(g.minzoom=l),d!=null&&(g.maxzoom=d),this._updateLayer(g)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,l,d={}){this._checkLoaded();const g=this.getLayer(i);if(g){if(!V(g.filter,l))return l==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(a.validateStyle.filter,`layers.${g.id}.filter`,l,null,d)||(g.filter=a.clone$1(l),this._updateLayer(g)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return a.clone$1(this.getLayer(i).filter)}setLayoutProperty(i,l,d,g={}){this._checkLoaded();const x=this.getLayer(i);x?V(x.getLayoutProperty(l),d)||(x.setLayoutProperty(l,d,g),this._updateLayer(x)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,l){const d=this.getLayer(i);if(d)return d.getLayoutProperty(l);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,l,d,g={}){this._checkLoaded();const x=this.getLayer(i);x?V(x.getPaintProperty(l),d)||(x.setPaintProperty(l,d,g)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,l){return this.getLayer(i).getPaintProperty(l)}setFeatureState(i,l){this._checkLoaded();const d=i.source,g=i.sourceLayer,x=this.sourceCaches[d];if(x===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)));const T=x.getSource().type;T==="geojson"&&g?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):T!=="vector"||g?(i.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),x.setFeatureState(g,i.id,l)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,l){this._checkLoaded();const d=i.source,g=this.sourceCaches[d];if(g===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)));const x=g.getSource().type,T=x==="vector"?i.sourceLayer:void 0;x!=="vector"||T?l&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(T,i.id,l):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const l=i.source,d=i.sourceLayer,g=this.sourceCaches[l];if(g!==void 0)return g.getSource().type!=="vector"||d?(i.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),g.getFeatureState(d,i.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${l}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,i=>i.serialize()),layers:this._serializeLayers(this._order)},i=>i!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(i){const l=T=>this._layers[T].type==="fill-extrusion",d={},g=[];for(let T=this._order.length-1;T>=0;T--){const k=this._order[T];if(l(k)){d[k]=T;for(const M of i){const R=M[k];if(R)for(const O of R)g.push(O)}}}g.sort((T,k)=>k.intersectionZ-T.intersectionZ);const x=[];for(let T=this._order.length-1;T>=0;T--){const k=this._order[T];if(l(k))for(let M=g.length-1;M>=0;M--){const R=g[M].feature;if(d[R.layer.id]<T)break;x.push(R),g.pop()}else for(const M of i){const R=M[k];if(R)for(const O of R)x.push(O.feature)}}return x}queryRenderedFeatures(i,l,d){l&&l.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",l.filter,null,l);const g={};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const T of l.layers){const k=this._layers[T];if(!k)return this.fire(new a.ErrorEvent(new Error(`The layer '${T}' does not exist in the map's style and cannot be queried for features.`))),[];g[k.source]=!0}}const x=[];l.availableImages=this._availableImages;for(const T in this.sourceCaches)l.layers&&!g[T]||x.push(Tn(this.sourceCaches[T],this._layers,this._serializedLayers,i,l,d));return this.placement&&x.push(function(T,k,M,R,O,W,$){const ue={},se=W.queryRenderedSymbols(R),le=[];for(const xe of Object.keys(se).map(Number))le.push($[xe]);le.sort(cn);for(const xe of le){const Ae=xe.featureIndex.lookupSymbolFeatures(se[xe.bucketInstanceId],k,xe.bucketIndex,xe.sourceLayerIndex,O.filter,O.layers,O.availableImages,T);for(const Me in Ae){const de=ue[Me]=ue[Me]||[],Re=Ae[Me];Re.sort((De,Ge)=>{const We=xe.featureSortOrder;if(We){const ot=We.indexOf(De.featureIndex);return We.indexOf(Ge.featureIndex)-ot}return Ge.featureIndex-De.featureIndex});for(const De of Re)de.push(De)}}for(const xe in ue)ue[xe].forEach(Ae=>{const Me=Ae.feature,de=M[T[xe].source].getFeatureState(Me.layer["source-layer"],Me.id);Me.source=Me.layer.source,Me.layer["source-layer"]&&(Me.sourceLayer=Me.layer["source-layer"]),Me.state=de});return ue}(this._layers,this._serializedLayers,this.sourceCaches,i,l,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(i,l){l&&l.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",l.filter,null,l);const d=this.sourceCaches[i];return d?function(g,x){const T=g.getRenderableIds().map(R=>g.getTileByID(R)),k=[],M={};for(let R=0;R<T.length;R++){const O=T[R],W=O.tileID.canonical.key;M[W]||(M[W]=!0,O.querySourceFeatures(k,x))}return k}(d,l):[]}addSourceType(i,l,d){return Fi.getSourceType(i)?d(new Error(`A source type called "${i}" already exists.`)):(Fi.setSourceType(i,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:l.workerSourceURL},d):d(null,null))}getLight(){return this.light.getLight()}setLight(i,l={}){this._checkLoaded();const d=this.light.getLight();let g=!1;for(const T in i)if(!V(i[T],d[T])){g=!0;break}if(!g)return;const x={now:a.exported.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,l),this.light.updateTransitions(x)}_validate(i,l,d,g,x={}){return(!x||x.validate!==!1)&&Pn(this,i.call(a.validateStyle,a.extend({key:l,style:this.serialize(),value:d,styleSpec:a.spec},g)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const i in this._layers)this._layers[i].setEventedParent(null);for(const i in this.sourceCaches){const l=this.sourceCaches[i];l.setEventedParent(null),l.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const l in this.sourceCaches)this.sourceCaches[l].update(i,this.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,l,d,g,x=!1){let T=!1,k=!1;const M={};for(const R of this._order){const O=this._layers[R];if(O.type!=="symbol")continue;if(!M[O.source]){const $=this.sourceCaches[O.source];M[O.source]=$.getRenderableIds(!0).map(ue=>$.getTileByID(ue)).sort((ue,se)=>se.tileID.overscaledZ-ue.tileID.overscaledZ||(ue.tileID.isLessThan(se.tileID)?-1:1))}const W=this.crossTileSymbolIndex.addLayer(O,M[O.source],i.center.lng);T=T||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||d===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),i.zoom))&&(this.pauseablePlacement=new Oe(i,this.terrain,this._order,x,l,d,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,M),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),k=!0),T&&this.pauseablePlacement.placement.setStale()),k||T)for(const R of this._order){const O=this._layers[R];O.type==="symbol"&&this.placement.updateLayerOpacities(O,M[O.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,l,d){this.imageManager.getImages(l.icons,d),this._updateTilesForChangedImages();const g=this.sourceCaches[l.source];g&&g.setDependencies(l.tileID.key,l.type,l.icons)}getGlyphs(i,l,d){this.glyphManager.getGlyphs(l.stacks,d)}getResource(i,l,d){return a.makeRequest(l,d)}}Fi.getSourceType=function(f){return sn[f]},Fi.setSourceType=function(f,i){sn[f]=i},Fi.registerForPluginStateChange=a.registerForPluginStateChange;var Bo="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const oa={prelude:Hn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Hn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Hn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Hn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Hn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Hn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Hn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Hn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Hn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Hn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Hn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Hn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Hn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Hn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Hn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Hn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Hn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Hn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Hn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Hn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Hn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Hn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Bo),terrainDepth:Hn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Bo),terrainCoords:Hn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Bo)};function Hn(f,i){const l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,d=i.match(/attribute ([\w]+) ([\w]+)/g),g=f.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=x?x.concat(g):g,k={};return{fragmentSource:f=f.replace(l,(M,R,O,W,$)=>(k[$]=!0,R==="define"?`
#ifndef HAS_UNIFORM_u_${$}
varying ${O} ${W} ${$};
#else
uniform ${O} ${W} u_${$};
#endif
`:`
#ifdef HAS_UNIFORM_u_${$}
    ${O} ${W} ${$} = u_${$};
#endif
`)),vertexSource:i=i.replace(l,(M,R,O,W,$)=>{const ue=W==="float"?"vec2":"vec4",se=$.match(/color/)?"color":ue;return k[$]?R==="define"?`
#ifndef HAS_UNIFORM_u_${$}
uniform lowp float u_${$}_t;
attribute ${O} ${ue} a_${$};
varying ${O} ${W} ${$};
#else
uniform ${O} ${W} u_${$};
#endif
`:se==="vec4"?`
#ifndef HAS_UNIFORM_u_${$}
    ${$} = a_${$};
#else
    ${O} ${W} ${$} = u_${$};
#endif
`:`
#ifndef HAS_UNIFORM_u_${$}
    ${$} = unpack_mix_${se}(a_${$}, u_${$}_t);
#else
    ${O} ${W} ${$} = u_${$};
#endif
`:R==="define"?`
#ifndef HAS_UNIFORM_u_${$}
uniform lowp float u_${$}_t;
attribute ${O} ${ue} a_${$};
#else
uniform ${O} ${W} u_${$};
#endif
`:se==="vec4"?`
#ifndef HAS_UNIFORM_u_${$}
    ${O} ${W} ${$} = a_${$};
#else
    ${O} ${W} ${$} = u_${$};
#endif
`:`
#ifndef HAS_UNIFORM_u_${$}
    ${O} ${W} ${$} = unpack_mix_${se}(a_${$}, u_${$}_t);
#else
    ${O} ${W} ${$} = u_${$};
#endif
`}),staticAttributes:d,staticUniforms:T}}class $a{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,l,d,g,x,T,k,M,R){this.context=i;let O=this.boundPaintVertexBuffers.length!==g.length;for(let W=0;!O&&W<g.length;W++)this.boundPaintVertexBuffers[W]!==g[W]&&(O=!0);i.extVertexArrayObject&&this.vao&&this.boundProgram===l&&this.boundLayoutVertexBuffer===d&&!O&&this.boundIndexBuffer===x&&this.boundVertexOffset===T&&this.boundDynamicVertexBuffer===k&&this.boundDynamicVertexBuffer2===M&&this.boundDynamicVertexBuffer3===R?(i.bindVertexArrayOES.set(this.vao),k&&k.bind(),x&&x.dynamicDraw&&x.bind(),M&&M.bind(),R&&R.bind()):this.freshBind(l,d,g,x,T,k,M,R)}freshBind(i,l,d,g,x,T,k,M){let R;const O=i.numAttributes,W=this.context,$=W.gl;if(W.extVertexArrayObject)this.vao&&this.destroy(),this.vao=W.extVertexArrayObject.createVertexArrayOES(),W.bindVertexArrayOES.set(this.vao),R=0,this.boundProgram=i,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=d,this.boundIndexBuffer=g,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=T,this.boundDynamicVertexBuffer2=k,this.boundDynamicVertexBuffer3=M;else{R=W.currentNumAttributes||0;for(let ue=O;ue<R;ue++)$.disableVertexAttribArray(ue)}l.enableAttributes($,i);for(const ue of d)ue.enableAttributes($,i);T&&T.enableAttributes($,i),k&&k.enableAttributes($,i),M&&M.enableAttributes($,i),l.bind(),l.setVertexAttribPointers($,i,x);for(const ue of d)ue.bind(),ue.setVertexAttribPointers($,i,x);T&&(T.bind(),T.setVertexAttribPointers($,i,x)),g&&g.bind(),k&&(k.bind(),k.setVertexAttribPointers($,i,x)),M&&(M.bind(),M.setVertexAttribPointers($,i,x)),W.currentNumAttributes=O}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function No(f){const i=[];for(let l=0;l<f.length;l++){if(f[l]===null)continue;const d=f[l].split(" ");i.push(d.pop())}return i}class Ol{constructor(i,l,d,g,x,T,k){const M=i.gl;this.program=M.createProgram();const R=No(d.staticAttributes),O=g?g.getBinderAttributes():[],W=R.concat(O),$=oa.prelude.staticUniforms?No(oa.prelude.staticUniforms):[],ue=d.staticUniforms?No(d.staticUniforms):[],se=g?g.getBinderUniforms():[],le=$.concat(ue).concat(se),xe=[];for(const We of le)xe.indexOf(We)<0&&xe.push(We);const Ae=g?g.defines():[];T&&Ae.push("#define OVERDRAW_INSPECTOR;"),k&&Ae.push("#define TERRAIN3D;");const Me=Ae.concat(oa.prelude.fragmentSource,d.fragmentSource).join(`
`),de=Ae.concat(oa.prelude.vertexSource,d.vertexSource).join(`
`),Re=M.createShader(M.FRAGMENT_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);M.shaderSource(Re,Me),M.compileShader(Re),M.attachShader(this.program,Re);const De=M.createShader(M.VERTEX_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);M.shaderSource(De,de),M.compileShader(De),M.attachShader(this.program,De),this.attributes={};const Ge={};this.numAttributes=W.length;for(let We=0;We<this.numAttributes;We++)W[We]&&(M.bindAttribLocation(this.program,We,W[We]),this.attributes[W[We]]=We);M.linkProgram(this.program),M.deleteShader(De),M.deleteShader(Re);for(let We=0;We<xe.length;We++){const ot=xe[We];if(ot&&!Ge[ot]){const Ve=M.getUniformLocation(this.program,ot);Ve&&(Ge[ot]=Ve)}}this.fixedUniforms=x(i,Ge),this.terrainUniforms=((We,ot)=>({u_depth:new a.Uniform1i(We,ot.u_depth),u_terrain:new a.Uniform1i(We,ot.u_terrain),u_terrain_dim:new a.Uniform1f(We,ot.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(We,ot.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(We,ot.u_terrain_unpack),u_terrain_offset:new a.Uniform1f(We,ot.u_terrain_offset),u_terrain_exaggeration:new a.Uniform1f(We,ot.u_terrain_exaggeration)}))(i,Ge),this.binderUniforms=g?g.getUniforms(i,Ge):[]}draw(i,l,d,g,x,T,k,M,R,O,W,$,ue,se,le,xe,Ae,Me){const de=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(d),i.setStencilMode(g),i.setColorMode(x),i.setCullFace(T),M){i.activeTexture.set(de.TEXTURE2),de.bindTexture(de.TEXTURE_2D,M.depthTexture),i.activeTexture.set(de.TEXTURE3),de.bindTexture(de.TEXTURE_2D,M.texture);for(const De in this.terrainUniforms)this.terrainUniforms[De].set(M[De])}for(const De in this.fixedUniforms)this.fixedUniforms[De].set(k[De]);le&&le.setUniforms(i,this.binderUniforms,ue,{zoom:se});let Re=0;switch(l){case de.LINES:Re=2;break;case de.TRIANGLES:Re=3;break;case de.LINE_STRIP:Re=1}for(const De of $.get()){const Ge=De.vaos||(De.vaos={});(Ge[R]||(Ge[R]=new $a)).bind(i,this,O,le?le.getPaintVertexBuffers():[],W,De.vertexOffset,xe,Ae,Me),de.drawElements(l,De.primitiveLength*Re,de.UNSIGNED_SHORT,De.primitiveOffset*Re*2)}}}function Pu(f,i,l){const d=1/gi(l,1,i.transform.tileZoom),g=Math.pow(2,l.tileID.overscaledZ),x=l.tileSize*Math.pow(2,i.transform.tileZoom)/g,T=x*(l.tileID.canonical.x+l.tileID.wrap*g),k=x*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_scale:[d,f.fromScale,f.toScale],u_fade:f.t,u_pixel_coord_upper:[T>>16,k>>16],u_pixel_coord_lower:[65535&T,65535&k]}}const Vl=(f,i,l,d)=>{const g=i.style.light,x=g.properties.get("position"),T=[x.x,x.y,x.z],k=a.create$1();g.properties.get("anchor")==="viewport"&&a.fromRotation(k,-i.transform.angle),a.transformMat3(T,T,k);const M=g.properties.get("color");return{u_matrix:f,u_lightpos:T,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[M.r,M.g,M.b],u_vertical_gradient:+l,u_opacity:d}},ts=(f,i,l,d,g,x,T)=>a.extend(Vl(f,i,l,d),Pu(x,i,T),{u_height_factor:-Math.pow(2,g.overscaledZ)/T.tileSize/8}),aa=f=>({u_matrix:f}),lo=(f,i,l,d)=>a.extend(aa(f),Pu(l,i,d)),Iu=(f,i)=>({u_matrix:f,u_world:i}),Mu=(f,i,l,d,g)=>a.extend(lo(f,i,l,d),{u_world:g}),Gs=(f,i,l,d)=>{const g=f.transform;let x,T;if(d.paint.get("circle-pitch-alignment")==="map"){const k=gi(l,1,g.zoom);x=!0,T=[k,k]}else x=!1,T=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(d.paint.get("circle-pitch-scale")==="map"),u_matrix:f.translatePosMatrix(i.posMatrix,l,d.paint.get("circle-translate"),d.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:f.pixelRatio,u_extrude_scale:T}},Ir=(f,i,l)=>{const d=gi(l,1,i.zoom),g=Math.pow(2,i.zoom-l.tileID.overscaledZ),x=l.tileID.overscaleFactor();return{u_matrix:f,u_camera_to_center_distance:i.cameraToCenterDistance,u_pixels_to_tile_units:d,u_extrude_scale:[i.pixelsToGLUnits[0]/(d*g),i.pixelsToGLUnits[1]/(d*g)],u_overscale_factor:x}},uo=(f,i,l=1)=>({u_matrix:f,u_color:i,u_overlay:0,u_overlay_scale:l}),Fo=f=>({u_matrix:f}),la=(f,i,l,d)=>({u_matrix:f,u_extrude_scale:gi(i,1,l),u_intensity:d});function ua(f,i){const l=Math.pow(2,i.canonical.z),d=i.canonical.y;return[new a.MercatorCoordinate(0,d/l).toLngLat().lat,new a.MercatorCoordinate(0,(d+1)/l).toLngLat().lat]}const ys=(f,i,l,d)=>{const g=f.transform;return{u_matrix:ha(f,i,l,d),u_ratio:1/gi(i,1,g.zoom),u_device_pixel_ratio:f.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},Xa=(f,i,l,d,g)=>a.extend(ys(f,i,l,g),{u_image:0,u_image_height:d}),Oo=(f,i,l,d,g)=>{const x=f.transform,T=pi(i,x);return{u_matrix:ha(f,i,l,g),u_texsize:i.imageAtlasTexture.size,u_ratio:1/gi(i,1,x.zoom),u_device_pixel_ratio:f.pixelRatio,u_image:0,u_scale:[T,d.fromScale,d.toScale],u_fade:d.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},ca=(f,i,l,d,g,x)=>{const T=f.lineAtlas,k=pi(i,f.transform),M=l.layout.get("line-cap")==="round",R=T.getDash(d.from,M),O=T.getDash(d.to,M),W=R.width*g.fromScale,$=O.width*g.toScale;return a.extend(ys(f,i,l,x),{u_patternscale_a:[k/W,-R.height/2],u_patternscale_b:[k/$,-O.height/2],u_sdfgamma:T.width/(256*Math.min(W,$)*f.pixelRatio)/2,u_image:0,u_tex_y_a:R.y,u_tex_y_b:O.y,u_mix:g.t})};function pi(f,i){return 1/gi(f,1,i.tileZoom)}function ha(f,i,l,d){return f.translatePosMatrix(d?d.posMatrix:i.tileID.posMatrix,i,l.paint.get("line-translate"),l.paint.get("line-translate-anchor"))}const zu=(f,i,l,d,g)=>{return{u_matrix:f,u_tl_parent:i,u_scale_parent:l,u_buffer_scale:1,u_fade_t:d.mix,u_opacity:d.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(T=g.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(x=g.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:Ka(g.paint.get("raster-hue-rotate"))};var x,T};function Ka(f){f*=Math.PI/180;const i=Math.sin(f),l=Math.cos(f);return[(2*l+1)/3,(-Math.sqrt(3)*i-l+1)/3,(Math.sqrt(3)*i-l+1)/3]}const Ul=(f,i,l,d,g,x,T,k,M,R)=>{const O=g.transform;return{u_is_size_zoom_constant:+(f==="constant"||f==="source"),u_is_size_feature_constant:+(f==="constant"||f==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:O.cameraToCenterDistance,u_pitch:O.pitch/360*2*Math.PI,u_rotate_symbol:+l,u_aspect_ratio:O.width/O.height,u_fade_change:g.options.fadeDuration?g.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:T,u_coord_matrix:k,u_is_text:+M,u_pitch_with_map:+d,u_texsize:R,u_texture:0}},Ya=(f,i,l,d,g,x,T,k,M,R,O)=>{const W=g.transform;return a.extend(Ul(f,i,l,d,g,x,T,k,M,R),{u_gamma_scale:d?Math.cos(W._pitch)*W.cameraToCenterDistance:1,u_device_pixel_ratio:g.pixelRatio,u_is_halo:+O})},Du=(f,i,l,d,g,x,T,k,M,R)=>a.extend(Ya(f,i,l,d,g,x,T,k,!0,M,!0),{u_texsize_icon:R,u_texture_icon:1}),Fc=(f,i,l)=>({u_matrix:f,u_opacity:i,u_color:l}),Oc=(f,i,l,d,g,x)=>a.extend(function(T,k,M,R){const O=M.imageManager.getPattern(T.from.toString()),W=M.imageManager.getPattern(T.to.toString()),{width:$,height:ue}=M.imageManager.getPixelSize(),se=Math.pow(2,R.tileID.overscaledZ),le=R.tileSize*Math.pow(2,M.transform.tileZoom)/se,xe=le*(R.tileID.canonical.x+R.tileID.wrap*se),Ae=le*R.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:O.tl,u_pattern_br_a:O.br,u_pattern_tl_b:W.tl,u_pattern_br_b:W.br,u_texsize:[$,ue],u_mix:k.t,u_pattern_size_a:O.displaySize,u_pattern_size_b:W.displaySize,u_scale_a:k.fromScale,u_scale_b:k.toScale,u_tile_units_to_pixels:1/gi(R,1,M.transform.tileZoom),u_pixel_coord_upper:[xe>>16,Ae>>16],u_pixel_coord_lower:[65535&xe,65535&Ae]}}(d,x,l,g),{u_matrix:f,u_opacity:i}),jl={fillExtrusion:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_lightpos:new a.Uniform3f(f,i.u_lightpos),u_lightintensity:new a.Uniform1f(f,i.u_lightintensity),u_lightcolor:new a.Uniform3f(f,i.u_lightcolor),u_vertical_gradient:new a.Uniform1f(f,i.u_vertical_gradient),u_opacity:new a.Uniform1f(f,i.u_opacity)}),fillExtrusionPattern:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_lightpos:new a.Uniform3f(f,i.u_lightpos),u_lightintensity:new a.Uniform1f(f,i.u_lightintensity),u_lightcolor:new a.Uniform3f(f,i.u_lightcolor),u_vertical_gradient:new a.Uniform1f(f,i.u_vertical_gradient),u_height_factor:new a.Uniform1f(f,i.u_height_factor),u_image:new a.Uniform1i(f,i.u_image),u_texsize:new a.Uniform2f(f,i.u_texsize),u_pixel_coord_upper:new a.Uniform2f(f,i.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(f,i.u_pixel_coord_lower),u_scale:new a.Uniform3f(f,i.u_scale),u_fade:new a.Uniform1f(f,i.u_fade),u_opacity:new a.Uniform1f(f,i.u_opacity)}),fill:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix)}),fillPattern:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_image:new a.Uniform1i(f,i.u_image),u_texsize:new a.Uniform2f(f,i.u_texsize),u_pixel_coord_upper:new a.Uniform2f(f,i.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(f,i.u_pixel_coord_lower),u_scale:new a.Uniform3f(f,i.u_scale),u_fade:new a.Uniform1f(f,i.u_fade)}),fillOutline:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_world:new a.Uniform2f(f,i.u_world)}),fillOutlinePattern:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_world:new a.Uniform2f(f,i.u_world),u_image:new a.Uniform1i(f,i.u_image),u_texsize:new a.Uniform2f(f,i.u_texsize),u_pixel_coord_upper:new a.Uniform2f(f,i.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(f,i.u_pixel_coord_lower),u_scale:new a.Uniform3f(f,i.u_scale),u_fade:new a.Uniform1f(f,i.u_fade)}),circle:(f,i)=>({u_camera_to_center_distance:new a.Uniform1f(f,i.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(f,i.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(f,i.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(f,i.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(f,i.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(f,i.u_matrix)}),collisionBox:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_camera_to_center_distance:new a.Uniform1f(f,i.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(f,i.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(f,i.u_extrude_scale),u_overscale_factor:new a.Uniform1f(f,i.u_overscale_factor)}),collisionCircle:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_inv_matrix:new a.UniformMatrix4f(f,i.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(f,i.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(f,i.u_viewport_size)}),debug:(f,i)=>({u_color:new a.UniformColor(f,i.u_color),u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_overlay:new a.Uniform1i(f,i.u_overlay),u_overlay_scale:new a.Uniform1f(f,i.u_overlay_scale)}),clippingMask:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix)}),heatmap:(f,i)=>({u_extrude_scale:new a.Uniform1f(f,i.u_extrude_scale),u_intensity:new a.Uniform1f(f,i.u_intensity),u_matrix:new a.UniformMatrix4f(f,i.u_matrix)}),heatmapTexture:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_world:new a.Uniform2f(f,i.u_world),u_image:new a.Uniform1i(f,i.u_image),u_color_ramp:new a.Uniform1i(f,i.u_color_ramp),u_opacity:new a.Uniform1f(f,i.u_opacity)}),hillshade:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_image:new a.Uniform1i(f,i.u_image),u_latrange:new a.Uniform2f(f,i.u_latrange),u_light:new a.Uniform2f(f,i.u_light),u_shadow:new a.UniformColor(f,i.u_shadow),u_highlight:new a.UniformColor(f,i.u_highlight),u_accent:new a.UniformColor(f,i.u_accent)}),hillshadePrepare:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_image:new a.Uniform1i(f,i.u_image),u_dimension:new a.Uniform2f(f,i.u_dimension),u_zoom:new a.Uniform1f(f,i.u_zoom),u_unpack:new a.Uniform4f(f,i.u_unpack)}),line:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_ratio:new a.Uniform1f(f,i.u_ratio),u_device_pixel_ratio:new a.Uniform1f(f,i.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(f,i.u_units_to_pixels)}),lineGradient:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_ratio:new a.Uniform1f(f,i.u_ratio),u_device_pixel_ratio:new a.Uniform1f(f,i.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(f,i.u_units_to_pixels),u_image:new a.Uniform1i(f,i.u_image),u_image_height:new a.Uniform1f(f,i.u_image_height)}),linePattern:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_texsize:new a.Uniform2f(f,i.u_texsize),u_ratio:new a.Uniform1f(f,i.u_ratio),u_device_pixel_ratio:new a.Uniform1f(f,i.u_device_pixel_ratio),u_image:new a.Uniform1i(f,i.u_image),u_units_to_pixels:new a.Uniform2f(f,i.u_units_to_pixels),u_scale:new a.Uniform3f(f,i.u_scale),u_fade:new a.Uniform1f(f,i.u_fade)}),lineSDF:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_ratio:new a.Uniform1f(f,i.u_ratio),u_device_pixel_ratio:new a.Uniform1f(f,i.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(f,i.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(f,i.u_patternscale_a),u_patternscale_b:new a.Uniform2f(f,i.u_patternscale_b),u_sdfgamma:new a.Uniform1f(f,i.u_sdfgamma),u_image:new a.Uniform1i(f,i.u_image),u_tex_y_a:new a.Uniform1f(f,i.u_tex_y_a),u_tex_y_b:new a.Uniform1f(f,i.u_tex_y_b),u_mix:new a.Uniform1f(f,i.u_mix)}),raster:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_tl_parent:new a.Uniform2f(f,i.u_tl_parent),u_scale_parent:new a.Uniform1f(f,i.u_scale_parent),u_buffer_scale:new a.Uniform1f(f,i.u_buffer_scale),u_fade_t:new a.Uniform1f(f,i.u_fade_t),u_opacity:new a.Uniform1f(f,i.u_opacity),u_image0:new a.Uniform1i(f,i.u_image0),u_image1:new a.Uniform1i(f,i.u_image1),u_brightness_low:new a.Uniform1f(f,i.u_brightness_low),u_brightness_high:new a.Uniform1f(f,i.u_brightness_high),u_saturation_factor:new a.Uniform1f(f,i.u_saturation_factor),u_contrast_factor:new a.Uniform1f(f,i.u_contrast_factor),u_spin_weights:new a.Uniform3f(f,i.u_spin_weights)}),symbolIcon:(f,i)=>({u_is_size_zoom_constant:new a.Uniform1i(f,i.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(f,i.u_is_size_feature_constant),u_size_t:new a.Uniform1f(f,i.u_size_t),u_size:new a.Uniform1f(f,i.u_size),u_camera_to_center_distance:new a.Uniform1f(f,i.u_camera_to_center_distance),u_pitch:new a.Uniform1f(f,i.u_pitch),u_rotate_symbol:new a.Uniform1i(f,i.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(f,i.u_aspect_ratio),u_fade_change:new a.Uniform1f(f,i.u_fade_change),u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(f,i.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(f,i.u_coord_matrix),u_is_text:new a.Uniform1i(f,i.u_is_text),u_pitch_with_map:new a.Uniform1i(f,i.u_pitch_with_map),u_texsize:new a.Uniform2f(f,i.u_texsize),u_texture:new a.Uniform1i(f,i.u_texture)}),symbolSDF:(f,i)=>({u_is_size_zoom_constant:new a.Uniform1i(f,i.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(f,i.u_is_size_feature_constant),u_size_t:new a.Uniform1f(f,i.u_size_t),u_size:new a.Uniform1f(f,i.u_size),u_camera_to_center_distance:new a.Uniform1f(f,i.u_camera_to_center_distance),u_pitch:new a.Uniform1f(f,i.u_pitch),u_rotate_symbol:new a.Uniform1i(f,i.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(f,i.u_aspect_ratio),u_fade_change:new a.Uniform1f(f,i.u_fade_change),u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(f,i.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(f,i.u_coord_matrix),u_is_text:new a.Uniform1i(f,i.u_is_text),u_pitch_with_map:new a.Uniform1i(f,i.u_pitch_with_map),u_texsize:new a.Uniform2f(f,i.u_texsize),u_texture:new a.Uniform1i(f,i.u_texture),u_gamma_scale:new a.Uniform1f(f,i.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(f,i.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(f,i.u_is_halo)}),symbolTextAndIcon:(f,i)=>({u_is_size_zoom_constant:new a.Uniform1i(f,i.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(f,i.u_is_size_feature_constant),u_size_t:new a.Uniform1f(f,i.u_size_t),u_size:new a.Uniform1f(f,i.u_size),u_camera_to_center_distance:new a.Uniform1f(f,i.u_camera_to_center_distance),u_pitch:new a.Uniform1f(f,i.u_pitch),u_rotate_symbol:new a.Uniform1i(f,i.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(f,i.u_aspect_ratio),u_fade_change:new a.Uniform1f(f,i.u_fade_change),u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(f,i.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(f,i.u_coord_matrix),u_is_text:new a.Uniform1i(f,i.u_is_text),u_pitch_with_map:new a.Uniform1i(f,i.u_pitch_with_map),u_texsize:new a.Uniform2f(f,i.u_texsize),u_texsize_icon:new a.Uniform2f(f,i.u_texsize_icon),u_texture:new a.Uniform1i(f,i.u_texture),u_texture_icon:new a.Uniform1i(f,i.u_texture_icon),u_gamma_scale:new a.Uniform1f(f,i.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(f,i.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(f,i.u_is_halo)}),background:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_opacity:new a.Uniform1f(f,i.u_opacity),u_color:new a.UniformColor(f,i.u_color)}),backgroundPattern:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_opacity:new a.Uniform1f(f,i.u_opacity),u_image:new a.Uniform1i(f,i.u_image),u_pattern_tl_a:new a.Uniform2f(f,i.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(f,i.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(f,i.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(f,i.u_pattern_br_b),u_texsize:new a.Uniform2f(f,i.u_texsize),u_mix:new a.Uniform1f(f,i.u_mix),u_pattern_size_a:new a.Uniform2f(f,i.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(f,i.u_pattern_size_b),u_scale_a:new a.Uniform1f(f,i.u_scale_a),u_scale_b:new a.Uniform1f(f,i.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(f,i.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(f,i.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(f,i.u_tile_units_to_pixels)}),terrain:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_texture:new a.Uniform1i(f,i.u_texture)}),terrainDepth:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix)}),terrainCoords:(f,i)=>({u_matrix:new a.UniformMatrix4f(f,i.u_matrix),u_texture:new a.Uniform1i(f,i.u_texture),u_terrain_coords_id:new a.Uniform1f(f,i.u_terrain_coords_id)})};class ql{constructor(i,l,d){this.context=i;const g=i.gl;this.buffer=g.createBuffer(),this.dynamicDraw=Boolean(d),this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const l=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Qa={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class da{constructor(i,l,d,g){this.length=l.length,this.attributes=d,this.itemSize=l.bytesPerElement,this.dynamicDraw=g,this.context=i;const x=i.gl;this.buffer=x.createBuffer(),i.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,l){for(let d=0;d<this.attributes.length;d++){const g=l.attributes[this.attributes[d].name];g!==void 0&&i.enableVertexAttribArray(g)}}setVertexAttribPointers(i,l,d){for(let g=0;g<this.attributes.length;g++){const x=this.attributes[g],T=l.attributes[x.name];T!==void 0&&i.vertexAttribPointer(T,x.components,i[Qa[x.type]],!1,this.itemSize,x.offset+this.itemSize*(d||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Nn{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ja extends Nn{getDefault(){return a.Color.transparent}set(i){const l=this.current;(i.r!==l.r||i.g!==l.g||i.b!==l.b||i.a!==l.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Lu extends Nn{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class Vo extends Nn{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class co extends Nn{getDefault(){return[!0,!0,!0,!0]}set(i){const l=this.current;(i[0]!==l[0]||i[1]!==l[1]||i[2]!==l[2]||i[3]!==l[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Ru extends Nn{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class Mr extends Nn{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class Gl extends Nn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const l=this.current;(i.func!==l.func||i.ref!==l.ref||i.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Ws extends Nn{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const l=this.current;(i[0]!==l[0]||i[1]!==l[1]||i[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class pa extends Nn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;i?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=i,this.dirty=!1}}class fa extends Nn{getDefault(){return[0,1]}set(i){const l=this.current;(i[0]!==l[0]||i[1]!==l[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class Wl extends Nn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;i?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=i,this.dirty=!1}}class el extends Nn{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class Hl extends Nn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;i?l.enable(l.BLEND):l.disable(l.BLEND),this.current=i,this.dirty=!1}}class v extends Nn{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const l=this.current;(i[0]!==l[0]||i[1]!==l[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class b extends Nn{getDefault(){return a.Color.transparent}set(i){const l=this.current;(i.r!==l.r||i.g!==l.g||i.b!==l.b||i.a!==l.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class E extends Nn{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class D extends Nn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;i?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=i,this.dirty=!1}}class j extends Nn{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class G extends Nn{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class X extends Nn{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class _e extends Nn{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class ye extends Nn{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const l=this.current;(i[0]!==l[0]||i[1]!==l[1]||i[2]!==l[2]||i[3]!==l[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Ie extends Nn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class je extends Nn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class at extends Nn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Be extends Nn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Xe extends Nn{getDefault(){return null}set(i){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Wt extends Nn{constructor(i){super(i),this.vao=i.extVertexArrayObject}getDefault(){return null}set(i){this.vao&&(i!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(i),this.current=i,this.dirty=!1)}}class un extends Nn{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class $t extends Nn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class Di extends Nn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class xi extends Nn{constructor(i,l){super(i),this.context=i,this.parent=l}getDefault(){return null}}class Oi extends xi{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Jn extends xi{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class ln{constructor(i,l,d,g){this.context=i,this.width=l,this.height=d;const x=i.gl,T=this.framebuffer=x.createFramebuffer();if(this.colorAttachment=new Oi(i,T),g&&(this.depthAttachment=new Jn(i,T)),x.checkFramebufferStatus(x.FRAMEBUFFER)!==x.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,l=this.colorAttachment.get();if(l&&i.deleteTexture(l),this.depthAttachment){const d=this.depthAttachment.get();d&&i.deleteRenderbuffer(d)}i.deleteFramebuffer(this.framebuffer)}}class An{constructor(i,l,d){this.blendFunction=i,this.blendColor=l,this.mask=d}}An.Replace=[1,0],An.disabled=new An(An.Replace,a.Color.transparent,[!1,!1,!1,!1]),An.unblended=new An(An.Replace,a.Color.transparent,[!0,!0,!0,!0]),An.alphaBlended=new An([1,771],a.Color.transparent,[!0,!0,!0,!0]);class Fn{constructor(i){this.gl=i,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ja(this),this.clearDepth=new Lu(this),this.clearStencil=new Vo(this),this.colorMask=new co(this),this.depthMask=new Ru(this),this.stencilMask=new Mr(this),this.stencilFunc=new Gl(this),this.stencilOp=new Ws(this),this.stencilTest=new pa(this),this.depthRange=new fa(this),this.depthTest=new Wl(this),this.depthFunc=new el(this),this.blend=new Hl(this),this.blendFunc=new v(this),this.blendColor=new b(this),this.blendEquation=new E(this),this.cullFace=new D(this),this.cullFaceSide=new j(this),this.frontFace=new G(this),this.program=new X(this),this.activeTexture=new _e(this),this.viewport=new ye(this),this.bindFramebuffer=new Ie(this),this.bindRenderbuffer=new je(this),this.bindTexture=new at(this),this.bindVertexBuffer=new Be(this),this.bindElementBuffer=new Xe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Wt(this),this.pixelStoreUnpack=new un(this),this.pixelStoreUnpackPremultiplyAlpha=new $t(this),this.pixelStoreUnpackFlipY=new Di(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=i.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(i.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=i.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=i.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,l){return new ql(this,i,l)}createVertexBuffer(i,l,d){return new da(this,i,l,d)}createRenderbuffer(i,l,d){const g=this.gl,x=g.createRenderbuffer();return this.bindRenderbuffer.set(x),g.renderbufferStorage(g.RENDERBUFFER,i,l,d),this.bindRenderbuffer.set(null),x}createFramebuffer(i,l,d){return new ln(this,i,l,d)}clear({color:i,depth:l}){const d=this.gl;let g=0;i&&(g|=d.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),l!==void 0&&(g|=d.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),d.clear(g)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){V(i.blendFunction,An.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class jt{constructor(i,l,d){this.func=i,this.mask=l,this.range=d}}jt.ReadOnly=!1,jt.ReadWrite=!0,jt.disabled=new jt(519,jt.ReadOnly,[0,1]);const Mn=7680;class Yn{constructor(i,l,d,g,x,T){this.test=i,this.ref=l,this.mask=d,this.fail=g,this.depthFail=x,this.pass=T}}Yn.disabled=new Yn({func:519,mask:0},0,0,Mn,Mn,Mn);class zn{constructor(i,l,d){this.enable=i,this.mode=l,this.frontFace=d}}let ns;function jr(f,i,l,d,g,x,T){const k=f.context,M=k.gl,R=f.useProgram("collisionBox"),O=[];let W=0,$=0;for(let de=0;de<d.length;de++){const Re=d[de],De=i.getTile(Re),Ge=De.getBucket(l);if(!Ge)continue;let We=Re.posMatrix;g[0]===0&&g[1]===0||(We=f.translatePosMatrix(Re.posMatrix,De,g,x));const ot=T?Ge.textCollisionBox:Ge.iconCollisionBox,Ve=Ge.collisionCircleArray;if(Ve.length>0){const Tt=a.create(),yt=We;a.mul(Tt,Ge.placementInvProjMatrix,f.transform.glCoordMatrix),a.mul(Tt,Tt,Ge.placementViewportMatrix),O.push({circleArray:Ve,circleOffset:$,transform:yt,invTransform:Tt,coord:Re}),W+=Ve.length/4,$=W}ot&&R.draw(k,M.LINES,jt.disabled,Yn.disabled,f.colorModeForRenderPass(),zn.disabled,Ir(We,f.transform,De),f.style.terrain&&f.style.terrain.getTerrainData(Re),l.id,ot.layoutVertexBuffer,ot.indexBuffer,ot.segments,null,f.transform.zoom,null,null,ot.collisionVertexBuffer)}if(!T||!O.length)return;const ue=f.useProgram("collisionCircle"),se=new a.CollisionCircleLayoutArray;se.resize(4*W),se._trim();let le=0;for(const de of O)for(let Re=0;Re<de.circleArray.length/4;Re++){const De=4*Re,Ge=de.circleArray[De+0],We=de.circleArray[De+1],ot=de.circleArray[De+2],Ve=de.circleArray[De+3];se.emplace(le++,Ge,We,ot,Ve,0),se.emplace(le++,Ge,We,ot,Ve,1),se.emplace(le++,Ge,We,ot,Ve,2),se.emplace(le++,Ge,We,ot,Ve,3)}(!ns||ns.length<2*W)&&(ns=function(de){const Re=2*de,De=new a.QuadTriangleArray;De.resize(Re),De._trim();for(let Ge=0;Ge<Re;Ge++){const We=6*Ge;De.uint16[We+0]=4*Ge+0,De.uint16[We+1]=4*Ge+1,De.uint16[We+2]=4*Ge+2,De.uint16[We+3]=4*Ge+2,De.uint16[We+4]=4*Ge+3,De.uint16[We+5]=4*Ge+0}return De}(W));const xe=k.createIndexBuffer(ns,!0),Ae=k.createVertexBuffer(se,a.collisionCircleLayout.members,!0);for(const de of O){const Re={u_matrix:de.transform,u_inv_matrix:de.invTransform,u_camera_to_center_distance:(Me=f.transform).cameraToCenterDistance,u_viewport_size:[Me.width,Me.height]};ue.draw(k,M.TRIANGLES,jt.disabled,Yn.disabled,f.colorModeForRenderPass(),zn.disabled,Re,f.style.terrain&&f.style.terrain.getTerrainData(de.coord),l.id,Ae,xe,a.SegmentVector.simpleSegment(0,2*de.circleOffset,de.circleArray.length,de.circleArray.length/2),null,f.transform.zoom,null,null,null)}var Me;Ae.destroy(),xe.destroy()}zn.disabled=new zn(!1,1029,2305),zn.backCCW=new zn(!0,1029,2305);const _r=a.identity(new Float32Array(16));function Hs(f,i,l,d,g,x){const{horizontalAlign:T,verticalAlign:k}=a.getAnchorAlignment(f),M=-(T-.5)*i,R=-(k-.5)*l,O=a.evaluateVariableOffset(f,d);return new a.pointGeometry((M/g+O[0])*x,(R/g+O[1])*x)}function zr(f,i,l,d,g,x,T,k,M,R,O){const W=f.text.placedSymbolArray,$=f.text.dynamicLayoutVertexArray,ue=f.icon.dynamicLayoutVertexArray,se={};$.clear();for(let le=0;le<W.length;le++){const xe=W.get(le),Ae=f.allowVerticalPlacement&&!xe.placedOrientation,Me=xe.hidden||!xe.crossTileID||Ae?null:d[xe.crossTileID];if(Me){const de=new a.pointGeometry(xe.anchorX,xe.anchorY),Re=et(de,l?T:x,O),De=Ft(g.cameraToCenterDistance,Re.signedDistanceFromCamera);let Ge=a.evaluateSizeForFeature(f.textSizeData,M,xe)*De/a.ONE_EM;l&&(Ge*=f.tilePixelRatio/k);const{width:We,height:ot,anchor:Ve,textOffset:Tt,textBoxScale:yt}=Me,Et=Hs(Ve,We,ot,Tt,yt,Ge),pn=l?et(de.add(Et),x,O).point:Re.point.add(i?Et.rotate(-g.angle):Et),xn=f.allowVerticalPlacement&&xe.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let Ht=0;Ht<xe.numGlyphs;Ht++)a.addDynamicAttributes($,pn,xn);R&&xe.associatedIconIndex>=0&&(se[xe.associatedIconIndex]={shiftedAnchor:pn,angle:xn})}else Rt(xe.numGlyphs,$)}if(R){ue.clear();const le=f.icon.placedSymbolArray;for(let xe=0;xe<le.length;xe++){const Ae=le.get(xe);if(Ae.hidden)Rt(Ae.numGlyphs,ue);else{const Me=se[xe];if(Me)for(let de=0;de<Ae.numGlyphs;de++)a.addDynamicAttributes(ue,Me.shiftedAnchor,Me.angle);else Rt(Ae.numGlyphs,ue)}}f.icon.dynamicLayoutVertexBuffer.updateData(ue)}f.text.dynamicLayoutVertexBuffer.updateData($)}function Zs(f,i,l){return l.iconsInText&&i?"symbolTextAndIcon":f?"symbolSDF":"symbolIcon"}function ma(f,i,l,d,g,x,T,k,M,R,O,W){const $=f.context,ue=$.gl,se=f.transform,le=k==="map",xe=M==="map",Ae=k!=="viewport"&&l.layout.get("symbol-placement")!=="point",Me=le&&!xe&&!Ae,de=!l.layout.get("symbol-sort-key").isConstant();let Re=!1;const De=f.depthModeForSublayer(0,jt.ReadOnly),Ge=l.layout.get("text-variable-anchor"),We=[];for(const ot of d){const Ve=i.getTile(ot),Tt=Ve.getBucket(l);if(!Tt)continue;const yt=g?Tt.text:Tt.icon;if(!yt||!yt.segments.get().length)continue;const Et=yt.programConfigurations.get(l.id),pn=g||Tt.sdfIcons,xn=g?Tt.textSizeData:Tt.iconSizeData,Ht=xe||se.pitch!==0,ei=f.useProgram(Zs(pn,g,Tt),Et),ti=a.evaluateSizeForZoom(xn,se.zoom),Rn=f.style.terrain&&f.style.terrain.getTerrainData(ot);let Vn,ri,or,Ks,Is=[0,0],Ys=null;if(g){if(ri=Ve.glyphAtlasTexture,or=ue.LINEAR,Vn=Ve.glyphAtlasTexture.size,Tt.iconsInText){Is=Ve.imageAtlasTexture.size,Ys=Ve.imageAtlasTexture;const xs=xn.kind==="composite"||xn.kind==="camera";Ks=Ht||f.options.rotating||f.options.zooming||xs?ue.LINEAR:ue.NEAREST}}else{const xs=l.layout.get("icon-size").constantOr(0)!==1||Tt.iconsNeedLinear;ri=Ve.imageAtlasTexture,or=pn||f.options.rotating||f.options.zooming||xs||Ht?ue.LINEAR:ue.NEAREST,Vn=Ve.imageAtlasTexture.size}const Ko=gi(Ve,1,f.transform.zoom),_s=Hi(ot.posMatrix,xe,le,f.transform,Ko),Zr=di(ot.posMatrix,xe,le,f.transform,Ko),go=Ge&&Tt.hasTextData(),Vu=l.layout.get("icon-text-fit")!=="none"&&go&&Tt.hasIconData();if(Ae){const xs=f.style.terrain?(Gc,ll)=>f.style.terrain.getElevation(ot,Gc,ll):null,Aa=l.layout.get("text-rotation-alignment")==="map";Sn(Tt,ot.posMatrix,f,g,_s,Zr,xe,R,Aa,xs)}const er=f.translatePosMatrix(ot.posMatrix,Ve,x,T),Cn=Ae||g&&Ge||Vu?_r:_s,Qn=f.translatePosMatrix(Zr,Ve,x,T,!0),ar=pn&&l.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let lr;lr=pn?Tt.iconsInText?Du(xn.kind,ti,Me,xe,f,er,Cn,Qn,Vn,Is):Ya(xn.kind,ti,Me,xe,f,er,Cn,Qn,g,Vn,!0):Ul(xn.kind,ti,Me,xe,f,er,Cn,Qn,g,Vn);const bi={program:ei,buffers:yt,uniformValues:lr,atlasTexture:ri,atlasTextureIcon:Ys,atlasInterpolation:or,atlasInterpolationIcon:Ks,isSDF:pn,hasHalo:ar};if(de&&Tt.canOverlap){Re=!0;const xs=yt.segments.get();for(const Aa of xs)We.push({segments:new a.SegmentVector([Aa]),sortKey:Aa.sortKey,state:bi,terrainData:Rn})}else We.push({segments:yt.segments,sortKey:0,state:bi,terrainData:Rn})}Re&&We.sort((ot,Ve)=>ot.sortKey-Ve.sortKey);for(const ot of We){const Ve=ot.state;if($.activeTexture.set(ue.TEXTURE0),Ve.atlasTexture.bind(Ve.atlasInterpolation,ue.CLAMP_TO_EDGE),Ve.atlasTextureIcon&&($.activeTexture.set(ue.TEXTURE1),Ve.atlasTextureIcon&&Ve.atlasTextureIcon.bind(Ve.atlasInterpolationIcon,ue.CLAMP_TO_EDGE)),Ve.isSDF){const Tt=Ve.uniformValues;Ve.hasHalo&&(Tt.u_is_halo=1,is(Ve.buffers,ot.segments,l,f,Ve.program,De,O,W,Tt,ot.terrainData)),Tt.u_is_halo=0}is(Ve.buffers,ot.segments,l,f,Ve.program,De,O,W,Ve.uniformValues,ot.terrainData)}}function is(f,i,l,d,g,x,T,k,M,R){const O=d.context;g.draw(O,O.gl.TRIANGLES,x,T,k,zn.disabled,M,R,l.id,f.layoutVertexBuffer,f.indexBuffer,i,l.paint,d.transform.zoom,f.programConfigurations.get(l.id),f.dynamicLayoutVertexBuffer,f.opacityVertexBuffer)}function ho(f,i,l,d,g,x,T){const k=f.context.gl,M=l.paint.get("fill-pattern"),R=M&&M.constantOr(1),O=l.getCrossfadeParameters();let W,$,ue,se,le;T?($=R&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=k.LINES):($=R?"fillPattern":"fill",W=k.TRIANGLES);for(const xe of d){const Ae=i.getTile(xe);if(R&&!Ae.patternsLoaded())continue;const Me=Ae.getBucket(l);if(!Me)continue;const de=Me.programConfigurations.get(l.id),Re=f.useProgram($,de),De=f.style.terrain&&f.style.terrain.getTerrainData(xe);R&&(f.context.activeTexture.set(k.TEXTURE0),Ae.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),de.updatePaintBuffers(O));const Ge=M.constantOr(null);if(Ge&&Ae.imageAtlas){const Ve=Ae.imageAtlas,Tt=Ve.patternPositions[Ge.to.toString()],yt=Ve.patternPositions[Ge.from.toString()];Tt&&yt&&de.setConstantPatternPositions(Tt,yt)}const We=De?xe:null,ot=f.translatePosMatrix(We?We.posMatrix:xe.posMatrix,Ae,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor"));if(T){se=Me.indexBuffer2,le=Me.segments2;const Ve=[k.drawingBufferWidth,k.drawingBufferHeight];ue=$==="fillOutlinePattern"&&R?Mu(ot,f,O,Ae,Ve):Iu(ot,Ve)}else se=Me.indexBuffer,le=Me.segments,ue=R?lo(ot,f,O,Ae):aa(ot);Re.draw(f.context,W,g,f.stencilModeForClipping(xe),x,zn.disabled,ue,De,l.id,Me.layoutVertexBuffer,se,le,l.paint,f.transform.zoom,de)}}function On(f,i,l,d,g,x,T){const k=f.context,M=k.gl,R=l.paint.get("fill-extrusion-pattern"),O=R.constantOr(1),W=l.getCrossfadeParameters(),$=l.paint.get("fill-extrusion-opacity");for(const ue of d){const se=i.getTile(ue),le=se.getBucket(l);if(!le)continue;const xe=f.style.terrain&&f.style.terrain.getTerrainData(ue),Ae=le.programConfigurations.get(l.id),Me=f.useProgram(O?"fillExtrusionPattern":"fillExtrusion",Ae);O&&(f.context.activeTexture.set(M.TEXTURE0),se.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),Ae.updatePaintBuffers(W));const de=R.constantOr(null);if(de&&se.imageAtlas){const We=se.imageAtlas,ot=We.patternPositions[de.to.toString()],Ve=We.patternPositions[de.from.toString()];ot&&Ve&&Ae.setConstantPatternPositions(ot,Ve)}const Re=f.translatePosMatrix(ue.posMatrix,se,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),De=l.paint.get("fill-extrusion-vertical-gradient"),Ge=O?ts(Re,f,De,$,ue,W,se):Vl(Re,f,De,$);Me.draw(k,k.gl.TRIANGLES,g,x,T,zn.backCCW,Ge,xe,l.id,le.layoutVertexBuffer,le.indexBuffer,le.segments,l.paint,f.transform.zoom,Ae,f.style.terrain&&le.centroidVertexBuffer)}}function Cs(f,i,l,d,g,x,T){const k=f.context,M=k.gl,R=l.fbo;if(!R)return;const O=f.useProgram("hillshade"),W=f.style.terrain&&f.style.terrain.getTerrainData(i);k.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,R.colorAttachment.get()),O.draw(k,M.TRIANGLES,g,x,T,zn.disabled,(($,ue,se,le)=>{const xe=se.paint.get("hillshade-shadow-color"),Ae=se.paint.get("hillshade-highlight-color"),Me=se.paint.get("hillshade-accent-color");let de=se.paint.get("hillshade-illumination-direction")*(Math.PI/180);se.paint.get("hillshade-illumination-anchor")==="viewport"&&(de-=$.transform.angle);const Re=!$.options.moving;return{u_matrix:le?le.posMatrix:$.transform.calculatePosMatrix(ue.tileID.toUnwrapped(),Re),u_image:0,u_latrange:ua(0,ue.tileID),u_light:[se.paint.get("hillshade-exaggeration"),de],u_shadow:xe,u_highlight:Ae,u_accent:Me}})(f,l,d,W?i:null),W,d.id,f.rasterBoundsBuffer,f.quadTriangleIndexBuffer,f.rasterBoundsSegments)}function Zl(f,i,l,d,g,x){const T=f.context,k=T.gl,M=i.dem;if(M&&M.data){const R=M.dim,O=M.stride,W=M.getPixels();if(T.activeTexture.set(k.TEXTURE1),T.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||f.getTileTexture(O),i.demTexture){const ue=i.demTexture;ue.update(W,{premultiply:!1}),ue.bind(k.NEAREST,k.CLAMP_TO_EDGE)}else i.demTexture=new he(T,W,k.RGBA,{premultiply:!1}),i.demTexture.bind(k.NEAREST,k.CLAMP_TO_EDGE);T.activeTexture.set(k.TEXTURE0);let $=i.fbo;if(!$){const ue=new he(T,{width:R,height:R,data:null},k.RGBA);ue.bind(k.LINEAR,k.CLAMP_TO_EDGE),$=i.fbo=T.createFramebuffer(R,R,!0),$.colorAttachment.set(ue.texture)}T.bindFramebuffer.set($.framebuffer),T.viewport.set([0,0,R,R]),f.useProgram("hillshadePrepare").draw(T,k.TRIANGLES,d,g,x,zn.disabled,((ue,se)=>{const le=se.stride,xe=a.create();return a.ortho(xe,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(xe,xe,[0,-a.EXTENT,0]),{u_matrix:xe,u_image:1,u_dimension:[le,le],u_zoom:ue.overscaledZ,u_unpack:se.getUnpackVector()}})(i.tileID,M),null,l.id,f.rasterBoundsBuffer,f.quadTriangleIndexBuffer,f.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function Uo(f,i,l,d,g,x){const T=d.paint.get("raster-fade-duration");if(!x&&T>0){const k=a.exported.now(),M=(k-f.timeAdded)/T,R=i?(k-i.timeAdded)/T:-1,O=l.getSource(),W=g.coveringZoomLevel({tileSize:O.tileSize,roundZoom:O.roundZoom}),$=!i||Math.abs(i.tileID.overscaledZ-W)>Math.abs(f.tileID.overscaledZ-W),ue=$&&f.refreshedUponExpiration?1:a.clamp($?M:1-R,0,1);return f.refreshedUponExpiration&&M>=1&&(f.refreshedUponExpiration=!1),i?{opacity:1,mix:1-ue}:{opacity:ue,mix:0}}return{opacity:1,mix:0}}const tl=new a.Color(1,0,0,1),xr=new a.Color(0,1,0,1),Bu=new a.Color(0,0,1,1),nl=new a.Color(1,0,1,1),Nu=new a.Color(0,1,1,1);function po(f,i,l,d){ks(f,0,i+l/2,f.transform.width,l,d)}function ga(f,i,l,d){ks(f,i-l/2,0,l,f.transform.height,d)}function ks(f,i,l,d,g,x){const T=f.context,k=T.gl;k.enable(k.SCISSOR_TEST),k.scissor(i*f.pixelRatio,l*f.pixelRatio,d*f.pixelRatio,g*f.pixelRatio),T.clear({color:x}),k.disable(k.SCISSOR_TEST)}function Vc(f,i,l){const d=f.context,g=d.gl,x=l.posMatrix,T=f.useProgram("debug"),k=jt.disabled,M=Yn.disabled,R=f.colorModeForRenderPass(),O="$debug",W=f.style.terrain&&f.style.terrain.getTerrainData(l);d.activeTexture.set(g.TEXTURE0),f.emptyTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE);const $=i.getTileByID(l.key).latestRawTileData,ue=Math.floor(($&&$.byteLength||0)/1024),se=i.getTile(l).tileSize,le=512/Math.min(se,512)*(l.overscaledZ/f.transform.zoom)*.5;let xe=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(xe+=` => ${l.overscaledZ}`),function(Ae,Me){Ae.initDebugOverlayCanvas();const de=Ae.debugOverlayCanvas,Re=Ae.context.gl,De=Ae.debugOverlayCanvas.getContext("2d");De.clearRect(0,0,de.width,de.height),De.shadowColor="white",De.shadowBlur=2,De.lineWidth=1.5,De.strokeStyle="white",De.textBaseline="top",De.font="bold 36px Open Sans, sans-serif",De.fillText(Me,5,5),De.strokeText(Me,5,5),Ae.debugOverlayTexture.update(de),Ae.debugOverlayTexture.bind(Re.LINEAR,Re.CLAMP_TO_EDGE)}(f,`${xe} ${ue}kB`),T.draw(d,g.TRIANGLES,k,M,An.alphaBlended,zn.disabled,uo(x,a.Color.transparent,le),null,O,f.debugBuffer,f.quadTriangleIndexBuffer,f.debugSegments),T.draw(d,g.LINE_STRIP,k,M,R,zn.disabled,uo(x,a.Color.red),W,O,f.debugBuffer,f.tileBorderIndexBuffer,f.debugSegments)}function il(f,i,l){const d=f.context,g=d.gl,x=f.colorModeForRenderPass(),T=new jt(g.LEQUAL,jt.ReadWrite,f.depthRangeFor3D),k=f.useProgram("terrain"),M=i.getTerrainMesh(),R=i.getTerrainData(l.tileID);d.bindFramebuffer.set(null),d.viewport.set([0,0,f.width,f.height]),d.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,i.getRTTFramebuffer().colorAttachment.get());const O=f.transform.calculatePosMatrix(l.tileID.toUnwrapped());k.draw(d,g.TRIANGLES,T,Yn.disabled,x,zn.backCCW,{u_matrix:O,u_texture:0},R,"terrain",M.vertexBuffer,M.indexBuffer,M.segments)}function Fu(f,i,l,d){const g=f.context,x=l.tileSize*i.qualityFactor;l.textures[d]||(l.textures[d]=f.getTileTexture(x)||new he(g,{width:x,height:x,data:null},g.gl.RGBA),l.textures[d].bind(g.gl.LINEAR,g.gl.CLAMP_TO_EDGE),d===0&&i.sourceCache.renderHistory.unshift(l.tileID.key));const T=i.getRTTFramebuffer();T.colorAttachment.set(l.textures[d].texture),g.bindFramebuffer.set(T.framebuffer),g.viewport.set([0,0,x,x])}class jo{constructor(i){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=i,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=i.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const i=this.painter.style,l=i.terrain;for(const d in i.sourceCaches){this._coordsDescendingInv[d]={};const g=i.sourceCaches[d].getVisibleCoordinates();for(const x of g){const T=l.sourceCache.getTerrainCoords(x);for(const k in T)this._coordsDescendingInv[d][k]||(this._coordsDescendingInv[d][k]=[]),this._coordsDescendingInv[d][k].push(T[k])}}for(const d of i._order){const g=i._layers[d],x=g.source;if(this._renderToTexture[g.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const T in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][T]=this._coordsDescendingInv[x][T].map(k=>k.key).sort().join()}}return this._renderableTiles.forEach(d=>{for(const g in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[g][d.tileID.key];x&&x!==d.textureCoords[g]&&d.clearTextures(this.painter),l.needsRerender(g,d.tileID)&&d.clearTextures(this.painter)}this._rerender[d.tileID.key]=!d.textures.length}),l.clearRerenderCache(),l.sourceCache.removeOutdated(this.painter),this}renderLayer(i){const l=i.type,d=this.painter,g=d.style._order,x=d.currentLayer,T=x+1===g.length;if(this._renderToTexture[l]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=l,this._stacks[this._stacks.length-1].push(g[x]),!T))return!0;if(this._renderToTexture[this._prevType]||l==="hillshade"||this._renderToTexture[l]&&T){this._prevType=l;const k=this._stacks.length-1,M=this._stacks[k]||[];for(const R of this._renderableTiles){if(Fu(d,d.style.terrain,R,k),this._rerender[R.tileID.key]){d.context.clear({color:a.Color.transparent});for(let O=0;O<M.length;O++){const W=d.style._layers[M[O]],$=W.source?this._coordsDescendingInv[W.source][R.tileID.key]:[R.tileID];d._renderTileClippingMasks(W,$),d.renderLayer(d,d.style.sourceCaches[W.source],W,$),W.source&&(R.textureCoords[W.source]=this._coordsDescendingInvStr[W.source][R.tileID.key])}}il(d,d.style.terrain,R)}if(l==="hillshade"){this._stacks.push([g[x]]);for(const R of this._renderableTiles){const O=this._coordsDescendingInv[i.source][R.tileID.key];Fu(d,d.style.terrain,R,this._stacks.length-1),d.context.clear({color:a.Color.transparent}),d._renderTileClippingMasks(i,O),d.renderLayer(d,d.style.sourceCaches[i.source],i,O),il(d,d.style.terrain,R)}return!0}return this._renderToTexture[l]}return!1}}const ya={symbol:function(f,i,l,d,g){if(f.renderPass!=="translucent")return;const x=Yn.disabled,T=f.colorModeForRenderPass();l.layout.get("text-variable-anchor")&&function(k,M,R,O,W,$,ue){const se=M.transform,le=W==="map",xe=$==="map";for(const Ae of k){const Me=O.getTile(Ae),de=Me.getBucket(R);if(!de||!de.text||!de.text.segments.get().length)continue;const Re=a.evaluateSizeForZoom(de.textSizeData,se.zoom),De=gi(Me,1,M.transform.zoom),Ge=Hi(Ae.posMatrix,xe,le,M.transform,De),We=R.layout.get("icon-text-fit")!=="none"&&de.hasIconData();if(Re){const ot=Math.pow(2,se.zoom-Me.tileID.overscaledZ);zr(de,le,xe,ue,se,Ge,Ae.posMatrix,ot,Re,We,M.style.terrain?(Ve,Tt)=>M.style.terrain.getElevation(Ae,Ve,Tt):null)}}}(d,f,l,i,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),g),l.paint.get("icon-opacity").constantOr(1)!==0&&ma(f,i,l,d,!1,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),l.layout.get("icon-rotation-alignment"),l.layout.get("icon-pitch-alignment"),l.layout.get("icon-keep-upright"),x,T),l.paint.get("text-opacity").constantOr(1)!==0&&ma(f,i,l,d,!0,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),l.layout.get("text-keep-upright"),x,T),i.map.showCollisionBoxes&&(jr(f,i,l,d,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),jr(f,i,l,d,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(f,i,l,d){if(f.renderPass!=="translucent")return;const g=l.paint.get("circle-opacity"),x=l.paint.get("circle-stroke-width"),T=l.paint.get("circle-stroke-opacity"),k=!l.layout.get("circle-sort-key").isConstant();if(g.constantOr(1)===0&&(x.constantOr(1)===0||T.constantOr(1)===0))return;const M=f.context,R=M.gl,O=f.depthModeForSublayer(0,jt.ReadOnly),W=Yn.disabled,$=f.colorModeForRenderPass(),ue=[];for(let se=0;se<d.length;se++){const le=d[se],xe=i.getTile(le),Ae=xe.getBucket(l);if(!Ae)continue;const Me=Ae.programConfigurations.get(l.id),de=f.useProgram("circle",Me),Re=Ae.layoutVertexBuffer,De=Ae.indexBuffer,Ge=f.style.terrain&&f.style.terrain.getTerrainData(le),We={programConfiguration:Me,program:de,layoutVertexBuffer:Re,indexBuffer:De,uniformValues:Gs(f,le,xe,l),terrainData:Ge};if(k){const ot=Ae.segments.get();for(const Ve of ot)ue.push({segments:new a.SegmentVector([Ve]),sortKey:Ve.sortKey,state:We})}else ue.push({segments:Ae.segments,sortKey:0,state:We})}k&&ue.sort((se,le)=>se.sortKey-le.sortKey);for(const se of ue){const{programConfiguration:le,program:xe,layoutVertexBuffer:Ae,indexBuffer:Me,uniformValues:de,terrainData:Re}=se.state;xe.draw(M,R.TRIANGLES,O,W,$,zn.disabled,de,Re,l.id,Ae,Me,se.segments,l.paint,f.transform.zoom,le)}},heatmap:function(f,i,l,d){if(l.paint.get("heatmap-opacity")!==0)if(f.renderPass==="offscreen"){const g=f.context,x=g.gl,T=Yn.disabled,k=new An([x.ONE,x.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(M,R,O){const W=M.gl;M.activeTexture.set(W.TEXTURE1),M.viewport.set([0,0,R.width/4,R.height/4]);let $=O.heatmapFbo;if($)W.bindTexture(W.TEXTURE_2D,$.colorAttachment.get()),M.bindFramebuffer.set($.framebuffer);else{const ue=W.createTexture();W.bindTexture(W.TEXTURE_2D,ue),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.LINEAR),$=O.heatmapFbo=M.createFramebuffer(R.width/4,R.height/4,!1),function(se,le,xe,Ae){const Me=se.gl;Me.texImage2D(Me.TEXTURE_2D,0,Me.RGBA,le.width/4,le.height/4,0,Me.RGBA,se.extRenderToTextureHalfFloat?se.extTextureHalfFloat.HALF_FLOAT_OES:Me.UNSIGNED_BYTE,null),Ae.colorAttachment.set(xe)}(M,R,ue,$)}})(g,f,l),g.clear({color:a.Color.transparent});for(let M=0;M<d.length;M++){const R=d[M];if(i.hasRenderableParent(R))continue;const O=i.getTile(R),W=O.getBucket(l);if(!W)continue;const $=W.programConfigurations.get(l.id),ue=f.useProgram("heatmap",$),{zoom:se}=f.transform;ue.draw(g,x.TRIANGLES,jt.disabled,T,k,zn.disabled,la(R.posMatrix,O,se,l.paint.get("heatmap-intensity")),null,l.id,W.layoutVertexBuffer,W.indexBuffer,W.segments,l.paint,f.transform.zoom,$)}g.viewport.set([0,0,f.width,f.height])}else f.renderPass==="translucent"&&(f.context.setColorMode(f.colorModeForRenderPass()),function(g,x){const T=g.context,k=T.gl,M=x.heatmapFbo;if(!M)return;T.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,M.colorAttachment.get()),T.activeTexture.set(k.TEXTURE1);let R=x.colorRampTexture;R||(R=x.colorRampTexture=new he(T,x.colorRamp,k.RGBA)),R.bind(k.LINEAR,k.CLAMP_TO_EDGE),g.useProgram("heatmapTexture").draw(T,k.TRIANGLES,jt.disabled,Yn.disabled,g.colorModeForRenderPass(),zn.disabled,((O,W,$,ue)=>{const se=a.create();a.ortho(se,0,O.width,O.height,0,0,1);const le=O.context.gl;return{u_matrix:se,u_world:[le.drawingBufferWidth,le.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:W.paint.get("heatmap-opacity")}})(g,x),null,x.id,g.viewportBuffer,g.quadTriangleIndexBuffer,g.viewportSegments,x.paint,g.transform.zoom)}(f,l))},line:function(f,i,l,d){if(f.renderPass!=="translucent")return;const g=l.paint.get("line-opacity"),x=l.paint.get("line-width");if(g.constantOr(1)===0||x.constantOr(1)===0)return;const T=f.depthModeForSublayer(0,jt.ReadOnly),k=f.colorModeForRenderPass(),M=l.paint.get("line-dasharray"),R=l.paint.get("line-pattern"),O=R.constantOr(1),W=l.paint.get("line-gradient"),$=l.getCrossfadeParameters(),ue=O?"linePattern":M?"lineSDF":W?"lineGradient":"line",se=f.context,le=se.gl;let xe=!0;for(const Ae of d){const Me=i.getTile(Ae);if(O&&!Me.patternsLoaded())continue;const de=Me.getBucket(l);if(!de)continue;const Re=de.programConfigurations.get(l.id),De=f.context.program.get(),Ge=f.useProgram(ue,Re),We=xe||Ge.program!==De,ot=f.style.terrain&&f.style.terrain.getTerrainData(Ae),Ve=R.constantOr(null);if(Ve&&Me.imageAtlas){const Et=Me.imageAtlas,pn=Et.patternPositions[Ve.to.toString()],xn=Et.patternPositions[Ve.from.toString()];pn&&xn&&Re.setConstantPatternPositions(pn,xn)}const Tt=ot?Ae:null,yt=O?Oo(f,Me,l,$,Tt):M?ca(f,Me,l,M,$,Tt):W?Xa(f,Me,l,de.lineClipsArray.length,Tt):ys(f,Me,l,Tt);if(O)se.activeTexture.set(le.TEXTURE0),Me.imageAtlasTexture.bind(le.LINEAR,le.CLAMP_TO_EDGE),Re.updatePaintBuffers($);else if(M&&(We||f.lineAtlas.dirty))se.activeTexture.set(le.TEXTURE0),f.lineAtlas.bind(se);else if(W){const Et=de.gradients[l.id];let pn=Et.texture;if(l.gradientVersion!==Et.version){let xn=256;if(l.stepInterpolant){const Ht=i.getSource().maxzoom,ei=Ae.canonical.z===Ht?Math.ceil(1<<f.transform.maxZoom-Ae.canonical.z):1;xn=a.clamp(a.nextPowerOfTwo(de.maxLineLength/a.EXTENT*1024*ei),256,se.maxTextureSize)}Et.gradient=a.renderColorRamp({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:xn,image:Et.gradient||void 0,clips:de.lineClipsArray}),Et.texture?Et.texture.update(Et.gradient):Et.texture=new he(se,Et.gradient,le.RGBA),Et.version=l.gradientVersion,pn=Et.texture}se.activeTexture.set(le.TEXTURE0),pn.bind(l.stepInterpolant?le.NEAREST:le.LINEAR,le.CLAMP_TO_EDGE)}Ge.draw(se,le.TRIANGLES,T,f.stencilModeForClipping(Ae),k,zn.disabled,yt,ot,l.id,de.layoutVertexBuffer,de.indexBuffer,de.segments,l.paint,f.transform.zoom,Re,de.layoutVertexBuffer2),xe=!1}},fill:function(f,i,l,d){const g=l.paint.get("fill-color"),x=l.paint.get("fill-opacity");if(x.constantOr(1)===0)return;const T=f.colorModeForRenderPass(),k=l.paint.get("fill-pattern"),M=f.opaquePassEnabledForLayer()&&!k.constantOr(1)&&g.constantOr(a.Color.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(f.renderPass===M){const R=f.depthModeForSublayer(1,f.renderPass==="opaque"?jt.ReadWrite:jt.ReadOnly);ho(f,i,l,d,R,T,!1)}if(f.renderPass==="translucent"&&l.paint.get("fill-antialias")){const R=f.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,jt.ReadOnly);ho(f,i,l,d,R,T,!0)}},"fill-extrusion":function(f,i,l,d){const g=l.paint.get("fill-extrusion-opacity");if(g!==0&&f.renderPass==="translucent"){const x=new jt(f.context.gl.LEQUAL,jt.ReadWrite,f.depthRangeFor3D);if(g!==1||l.paint.get("fill-extrusion-pattern").constantOr(1))On(f,i,l,d,x,Yn.disabled,An.disabled),On(f,i,l,d,x,f.stencilModeFor3D(),f.colorModeForRenderPass());else{const T=f.colorModeForRenderPass();On(f,i,l,d,x,Yn.disabled,T)}}},hillshade:function(f,i,l,d){if(f.renderPass!=="offscreen"&&f.renderPass!=="translucent")return;const g=f.context,x=f.depthModeForSublayer(0,jt.ReadOnly),T=f.colorModeForRenderPass(),[k,M]=f.renderPass==="translucent"?f.stencilConfigForOverlap(d):[{},d];for(const R of M){const O=i.getTile(R);O.needsHillshadePrepare!==void 0&&O.needsHillshadePrepare&&f.renderPass==="offscreen"?Zl(f,O,l,x,Yn.disabled,T):f.renderPass==="translucent"&&Cs(f,R,O,l,x,k[R.overscaledZ],T)}g.viewport.set([0,0,f.width,f.height])},raster:function(f,i,l,d){if(f.renderPass!=="translucent"||l.paint.get("raster-opacity")===0||!d.length)return;const g=f.context,x=g.gl,T=i.getSource(),k=f.useProgram("raster"),M=f.colorModeForRenderPass(),[R,O]=T instanceof st?[{},d]:f.stencilConfigForOverlap(d),W=O[O.length-1].overscaledZ,$=!f.options.moving;for(const ue of O){const se=f.depthModeForSublayer(ue.overscaledZ-W,l.paint.get("raster-opacity")===1?jt.ReadWrite:jt.ReadOnly,x.LESS),le=i.getTile(ue);le.registerFadeDuration(l.paint.get("raster-fade-duration"));const xe=i.findLoadedParent(ue,0),Ae=Uo(le,xe,i,l,f.transform,f.style.terrain);let Me,de;const Re=l.paint.get("raster-resampling")==="nearest"?x.NEAREST:x.LINEAR;g.activeTexture.set(x.TEXTURE0),le.texture.bind(Re,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),g.activeTexture.set(x.TEXTURE1),xe?(xe.texture.bind(Re,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),Me=Math.pow(2,xe.tileID.overscaledZ-le.tileID.overscaledZ),de=[le.tileID.canonical.x*Me%1,le.tileID.canonical.y*Me%1]):le.texture.bind(Re,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST);const De=f.style.terrain&&f.style.terrain.getTerrainData(ue),Ge=De?ue:null,We=Ge?Ge.posMatrix:f.transform.calculatePosMatrix(ue.toUnwrapped(),$),ot=zu(We,de||[0,0],Me||1,Ae,l);T instanceof st?k.draw(g,x.TRIANGLES,se,Yn.disabled,M,zn.disabled,ot,De,l.id,T.boundsBuffer,f.quadTriangleIndexBuffer,T.boundsSegments):k.draw(g,x.TRIANGLES,se,R[ue.overscaledZ],M,zn.disabled,ot,De,l.id,f.rasterBoundsBuffer,f.quadTriangleIndexBuffer,f.rasterBoundsSegments)}},background:function(f,i,l,d){const g=l.paint.get("background-color"),x=l.paint.get("background-opacity");if(x===0)return;const T=f.context,k=T.gl,M=f.transform,R=M.tileSize,O=l.paint.get("background-pattern");if(f.isPatternMissing(O))return;const W=!O&&g.a===1&&x===1&&f.opaquePassEnabledForLayer()?"opaque":"translucent";if(f.renderPass!==W)return;const $=Yn.disabled,ue=f.depthModeForSublayer(0,W==="opaque"?jt.ReadWrite:jt.ReadOnly),se=f.colorModeForRenderPass(),le=f.useProgram(O?"backgroundPattern":"background"),xe=d||M.coveringTiles({tileSize:R,terrain:f.style.terrain});O&&(T.activeTexture.set(k.TEXTURE0),f.imageManager.bind(f.context));const Ae=l.getCrossfadeParameters();for(const Me of xe){const de=d?Me.posMatrix:f.transform.calculatePosMatrix(Me.toUnwrapped()),Re=O?Oc(de,x,f,O,{tileID:Me,tileSize:R},Ae):Fc(de,x,g),De=f.style.terrain&&f.style.terrain.getTerrainData(Me);le.draw(T,k.TRIANGLES,ue,$,se,zn.disabled,Re,De,l.id,f.tileExtentBuffer,f.quadTriangleIndexBuffer,f.tileExtentSegments)}},debug:function(f,i,l){for(let d=0;d<l.length;d++)Vc(f,i,l[d])},custom:function(f,i,l){const d=f.context,g=l.implementation;if(f.renderPass==="offscreen"){const x=g.prerender;x&&(f.setCustomLayerDefaults(),d.setColorMode(f.colorModeForRenderPass()),x.call(g,d.gl,f.transform.customLayerMatrix()),d.setDirty(),f.setBaseState())}else if(f.renderPass==="translucent"){f.setCustomLayerDefaults(),d.setColorMode(f.colorModeForRenderPass()),d.setStencilMode(Yn.disabled);const x=g.renderingMode==="3d"?new jt(f.context.gl.LEQUAL,jt.ReadWrite,f.depthRangeFor3D):f.depthModeForSublayer(0,jt.ReadOnly);d.setDepthMode(x),g.render(d.gl,f.transform.customLayerMatrix()),d.setDirty(),f.setBaseState(),d.bindFramebuffer.set(null)}}};class va{constructor(i,l){this.context=new Fn(i),this.transform=l,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=Bn.maxUnderzooming+Bn.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Jt,this.gpuTimers={}}resize(i,l,d){if(this.width=i*d,this.height=l*d,this.pixelRatio=d,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const g of this.style._order)this.style._layers[g].resize()}setup(){const i=this.context,l=new a.PosArray;l.emplaceBack(0,0),l.emplaceBack(a.EXTENT,0),l.emplaceBack(0,a.EXTENT),l.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=i.createVertexBuffer(l,Ln.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const d=new a.PosArray;d.emplaceBack(0,0),d.emplaceBack(a.EXTENT,0),d.emplaceBack(0,a.EXTENT),d.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=i.createVertexBuffer(d,Ln.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const g=new a.RasterBoundsArray;g.emplaceBack(0,0,0,0),g.emplaceBack(a.EXTENT,0,a.EXTENT,0),g.emplaceBack(0,a.EXTENT,0,a.EXTENT),g.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=i.createVertexBuffer(g,qe.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const x=new a.PosArray;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(x,Ln.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const T=new a.LineStripIndexArray;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(T);const k=new a.TriangleIndexArray;k.emplaceBack(0,1,2),k.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(k),this.emptyTexture=new he(i,{width:1,height:1,data:new Uint8Array([0,0,0,0])},i.gl.RGBA);const M=this.context.gl;this.stencilClearMode=new Yn({func:M.ALWAYS,mask:0},0,255,M.ZERO,M.ZERO,M.ZERO)}clearStencil(){const i=this.context,l=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const d=a.create();a.ortho(d,0,this.width,this.height,0,0,1),a.scale(d,d,[l.drawingBufferWidth,l.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,l.TRIANGLES,jt.disabled,this.stencilClearMode,An.disabled,zn.disabled,Fo(d),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,l){if(this.currentStencilSource===i.source||!i.isTileClipped()||!l||!l.length)return;this.currentStencilSource=i.source;const d=this.context,g=d.gl;this.nextStencilID+l.length>256&&this.clearStencil(),d.setColorMode(An.disabled),d.setDepthMode(jt.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const T of l){const k=this._tileClippingMaskIDs[T.key]=this.nextStencilID++,M=this.style.terrain&&this.style.terrain.getTerrainData(T);x.draw(d,g.TRIANGLES,jt.disabled,new Yn({func:g.ALWAYS,mask:0},k,255,g.KEEP,g.KEEP,g.REPLACE),An.disabled,zn.disabled,Fo(T.posMatrix),M,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,l=this.context.gl;return new Yn({func:l.NOTEQUAL,mask:255},i,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(i){const l=this.context.gl;return new Yn({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(i){const l=this.context.gl,d=i.sort((T,k)=>k.overscaledZ-T.overscaledZ),g=d[d.length-1].overscaledZ,x=d[0].overscaledZ-g+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const T={};for(let k=0;k<x;k++)T[k+g]=new Yn({func:l.GEQUAL,mask:255},k+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=x,[T,d]}return[{[g]:Yn.disabled},d]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new An([i.CONSTANT_COLOR,i.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?An.unblended:An.alphaBlended}depthModeForSublayer(i,l,d){if(!this.opaquePassEnabledForLayer())return jt.disabled;const g=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new jt(d||this.context.gl.LEQUAL,l,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,l){this.style=i,this.options=l,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const d=this.style._order,g=this.style.sourceCaches,x=this.style.terrain&&new jo(this);for(const R in g){const O=g[R];O.used&&O.prepare(this.context)}const T={},k={},M={};for(const R in g){const O=g[R];T[R]=O.getVisibleCoordinates(),k[R]=T[R].slice().reverse(),M[R]=O.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let R=0;R<d.length;R++)if(this.style._layers[d[R]].is3D()){this.opaquePassCutoff=R;break}if(x){this.opaquePassCutoff=0;const R=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||R.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(O,W){const $=O.context,ue=$.gl,se=An.unblended,le=new jt(ue.LEQUAL,jt.ReadWrite,[0,1]),xe=W.getTerrainMesh(),Ae=W.sourceCache.getRenderableTiles(),Me=O.useProgram("terrainDepth");$.bindFramebuffer.set(W.getFramebuffer("depth").framebuffer),$.viewport.set([0,0,O.width/devicePixelRatio,O.height/devicePixelRatio]),$.clear({color:a.Color.transparent,depth:1});for(const de of Ae){const Re=W.getTerrainData(de.tileID),De=O.transform.calculatePosMatrix(de.tileID.toUnwrapped());Me.draw($,ue.TRIANGLES,le,Yn.disabled,se,zn.backCCW,{u_matrix:De},Re,"terrain",xe.vertexBuffer,xe.indexBuffer,xe.segments)}$.bindFramebuffer.set(null),$.viewport.set([0,0,O.width,O.height])}(this,this.style.terrain),function(O,W){const $=O.context,ue=$.gl,se=An.unblended,le=new jt(ue.LEQUAL,jt.ReadWrite,[0,1]),xe=W.getTerrainMesh(),Ae=W.getCoordsTexture(),Me=W.sourceCache.getRenderableTiles(),de=O.useProgram("terrainCoords");$.bindFramebuffer.set(W.getFramebuffer("coords").framebuffer),$.viewport.set([0,0,O.width/devicePixelRatio,O.height/devicePixelRatio]),$.clear({color:a.Color.transparent,depth:1}),W.coordsIndex=[];for(const Re of Me){const De=W.getTerrainData(Re.tileID);$.activeTexture.set(ue.TEXTURE0),ue.bindTexture(ue.TEXTURE_2D,Ae.texture);const Ge=O.transform.calculatePosMatrix(Re.tileID.toUnwrapped());de.draw($,ue.TRIANGLES,le,Yn.disabled,se,zn.backCCW,{u_matrix:Ge,u_terrain_coords_id:(255-W.coordsIndex.length)/255,u_texture:0},De,"terrain",xe.vertexBuffer,xe.indexBuffer,xe.segments),W.coordsIndex.push(Re.tileID.key)}$.bindFramebuffer.set(null),$.viewport.set([0,0,O.width,O.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const R of d){const O=this.style._layers[R];if(!O.hasOffscreenPass()||O.isHidden(this.transform.zoom))continue;const W=k[O.source];(O.type==="custom"||W.length)&&this.renderLayer(this,g[O.source],O,W)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:l.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!x)for(this.renderPass="opaque",this.currentLayer=d.length-1;this.currentLayer>=0;this.currentLayer--){const R=this.style._layers[d[this.currentLayer]],O=g[R.source],W=T[R.source];this._renderTileClippingMasks(R,W),this.renderLayer(this,O,R,W)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<d.length;this.currentLayer++){const R=this.style._layers[d[this.currentLayer]],O=g[R.source];if(x&&x.renderLayer(R))continue;const W=(R.type==="symbol"?M:k)[R.source];this._renderTileClippingMasks(R,T[R.source]),this.renderLayer(this,O,R,W)}if(this.options.showTileBoundaries){let R,O;Object.values(this.style._layers).forEach(W=>{W.source&&!W.isHidden(this.transform.zoom)&&(W.source!==(O&&O.id)&&(O=this.style.sourceCaches[W.source]),(!R||R.getSource().maxzoom<O.getSource().maxzoom)&&(R=O))}),R&&ya.debug(this,R,R.getVisibleCoordinates())}this.options.showPadding&&function(R){const O=R.transform.padding;po(R,R.transform.height-(O.top||0),3,tl),po(R,O.bottom||0,3,xr),ga(R,O.left||0,3,Bu),ga(R,R.transform.width-(O.right||0),3,nl);const W=R.transform.centerPoint;(function($,ue,se,le){ks($,ue-1,se-10,2,20,le),ks($,ue-10,se-1,20,2,le)})(R,W.x,R.transform.height-W.y,Nu)}(this),this.context.setDefault()}renderLayer(i,l,d,g){d.isHidden(this.transform.zoom)||(d.type==="background"||d.type==="custom"||(g||[]).length)&&(this.id=d.id,this.gpuTimingStart(d),ya[d.type](i,l,d,g,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(i){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;let d=this.gpuTimers[i.id];d||(d=this.gpuTimers[i.id]={calls:0,cpuTime:0,query:l.createQueryEXT()}),d.calls++,l.beginQueryEXT(l.TIME_ELAPSED_EXT,d.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const i=this.context.extTimerQuery;i.endQueryEXT(i.TIME_ELAPSED_EXT)}collectGpuTimers(){const i=this.gpuTimers;return this.gpuTimers={},i}queryGpuTimers(i){const l={};for(const d in i){const g=i[d],x=this.context.extTimerQuery,T=x.getQueryObjectEXT(g.query,x.QUERY_RESULT_EXT)/1e6;x.deleteQueryEXT(g.query),l[d]=T}return l}translatePosMatrix(i,l,d,g,x){if(!d[0]&&!d[1])return i;const T=x?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(T){const R=Math.sin(T),O=Math.cos(T);d=[d[0]*O-d[1]*R,d[0]*R+d[1]*O]}const k=[x?d[0]:gi(l,d[0],this.transform.zoom),x?d[1]:gi(l,d[1],this.transform.zoom),0],M=new Float32Array(16);return a.translate(M,i,k),M}saveTileTexture(i){const l=this._tileTextures[i.size[0]];l?l.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const l=this._tileTextures[i];return l&&l.length>0?l.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const l=this.imageManager.getPattern(i.from.toString()),d=this.imageManager.getPattern(i.to.toString());return!l||!d}useProgram(i,l){this.cache=this.cache||{};const d=i+(l?l.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[d]||(this.cache[d]=new Ol(this.context,i,oa[i],l,jl[i],this._showOverdrawInspector,this.style.terrain)),this.cache[d]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new he(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class qr{constructor(i,l){this.points=i,this.planes=l}static fromInvProjectionMatrix(i,l,d){const g=Math.pow(2,d),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(k=>{const M=1/(k=a.transformMat4([],k,i))[3]/l*g;return a.mul$1(k,k,[M,M,1/k[3],M])}),T=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(k=>{const M=a.sub([],x[k[0]],x[k[1]]),R=a.sub([],x[k[2]],x[k[1]]),O=a.normalize([],a.cross([],M,R)),W=-a.dot(O,x[k[1]]);return O.concat(W)});return new qr(x,T)}}class Dr{constructor(i,l){this.min=i,this.max=l,this.center=a.scale$1([],a.add([],this.min,this.max),.5)}quadrant(i){const l=[i%2==0,i<2],d=a.clone$2(this.min),g=a.clone$2(this.max);for(let x=0;x<l.length;x++)d[x]=l[x]?this.min[x]:this.center[x],g[x]=l[x]?this.center[x]:this.max[x];return g[2]=this.max[2],new Dr(d,g)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const l=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let d=!0;for(let g=0;g<i.planes.length;g++){const x=i.planes[g];let T=0;for(let k=0;k<l.length;k++)a.dot$1(x,l[k])>=0&&T++;if(T===0)return 0;T!==l.length&&(d=!1)}if(d)return 2;for(let g=0;g<3;g++){let x=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let k=0;k<i.points.length;k++){const M=i.points[k][g]-this.min[g];x=Math.min(x,M),T=Math.max(T,M)}if(T<0||x>this.max[g]-this.min[g])return 0}return 1}}class fo{constructor(i=0,l=0,d=0,g=0){if(isNaN(i)||i<0||isNaN(l)||l<0||isNaN(d)||d<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=l,this.left=d,this.right=g}interpolate(i,l,d){return l.top!=null&&i.top!=null&&(this.top=a.number(i.top,l.top,d)),l.bottom!=null&&i.bottom!=null&&(this.bottom=a.number(i.bottom,l.bottom,d)),l.left!=null&&i.left!=null&&(this.left=a.number(i.left,l.left,d)),l.right!=null&&i.right!=null&&(this.right=a.number(i.right,l.right,d)),this}getCenter(i,l){const d=a.clamp((this.left+i-this.right)/2,0,i),g=a.clamp((this.top+l-this.bottom)/2,0,l);return new a.pointGeometry(d,g)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new fo(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class qo{constructor(i,l,d,g,x){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=x===void 0||!!x,this._minZoom=i||0,this._maxZoom=l||22,this._minPitch=d==null?0:d,this._maxPitch=g==null?60:g,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new fo,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const i=new qo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.tileSize=this.tileSize,i.latRange=this.latRange,i.width=this.width,i.height=this.height,i._center=this._center,i._elevation=this._elevation,i.zoom=this.zoom,i.angle=this.angle,i._fov=this._fov,i._pitch=this._pitch,i._unmodified=this._unmodified,i._edgeInsets=this._edgeInsets.clone(),i._calcMatrices(),i}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const l=-a.wrap(i,-180,180)*Math.PI/180;var d;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=(d=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(d[1]=0,d[2]=0),d[0]=1,d[3]=1,d),function(g,x,T){var k=x[0],M=x[1],R=x[2],O=x[3],W=Math.sin(T),$=Math.cos(T);g[0]=k*$+R*W,g[1]=M*$+O*W,g[2]=k*-W+R*$,g[3]=M*-W+O*$}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const l=a.clamp(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const l=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,l,d){this._unmodified=!1,this._edgeInsets.interpolate(i,l,d),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const l=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(i){const l=[new a.UnwrappedTileID(0,i)];if(this._renderWorldCopies){const d=this.pointCoordinate(new a.pointGeometry(0,0)),g=this.pointCoordinate(new a.pointGeometry(this.width,0)),x=this.pointCoordinate(new a.pointGeometry(this.width,this.height)),T=this.pointCoordinate(new a.pointGeometry(0,this.height)),k=Math.floor(Math.min(d.x,g.x,x.x,T.x)),M=Math.floor(Math.max(d.x,g.x,x.x,T.x)),R=1;for(let O=k-R;O<=M+R;O++)O!==0&&l.push(new a.UnwrappedTileID(O,i))}return l}coveringTiles(i){var l,d;let g=this.coveringZoomLevel(i);const x=g;if(i.minzoom!==void 0&&g<i.minzoom)return[];i.maxzoom!==void 0&&g>i.maxzoom&&(g=i.maxzoom);const T=this.pointCoordinate(this.getCameraPoint()),k=a.MercatorCoordinate.fromLngLat(this.center),M=Math.pow(2,g),R=[M*T.x,M*T.y,0],O=[M*k.x,M*k.y,0],W=qr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,g);let $=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&($=g);const ue=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,se=de=>({aabb:new Dr([de*M,0,0],[(de+1)*M,M,0]),zoom:0,x:0,y:0,wrap:de,fullyVisible:!1}),le=[],xe=[],Ae=g,Me=i.reparseOverscaled?x:g;if(this._renderWorldCopies)for(let de=1;de<=3;de++)le.push(se(-de)),le.push(se(de));for(le.push(se(0));le.length>0;){const de=le.pop(),Re=de.x,De=de.y;let Ge=de.fullyVisible;if(!Ge){const Et=de.aabb.intersects(W);if(Et===0)continue;Ge=Et===2}const We=i.terrain?R:O,ot=de.aabb.distanceX(We),Ve=de.aabb.distanceY(We),Tt=Math.max(Math.abs(ot),Math.abs(Ve)),yt=ue+(1<<Ae-de.zoom)-2;if(de.zoom===Ae||Tt>yt&&de.zoom>=$){const Et=Ae-de.zoom,pn=R[0]-.5-(Re<<Et),xn=R[1]-.5-(De<<Et);xe.push({tileID:new a.OverscaledTileID(de.zoom===Ae?Me:de.zoom,de.wrap,de.zoom,Re,De),distanceSq:a.sqrLen([O[0]-.5-Re,O[1]-.5-De]),tileDistanceToCamera:Math.sqrt(pn*pn+xn*xn)})}else for(let Et=0;Et<4;Et++){const pn=(Re<<1)+Et%2,xn=(De<<1)+(Et>>1),Ht=de.zoom+1;let ei=de.aabb.quadrant(Et);if(i.terrain){const ti=new a.OverscaledTileID(Ht,de.wrap,Ht,pn,xn),Rn=i.terrain.getMinMaxElevation(ti),Vn=(l=Rn.minElevation)!==null&&l!==void 0?l:this.elevation,ri=(d=Rn.maxElevation)!==null&&d!==void 0?d:this.elevation;ei=new Dr([ei.min[0],ei.min[1],Vn],[ei.max[0],ei.max[1],ri])}le.push({aabb:ei,zoom:Ht,x:pn,y:xn,wrap:de.wrap,fullyVisible:Ge})}}return xe.sort((de,Re)=>de.distanceSq-Re.distanceSq).map(de=>de.tileID)}resize(i,l){this.width=i,this.height=l,this.pixelsToGLUnits=[2/i,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const l=a.clamp(i.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.pointGeometry(a.mercatorXfromLng(i.lng)*this.worldSize,a.mercatorYfromLat(l)*this.worldSize)}unproject(i){return new a.MercatorCoordinate(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(i){this.freezeElevation||(this.elevation=i?this.getElevation(this._center,i):0)}getElevation(i,l){const d=a.MercatorCoordinate.fromLngLat(i),g=(1<<this.tileZoom)*a.EXTENT,x=d.x*g,T=d.y*g,k=Math.floor(x/a.EXTENT),M=Math.floor(T/a.EXTENT),R=new a.OverscaledTileID(this.tileZoom,0,this.tileZoom,k,M);return l.getElevation(R,x%a.EXTENT,T%a.EXTENT,a.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const l=this.pointLocation(this.centerPoint,i),d=this.getElevation(l,i);if(!(this.elevation-d))return;const g=this.getCameraPosition(),x=a.MercatorCoordinate.fromLngLat(g.lngLat,g.altitude),T=a.MercatorCoordinate.fromLngLat(l,d),k=x.x-T.x,M=x.y-T.y,R=x.z-T.z,O=Math.sqrt(k*k+M*M+R*R),W=this.scaleZoom(this.cameraToCenterDistance/O/this.tileSize);this._elevation=d,this._center=l,this.zoom=W}setLocationAtPoint(i,l){const d=this.pointCoordinate(l),g=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(i),T=new a.MercatorCoordinate(x.x-(d.x-g.x),x.y-(d.y-g.y));this.center=this.coordinateLocation(T),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,l){return l?this.coordinatePoint(this.locationCoordinate(i),this.getElevation(i,l),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,l){return this.coordinateLocation(this.pointCoordinate(i,l))}locationCoordinate(i){return a.MercatorCoordinate.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,l){if(l){const $=l.pointCoordinate(i);if($!=null)return $}const d=[i.x,i.y,0,1],g=[i.x,i.y,1,1];a.transformMat4(d,d,this.pixelMatrixInverse),a.transformMat4(g,g,this.pixelMatrixInverse);const x=d[3],T=g[3],k=d[1]/x,M=g[1]/T,R=d[2]/x,O=g[2]/T,W=R===O?0:(0-R)/(O-R);return new a.MercatorCoordinate(a.number(d[0]/x,g[0]/T,W)/this.worldSize,a.number(k,M,W)/this.worldSize)}coordinatePoint(i,l=0,d=this.pixelMatrix){const g=[i.x*this.worldSize,i.y*this.worldSize,l,1];return a.transformMat4(g,g,d),new a.pointGeometry(g[0]/g[3],g[1]/g[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return new a.LngLatBounds().extend(this.pointLocation(new a.pointGeometry(0,i))).extend(this.pointLocation(new a.pointGeometry(this.width,i))).extend(this.pointLocation(new a.pointGeometry(this.width,this.height))).extend(this.pointLocation(new a.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(i,l=!1){const d=i.key,g=l?this._alignedPosMatrixCache:this._posMatrixCache;if(g[d])return g[d];const x=i.canonical,T=this.worldSize/this.zoomScale(x.z),k=x.x+Math.pow(2,x.z)*i.wrap,M=a.identity(new Float64Array(16));return a.translate(M,M,[k*T,x.y*T,0]),a.scale(M,M,[T/a.EXTENT,T/a.EXTENT,1]),a.multiply(M,l?this.alignedProjMatrix:this.projMatrix,M),g[d]=new Float32Array(M),g[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let i,l,d,g,x=-90,T=90,k=-180,M=180;const R=this.size,O=this._unmodified;if(this.latRange){const ue=this.latRange;x=a.mercatorYfromLat(ue[1])*this.worldSize,T=a.mercatorYfromLat(ue[0])*this.worldSize,i=T-x<R.y?R.y/(T-x):0}if(this.lngRange){const ue=this.lngRange;k=a.wrap(a.mercatorXfromLng(ue[0])*this.worldSize,0,this.worldSize),M=a.wrap(a.mercatorXfromLng(ue[1])*this.worldSize,0,this.worldSize),M<k&&(M+=this.worldSize),l=M-k<R.x?R.x/(M-k):0}const W=this.point,$=Math.max(l||0,i||0);if($)return this.center=this.unproject(new a.pointGeometry(l?(M+k)/2:W.x,i?(T+x)/2:W.y)),this.zoom+=this.scaleZoom($),this._unmodified=O,void(this._constraining=!1);if(this.latRange){const ue=W.y,se=R.y/2;ue-se<x&&(g=x+se),ue+se>T&&(g=T-se)}if(this.lngRange){const ue=(k+M)/2,se=a.wrap(W.x,ue-this.worldSize/2,ue+this.worldSize/2),le=R.x/2;se-le<k&&(d=k+le),se+le>M&&(d=M-le)}d===void 0&&g===void 0||(this.center=this.unproject(new a.pointGeometry(d!==void 0?d:W.x,g!==void 0?g:W.y)).wrap()),this._unmodified=O,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,l=this.point.x,d=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let g=a.identity(new Float64Array(16));a.scale(g,g,[this.width/2,-this.height/2,1]),a.translate(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=a.identity(new Float64Array(16)),a.scale(g,g,[1,-1,1]),a.translate(g,g,[-1,-1,0]),a.scale(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const x=Math.PI/2+this._pitch,T=this._fov*(.5+i.y/this.height),k=Math.sin(T)*this.cameraToSeaLevelDistance/Math.sin(a.clamp(Math.PI-x-T,.01,Math.PI-.01)),M=this.getHorizon(),R=2*Math.atan(M/this.cameraToCenterDistance)*(.5+i.y/(2*M)),O=Math.sin(R)*this.cameraToSeaLevelDistance/Math.sin(a.clamp(Math.PI-x-R,.01,Math.PI-.01)),W=Math.cos(Math.PI/2-this._pitch)*k+this.cameraToSeaLevelDistance,$=Math.cos(Math.PI/2-this._pitch)*O+this.cameraToSeaLevelDistance,ue=1.01*Math.min(W,$),se=this.height/50;g=new Float64Array(16),a.perspective(g,this._fov,this.width/this.height,se,ue),g[8]=2*-i.x/this.width,g[9]=2*i.y/this.height,a.scale(g,g,[1,-1,1]),a.translate(g,g,[0,0,-this.cameraToCenterDistance]),a.rotateX(g,g,this._pitch),a.rotateZ(g,g,this.angle),a.translate(g,g,[-l,-d,0]),this.mercatorMatrix=a.scale([],g,[this.worldSize,this.worldSize,this.worldSize]),a.scale(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,g),a.translate(g,g,[0,0,-this.elevation]),this.projMatrix=g,this.invProjMatrix=a.invert([],g),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,g);const le=this.width%2/2,xe=this.height%2/2,Ae=Math.cos(this.angle),Me=Math.sin(this.angle),de=l-Math.round(l)+Ae*le+Me*xe,Re=d-Math.round(d)+Ae*xe+Me*le,De=new Float64Array(g);if(a.translate(De,De,[de>.5?de-1:de,Re>.5?Re-1:Re,0]),this.alignedProjMatrix=De,g=a.invert(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new a.pointGeometry(0,0)),l=[i.x*this.worldSize,i.y*this.worldSize,0,1];return a.transformMat4(l,l,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.pointGeometry(0,i))}getCameraQueryGeometry(i){const l=this.getCameraPoint();if(i.length===1)return[i[0],l];{let d=l.x,g=l.y,x=l.x,T=l.y;for(const k of i)d=Math.min(d,k.x),g=Math.min(g,k.y),x=Math.max(x,k.x),T=Math.max(T,k.y);return[new a.pointGeometry(d,g),new a.pointGeometry(x,g),new a.pointGeometry(x,T),new a.pointGeometry(d,T),new a.pointGeometry(d,g)]}}}class $l{constructor(i){this._hashName=i&&encodeURIComponent(i),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(l,d){let g=!1,x=null;const T=()=>{x=null,g&&(l(),x=setTimeout(T,300),g=!1)};return()=>(g=!0,x||T(),x)}(this._updateHashUnthrottled.bind(this))}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(i){const l=this._map.getCenter(),d=Math.round(100*this._map.getZoom())/100,g=Math.ceil((d*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,g),T=Math.round(l.lng*x)/x,k=Math.round(l.lat*x)/x,M=this._map.getBearing(),R=this._map.getPitch();let O="";if(O+=i?`/${T}/${k}/${d}`:`${d}/${k}/${T}`,(M||R)&&(O+="/"+Math.round(10*M)/10),R&&(O+=`/${Math.round(R)}`),this._hashName){const W=this._hashName;let $=!1;const ue=window.location.hash.slice(1).split("&").map(se=>{const le=se.split("=")[0];return le===W?($=!0,`${le}=${O}`):se}).filter(se=>se);return $||ue.push(`${W}=${O}`),`#${ue.join("&")}`}return`#${O}`}_getCurrentHash(){const i=window.location.hash.replace("#","");if(this._hashName){let l;return i.split("&").map(d=>d.split("=")).forEach(d=>{d[0]===this._hashName&&(l=d)}),(l&&l[1]||"").split("/")}return i.split("/")}_onHashChange(){const i=this._getCurrentHash();if(i.length>=3&&!i.some(l=>isNaN(l))){const l=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(i[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+i[2],+i[1]],zoom:+i[0],bearing:l,pitch:+(i[4]||0)}),!0}return!1}_updateHashUnthrottled(){const i=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,i)}catch{}}}const _a={linearity:.3,easing:a.bezier(0,0,.3,1)},ii=a.extend({deceleration:2500,maxSpeed:1400},_a),xa=a.extend({deceleration:20,maxSpeed:1400},_a),Gr=a.extend({deceleration:1e3,maxSpeed:360},_a),sr=a.extend({deceleration:1e3,maxSpeed:90},_a);class rl{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,l=a.exported.now();for(;i.length>0&&l-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const l={zoom:0,bearing:0,pitch:0,pan:new a.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)l.zoom+=x.zoomDelta||0,l.bearing+=x.bearingDelta||0,l.pitch+=x.pitchDelta||0,x.panDelta&&l.pan._add(x.panDelta),x.around&&(l.around=x.around),x.pinchAround&&(l.pinchAround=x.pinchAround);const d=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(l.pan.mag()){const x=wa(l.pan.mag(),d,a.extend({},ii,i||{}));g.offset=l.pan.mult(x.amount/l.pan.mag()),g.center=this._map.transform.center,Go(g,x)}if(l.zoom){const x=wa(l.zoom,d,xa);g.zoom=this._map.transform.zoom+x.amount,Go(g,x)}if(l.bearing){const x=wa(l.bearing,d,Gr);g.bearing=this._map.transform.bearing+a.clamp(x.amount,-179,179),Go(g,x)}if(l.pitch){const x=wa(l.pitch,d,sr);g.pitch=this._map.transform.pitch+x.amount,Go(g,x)}if(g.zoom||g.bearing){const x=l.pinchAround===void 0?l.around:l.pinchAround;g.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),a.extend(g,{noMoveStart:!0})}}function Go(f,i){(!f.duration||f.duration<i.duration)&&(f.duration=i.duration,f.easing=i.easing)}function wa(f,i,l){const{maxSpeed:d,linearity:g,deceleration:x}=l,T=a.clamp(f*g/(i/1e3),-d,d),k=Math.abs(T)/(x*g);return{easing:l.easing,duration:1e3*k,amount:T*(k/2)}}class Lr extends a.Event{constructor(i,l,d,g={}){const x=z.mousePos(l.getCanvasContainer(),d),T=l.unproject(x);super(i,a.extend({point:x,lngLat:T,originalEvent:d},g)),this._defaultPrevented=!1,this.target=l}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Wo extends a.Event{constructor(i,l,d){const g=i==="touchend"?d.changedTouches:d.touches,x=z.touchPos(l.getCanvasContainer(),g),T=x.map(M=>l.unproject(M)),k=x.reduce((M,R,O,W)=>M.add(R.div(W.length)),new a.pointGeometry(0,0));super(i,{points:x,point:k,lngLats:T,lngLat:l.unproject(k),originalEvent:d}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Vi extends a.Event{constructor(i,l,d){super(i,{originalEvent:d}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Xl{constructor(i,l){this._map=i,this._clickTolerance=l.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new Vi(i.type,this._map,i))}mousedown(i,l){return this._mousedownPos=l,this._firePreventable(new Lr(i.type,this._map,i))}mouseup(i){this._map.fire(new Lr(i.type,this._map,i))}click(i,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||this._map.fire(new Lr(i.type,this._map,i))}dblclick(i){return this._firePreventable(new Lr(i.type,this._map,i))}mouseover(i){this._map.fire(new Lr(i.type,this._map,i))}mouseout(i){this._map.fire(new Lr(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Wo(i.type,this._map,i))}touchmove(i){this._map.fire(new Wo(i.type,this._map,i))}touchend(i){this._map.fire(new Wo(i.type,this._map,i))}touchcancel(i){this._map.fire(new Wo(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ps{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new Lr(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Lr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new Lr(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ba{constructor(i,l){this._map=i,this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,l){this.isEnabled()&&i.shiftKey&&i.button===0&&(z.disableDrag(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(i,l){if(!this._active)return;const d=l;if(this._lastPos.equals(d)||!this._box&&d.dist(this._startPos)<this._clickTolerance)return;const g=this._startPos;this._lastPos=d,this._box||(this._box=z.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",i));const x=Math.min(g.x,d.x),T=Math.max(g.x,d.x),k=Math.min(g.y,d.y),M=Math.max(g.y,d.y);z.setTransform(this._box,`translate(${x}px,${k}px)`),this._box.style.width=T-x+"px",this._box.style.height=M-k+"px"}mouseupWindow(i,l){if(!this._active||i.button!==0)return;const d=this._startPos,g=l;if(this.reset(),z.suppressClick(),d.x!==g.x||d.y!==g.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:i})),{cameraAnimation:x=>x.fitScreenCoordinates(d,g,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(z.remove(this._box),this._box=null),z.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,l){return this._map.fire(new a.Event(i,{originalEvent:l}))}}function Wr(f,i){if(f.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${f.length}, points ${i.length}`);const l={};for(let d=0;d<f.length;d++)l[f[d].identifier]=i[d];return l}class mo{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,l,d){(this.centroid||d.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),d.length===this.numTouches&&(this.centroid=function(g){const x=new a.pointGeometry(0,0);for(const T of g)x._add(T);return x.div(g.length)}(l),this.touches=Wr(d,l)))}touchmove(i,l,d){if(this.aborted||!this.centroid)return;const g=Wr(d,l);for(const x in this.touches){const T=this.touches[x],k=g[x];(!k||k.dist(T)>30)&&(this.aborted=!0)}}touchend(i,l,d){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),d.length===0){const g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class Kl{constructor(i){this.singleTap=new mo(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,l,d){this.singleTap.touchstart(i,l,d)}touchmove(i,l,d){this.singleTap.touchmove(i,l,d)}touchend(i,l,d){const g=this.singleTap.touchend(i,l,d);if(g){const x=i.timeStamp-this.lastTime<500,T=!this.lastTap||this.lastTap.dist(g)<30;if(x&&T||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class sl{constructor(){this._zoomIn=new Kl({numTouches:1,numTaps:2}),this._zoomOut=new Kl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,l,d){this._zoomIn.touchstart(i,l,d),this._zoomOut.touchstart(i,l,d)}touchmove(i,l,d){this._zoomIn.touchmove(i,l,d),this._zoomOut.touchmove(i,l,d)}touchend(i,l,d){const g=this._zoomIn.touchend(i,l,d),x=this._zoomOut.touchend(i,l,d);return g?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:T.getZoom()+1,around:T.unproject(g)},{originalEvent:i})}):x?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:T.getZoom()-1,around:T.unproject(x)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Yl={0:1,2:2};class Ho{constructor(i){this.reset(),this._clickTolerance=i.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(i,l){return!1}_move(i,l){return{}}mousedown(i,l){if(this._lastPoint)return;const d=z.mouseButton(i);this._correctButton(i,d)&&(this._lastPoint=l,this._eventButton=d)}mousemoveWindow(i,l){const d=this._lastPoint;if(d){if(i.preventDefault(),function(g,x){const T=Yl[x];return g.buttons===void 0||(g.buttons&T)!==T}(i,this._eventButton))this.reset();else if(this._moved||!(l.dist(d)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(d,l)}}mouseupWindow(i){this._lastPoint&&z.mouseButton(i)===this._eventButton&&(this._moved&&z.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Sa extends Ho{mousedown(i,l){super.mousedown(i,l),this._lastPoint&&(this._active=!0)}_correctButton(i,l){return l===0&&!i.ctrlKey}_move(i,l){return{around:l,panDelta:l.sub(i)}}}class Q extends Ho{_correctButton(i,l){return l===0&&i.ctrlKey||l===2}_move(i,l){const d=.8*(l.x-i.x);if(d)return this._active=!0,{bearingDelta:d}}contextmenu(i){i.preventDefault()}}class te extends Ho{_correctButton(i,l){return l===0&&i.ctrlKey||l===2}_move(i,l){const d=-.5*(l.y-i.y);if(d)return this._active=!0,{pitchDelta:d}}contextmenu(i){i.preventDefault()}}class Te{constructor(i,l){this._minTouches=i.cooperativeGestures?2:1,this._clickTolerance=i.clickTolerance||1,this._map=l,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(i,l,d){return this._calculateTransform(i,l,d)}touchmove(i,l,d){if(this._map._cooperativeGestures&&(this._minTouches===2&&d.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(i,!1,d.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(d.length<this._minTouches))return i.preventDefault(),this._calculateTransform(i,l,d)}touchend(i,l,d){this._calculateTransform(i,l,d),this._active&&d.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,l,d){d.length>0&&(this._active=!0);const g=Wr(d,l),x=new a.pointGeometry(0,0),T=new a.pointGeometry(0,0);let k=0;for(const R in g){const O=g[R],W=this._touches[R];W&&(x._add(O),T._add(O.sub(W)),k++,g[R]=O)}if(this._touches=g,k<this._minTouches||!T.mag())return;const M=T.div(k);return this._sum._add(M),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(k),panDelta:M}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ke{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(i){}_move(i,l,d){return{}}touchstart(i,l,d){this._firstTwoTouches||d.length<2||(this._firstTwoTouches=[d[0].identifier,d[1].identifier],this._start([l[0],l[1]]))}touchmove(i,l,d){if(!this._firstTwoTouches)return;i.preventDefault();const[g,x]=this._firstTwoTouches,T=ke(d,l,g),k=ke(d,l,x);if(!T||!k)return;const M=this._aroundCenter?null:T.add(k).div(2);return this._move([T,k],M,i)}touchend(i,l,d){if(!this._firstTwoTouches)return;const[g,x]=this._firstTwoTouches,T=ke(d,l,g),k=ke(d,l,x);T&&k||(this._active&&z.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function ke(f,i,l){for(let d=0;d<f.length;d++)if(f[d].identifier===l)return i[d]}function tt(f,i){return Math.log(f/i)/Math.LN2}class Ce extends Ke{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,l){const d=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(tt(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:tt(this._distance,d),pinchAround:l}}}function gt(f,i){return 180*f.angleWith(i)/Math.PI}class At extends Ke{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,l){const d=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:gt(this._vector,d),pinchAround:l}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const l=25/(Math.PI*this._minDiameter)*360,d=gt(i,this._startVector);return Math.abs(d)<l}}function en(f){return Math.abs(f.y)>Math.abs(f.x)}class Xt extends Ke{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,l,d){super.touchstart(i,l,d),this._currentTouchCount=d.length}_start(i){this._lastPoints=i,en(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,l,d){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const g=i[0].sub(this._lastPoints[0]),x=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,x,d.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(g.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(i,l,d){if(this._valid!==void 0)return this._valid;const g=i.mag()>=2,x=l.mag()>=2;if(!g&&!x)return;if(!g||!x)return this._firstMove===void 0&&(this._firstMove=d),d-this._firstMove<100&&void 0;const T=i.y>0==l.y>0;return en(i)&&en(l)&&T}}const rn={panStep:100,bearingStep:15,pitchStep:10};class En{constructor(){const i=rn;this._panStep=i.panStep,this._bearingStep=i.bearingStep,this._pitchStep=i.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let l=0,d=0,g=0,x=0,T=0;switch(i.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:i.shiftKey?d=-1:(i.preventDefault(),x=-1);break;case 39:i.shiftKey?d=1:(i.preventDefault(),x=1);break;case 38:i.shiftKey?g=1:(i.preventDefault(),T=-1);break;case 40:i.shiftKey?g=-1:(i.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(d=0,g=0),{cameraAnimation:k=>{const M=k.getZoom();k.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:l?Math.round(M)+l*(i.shiftKey?2:1):M,bearing:k.getBearing()+d*this._bearingStep,pitch:k.getPitch()+g*this._pitchStep,offset:[-x*this._panStep,-T*this._panStep],center:k.getCenter()},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ai(f){return f*(2-f)}const tn=4.000244140625;class Pi{constructor(i,l){this._map=i,this._el=i.getCanvasContainer(),this._handler=l,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;i.preventDefault()}let l=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const d=a.exported.now(),g=d-(this._lastWheelEventTime||0);this._lastWheelEventTime=d,l!==0&&l%tn==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=l,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(g*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),i.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=i,this._delta-=l,this._active||this._start(i)),i.preventDefault()}_onTimeout(i){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(i)}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=z.mousePos(this._el,i);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(l)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._map.transform;if(this._delta!==0){const k=this._type==="wheel"&&Math.abs(this._delta)>tn?this._wheelZoomRate:this._defaultZoomRate;let M=2/(1+Math.exp(-Math.abs(this._delta*k)));this._delta<0&&M!==0&&(M=1/M);const R=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(R*M))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const l=typeof this._targetZoom=="number"?this._targetZoom:i.zoom,d=this._startZoom,g=this._easing;let x,T=!1;if(this._type==="wheel"&&d&&g){const k=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),M=g(k);x=a.number(d,l,M),k<1?this._frameId||(this._frameId=!0):T=!0}else x=l,T=!0;return this._active=!0,T&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!T,zoomDelta:x-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let l=a.ease;if(this._prevEase){const d=this._prevEase,g=(a.exported.now()-d.start)/d.duration,x=d.easing(g+.01)-d.easing(g),T=.27/Math.sqrt(x*x+1e-4)*.01,k=Math.sqrt(.0729-T*T);l=a.bezier(T,k,.25,1)}return this._prevEase={start:a.exported.now(),duration:i,easing:l},l}reset(){this._active=!1}}class Zi{constructor(i,l){this._clickZoom=i,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class dr{constructor(){this.reset()}reset(){this._active=!1}dblclick(i,l){return i.preventDefault(),{cameraAnimation:d=>{d.easeTo({duration:300,zoom:d.getZoom()+(i.shiftKey?-1:1),around:d.unproject(l)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class fi{constructor(){this._tap=new Kl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(i,l,d){this._swipePoint||(this._tapTime&&i.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?d.length>0&&(this._swipePoint=l[0],this._swipeTouch=d[0].identifier):this._tap.touchstart(i,l,d))}touchmove(i,l,d){if(this._tapTime){if(this._swipePoint){if(d[0].identifier!==this._swipeTouch)return;const g=l[0],x=g.y-this._swipePoint.y;return this._swipePoint=g,i.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(i,l,d)}touchend(i,l,d){this._tapTime?this._swipePoint&&d.length===0&&this.reset():this._tap.touchend(i,l,d)&&(this._tapTime=i.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $i{constructor(i,l,d){this._el=i,this._mousePan=l,this._touchPan=d}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Hr{constructor(i,l,d){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=l,this._mousePitch=d}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class wr{constructor(i,l,d,g){this._el=i,this._touchZoom=l,this._touchRotate=d,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const ol=f=>f.zoom||f.drag||f.pitch||f.rotate;class Uc extends a.Event{}function Ql(f){return f.panDelta&&f.panDelta.mag()||f.zoomDelta||f.bearingDelta||f.pitchDelta}class Cd{constructor(i,l){this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new rl(i),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(l),a.bindAll(["handleEvent","handleWindowEvent"],this);const d=this._el;this._listeners=[[d,"touchstart",{passive:!0}],[d,"touchmove",{passive:!1}],[d,"touchend",void 0],[d,"touchcancel",void 0],[d,"mousedown",void 0],[d,"mousemove",void 0],[d,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[d,"mouseover",void 0],[d,"mouseout",void 0],[d,"dblclick",void 0],[d,"click",void 0],[d,"keydown",{capture:!1}],[d,"keyup",void 0],[d,"wheel",{passive:!1}],[d,"contextmenu",void 0],[window,"blur",void 0]];for(const[g,x,T]of this._listeners)z.addEventListener(g,x,g===document?this.handleWindowEvent:this.handleEvent,T)}destroy(){for(const[i,l,d]of this._listeners)z.removeEventListener(i,l,i===document?this.handleWindowEvent:this.handleEvent,d)}_addDefaultHandlers(i){const l=this._map,d=l.getCanvasContainer();this._add("mapEvent",new Xl(l,i));const g=l.boxZoom=new ba(l,i);this._add("boxZoom",g);const x=new sl,T=new dr;l.doubleClickZoom=new Zi(T,x),this._add("tapZoom",x),this._add("clickZoom",T);const k=new fi;this._add("tapDragZoom",k);const M=l.touchPitch=new Xt(l);this._add("touchPitch",M);const R=new Q(i),O=new te(i);l.dragRotate=new Hr(i,R,O),this._add("mouseRotate",R,["mousePitch"]),this._add("mousePitch",O,["mouseRotate"]);const W=new Sa(i),$=new Te(i,l);l.dragPan=new $i(d,W,$),this._add("mousePan",W),this._add("touchPan",$,["touchZoom","touchRotate"]);const ue=new At,se=new Ce;l.touchZoomRotate=new wr(d,se,ue,k),this._add("touchRotate",ue,["touchPan","touchZoom"]),this._add("touchZoom",se,["touchPan","touchRotate"]);const le=l.scrollZoom=new Pi(l,this);this._add("scrollZoom",le,["mousePan"]);const xe=l.keyboard=new En;this._add("keyboard",xe),this._add("blockableMapEvent",new Ps(l));for(const Ae of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])i.interactive&&i[Ae]&&l[Ae].enable(i[Ae])}_add(i,l,d){this._handlers.push({handlerName:i,handler:l,allowed:d}),this._handlersById[i]=l}stop(i){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(ol(this._eventsInProgress))||this.isZooming()}_blockedByActive(i,l,d){for(const g in i)if(g!==d&&(!l||l.indexOf(g)<0))return!0;return!1}handleWindowEvent(i){this.handleEvent(i,`${i.type}Window`)}_getMapTouches(i){const l=[];for(const d of i)this._el.contains(d.target)&&l.push(d);return l}handleEvent(i,l){if(i.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const d=i.type==="renderFrame"?void 0:i,g={needsRenderFrame:!1},x={},T={},k=i.touches,M=k?this._getMapTouches(k):void 0,R=M?z.touchPos(this._el,M):z.mousePos(this._el,i);for(const{handlerName:$,handler:ue,allowed:se}of this._handlers){if(!ue.isEnabled())continue;let le;this._blockedByActive(T,se,$)?ue.reset():ue[l||i.type]&&(le=ue[l||i.type](i,R,M),this.mergeHandlerResult(g,x,le,$,d),le&&le.needsRenderFrame&&this._triggerRenderFrame()),(le||ue.isActive())&&(T[$]=ue)}const O={};for(const $ in this._previousActiveHandlers)T[$]||(O[$]=d);this._previousActiveHandlers=T,(Object.keys(O).length||Ql(g))&&(this._changes.push([g,x,O]),this._triggerRenderFrame()),(Object.keys(T).length||Ql(g))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:W}=g;W&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],W(this._map))}mergeHandlerResult(i,l,d,g,x){if(!d)return;a.extend(i,d);const T={handlerName:g,originalEvent:d.originalEvent||x};d.zoomDelta!==void 0&&(l.zoom=T),d.panDelta!==void 0&&(l.drag=T),d.pitchDelta!==void 0&&(l.pitch=T),d.bearingDelta!==void 0&&(l.rotate=T)}_applyChanges(){const i={},l={},d={};for(const[g,x,T]of this._changes)g.panDelta&&(i.panDelta=(i.panDelta||new a.pointGeometry(0,0))._add(g.panDelta)),g.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(i.around=g.around),g.pinchAround!==void 0&&(i.pinchAround=g.pinchAround),g.noInertia&&(i.noInertia=g.noInertia),a.extend(l,x),a.extend(d,T);this._updateMapTransform(i,l,d),this._changes=[]}_updateMapTransform(i,l,d){const g=this._map,x=g.transform,T=g.style&&g.style.terrain;if(!(Ql(i)||T&&this._drag))return this._fireEvents(l,d,!0);let{panDelta:k,zoomDelta:M,bearingDelta:R,pitchDelta:O,around:W,pinchAround:$}=i;$!==void 0&&(W=$),g._stop(!0),W=W||g.transform.centerPoint;const ue=x.pointLocation(k?W.sub(k):W);R&&(x.bearing+=R),O&&(x.pitch+=O),M&&(x.zoom+=M),T?l.drag&&!this._drag?(this._drag={center:x.centerPoint,lngLat:x.pointLocation(W),point:W,handlerName:l.drag.handlerName},g.fire(new a.Event("freezeElevation",{freeze:!0}))):this._drag&&d[this._drag.handlerName]?(g.fire(new a.Event("freezeElevation",{freeze:!1})),this._drag=null):l.drag&&this._drag&&(x.center=x.pointLocation(x.centerPoint.sub(k))):x.setLocationAtPoint(ue,W),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(l,d,!0)}_fireEvents(i,l,d){const g=ol(this._eventsInProgress),x=ol(i),T={};for(const O in i){const{originalEvent:W}=i[O];this._eventsInProgress[O]||(T[`${O}start`]=W),this._eventsInProgress[O]=i[O]}!g&&x&&this._fireEvent("movestart",x.originalEvent);for(const O in T)this._fireEvent(O,T[O]);x&&this._fireEvent("move",x.originalEvent);for(const O in i){const{originalEvent:W}=i[O];this._fireEvent(O,W)}const k={};let M;for(const O in this._eventsInProgress){const{handlerName:W,originalEvent:$}=this._eventsInProgress[O];this._handlersById[W].isActive()||(delete this._eventsInProgress[O],M=l[W]||$,k[`${O}end`]=M)}for(const O in k)this._fireEvent(O,k[O]);const R=ol(this._eventsInProgress);if(d&&(g||x)&&!R){this._updatingCamera=!0;const O=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),W=$=>$!==0&&-this._bearingSnap<$&&$<this._bearingSnap;O?(W(O.bearing||this._map.getBearing())&&(O.bearing=0),this._map.easeTo(O,{originalEvent:M})):(this._map.fire(new a.Event("moveend",{originalEvent:M})),W(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(i,l){this._map.fire(new a.Event(i,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new Uc("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const vs={extend:(f,...i)=>a.extend(f,...i),run(f){f()},logToElement(f,i=!1,l="log"){const d=window.document.getElementById(l);d&&(i&&(d.innerHTML=""),d.innerHTML+=`<br>${f}`)}};class wi extends a.Evented{constructor(i,l){super(),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=l.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(i,l){return this.jumpTo({center:i},l)}panBy(i,l,d){return i=a.pointGeometry.convert(i).mult(-1),this.panTo(this.transform.center,a.extend({offset:i},l),d)}panTo(i,l,d){return this.easeTo(a.extend({center:i},l),d)}getZoom(){return this.transform.zoom}setZoom(i,l){return this.jumpTo({zoom:i},l),this}zoomTo(i,l,d){return this.easeTo(a.extend({zoom:i},l),d)}zoomIn(i,l){return this.zoomTo(this.getZoom()+1,i,l),this}zoomOut(i,l){return this.zoomTo(this.getZoom()-1,i,l),this}getBearing(){return this.transform.bearing}setBearing(i,l){return this.jumpTo({bearing:i},l),this}getPadding(){return this.transform.padding}setPadding(i,l){return this.jumpTo({padding:i},l),this}rotateTo(i,l,d){return this.easeTo(a.extend({bearing:i},l),d)}resetNorth(i,l){return this.rotateTo(0,a.extend({duration:1e3},i),l),this}resetNorthPitch(i,l){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},i),l),this}snapToNorth(i,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,l):this}getPitch(){return this.transform.pitch}setPitch(i,l){return this.jumpTo({pitch:i},l),this}cameraForBounds(i,l){i=a.LngLatBounds.convert(i);const d=l&&l.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),d,l)}_cameraForBoxAndBearing(i,l,d,g){const x={top:0,bottom:0,right:0,left:0};if(typeof(g=a.extend({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const De=g.padding;g.padding={top:De,bottom:De,right:De,left:De}}g.padding=a.extend(x,g.padding);const T=this.transform,k=T.padding,M=T.project(a.LngLat.convert(i)),R=T.project(a.LngLat.convert(l)),O=M.rotate(-d*Math.PI/180),W=R.rotate(-d*Math.PI/180),$=new a.pointGeometry(Math.max(O.x,W.x),Math.max(O.y,W.y)),ue=new a.pointGeometry(Math.min(O.x,W.x),Math.min(O.y,W.y)),se=$.sub(ue),le=(T.width-(k.left+k.right+g.padding.left+g.padding.right))/se.x,xe=(T.height-(k.top+k.bottom+g.padding.top+g.padding.bottom))/se.y;if(xe<0||le<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Ae=Math.min(T.scaleZoom(T.scale*Math.min(le,xe)),g.maxZoom),Me=a.pointGeometry.convert(g.offset),de=new a.pointGeometry((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(d*Math.PI/180),Re=Me.add(de).mult(T.scale/T.zoomScale(Ae));return{center:T.unproject(M.add(R).div(2).sub(Re)),zoom:Ae,bearing:d}}fitBounds(i,l,d){return this._fitInternal(this.cameraForBounds(i,l),l,d)}fitScreenCoordinates(i,l,d,g,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.pointGeometry.convert(i)),this.transform.pointLocation(a.pointGeometry.convert(l)),d,g),g,x)}_fitInternal(i,l,d){return i?(delete(l=a.extend(i,l)).padding,l.linear?this.easeTo(l,d):this.flyTo(l,d)):this}jumpTo(i,l){this.stop();const d=this.transform;let g=!1,x=!1,T=!1;return"zoom"in i&&d.zoom!==+i.zoom&&(g=!0,d.zoom=+i.zoom),i.center!==void 0&&(d.center=a.LngLat.convert(i.center)),"bearing"in i&&d.bearing!==+i.bearing&&(x=!0,d.bearing=+i.bearing),"pitch"in i&&d.pitch!==+i.pitch&&(T=!0,d.pitch=+i.pitch),i.padding==null||d.isPaddingEqual(i.padding)||(d.padding=i.padding),this.fire(new a.Event("movestart",l)).fire(new a.Event("move",l)),g&&this.fire(new a.Event("zoomstart",l)).fire(new a.Event("zoom",l)).fire(new a.Event("zoomend",l)),x&&this.fire(new a.Event("rotatestart",l)).fire(new a.Event("rotate",l)).fire(new a.Event("rotateend",l)),T&&this.fire(new a.Event("pitchstart",l)).fire(new a.Event("pitch",l)).fire(new a.Event("pitchend",l)),this.fire(new a.Event("moveend",l))}calculateCameraOptionsFromTo(i,l,d,g=0){const x=a.MercatorCoordinate.fromLngLat(i,l),T=a.MercatorCoordinate.fromLngLat(d,g),k=T.x-x.x,M=T.y-x.y,R=T.z-x.z,O=Math.hypot(k,M,R);if(O===0)throw new Error("Can't calculate camera options with same From and To");const W=Math.hypot(k,M),$=this.transform.scaleZoom(this.transform.cameraToCenterDistance/O/this.transform.tileSize),ue=180*Math.atan2(k,-M)/Math.PI;let se=180*Math.acos(W/O)/Math.PI;return se=R<0?90-se:90+se,{center:T.toLngLat(),zoom:$,pitch:se,bearing:ue}}easeTo(i,l){this._stop(!1,i.easeId),((i=a.extend({offset:[0,0],duration:500,easing:a.ease},i)).animate===!1||!i.essential&&a.exported.prefersReducedMotion)&&(i.duration=0);const d=this.transform,g=this.getZoom(),x=this.getBearing(),T=this.getPitch(),k=this.getPadding(),M="zoom"in i?+i.zoom:g,R="bearing"in i?this._normalizeBearing(i.bearing,x):x,O="pitch"in i?+i.pitch:T,W="padding"in i?i.padding:d.padding,$=a.pointGeometry.convert(i.offset);let ue=d.centerPoint.add($);const se=d.pointLocation(ue),le=a.LngLat.convert(i.center||se);this._normalizeCenter(le);const xe=d.project(se),Ae=d.project(le).sub(xe),Me=d.zoomScale(M-g);let de,Re;i.around&&(de=a.LngLat.convert(i.around),Re=d.locationPoint(de));const De={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||M!==g,this._rotating=this._rotating||x!==R,this._pitching=this._pitching||O!==T,this._padding=!d.isPaddingEqual(W),this._easeId=i.easeId,this._prepareEase(l,i.noMoveStart,De),this._ease(Ge=>{if(this._zooming&&(d.zoom=a.number(g,M,Ge)),this._rotating&&(d.bearing=a.number(x,R,Ge)),this._pitching&&(d.pitch=a.number(T,O,Ge)),this._padding&&(d.interpolatePadding(k,W,Ge),ue=d.centerPoint.add($)),de)d.setLocationAtPoint(de,Re);else{const We=d.zoomScale(d.zoom-g),ot=M>g?Math.min(2,Me):Math.max(.5,Me),Ve=Math.pow(ot,1-Ge),Tt=d.unproject(xe.add(Ae.mult(Ge*Ve)).mult(We));d.setLocationAtPoint(d.renderWorldCopies?Tt.wrap():Tt,ue)}this._fireMoveEvents(l)},Ge=>{this._afterEase(l,Ge)},i),this}_prepareEase(i,l,d={}){this._moving=!0,this.fire(new a.Event("freezeElevation",{freeze:!0})),l||d.moving||this.fire(new a.Event("movestart",i)),this._zooming&&!d.zooming&&this.fire(new a.Event("zoomstart",i)),this._rotating&&!d.rotating&&this.fire(new a.Event("rotatestart",i)),this._pitching&&!d.pitching&&this.fire(new a.Event("pitchstart",i))}_fireMoveEvents(i){this.fire(new a.Event("move",i)),this._zooming&&this.fire(new a.Event("zoom",i)),this._rotating&&this.fire(new a.Event("rotate",i)),this._pitching&&this.fire(new a.Event("pitch",i))}_afterEase(i,l){if(this._easeId&&l&&this._easeId===l)return;delete this._easeId,this.fire(new a.Event("freezeElevation",{freeze:!1}));const d=this._zooming,g=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,d&&this.fire(new a.Event("zoomend",i)),g&&this.fire(new a.Event("rotateend",i)),x&&this.fire(new a.Event("pitchend",i)),this.fire(new a.Event("moveend",i))}flyTo(i,l){if(!i.essential&&a.exported.prefersReducedMotion){const Ht=a.pick(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ht,l)}this.stop(),i=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},i);const d=this.transform,g=this.getZoom(),x=this.getBearing(),T=this.getPitch(),k=this.getPadding(),M="zoom"in i?a.clamp(+i.zoom,d.minZoom,d.maxZoom):g,R="bearing"in i?this._normalizeBearing(i.bearing,x):x,O="pitch"in i?+i.pitch:T,W="padding"in i?i.padding:d.padding,$=d.zoomScale(M-g),ue=a.pointGeometry.convert(i.offset);let se=d.centerPoint.add(ue);const le=d.pointLocation(se),xe=a.LngLat.convert(i.center||le);this._normalizeCenter(xe);const Ae=d.project(le),Me=d.project(xe).sub(Ae);let de=i.curve;const Re=Math.max(d.width,d.height),De=Re/$,Ge=Me.mag();if("minZoom"in i){const Ht=a.clamp(Math.min(i.minZoom,g,M),d.minZoom,d.maxZoom),ei=Re/d.zoomScale(Ht-g);de=Math.sqrt(ei/Ge*2)}const We=de*de;function ot(Ht){const ei=(De*De-Re*Re+(Ht?-1:1)*We*We*Ge*Ge)/(2*(Ht?De:Re)*We*Ge);return Math.log(Math.sqrt(ei*ei+1)-ei)}function Ve(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function Tt(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}const yt=ot(0);let Et=function(Ht){return Tt(yt)/Tt(yt+de*Ht)},pn=function(Ht){return Re*((Tt(yt)*(Ve(ei=yt+de*Ht)/Tt(ei))-Ve(yt))/We)/Ge;var ei},xn=(ot(1)-yt)/de;if(Math.abs(Ge)<1e-6||!isFinite(xn)){if(Math.abs(Re-De)<1e-6)return this.easeTo(i,l);const Ht=De<Re?-1:1;xn=Math.abs(Math.log(De/Re))/de,pn=function(){return 0},Et=function(ei){return Math.exp(Ht*de*ei)}}return i.duration="duration"in i?+i.duration:1e3*xn/("screenSpeed"in i?+i.screenSpeed/de:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=x!==R,this._pitching=O!==T,this._padding=!d.isPaddingEqual(W),this._prepareEase(l,!1),this._ease(Ht=>{const ei=Ht*xn,ti=1/Et(ei);d.zoom=Ht===1?M:g+d.scaleZoom(ti),this._rotating&&(d.bearing=a.number(x,R,Ht)),this._pitching&&(d.pitch=a.number(T,O,Ht)),this._padding&&(d.interpolatePadding(k,W,Ht),se=d.centerPoint.add(ue));const Rn=Ht===1?xe:d.unproject(Ae.add(Me.mult(pn(ei))).mult(ti));d.setLocationAtPoint(d.renderWorldCopies?Rn.wrap():Rn,se),this._fireMoveEvents(l)},()=>this._afterEase(l),i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const d=this._onEaseEnd;delete this._onEaseEnd,d.call(this,l)}if(!i){const d=this.handlers;d&&d.stop(!1)}return this}_ease(i,l,d){d.animate===!1||d.duration===0?(i(1),l()):(this._easeStart=a.exported.now(),this._easeOptions=d,this._onEaseFrame=i,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const i=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(i)),i<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(i,l){i=a.wrap(i,-180,180);const d=Math.abs(i-l);return Math.abs(i-360-l)<d&&(i-=360),Math.abs(i+360-l)<d&&(i+=360),i}_normalizeCenter(i){const l=this.transform;if(!l.renderWorldCopies||l.lngRange)return;const d=i.lng-l.center.lng;i.lng+=d>180?-360:d<-180?360:0}}class Jl{constructor(i={}){this.options=i,a.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options&&this.options.compact,this._container=z.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=z.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=z.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){z.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,l){const d=this._map._getUIString(`AttributionControl.${l}`);i.title=d,i.setAttribute("aria-label",d)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(i){!i||i.sourceDataType!=="metadata"&&i.sourceDataType!=="visibility"&&i.dataType!=="style"&&i.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}const l=this._map.style.sourceCaches;for(const g in l){const x=l[g];if(x.used||x.usedForTerrain){const T=x.getSource();T.attribution&&i.indexOf(T.attribution)<0&&i.push(T.attribution)}}i=i.filter(g=>String(g).trim()),i.sort((g,x)=>g.length-x.length),i=i.filter((g,x)=>{for(let T=x+1;T<i.length;T++)if(i[T].indexOf(g)>=0)return!1;return!0});const d=i.join(" | ");d!==this._attribHTML&&(this._attribHTML=d,i.length?(this._innerContainer.innerHTML=d,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class Ou{constructor(i={}){this.options=i,a.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=z.create("div","maplibregl-ctrl mapboxgl-ctrl");const l=z.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://maplibre.org/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){z.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const i=this._container.children;if(i.length){const l=i[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&l.classList.add("maplibregl-compact","mapboxgl-compact"):l.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class kd{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const l=++this._id;return this._queue.push({callback:i,id:l,cancelled:!1}),l}remove(i){const l=this._currentlyRunning,d=l?this._queue.concat(l):this._queue;for(const g of d)if(g.id===i)return void(g.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const l=this._currentlyRunning=this._queue;this._queue=[];for(const d of l)if(!d.cancelled&&(d.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Pd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},Id={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},im={showCompass:!0,showZoom:!0,visualizePitch:!1};class $s{constructor(i,l,d=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new Q({clickTolerance:i.dragRotate._mouseRotate._clickTolerance}),this.map=i,d&&(this.mousePitch=new te({clickTolerance:i.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),z.addEventListener(l,"mousedown",this.mousedown),z.addEventListener(l,"touchstart",this.touchstart,{passive:!1}),z.addEventListener(l,"touchmove",this.touchmove),z.addEventListener(l,"touchend",this.touchend),z.addEventListener(l,"touchcancel",this.reset)}down(i,l){this.mouseRotate.mousedown(i,l),this.mousePitch&&this.mousePitch.mousedown(i,l),z.disableDrag()}move(i,l){const d=this.map,g=this.mouseRotate.mousemoveWindow(i,l);if(g&&g.bearingDelta&&d.setBearing(d.getBearing()+g.bearingDelta),this.mousePitch){const x=this.mousePitch.mousemoveWindow(i,l);x&&x.pitchDelta&&d.setPitch(d.getPitch()+x.pitchDelta)}}off(){const i=this.element;z.removeEventListener(i,"mousedown",this.mousedown),z.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),z.removeEventListener(i,"touchmove",this.touchmove),z.removeEventListener(i,"touchend",this.touchend),z.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){z.enableDrag(),z.removeEventListener(window,"mousemove",this.mousemove),z.removeEventListener(window,"mouseup",this.mouseup)}mousedown(i){this.down(a.extend({},i,{ctrlKey:!0,preventDefault:()=>i.preventDefault()}),z.mousePos(this.element,i)),z.addEventListener(window,"mousemove",this.mousemove),z.addEventListener(window,"mouseup",this.mouseup)}mousemove(i){this.move(i,z.mousePos(this.element,i))}mouseup(i){this.mouseRotate.mouseupWindow(i),this.mousePitch&&this.mousePitch.mouseupWindow(i),this.offTemp()}touchstart(i){i.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=z.touchPos(this.element,i.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>i.preventDefault()},this._startPos))}touchmove(i){i.targetTouches.length!==1?this.reset():(this._lastPos=z.touchPos(this.element,i.targetTouches)[0],this.move({preventDefault:()=>i.preventDefault()},this._lastPos))}touchend(i){i.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function eu(f,i,l){if(f=new a.LngLat(f.lng,f.lat),i){const d=new a.LngLat(f.lng-360,f.lat),g=new a.LngLat(f.lng+360,f.lat),x=l.locationPoint(f).distSqr(i);l.locationPoint(d).distSqr(i)<x?f=d:l.locationPoint(g).distSqr(i)<x&&(f=g)}for(;Math.abs(f.lng-l.center.lng)>180;){const d=l.locationPoint(f);if(d.x>=0&&d.y>=0&&d.x<=l.width&&d.y<=l.height)break;f.lng>l.center.lng?f.lng-=360:f.lng+=360}return f}const Lt={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Kt(f,i,l){const d=f.classList;for(const g in Lt)d.remove(`maplibregl-${l}-anchor-${g}`,`mapboxgl-${l}-anchor-${g}`);d.add(`maplibregl-${l}-anchor-${i}`,`mapboxgl-${l}-anchor-${i}`)}class al extends a.Evented{constructor(i,l){if(super(),(i instanceof HTMLElement||l)&&(i=a.extend({element:i},l)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=a.pointGeometry.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=z.create("div"),this._element.setAttribute("aria-label","Map marker");const d=z.createNS("http://www.w3.org/2000/svg","svg"),g=41,x=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${g}px`),d.setAttributeNS(null,"width",`${x}px`),d.setAttributeNS(null,"viewBox",`0 0 ${x} ${g}`);const T=z.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"stroke","none"),T.setAttributeNS(null,"stroke-width","1"),T.setAttributeNS(null,"fill","none"),T.setAttributeNS(null,"fill-rule","evenodd");const k=z.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"fill-rule","nonzero");const M=z.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"transform","translate(3.0, 29.0)"),M.setAttributeNS(null,"fill","#000000");const R=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Me of R){const de=z.createNS("http://www.w3.org/2000/svg","ellipse");de.setAttributeNS(null,"opacity","0.04"),de.setAttributeNS(null,"cx","10.5"),de.setAttributeNS(null,"cy","5.80029008"),de.setAttributeNS(null,"rx",Me.rx),de.setAttributeNS(null,"ry",Me.ry),M.appendChild(de)}const O=z.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"fill",this._color);const W=z.createNS("http://www.w3.org/2000/svg","path");W.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),O.appendChild(W);const $=z.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"opacity","0.25"),$.setAttributeNS(null,"fill","#000000");const ue=z.createNS("http://www.w3.org/2000/svg","path");ue.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),$.appendChild(ue);const se=z.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"transform","translate(6.0, 7.0)"),se.setAttributeNS(null,"fill","#FFFFFF");const le=z.createNS("http://www.w3.org/2000/svg","g");le.setAttributeNS(null,"transform","translate(8.0, 8.0)");const xe=z.createNS("http://www.w3.org/2000/svg","circle");xe.setAttributeNS(null,"fill","#000000"),xe.setAttributeNS(null,"opacity","0.25"),xe.setAttributeNS(null,"cx","5.5"),xe.setAttributeNS(null,"cy","5.5"),xe.setAttributeNS(null,"r","5.4999962");const Ae=z.createNS("http://www.w3.org/2000/svg","circle");Ae.setAttributeNS(null,"fill","#FFFFFF"),Ae.setAttributeNS(null,"cx","5.5"),Ae.setAttributeNS(null,"cy","5.5"),Ae.setAttributeNS(null,"r","5.4999962"),le.appendChild(xe),le.appendChild(Ae),k.appendChild(M),k.appendChild(O),k.appendChild($),k.appendChild(se),k.appendChild(le),d.appendChild(k),d.setAttributeNS(null,"height",g*this._scale+"px"),d.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(d),this._offset=a.pointGeometry.convert(i&&i.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),Kt(this._element,this._anchor,"marker"),this._popup=null}addTo(i){return this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),z.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=a.LngLat.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const g=Math.sqrt(Math.pow(13.5,2)/2);i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(i){const l=i.code,d=i.charCode||i.keyCode;l!=="Space"&&l!=="Enter"&&d!==32&&d!==13||this.togglePopup()}_onMapClick(i){const l=i.originalEvent.target,d=this._element;this._popup&&(l===d||d.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?i.remove():i.addTo(this._map),this):this}_update(i){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=eu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let l="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?l=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(l=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let d="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?d="rotateX(0deg)":this._pitchAlignment==="map"&&(d=`rotateX(${this._map.getPitch()}deg)`),i&&i.type!=="moveend"||(this._pos=this._pos.round()),z.setTransform(this._element,`${Lt[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${d} ${l}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const g=this._map.unproject(this._pos),x=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=g.distanceTo(this._lngLat)>20*x?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(i){return this._offset=a.pointGeometry.convert(i),this._update(),this}_onMove(i){if(!this._isDragging){const l=this._clickTolerance||this._map._clickTolerance;this._isDragging=i.point.dist(this._pointerdownPos)>=l}this._isDragging&&(this._pos=i.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(i){this._element.contains(i.originalEvent.target)&&(i.preventDefault(),this._positionDelta=i.point.sub(this._pos).add(this._offset),this._pointerdownPos=i.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const jc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Zo,pr=0,$o=!1;const Xs={maxWidth:100,unit:"metric"};function Md(f,i,l){const d=l&&l.maxWidth||100,g=f._container.clientHeight/2,x=f.unproject([0,g]),T=f.unproject([d,g]),k=x.distanceTo(T);if(l&&l.unit==="imperial"){const M=3.2808*k;M>5280?Xo(i,d,M/5280,f._getUIString("ScaleControl.Miles")):Xo(i,d,M,f._getUIString("ScaleControl.Feet"))}else l&&l.unit==="nautical"?Xo(i,d,k/1852,f._getUIString("ScaleControl.NauticalMiles")):k>=1e3?Xo(i,d,k/1e3,f._getUIString("ScaleControl.Kilometers")):Xo(i,d,k,f._getUIString("ScaleControl.Meters"))}function Xo(f,i,l,d){const g=function(x){const T=Math.pow(10,`${Math.floor(x)}`.length-1);let k=x/T;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:k>=1?1:function(M){const R=Math.pow(10,Math.ceil(-Math.log(M)/Math.LN10));return Math.round(M*R)/R}(k),T*k}(l);f.style.width=i*(g/l)+"px",f.innerHTML=`${g}&nbsp;${d}`}const Li={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Xi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function qc(f){if(f){if(typeof f=="number"){const i=Math.round(Math.sqrt(.5*Math.pow(f,2)));return{center:new a.pointGeometry(0,0),top:new a.pointGeometry(0,f),"top-left":new a.pointGeometry(i,i),"top-right":new a.pointGeometry(-i,i),bottom:new a.pointGeometry(0,-f),"bottom-left":new a.pointGeometry(i,-i),"bottom-right":new a.pointGeometry(-i,-i),left:new a.pointGeometry(f,0),right:new a.pointGeometry(-f,0)}}if(f instanceof a.pointGeometry||Array.isArray(f)){const i=a.pointGeometry.convert(f);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:a.pointGeometry.convert(f.center||[0,0]),top:a.pointGeometry.convert(f.top||[0,0]),"top-left":a.pointGeometry.convert(f["top-left"]||[0,0]),"top-right":a.pointGeometry.convert(f["top-right"]||[0,0]),bottom:a.pointGeometry.convert(f.bottom||[0,0]),"bottom-left":a.pointGeometry.convert(f["bottom-left"]||[0,0]),"bottom-right":a.pointGeometry.convert(f["bottom-right"]||[0,0]),left:a.pointGeometry.convert(f.left||[0,0]),right:a.pointGeometry.convert(f.right||[0,0])}}return qc(new a.pointGeometry(0,0))}const Ta={supported:S,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends wi{constructor(f){var i;if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(f=a.extend({},Id,f)).minZoom!=null&&f.maxZoom!=null&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(f.minPitch!=null&&f.maxPitch!=null&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(f.minPitch!=null&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(f.maxPitch!=null&&f.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new qo(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies),{bearingSnap:f.bearingSnap}),this._interactive=f.interactive,this._cooperativeGestures=f.cooperativeGestures,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._crossSourceCollisions=f.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=f.collectResourceTiming,this._renderTaskQueue=new kd,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},Pd,f.locale),this._clickTolerance=f.clickTolerance,this._pixelRatio=(i=f.pixelRatio)!==null&&i!==void 0?i:devicePixelRatio,this._requestManager=new ie(f.transformRequest),typeof f.container=="string"){if(this._container=document.getElementById(f.container),!this._container)throw new Error(`Container '${f.container}' not found.`)}else{if(!(f.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(f.maxBounds&&this.setMaxBounds(f.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Cd(this,f),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=f.hash&&new $l(typeof f.hash=="string"&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,a.extend({},f.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=f.localIdeographFontFamily,f.style&&this.setStyle(f.style,{localIdeographFontFamily:f.localIdeographFontFamily}),f.attributionControl&&this.addControl(new Jl({customAttribution:f.customAttribution})),f.maplibreLogo&&this.addControl(new Ou,f.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new a.Event(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new a.Event(`${l.dataType}dataloading`,l))}),this.on("dataabort",l=>{this.fire(new a.Event("sourcedataabort",l))})}_getMapId(){return this._mapId}addControl(f,i){if(i===void 0&&(i=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=f.onAdd(this);this._controls.push(f);const d=this._controlPositions[i];return i.indexOf("bottom")!==-1?d.insertBefore(l,d.firstChild):d.appendChild(l),this}removeControl(f){if(!f||!f.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(f);return i>-1&&this._controls.splice(i,1),f.onRemove(this),this}hasControl(f){return this._controls.indexOf(f)>-1}calculateCameraOptionsFromTo(f,i,l,d){return d==null&&this.style.terrain&&(d=this.transform.getElevation(l,this.style.terrain)),super.calculateCameraOptionsFromTo(f,i,l,d)}resize(f){const i=this._containerDimensions(),l=i[0],d=i[1];this._resizeCanvas(l,d,this.getPixelRatio()),this.transform.resize(l,d),this.painter.resize(l,d,this.getPixelRatio());const g=!this._moving;return g&&(this.stop(),this.fire(new a.Event("movestart",f)).fire(new a.Event("move",f))),this.fire(new a.Event("resize",f)),g&&this.fire(new a.Event("moveend",f)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(f){const[i,l]=this._containerDimensions();this._pixelRatio=f,this._resizeCanvas(i,l,f),this.painter.resize(i,l,f)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(f){return this.transform.setMaxBounds(a.LngLatBounds.convert(f)),this._update()}setMinZoom(f){if((f=f==null?-2:f)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f&&this.setZoom(f),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(f){if((f=f==null?22:f)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f&&this.setZoom(f),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(f){if((f=f==null?0:f)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f&&this.setPitch(f),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(f){if((f=f==null?60:f)>85)throw new Error("maxPitch must be less than or equal to 85");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f&&this.setPitch(f),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(f){return this.transform.renderWorldCopies=f,this._update()}project(f){return this.transform.locationPoint(a.LngLat.convert(f),this.style&&this.style.terrain)}unproject(f){return this.transform.pointLocation(a.pointGeometry.convert(f),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(f,i,l){if(f==="mouseenter"||f==="mouseover"){let d=!1;return{layer:i,listener:l,delegates:{mousemove:x=>{const T=this.getLayer(i)?this.queryRenderedFeatures(x.point,{layers:[i]}):[];T.length?d||(d=!0,l.call(this,new Lr(f,this,x.originalEvent,{features:T}))):d=!1},mouseout:()=>{d=!1}}}}if(f==="mouseleave"||f==="mouseout"){let d=!1;return{layer:i,listener:l,delegates:{mousemove:T=>{(this.getLayer(i)?this.queryRenderedFeatures(T.point,{layers:[i]}):[]).length?d=!0:d&&(d=!1,l.call(this,new Lr(f,this,T.originalEvent)))},mouseout:T=>{d&&(d=!1,l.call(this,new Lr(f,this,T.originalEvent)))}}}}{const d=g=>{const x=this.getLayer(i)?this.queryRenderedFeatures(g.point,{layers:[i]}):[];x.length&&(g.features=x,l.call(this,g),delete g.features)};return{layer:i,listener:l,delegates:{[f]:d}}}}on(f,i,l){if(l===void 0)return super.on(f,i);const d=this._createDelegatedListener(f,i,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(d);for(const g in d.delegates)this.on(g,d.delegates[g]);return this}once(f,i,l){if(l===void 0)return super.once(f,i);const d=this._createDelegatedListener(f,i,l);for(const g in d.delegates)this.once(g,d.delegates[g]);return this}off(f,i,l){return l===void 0?super.off(f,i):(this._delegatedListeners&&this._delegatedListeners[f]&&(d=>{const g=this._delegatedListeners[f];for(let x=0;x<g.length;x++){const T=g[x];if(T.layer===i&&T.listener===l){for(const k in T.delegates)this.off(k,T.delegates[k]);return g.splice(x,1),this}}})(),this)}queryRenderedFeatures(f,i){if(!this.style)return[];let l;if(i!==void 0||f===void 0||f instanceof a.pointGeometry||Array.isArray(f)||(i=f,f=void 0),i=i||{},(f=f||[[0,0],[this.transform.width,this.transform.height]])instanceof a.pointGeometry||typeof f[0]=="number")l=[a.pointGeometry.convert(f)];else{const d=a.pointGeometry.convert(f[0]),g=a.pointGeometry.convert(f[1]);l=[d,new a.pointGeometry(g.x,d.y),g,new a.pointGeometry(d.x,g.y),d]}return this.style.queryRenderedFeatures(l,i,this.transform)}querySourceFeatures(f,i){return this.style.querySourceFeatures(f,i)}setStyle(f,i){return(i=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&f?(this._diffStyle(f,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(f,i))}setTransformRequest(f){return this._requestManager.setTransformRequest(f),this}_getUIString(f){const i=this._locale[f];if(i==null)throw new Error(`Missing UI string '${f}'`);return i}_updateStyle(f,i){return this.style&&(this.style.setEventedParent(null),this.style._remove()),f?(this.style=new Fi(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof f=="string"?this.style.loadURL(f):this.style.loadJSON(f),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Fi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(f,i){if(typeof f=="string"){const l=this._requestManager.transformRequest(f,a.ResourceType.Style);a.getJSON(l,(d,g)=>{d?this.fire(new a.ErrorEvent(d)):g&&this._updateDiff(g,i)})}else typeof f=="object"&&this._updateDiff(f,i)}_updateDiff(f,i){try{this.style.setState(f)&&this._update(!0)}catch(l){a.warnOnce(`Unable to perform style diff: ${l.message||l.error||l}.  Rebuilding the style from scratch.`),this._updateStyle(f,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(f,i){return this._lazyInitEmptyStyle(),this.style.addSource(f,i),this._update(!0)}isSourceLoaded(f){const i=this.style&&this.style.sourceCaches[f];if(i!==void 0)return i.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${f}'`)))}setTerrain(f){return this.style.setTerrain(f),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const f=this.style&&this.style.sourceCaches;for(const i in f){const l=f[i]._tiles;for(const d in l){const g=l[d];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}addSourceType(f,i,l){return this._lazyInitEmptyStyle(),this.style.addSourceType(f,i,l)}removeSource(f){return this.style.removeSource(f),this._update(!0)}getSource(f){return this.style.getSource(f)}addImage(f,i,{pixelRatio:l=1,sdf:d=!1,stretchX:g,stretchY:x,content:T}={}){if(this._lazyInitEmptyStyle(),i instanceof HTMLImageElement||a.isImageBitmap(i)){const{width:k,height:M,data:R}=a.exported.getImageData(i);this.style.addImage(f,{data:new a.RGBAImage({width:k,height:M},R),pixelRatio:l,stretchX:g,stretchY:x,content:T,sdf:d,version:0})}else{if(i.width===void 0||i.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:k,height:M,data:R}=i,O=i;this.style.addImage(f,{data:new a.RGBAImage({width:k,height:M},new Uint8Array(R)),pixelRatio:l,stretchX:g,stretchY:x,content:T,sdf:d,version:0,userImage:O}),O.onAdd&&O.onAdd(this,f)}}}updateImage(f,i){const l=this.style.getImage(f);if(!l)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const d=i instanceof HTMLImageElement||a.isImageBitmap(i)?a.exported.getImageData(i):i,{width:g,height:x,data:T}=d;if(g===void 0||x===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==l.data.width||x!==l.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const k=!(i instanceof HTMLImageElement||a.isImageBitmap(i));l.data.replace(T,k),this.style.updateImage(f,l)}hasImage(f){return f?!!this.style.getImage(f):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(f){this.style.removeImage(f)}loadImage(f,i){a.getImage(this._requestManager.transformRequest(f,a.ResourceType.Image),i)}listImages(){return this.style.listImages()}addLayer(f,i){return this._lazyInitEmptyStyle(),this.style.addLayer(f,i),this._update(!0)}moveLayer(f,i){return this.style.moveLayer(f,i),this._update(!0)}removeLayer(f){return this.style.removeLayer(f),this._update(!0)}getLayer(f){return this.style.getLayer(f)}setLayerZoomRange(f,i,l){return this.style.setLayerZoomRange(f,i,l),this._update(!0)}setFilter(f,i,l={}){return this.style.setFilter(f,i,l),this._update(!0)}getFilter(f){return this.style.getFilter(f)}setPaintProperty(f,i,l,d={}){return this.style.setPaintProperty(f,i,l,d),this._update(!0)}getPaintProperty(f,i){return this.style.getPaintProperty(f,i)}setLayoutProperty(f,i,l,d={}){return this.style.setLayoutProperty(f,i,l,d),this._update(!0)}getLayoutProperty(f,i){return this.style.getLayoutProperty(f,i)}setLight(f,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(f,i),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(f,i){return this.style.setFeatureState(f,i),this._update()}removeFeatureState(f,i){return this.style.removeFeatureState(f,i),this._update()}getFeatureState(f){return this.style.getFeatureState(f)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let f=0,i=0;return this._container&&(f=this._container.clientWidth||400,i=this._container.clientHeight||300),[f,i]}_setupContainer(){const f=this._container;f.classList.add("maplibregl-map","mapboxgl-map");const i=this._canvasContainer=z.create("div","maplibregl-canvas-container mapboxgl-canvas-container",f);this._interactive&&i.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=z.create("canvas","maplibregl-canvas mapboxgl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const l=this._containerDimensions();this._resizeCanvas(l[0],l[1],this.getPixelRatio());const d=this._controlContainer=z.create("div","maplibregl-control-container mapboxgl-control-container",f),g=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{g[x]=z.create("div",`maplibregl-ctrl-${x} mapboxgl-ctrl-${x}`,d)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const f=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=z.create("div","maplibregl-cooperative-gesture-screen",f);let i="Control",l=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(l=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map",i="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${l}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",d=>{d.key===i&&(this._metaPress=!0)}),document.addEventListener("keyup",d=>{d.key===i&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",d=>{this._onCooperativeGesture(d,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(f,i,l){this._canvas.width=l*f,this._canvas.height=l*i,this._canvas.style.width=`${f}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const f=a.extend({},S.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",f)||this._canvas.getContext("experimental-webgl",f);i?(this.painter=new va(i,this.transform),a.exported$1.testSupport(i)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:f}))}_contextRestored(f){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:f}))}_onMapScroll(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(f,i,l){return!i&&l<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(f){return this._update(),this._renderTaskQueue.add(f)}_cancelRenderFrame(f){this._renderTaskQueue.remove(f)}_render(f){let i,l=0;const d=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(i=d.createQueryEXT(),d.beginQueryEXT(d.TIME_ELAPSED_EXT,i),l=a.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(f),this._removed)return;let g=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const T=this.transform.zoom,k=a.exported.now();this.style.zoomHistory.update(T,k);const M=new a.EvaluationParameters(T,{now:k,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),R=M.crossFadingFactor();R===1&&R===this._crossFadingFactor||(g=!0,this._crossFadingFactor=R),this.style.update(M)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||g)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const T=a.exported.now()-l;d.endQueryEXT(d.TIME_ELAPSED_EXT,i),setTimeout(()=>{const k=d.getQueryObjectEXT(i,d.QUERY_RESULT_EXT)/1e6;d.deleteQueryEXT(i),this.fire(new a.Event("gpu-timing-frame",{cpuTime:T,gpuTime:k}))},50)}if(this.listens("gpu-timing-layer")){const T=this.painter.collectGpuTimers();setTimeout(()=>{const k=this.painter.queryGpuTimers(T);this.fire(new a.Event("gpu-timing-layer",{layerTimes:k}))},50)}const x=this._sourcesDirty||this._styleDirty||this._placementDirty;return x||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||x||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const i of this._controls)i.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const f=this.painter.context.gl.getExtension("WEBGL_lose_context");f&&f.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),z.remove(this._canvasContainer),z.remove(this._controlContainer),this._cooperativeGestures&&z.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.exported.frame(f=>{a.PerformanceUtils.frame(f),this._frame=null,this._render(f)}))}_onWindowOnline(){this._update()}_onWindowResize(f){this._trackResize&&this.resize({originalEvent:f})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._update())}get showPadding(){return!!this._showPadding}set showPadding(f){this._showPadding!==f&&(this._showPadding=f,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,f?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._update())}get repaint(){return!!this._repaint}set repaint(f){this._repaint!==f&&(this._repaint=f,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(f){this._vertices=f,this._update()}_setCacheLimits(f,i){a.setCacheLimits(f,i)}get version(){return"2.4.0"}},NavigationControl:class{constructor(f){this.options=a.extend({},im,f),this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),z.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),z.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=z.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const f=this._map.getZoom(),i=f===this._map.getMaxZoom(),l=f===this._map.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=l,this._zoomInButton.setAttribute("aria-disabled",i.toString()),this._zoomOutButton.setAttribute("aria-disabled",l.toString())}_rotateCompassArrow(){const f=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=f}onAdd(f){return this._map=f,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new $s(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){z.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(f,i){const l=z.create("button",f,this._container);return l.type="button",l.addEventListener("click",i),l}_setButtonTitle(f,i){const l=this._map._getUIString(`NavigationControl.${i}`);f.title=l,f.setAttribute("aria-label",l)}},GeolocateControl:class extends a.Evented{constructor(f){super(),this.options=a.extend({},jc,f),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(f){var i;return this._map=f,this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,Zo!==void 0?i(Zo):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(l=>{Zo=l.state!=="denied",i(Zo)}):(Zo=!!window.navigator.geolocation,i(Zo)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),z.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,pr=0,$o=!1}_isOutOfMapMaxBounds(f){const i=this._map.getMaxBounds(),l=f.coords;return i&&(l.longitude<i.getWest()||l.longitude>i.getEast()||l.latitude<i.getSouth()||l.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",f)),this._finish()}}_updateCamera(f){const i=new a.LngLat(f.coords.longitude,f.coords.latitude),l=f.coords.accuracy,d=this._map.getBearing(),g=a.extend({bearing:d},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(l),g,{geolocateSource:!0})}_updateMarker(f){if(f){const i=new a.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const f=this._map._container.clientHeight/2,i=this._map.unproject([0,f]),l=this._map.unproject([1,f]),d=i.distanceTo(l),g=Math.ceil(2*this._accuracy/d);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&$o)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",f)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(f){if(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=z.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),z.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",f===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{const i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=z.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new al(this._dotElement),this._circleElement=z.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new al({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",i=>{i.geolocateSource||this._watchState!=="ACTIVE_LOCK"||i.originalEvent&&i.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":pr--,$o=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let f;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),pr++,pr>1?(f={maximumAge:6e5,timeout:0},$o=!0):(f=this.options.positionOptions,$o=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,f)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Jl,LogoControl:Ou,ScaleControl:class{constructor(f){this.options=a.extend({},Xs,f),a.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Md(this._map,this._container,this.options)}onAdd(f){return this._map=f,this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",f.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){z.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(f){this.options.unit=f,Md(this._map,this._container,this.options)}},FullscreenControl:class{constructor(f){this._fullscreen=!1,f&&f.container&&(f.container instanceof HTMLElement?this._container=f.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(f){return this._map=f,this._container||(this._container=this._map.getContainer()),this._controlContainer=z.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){z.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const f=this._fullscreenButton=z.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);z.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",f).setAttribute("aria-hidden","true"),f.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const f=this._getTitle();this._fullscreenButton.setAttribute("aria-label",f),this._fullscreenButton.title=f}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(f){this.options=f,a.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(f){return this._map=f,this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=z.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),z.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){z.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends a.Evented{constructor(f){super(),this.options=a.extend(Object.create(Li),f),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&z.remove(this._content),this._container&&(z.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(f){return this._lngLat=a.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(f){return this.setDOMContent(document.createTextNode(f))}setHTML(f){const i=document.createDocumentFragment(),l=document.createElement("body");let d;for(l.innerHTML=f;d=l.firstChild,d;)i.appendChild(d);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(f){return this.options.maxWidth=f,this._update(),this}setDOMContent(f){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=z.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(f),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(f){this._container&&this._container.classList.add(f)}removeClassName(f){this._container&&this._container.classList.remove(f)}setOffset(f){return this.options.offset=f,this._update(),this}toggleClassName(f){if(this._container)return this._container.classList.toggle(f)}_createCloseButton(){this.options.closeButton&&(this._closeButton=z.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(f){this._update(f.point)}_onMouseMove(f){this._update(f.point)}_onDrag(f){this._update(f.point)}_update(f){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=z.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=z.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(x=>this._container.classList.add(x)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=eu(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!f))return;const i=this._pos=this._trackPointer&&f?f:this._map.project(this._lngLat);let l=this.options.anchor;const d=qc(this.options.offset);if(!l){const x=this._container.offsetWidth,T=this._container.offsetHeight;let k;k=i.y+d.bottom.y<T?["top"]:i.y>this._map.transform.height-T?["bottom"]:[],i.x<x/2?k.push("left"):i.x>this._map.transform.width-x/2&&k.push("right"),l=k.length===0?"bottom":k.join("-")}const g=i.add(d[l]).round();z.setTransform(this._container,`${Lt[l]} translate(${g.x}px,${g.y}px)`),Kt(this._container,l,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const f=this._container.querySelector(Xi);f&&f.focus()}_onClose(){this.remove()}},Marker:al,Style:Fi,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.pointGeometry,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,AJAXError:a.AJAXError,config:a.config,CanvasSource:Nt,GeoJSONSource:ui,ImageSource:st,RasterDEMTileSource:St,RasterTileSource:Dn,VectorTileSource:Ti,VideoSource:dt,prewarm:function(){Dt().acquire(Pr)},clearPrewarmedResources:function(){const f=hi;f&&(f.isPreloaded()&&f.numActive()===1?(f.release(Pr),hi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return oi.workerCount},set workerCount(f){oi.workerCount=f},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(f){a.config.MAX_PARALLEL_IMAGE_REQUESTS=f},clearStorage(f){a.clearTileCache(f)},workerUrl:"",addProtocol(f,i){a.config.REGISTERED_PROTOCOLS[f]=i},removeProtocol(f){delete a.config.REGISTERED_PROTOCOLS[f]}};return vs.extend(Ta,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),Ta});var y=h;return y})})(IT);const Mg=IT.exports;function CR(){const e=$e.exports.useRef(null),t=$e.exports.useRef(null),[s]=$e.exports.useState(108.370963),[u]=$e.exports.useState(-7.014035),[h]=$e.exports.useState(14),[p]=$e.exports.useState("Q40RZuzayYWIOrym9nAP");return $e.exports.useEffect(()=>{t.current||(t.current=new Mg.Map({container:e.current,style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${p}`,center:[s,u],zoom:h}),t.current.addControl(new Mg.NavigationControl,"top-right"),new Mg.Marker({color:"#FF0000"}).setLngLat([s,u]).addTo(t.current))}),H(Nc,{children:H(Io,{children:H("div",{className:"max-w-5xl mx-auto mt-16",children:nt("div",{className:"relative py-8 sm:py-12",children:[H("h1",{className:"text-xl md:text-3xl font-bold text-gray-200",children:"Kontak Kami"}),nt("ul",{className:"flex items-center space-x-1 text-xs mt-1 text-gray-300",children:[H("li",{className:"text-gray-400",children:H(Do,{to:"/",children:"Home"})}),H("li",{children:H(Sc,{className:"w-4 h-4 rotate-90"})}),H("li",{children:H(Do,{to:"/kontak-kami",children:"Kontak Kami"})})]}),H("div",{className:"map-wrap w-full h-[400px] mt-8 relative",children:H("div",{ref:e,className:"map absolute w-full h-full"})}),H(pd,{})]})})})})}function kR(){return H(Nc,{children:H(Io,{children:nt("div",{className:"max-w-5xl mx-auto mt-16",children:[nt("div",{className:"relative py-8 sm:py-12",children:[H("h1",{className:"text-xl md:text-3xl font-bold text-gray-200",children:"Harga"}),nt("ul",{className:"flex items-center space-x-1 text-xs mt-1 text-gray-300",children:[H("li",{className:"text-gray-400",children:H(Do,{to:"/",children:"Home"})}),H("li",{children:H(Sc,{className:"w-4 h-4 rotate-90"})}),H("li",{children:H(Do,{to:"/kontak-kami",children:"Harga"})})]}),H(pd,{})]}),nt("div",{className:"py-8 sm:py-16",children:[H("div",{className:"text-center",children:H("h1",{className:"text-xl md:text-xl font-bold text-gray-200",children:"Harga Paket Jasa Pembuatan Website"})}),nt("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-6 mt-8 sm:mt-16 gap-y-12",children:[nt("div",{className:"rounded-sm border border-cyan-600",children:[nt("div",{className:"flex items-center justify-center flex-col py-8 border-b border-cyan-600",children:[H("h4",{className:"text-sm md:text-base font-semibold text-gray-200",children:"Website Profil Perusahaan"}),H("h1",{className:"text-xl sm:text-2xl font-bold text-gray-200 mt-1",children:"Rp. 3 Jt"})]}),nt("div",{className:"p-6",children:[nt("div",{children:[H("h1",{className:"text-sm sm:text-base font-semibold text-gray-200 uppercase",children:"Fitur"}),nt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[H("li",{children:"Gratis domain .com / .net"}),H("li",{children:"Gratis 1 Akun Email Bisnis"}),H("li",{children:"Gratis Google Tag Manager"}),H("li",{children:"Desain Bisa Custom"}),H("li",{children:"Integrasi Sosial Media"}),H("li",{children:"Tombol WhatsApp"}),H("li",{children:"Kelola Berita / Blog"}),H("li",{children:"Group WhatsApp untuk Support Selama Pembuatan Web"})]})]}),nt("div",{className:"mt-6 sm:mt-8",children:[H("h1",{className:"text-sm sm:text-base font-semibold text-gray-200 uppercase",children:"Gratis Hosting"}),nt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[H("li",{children:"Hosting Cepat"}),H("li",{children:"Teknologi Litespeed Webserver"}),H("li",{children:"Unlimited SSD Space"}),H("li",{children:"Unlimited Databases"}),H("li",{children:"Unlimited Bandwidth"}),H("li",{children:"Gratis SSL Selamanya"}),H("li",{children:"Login cPanel"}),H("li",{children:"Security by Imunify360"}),H("li",{children:"Backup Harian"}),H("li",{children:"Termasuk Maintenance 2 bulan*"})]})]}),H("a",{href:"#",className:"block mt-8 sm:mt-12 mx-auto text-xs sm:text-sm w-max rounded-sm py-[10px] px-8 border border-cyan-600 text-gray-200 focus:outline-none",children:"Order Sekarang"})]})]}),nt("div",{className:"rounded-sm border border-cyan-600",children:[nt("div",{className:"flex items-center justify-center flex-col py-8 border-b border-cyan-600",children:[H("h4",{className:"text-sm md:text-base font-semibold text-gray-200",children:"Website Toko Online"}),H("h1",{className:"text-xl sm:text-2xl font-bold text-gray-200 mt-1",children:"Rp. 5 Jt"})]}),nt("div",{className:"p-6",children:[nt("div",{children:[H("h1",{className:"text-sm sm:text-base font-semibold text-gray-200 uppercase",children:"Fitur"}),nt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[H("li",{children:"Gratis domain .com / .net / .co.id / .id"}),H("li",{children:"Gratis 5 Akun Email Bisnis"}),H("li",{children:"Gratis Setting Google Analytic dan Google Tag Manager"}),H("li",{children:"Desain Bisa Custom"}),H("li",{children:"Integrasi Sosial Media"}),H("li",{children:"Tombol WhatsApp"}),H("li",{children:"Kelola Berita / Blog"}),H("li",{children:"Kelola Produk & Stok"}),H("li",{children:"Payment Gateway Otomatis (Virtual Account, Indomaret, Alfamart, DANA, GoPay, OVO, Shopeepay, dll)"}),H("li",{children:"Group WhatsApp untuk Support Selama Pembuatan Web"})]})]}),nt("div",{className:"mt-6 sm:mt-8",children:[H("h1",{className:"text-sm sm:text-base font-semibold text-gray-200 uppercase",children:"Gratis Hosting"}),nt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[H("li",{children:"Hosting Cepat"}),H("li",{children:"Teknologi Litespeed Webserver"}),H("li",{children:"Unlimited SSD Space"}),H("li",{children:"Unlimited Databases"}),H("li",{children:"Unlimited Bandwidth"}),H("li",{children:"Gratis SSL Selamanya"}),H("li",{children:"Login cPanel"}),H("li",{children:"Security by Imunify360"}),H("li",{children:"Backup Harian"}),H("li",{children:"Termasuk Maintenance 2 bulan*"})]})]}),H("a",{href:"#",className:"block mt-8 sm:mt-12 mx-auto text-xs sm:text-sm w-max rounded-sm py-[10px] px-8 border border-cyan-600 text-gray-200 focus:outline-none",children:"Order Sekarang"})]})]}),nt("div",{className:"rounded-sm border border-cyan-600",children:[nt("div",{className:"flex items-center justify-center flex-col py-8 border-b border-cyan-600",children:[H("h4",{className:"text-sm md:text-base font-semibold text-gray-200",children:"Custom Web Applikasi"}),H("p",{className:"text-xs sm:text-sm mt-1 px-6 text-gray-400 text-center",children:"Klik tombol di bawah untuk minta penawaran"})]}),nt("div",{className:"p-6",children:[nt("div",{className:"text-left",children:[H("p",{className:"text-xs sm:text-sm text-gray-400",children:"Terima Pembuatan Custom Aplikasi Berbasis Website Teknologi Mobile Apps : PWA (Progressive Web Apps)"}),H("p",{className:"text-xs sm:text-sm mt-6 sm:mt-8 text-gray-400",children:"Teknologi Web : PHP, MYSQL & JavaScript Framework Laravel & ReactJS, dll"}),H("p",{className:"text-xs sm:text-sm mt-6 sm:mt-8 text-gray-400",children:"Teknologi Mobile Apps : PWA (Progressive Web Apps)"})]}),H("a",{href:"#",className:"block mt-8 sm:mt-12 mx-auto text-xs sm:text-sm w-max rounded-sm py-[10px] px-8 border border-cyan-600 text-gray-200 focus:outline-none",children:"Chat Programmer"})]})]})]})]})]})})})}const PR="/assets/about-image.c120d3b7.png",IR="/assets/about-image-2.3f77db6a.png";function MR(){return nt(Nc,{children:[H("div",{className:"bg-gradient-to-b from-transparent to-slate-800/50",children:H(Io,{children:nt("div",{className:"max-w-5xl mx-auto grid sm:grid-cols-2 mt-16 place-items-center py-6 sm:py-12",children:[nt("div",{className:"col-span-1",children:[H("h1",{className:"text-xl md:text-3xl font-bold text-gray-200",children:"Tentang Kami"}),H("p",{className:"text-xs sm:text-base mt-2 sm:mt-4 pr-2 text-gray-400",children:"Berbekal pengetahuan, pengalaman dan jam terbang, Duos Dev hadir sebagai solusi permasalahan bagi Anda"})]}),H("div",{className:"col-span-1 mt-4 sm:mt-0 sm:p-6",children:H("img",{src:PR,alt:"about-image",className:"w-full rounded-sm"})})]})})}),H(Io,{children:H("div",{className:"max-w-5xl mx-auto",children:H("div",{className:"py-6 sm:py-12",children:nt("div",{className:"text-center max-w-2xl mx-auto",children:[H("div",{className:"relative w-max mx-auto",children:H("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Profil Duos Dev"})}),H("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Duos Dev adalah brand usaha kami di bidang IT khususnya pembuatan website yang beralamat di Cikijing Kabupaten Majalengka, Jawa Barat yang memberikan layanan professional dengan dibekali tenaga ahli yang berpengalaman. Dengan bermodal pengetahuan dan jam terbang yang kami miliki, kami siap menjawab kebutuhan masyarakat untuk perusahaan khususnya dalam pembuatan website untuk kemajuan usahanya."}),H("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Awal pembentukan Duos Dev bermula dari 2 anak muda yang sudah terbiasa berkecimpung di dunia IT dan memiliki konsen yang sama terhadap perkembangan dunia digital yang kian modern seperti sekarang ini."}),H("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Duos Dev diharapkan bisa menjadi solusi bagi permasalahan untuk segmen individu, pelaku bisnis dan seluruh lapisan masyarakat yang ingin usahanya siap go-digital bahkan internasional dengan memanfaatkan website sebagai media promosi, branding usaha, dan lain-lain."})]})})})}),nt("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 mt-6 mb-12 sm:mb-16 bg-slate-800/50",children:[H("div",{className:"col-span-1",children:H("img",{src:IR,alt:"about-image-2",className:"w-full object-cover"})}),nt("div",{className:"py-8 px-4 sm:p-4",children:[nt("div",{children:[H("h1",{className:"text-base sm:text-2xl font-bold text-gray-200",children:"Visi"}),H("p",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-base",children:"Menjadi layanan yang diandalkan oleh masyarakat dalam pembuatan website khususnya yang berada di wilayah Majalengka, Ciamis, Cirebon, Indramayu dan Kuningan dan Seluruh Daerah yang ada di Indonesia pada umumnya."})]}),nt("div",{className:"mt-4 sm:mt-6",children:[H("h1",{className:"text-base sm:text-2xl font-bold text-gray-200",children:"Misi"}),nt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-base list-decimal px-4",children:[H("li",{children:"Menjadi bisnis unggulan dan andalan untuk masyarakat Memberikan"}),H("li",{children:"jasa desain, pembuatan website dan maintenance website dengan pelayanan terbaik"}),H("li",{children:"Mengutamakan dan mengimplementasikan teknologi dan inovasi terbaru dalam pembuatan website"}),H("li",{children:"Meningkatkan asas manfaat dan nilai tambah bagi klien dan stakeholder kami"}),H("li",{children:"Menjalin hubungan baik dengan klien dan meningkatkan kepuasan pelanggan dari hasil kerja keras kami sebagai penyedia layanan."})]})]})]})]}),H(Io,{children:H(PT,{})})]})}const zR="/assets/preview-yt.96d399f5.png",DR="/assets/bingkai-gambar.b566fb8b.png",LR="/assets/sitemap.d2202725.png",RR="/assets/mockup.2cc729b7.png";function BR(){return H(Nc,{children:H("div",{className:"relative mt-16 py-12 sm:py-16",children:H(Io,{children:nt("div",{className:"max-w-5xl mx-auto",children:[nt("div",{className:"relative pb-8",children:[nt("div",{className:"max-w-sm mx-auto flex items-center justify-center flex-col space-y-3 sm:space-y-4",children:[H("h3",{className:"font-semibold text-lg sm:text-2xl text-gray-200",children:"Class Mate"}),H("div",{className:"w-full",children:H("img",{src:So,alt:"detail-proyek",className:"w-full object-cover"})}),H("p",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"www.classmate.com"}),H("a",{href:"#",className:"block mt-8 sm:mt-12 mx-auto text-xs sm:text-sm w-max rounded-sm py-[10px] px-8 border border-cyan-600 text-gray-200 focus:outline-none",children:"Kunjungi Website"})]}),H(pd,{})]}),nt("div",{className:"py-12 sm:py-16",children:[H("p",{className:"text-xs sm:text-sm text-gray-200",children:"Halaman"}),H("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2 sm:gap-4 mt-4 sm:mt-5",children:[1,2,3,4,5,6,7,8].map(e=>H("div",{children:H("img",{src:So,alt:"image-item"})},e))})]}),nt("div",{children:[H("div",{className:"max-w-2xl mx-auto",children:H("img",{src:zR,alt:"preview-yt",className:"w-full object-cover"})}),nt("div",{className:"mt-8 sm:mt-12 space-y-8 sm:space-y-12",children:[nt("div",{className:"max-w-3xl",children:[H("p",{className:"text-xs sm:text-sm text-gray-200",children:"Tentang Class Mate :"}),H("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2",children:"Class Mate merupakan layanan kursus online berbasis web dimana dalam praktiknya klien akan terhubung dengan materi yang disampaikan lewat virtual dengan tenaga pengajar yang profesional di bidangnya."})]}),nt("div",{className:"max-w-3xl",children:[H("p",{className:"text-xs sm:text-sm text-gray-200",children:"Gaya :"}),H("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2",children:"Gelap, elegan, profesional, sederhana, dan mudah digunakan."})]}),nt("div",{className:"max-w-3xl",children:[H("p",{className:"text-xs sm:text-sm text-gray-200",children:"Tujuan Pembuatan Website :"}),nt("ul",{className:"mt-1 sm:mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[H("li",{children:"Sebagai gambaran tentang Agensi dan sebagai pengenalan bagi mitra dan pelanggan"}),H("li",{children:"Mendapatkan lebih banyak klien dengan menyediakan formulir yang mudah digunakan bagi klien untuk memesan layanan mereka"}),H("li",{children:"Sebagai etalase portofolio mereka dan juga testimoni dari klien mereka"}),H("li",{children:"Sebagai etalase portofolio mereka dan juga testimoni dari klien mereka Mengenal lebih jauh tentang agensi dengan memberikan informasi tentang tim mereka, termasuk bio masing-masing tim."}),H("li",{children:"Sebagai strategi pemasaran untuk tujuan SEO"})]})]}),nt("div",{className:"max-w-3xl",children:[H("p",{className:"text-xs sm:text-sm text-gray-200",children:"Teknologi (Tools) yang digunakan :"}),H("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2",children:"Visual Studio Code, Postman, ReactJS, NextJS, MySQL, Figma, Google Tag Manager, Laravel, AJAX"})]}),nt("div",{className:"max-w-3xl",children:[H("p",{className:"text-xs sm:text-sm text-gray-200",children:"Peta Situs (Sitemap) :"}),H("div",{className:"mt-2 max-w-xl",children:H("img",{src:LR,alt:"sitemap",className:"w-full object-cover"})})]}),nt("div",{className:"grid sm:grid-cols-2 gap-y-8 sm:gap-x-12",children:[nt("div",{children:[H("p",{className:"text-xs sm:text-sm text-gray-200",children:"Bingkai Gambar (Wireframe) :"}),H("div",{className:"mt-2 max-w-xl",children:H("img",{src:DR,alt:"sitemap",className:"w-full object-cover"})})]}),nt("div",{children:[H("p",{className:"text-xs sm:text-sm text-gray-200",children:"Mockup :"}),H("div",{className:"mt-2 max-w-xl",children:H("img",{src:RR,alt:"sitemap",className:"w-full object-cover"})})]})]})]})]})]})})})})}var zT={exports:{}};/*!
 * jQuery JavaScript Library v3.6.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-08-26T17:52Z
 */(function(e){(function(t,s){e.exports=t.document?s(t,!0):function(u){if(!u.document)throw new Error("jQuery requires a window with a document");return s(u)}})(typeof window<"u"?window:Ew,function(t,s){var u=[],h=Object.getPrototypeOf,p=u.slice,y=u.flat?function(v){return u.flat.call(v)}:function(v){return u.concat.apply([],v)},a=u.push,S=u.indexOf,I={},B=I.toString,V=I.hasOwnProperty,z=V.toString,ie=z.call(Object),ce={},he=function(b){return typeof b=="function"&&typeof b.nodeType!="number"&&typeof b.item!="function"},He=function(b){return b!=null&&b===b.window},oe=t.document,ae={type:!0,src:!0,nonce:!0,noModule:!0};function re(v,b,E){E=E||oe;var D,j,G=E.createElement("script");if(G.text=v,b)for(D in ae)j=b[D]||b.getAttribute&&b.getAttribute(D),j&&G.setAttribute(D,j);E.head.appendChild(G).parentNode.removeChild(G)}function we(v){return v==null?v+"":typeof v=="object"||typeof v=="function"?I[B.call(v)]||"object":typeof v}var Ue="3.6.1",P=function(v,b){return new P.fn.init(v,b)};P.fn=P.prototype={jquery:Ue,constructor:P,length:0,toArray:function(){return p.call(this)},get:function(v){return v==null?p.call(this):v<0?this[v+this.length]:this[v]},pushStack:function(v){var b=P.merge(this.constructor(),v);return b.prevObject=this,b},each:function(v){return P.each(this,v)},map:function(v){return this.pushStack(P.map(this,function(b,E){return v.call(b,E,b)}))},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(v,b){return(b+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(v,b){return b%2}))},eq:function(v){var b=this.length,E=+v+(v<0?b:0);return this.pushStack(E>=0&&E<b?[this[E]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:u.sort,splice:u.splice},P.extend=P.fn.extend=function(){var v,b,E,D,j,G,X=arguments[0]||{},_e=1,ye=arguments.length,Ie=!1;for(typeof X=="boolean"&&(Ie=X,X=arguments[_e]||{},_e++),typeof X!="object"&&!he(X)&&(X={}),_e===ye&&(X=this,_e--);_e<ye;_e++)if((v=arguments[_e])!=null)for(b in v)D=v[b],!(b==="__proto__"||X===D)&&(Ie&&D&&(P.isPlainObject(D)||(j=Array.isArray(D)))?(E=X[b],j&&!Array.isArray(E)?G=[]:!j&&!P.isPlainObject(E)?G={}:G=E,j=!1,X[b]=P.extend(Ie,G,D)):D!==void 0&&(X[b]=D));return X},P.extend({expando:"jQuery"+(Ue+Math.random()).replace(/\D/g,""),isReady:!0,error:function(v){throw new Error(v)},noop:function(){},isPlainObject:function(v){var b,E;return!v||B.call(v)!=="[object Object]"?!1:(b=h(v),b?(E=V.call(b,"constructor")&&b.constructor,typeof E=="function"&&z.call(E)===ie):!0)},isEmptyObject:function(v){var b;for(b in v)return!1;return!0},globalEval:function(v,b,E){re(v,{nonce:b&&b.nonce},E)},each:function(v,b){var E,D=0;if(ct(v))for(E=v.length;D<E&&b.call(v[D],D,v[D])!==!1;D++);else for(D in v)if(b.call(v[D],D,v[D])===!1)break;return v},makeArray:function(v,b){var E=b||[];return v!=null&&(ct(Object(v))?P.merge(E,typeof v=="string"?[v]:v):a.call(E,v)),E},inArray:function(v,b,E){return b==null?-1:S.call(b,v,E)},merge:function(v,b){for(var E=+b.length,D=0,j=v.length;D<E;D++)v[j++]=b[D];return v.length=j,v},grep:function(v,b,E){for(var D,j=[],G=0,X=v.length,_e=!E;G<X;G++)D=!b(v[G],G),D!==_e&&j.push(v[G]);return j},map:function(v,b,E){var D,j,G=0,X=[];if(ct(v))for(D=v.length;G<D;G++)j=b(v[G],G,E),j!=null&&X.push(j);else for(G in v)j=b(v[G],G,E),j!=null&&X.push(j);return y(X)},guid:1,support:ce}),typeof Symbol=="function"&&(P.fn[Symbol.iterator]=u[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(v,b){I["[object "+b+"]"]=b.toLowerCase()});function ct(v){var b=!!v&&"length"in v&&v.length,E=we(v);return he(v)||He(v)?!1:E==="array"||b===0||typeof b=="number"&&b>0&&b-1 in v}var ht=function(v){var b,E,D,j,G,X,_e,ye,Ie,je,at,Be,Xe,Wt,un,$t,Di,xi,Oi,Jn="sizzle"+1*new Date,ln=v.document,An=0,Fn=0,jt=xa(),Mn=xa(),Yn=xa(),zn=xa(),ns=function(Q,te){return Q===te&&(at=!0),0},jr={}.hasOwnProperty,_r=[],Hs=_r.pop,zr=_r.push,Zs=_r.push,ma=_r.slice,is=function(Q,te){for(var Te=0,Ke=Q.length;Te<Ke;Te++)if(Q[Te]===te)return Te;return-1},ho="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",On="[\\x20\\t\\r\\n\\f]",Cs="(?:\\\\[\\da-fA-F]{1,6}"+On+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Zl="\\["+On+"*("+Cs+")(?:"+On+"*([*^$|!~]?=)"+On+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Cs+"))|)"+On+"*\\]",Uo=":("+Cs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Zl+")*)|.*)\\)|)",tl=new RegExp(On+"+","g"),xr=new RegExp("^"+On+"+|((?:^|[^\\\\])(?:\\\\.)*)"+On+"+$","g"),Bu=new RegExp("^"+On+"*,"+On+"*"),nl=new RegExp("^"+On+"*([>+~]|"+On+")"+On+"*"),Nu=new RegExp(On+"|>"),po=new RegExp(Uo),ga=new RegExp("^"+Cs+"$"),ks={ID:new RegExp("^#("+Cs+")"),CLASS:new RegExp("^\\.("+Cs+")"),TAG:new RegExp("^("+Cs+"|[*])"),ATTR:new RegExp("^"+Zl),PSEUDO:new RegExp("^"+Uo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+On+"*(even|odd|(([+-]|)(\\d*)n|)"+On+"*(?:([+-]|)"+On+"*(\\d+)|))"+On+"*\\)|)","i"),bool:new RegExp("^(?:"+ho+")$","i"),needsContext:new RegExp("^"+On+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+On+"*((?:-\\d)?\\d*)"+On+"*\\)|)(?=[^-]|$)","i")},Vc=/HTML$/i,il=/^(?:input|select|textarea|button)$/i,Fu=/^h\d$/i,jo=/^[^{]+\{\s*\[native \w/,ya=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,va=/[+~]/,qr=new RegExp("\\\\[\\da-fA-F]{1,6}"+On+"?|\\\\([^\\r\\n\\f])","g"),Dr=function(Q,te){var Te="0x"+Q.slice(1)-65536;return te||(Te<0?String.fromCharCode(Te+65536):String.fromCharCode(Te>>10|55296,Te&1023|56320))},fo=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,qo=function(Q,te){return te?Q==="\0"?"\uFFFD":Q.slice(0,-1)+"\\"+Q.charCodeAt(Q.length-1).toString(16)+" ":"\\"+Q},$l=function(){Be()},_a=Wr(function(Q){return Q.disabled===!0&&Q.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Zs.apply(_r=ma.call(ln.childNodes),ln.childNodes),_r[ln.childNodes.length].nodeType}catch{Zs={apply:_r.length?function(te,Te){zr.apply(te,ma.call(Te))}:function(te,Te){for(var Ke=te.length,ke=0;te[Ke++]=Te[ke++];);te.length=Ke-1}}}function ii(Q,te,Te,Ke){var ke,tt,Ce,gt,At,en,Xt,rn=te&&te.ownerDocument,En=te?te.nodeType:9;if(Te=Te||[],typeof Q!="string"||!Q||En!==1&&En!==9&&En!==11)return Te;if(!Ke&&(Be(te),te=te||Xe,un)){if(En!==11&&(At=ya.exec(Q)))if(ke=At[1]){if(En===9)if(Ce=te.getElementById(ke)){if(Ce.id===ke)return Te.push(Ce),Te}else return Te;else if(rn&&(Ce=rn.getElementById(ke))&&Oi(te,Ce)&&Ce.id===ke)return Te.push(Ce),Te}else{if(At[2])return Zs.apply(Te,te.getElementsByTagName(Q)),Te;if((ke=At[3])&&E.getElementsByClassName&&te.getElementsByClassName)return Zs.apply(Te,te.getElementsByClassName(ke)),Te}if(E.qsa&&!zn[Q+" "]&&(!$t||!$t.test(Q))&&(En!==1||te.nodeName.toLowerCase()!=="object")){if(Xt=Q,rn=te,En===1&&(Nu.test(Q)||nl.test(Q))){for(rn=va.test(Q)&&Xl(te.parentNode)||te,(rn!==te||!E.scope)&&((gt=te.getAttribute("id"))?gt=gt.replace(fo,qo):te.setAttribute("id",gt=Jn)),en=X(Q),tt=en.length;tt--;)en[tt]=(gt?"#"+gt:":scope")+" "+ba(en[tt]);Xt=en.join(",")}try{return Zs.apply(Te,rn.querySelectorAll(Xt)),Te}catch{zn(Q,!0)}finally{gt===Jn&&te.removeAttribute("id")}}}return ye(Q.replace(xr,"$1"),te,Te,Ke)}function xa(){var Q=[];function te(Te,Ke){return Q.push(Te+" ")>D.cacheLength&&delete te[Q.shift()],te[Te+" "]=Ke}return te}function Gr(Q){return Q[Jn]=!0,Q}function sr(Q){var te=Xe.createElement("fieldset");try{return!!Q(te)}catch{return!1}finally{te.parentNode&&te.parentNode.removeChild(te),te=null}}function rl(Q,te){for(var Te=Q.split("|"),Ke=Te.length;Ke--;)D.attrHandle[Te[Ke]]=te}function Go(Q,te){var Te=te&&Q,Ke=Te&&Q.nodeType===1&&te.nodeType===1&&Q.sourceIndex-te.sourceIndex;if(Ke)return Ke;if(Te){for(;Te=Te.nextSibling;)if(Te===te)return-1}return Q?1:-1}function wa(Q){return function(te){var Te=te.nodeName.toLowerCase();return Te==="input"&&te.type===Q}}function Lr(Q){return function(te){var Te=te.nodeName.toLowerCase();return(Te==="input"||Te==="button")&&te.type===Q}}function Wo(Q){return function(te){return"form"in te?te.parentNode&&te.disabled===!1?"label"in te?"label"in te.parentNode?te.parentNode.disabled===Q:te.disabled===Q:te.isDisabled===Q||te.isDisabled!==!Q&&_a(te)===Q:te.disabled===Q:"label"in te?te.disabled===Q:!1}}function Vi(Q){return Gr(function(te){return te=+te,Gr(function(Te,Ke){for(var ke,tt=Q([],Te.length,te),Ce=tt.length;Ce--;)Te[ke=tt[Ce]]&&(Te[ke]=!(Ke[ke]=Te[ke]))})})}function Xl(Q){return Q&&typeof Q.getElementsByTagName<"u"&&Q}E=ii.support={},G=ii.isXML=function(Q){var te=Q&&Q.namespaceURI,Te=Q&&(Q.ownerDocument||Q).documentElement;return!Vc.test(te||Te&&Te.nodeName||"HTML")},Be=ii.setDocument=function(Q){var te,Te,Ke=Q?Q.ownerDocument||Q:ln;return Ke==Xe||Ke.nodeType!==9||!Ke.documentElement||(Xe=Ke,Wt=Xe.documentElement,un=!G(Xe),ln!=Xe&&(Te=Xe.defaultView)&&Te.top!==Te&&(Te.addEventListener?Te.addEventListener("unload",$l,!1):Te.attachEvent&&Te.attachEvent("onunload",$l)),E.scope=sr(function(ke){return Wt.appendChild(ke).appendChild(Xe.createElement("div")),typeof ke.querySelectorAll<"u"&&!ke.querySelectorAll(":scope fieldset div").length}),E.attributes=sr(function(ke){return ke.className="i",!ke.getAttribute("className")}),E.getElementsByTagName=sr(function(ke){return ke.appendChild(Xe.createComment("")),!ke.getElementsByTagName("*").length}),E.getElementsByClassName=jo.test(Xe.getElementsByClassName),E.getById=sr(function(ke){return Wt.appendChild(ke).id=Jn,!Xe.getElementsByName||!Xe.getElementsByName(Jn).length}),E.getById?(D.filter.ID=function(ke){var tt=ke.replace(qr,Dr);return function(Ce){return Ce.getAttribute("id")===tt}},D.find.ID=function(ke,tt){if(typeof tt.getElementById<"u"&&un){var Ce=tt.getElementById(ke);return Ce?[Ce]:[]}}):(D.filter.ID=function(ke){var tt=ke.replace(qr,Dr);return function(Ce){var gt=typeof Ce.getAttributeNode<"u"&&Ce.getAttributeNode("id");return gt&&gt.value===tt}},D.find.ID=function(ke,tt){if(typeof tt.getElementById<"u"&&un){var Ce,gt,At,en=tt.getElementById(ke);if(en){if(Ce=en.getAttributeNode("id"),Ce&&Ce.value===ke)return[en];for(At=tt.getElementsByName(ke),gt=0;en=At[gt++];)if(Ce=en.getAttributeNode("id"),Ce&&Ce.value===ke)return[en]}return[]}}),D.find.TAG=E.getElementsByTagName?function(ke,tt){if(typeof tt.getElementsByTagName<"u")return tt.getElementsByTagName(ke);if(E.qsa)return tt.querySelectorAll(ke)}:function(ke,tt){var Ce,gt=[],At=0,en=tt.getElementsByTagName(ke);if(ke==="*"){for(;Ce=en[At++];)Ce.nodeType===1&&gt.push(Ce);return gt}return en},D.find.CLASS=E.getElementsByClassName&&function(ke,tt){if(typeof tt.getElementsByClassName<"u"&&un)return tt.getElementsByClassName(ke)},Di=[],$t=[],(E.qsa=jo.test(Xe.querySelectorAll))&&(sr(function(ke){var tt;Wt.appendChild(ke).innerHTML="<a id='"+Jn+"'></a><select id='"+Jn+"-\r\\' msallowcapture=''><option selected=''></option></select>",ke.querySelectorAll("[msallowcapture^='']").length&&$t.push("[*^$]="+On+`*(?:''|"")`),ke.querySelectorAll("[selected]").length||$t.push("\\["+On+"*(?:value|"+ho+")"),ke.querySelectorAll("[id~="+Jn+"-]").length||$t.push("~="),tt=Xe.createElement("input"),tt.setAttribute("name",""),ke.appendChild(tt),ke.querySelectorAll("[name='']").length||$t.push("\\["+On+"*name"+On+"*="+On+`*(?:''|"")`),ke.querySelectorAll(":checked").length||$t.push(":checked"),ke.querySelectorAll("a#"+Jn+"+*").length||$t.push(".#.+[+~]"),ke.querySelectorAll("\\\f"),$t.push("[\\r\\n\\f]")}),sr(function(ke){ke.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var tt=Xe.createElement("input");tt.setAttribute("type","hidden"),ke.appendChild(tt).setAttribute("name","D"),ke.querySelectorAll("[name=d]").length&&$t.push("name"+On+"*[*^$|!~]?="),ke.querySelectorAll(":enabled").length!==2&&$t.push(":enabled",":disabled"),Wt.appendChild(ke).disabled=!0,ke.querySelectorAll(":disabled").length!==2&&$t.push(":enabled",":disabled"),ke.querySelectorAll("*,:x"),$t.push(",.*:")})),(E.matchesSelector=jo.test(xi=Wt.matches||Wt.webkitMatchesSelector||Wt.mozMatchesSelector||Wt.oMatchesSelector||Wt.msMatchesSelector))&&sr(function(ke){E.disconnectedMatch=xi.call(ke,"*"),xi.call(ke,"[s!='']:x"),Di.push("!=",Uo)}),$t=$t.length&&new RegExp($t.join("|")),Di=Di.length&&new RegExp(Di.join("|")),te=jo.test(Wt.compareDocumentPosition),Oi=te||jo.test(Wt.contains)?function(ke,tt){var Ce=ke.nodeType===9?ke.documentElement:ke,gt=tt&&tt.parentNode;return ke===gt||!!(gt&&gt.nodeType===1&&(Ce.contains?Ce.contains(gt):ke.compareDocumentPosition&&ke.compareDocumentPosition(gt)&16))}:function(ke,tt){if(tt){for(;tt=tt.parentNode;)if(tt===ke)return!0}return!1},ns=te?function(ke,tt){if(ke===tt)return at=!0,0;var Ce=!ke.compareDocumentPosition-!tt.compareDocumentPosition;return Ce||(Ce=(ke.ownerDocument||ke)==(tt.ownerDocument||tt)?ke.compareDocumentPosition(tt):1,Ce&1||!E.sortDetached&&tt.compareDocumentPosition(ke)===Ce?ke==Xe||ke.ownerDocument==ln&&Oi(ln,ke)?-1:tt==Xe||tt.ownerDocument==ln&&Oi(ln,tt)?1:je?is(je,ke)-is(je,tt):0:Ce&4?-1:1)}:function(ke,tt){if(ke===tt)return at=!0,0;var Ce,gt=0,At=ke.parentNode,en=tt.parentNode,Xt=[ke],rn=[tt];if(!At||!en)return ke==Xe?-1:tt==Xe?1:At?-1:en?1:je?is(je,ke)-is(je,tt):0;if(At===en)return Go(ke,tt);for(Ce=ke;Ce=Ce.parentNode;)Xt.unshift(Ce);for(Ce=tt;Ce=Ce.parentNode;)rn.unshift(Ce);for(;Xt[gt]===rn[gt];)gt++;return gt?Go(Xt[gt],rn[gt]):Xt[gt]==ln?-1:rn[gt]==ln?1:0}),Xe},ii.matches=function(Q,te){return ii(Q,null,null,te)},ii.matchesSelector=function(Q,te){if(Be(Q),E.matchesSelector&&un&&!zn[te+" "]&&(!Di||!Di.test(te))&&(!$t||!$t.test(te)))try{var Te=xi.call(Q,te);if(Te||E.disconnectedMatch||Q.document&&Q.document.nodeType!==11)return Te}catch{zn(te,!0)}return ii(te,Xe,null,[Q]).length>0},ii.contains=function(Q,te){return(Q.ownerDocument||Q)!=Xe&&Be(Q),Oi(Q,te)},ii.attr=function(Q,te){(Q.ownerDocument||Q)!=Xe&&Be(Q);var Te=D.attrHandle[te.toLowerCase()],Ke=Te&&jr.call(D.attrHandle,te.toLowerCase())?Te(Q,te,!un):void 0;return Ke!==void 0?Ke:E.attributes||!un?Q.getAttribute(te):(Ke=Q.getAttributeNode(te))&&Ke.specified?Ke.value:null},ii.escape=function(Q){return(Q+"").replace(fo,qo)},ii.error=function(Q){throw new Error("Syntax error, unrecognized expression: "+Q)},ii.uniqueSort=function(Q){var te,Te=[],Ke=0,ke=0;if(at=!E.detectDuplicates,je=!E.sortStable&&Q.slice(0),Q.sort(ns),at){for(;te=Q[ke++];)te===Q[ke]&&(Ke=Te.push(ke));for(;Ke--;)Q.splice(Te[Ke],1)}return je=null,Q},j=ii.getText=function(Q){var te,Te="",Ke=0,ke=Q.nodeType;if(ke){if(ke===1||ke===9||ke===11){if(typeof Q.textContent=="string")return Q.textContent;for(Q=Q.firstChild;Q;Q=Q.nextSibling)Te+=j(Q)}else if(ke===3||ke===4)return Q.nodeValue}else for(;te=Q[Ke++];)Te+=j(te);return Te},D=ii.selectors={cacheLength:50,createPseudo:Gr,match:ks,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Q){return Q[1]=Q[1].replace(qr,Dr),Q[3]=(Q[3]||Q[4]||Q[5]||"").replace(qr,Dr),Q[2]==="~="&&(Q[3]=" "+Q[3]+" "),Q.slice(0,4)},CHILD:function(Q){return Q[1]=Q[1].toLowerCase(),Q[1].slice(0,3)==="nth"?(Q[3]||ii.error(Q[0]),Q[4]=+(Q[4]?Q[5]+(Q[6]||1):2*(Q[3]==="even"||Q[3]==="odd")),Q[5]=+(Q[7]+Q[8]||Q[3]==="odd")):Q[3]&&ii.error(Q[0]),Q},PSEUDO:function(Q){var te,Te=!Q[6]&&Q[2];return ks.CHILD.test(Q[0])?null:(Q[3]?Q[2]=Q[4]||Q[5]||"":Te&&po.test(Te)&&(te=X(Te,!0))&&(te=Te.indexOf(")",Te.length-te)-Te.length)&&(Q[0]=Q[0].slice(0,te),Q[2]=Te.slice(0,te)),Q.slice(0,3))}},filter:{TAG:function(Q){var te=Q.replace(qr,Dr).toLowerCase();return Q==="*"?function(){return!0}:function(Te){return Te.nodeName&&Te.nodeName.toLowerCase()===te}},CLASS:function(Q){var te=jt[Q+" "];return te||(te=new RegExp("(^|"+On+")"+Q+"("+On+"|$)"))&&jt(Q,function(Te){return te.test(typeof Te.className=="string"&&Te.className||typeof Te.getAttribute<"u"&&Te.getAttribute("class")||"")})},ATTR:function(Q,te,Te){return function(Ke){var ke=ii.attr(Ke,Q);return ke==null?te==="!=":te?(ke+="",te==="="?ke===Te:te==="!="?ke!==Te:te==="^="?Te&&ke.indexOf(Te)===0:te==="*="?Te&&ke.indexOf(Te)>-1:te==="$="?Te&&ke.slice(-Te.length)===Te:te==="~="?(" "+ke.replace(tl," ")+" ").indexOf(Te)>-1:te==="|="?ke===Te||ke.slice(0,Te.length+1)===Te+"-":!1):!0}},CHILD:function(Q,te,Te,Ke,ke){var tt=Q.slice(0,3)!=="nth",Ce=Q.slice(-4)!=="last",gt=te==="of-type";return Ke===1&&ke===0?function(At){return!!At.parentNode}:function(At,en,Xt){var rn,En,ai,tn,Pi,Zi,dr=tt!==Ce?"nextSibling":"previousSibling",fi=At.parentNode,$i=gt&&At.nodeName.toLowerCase(),Hr=!Xt&&!gt,wr=!1;if(fi){if(tt){for(;dr;){for(tn=At;tn=tn[dr];)if(gt?tn.nodeName.toLowerCase()===$i:tn.nodeType===1)return!1;Zi=dr=Q==="only"&&!Zi&&"nextSibling"}return!0}if(Zi=[Ce?fi.firstChild:fi.lastChild],Ce&&Hr){for(tn=fi,ai=tn[Jn]||(tn[Jn]={}),En=ai[tn.uniqueID]||(ai[tn.uniqueID]={}),rn=En[Q]||[],Pi=rn[0]===An&&rn[1],wr=Pi&&rn[2],tn=Pi&&fi.childNodes[Pi];tn=++Pi&&tn&&tn[dr]||(wr=Pi=0)||Zi.pop();)if(tn.nodeType===1&&++wr&&tn===At){En[Q]=[An,Pi,wr];break}}else if(Hr&&(tn=At,ai=tn[Jn]||(tn[Jn]={}),En=ai[tn.uniqueID]||(ai[tn.uniqueID]={}),rn=En[Q]||[],Pi=rn[0]===An&&rn[1],wr=Pi),wr===!1)for(;(tn=++Pi&&tn&&tn[dr]||(wr=Pi=0)||Zi.pop())&&!((gt?tn.nodeName.toLowerCase()===$i:tn.nodeType===1)&&++wr&&(Hr&&(ai=tn[Jn]||(tn[Jn]={}),En=ai[tn.uniqueID]||(ai[tn.uniqueID]={}),En[Q]=[An,wr]),tn===At)););return wr-=ke,wr===Ke||wr%Ke===0&&wr/Ke>=0}}},PSEUDO:function(Q,te){var Te,Ke=D.pseudos[Q]||D.setFilters[Q.toLowerCase()]||ii.error("unsupported pseudo: "+Q);return Ke[Jn]?Ke(te):Ke.length>1?(Te=[Q,Q,"",te],D.setFilters.hasOwnProperty(Q.toLowerCase())?Gr(function(ke,tt){for(var Ce,gt=Ke(ke,te),At=gt.length;At--;)Ce=is(ke,gt[At]),ke[Ce]=!(tt[Ce]=gt[At])}):function(ke){return Ke(ke,0,Te)}):Ke}},pseudos:{not:Gr(function(Q){var te=[],Te=[],Ke=_e(Q.replace(xr,"$1"));return Ke[Jn]?Gr(function(ke,tt,Ce,gt){for(var At,en=Ke(ke,null,gt,[]),Xt=ke.length;Xt--;)(At=en[Xt])&&(ke[Xt]=!(tt[Xt]=At))}):function(ke,tt,Ce){return te[0]=ke,Ke(te,null,Ce,Te),te[0]=null,!Te.pop()}}),has:Gr(function(Q){return function(te){return ii(Q,te).length>0}}),contains:Gr(function(Q){return Q=Q.replace(qr,Dr),function(te){return(te.textContent||j(te)).indexOf(Q)>-1}}),lang:Gr(function(Q){return ga.test(Q||"")||ii.error("unsupported lang: "+Q),Q=Q.replace(qr,Dr).toLowerCase(),function(te){var Te;do if(Te=un?te.lang:te.getAttribute("xml:lang")||te.getAttribute("lang"))return Te=Te.toLowerCase(),Te===Q||Te.indexOf(Q+"-")===0;while((te=te.parentNode)&&te.nodeType===1);return!1}}),target:function(Q){var te=v.location&&v.location.hash;return te&&te.slice(1)===Q.id},root:function(Q){return Q===Wt},focus:function(Q){return Q===Xe.activeElement&&(!Xe.hasFocus||Xe.hasFocus())&&!!(Q.type||Q.href||~Q.tabIndex)},enabled:Wo(!1),disabled:Wo(!0),checked:function(Q){var te=Q.nodeName.toLowerCase();return te==="input"&&!!Q.checked||te==="option"&&!!Q.selected},selected:function(Q){return Q.parentNode&&Q.parentNode.selectedIndex,Q.selected===!0},empty:function(Q){for(Q=Q.firstChild;Q;Q=Q.nextSibling)if(Q.nodeType<6)return!1;return!0},parent:function(Q){return!D.pseudos.empty(Q)},header:function(Q){return Fu.test(Q.nodeName)},input:function(Q){return il.test(Q.nodeName)},button:function(Q){var te=Q.nodeName.toLowerCase();return te==="input"&&Q.type==="button"||te==="button"},text:function(Q){var te;return Q.nodeName.toLowerCase()==="input"&&Q.type==="text"&&((te=Q.getAttribute("type"))==null||te.toLowerCase()==="text")},first:Vi(function(){return[0]}),last:Vi(function(Q,te){return[te-1]}),eq:Vi(function(Q,te,Te){return[Te<0?Te+te:Te]}),even:Vi(function(Q,te){for(var Te=0;Te<te;Te+=2)Q.push(Te);return Q}),odd:Vi(function(Q,te){for(var Te=1;Te<te;Te+=2)Q.push(Te);return Q}),lt:Vi(function(Q,te,Te){for(var Ke=Te<0?Te+te:Te>te?te:Te;--Ke>=0;)Q.push(Ke);return Q}),gt:Vi(function(Q,te,Te){for(var Ke=Te<0?Te+te:Te;++Ke<te;)Q.push(Ke);return Q})}},D.pseudos.nth=D.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[b]=wa(b);for(b in{submit:!0,reset:!0})D.pseudos[b]=Lr(b);function Ps(){}Ps.prototype=D.filters=D.pseudos,D.setFilters=new Ps,X=ii.tokenize=function(Q,te){var Te,Ke,ke,tt,Ce,gt,At,en=Mn[Q+" "];if(en)return te?0:en.slice(0);for(Ce=Q,gt=[],At=D.preFilter;Ce;){(!Te||(Ke=Bu.exec(Ce)))&&(Ke&&(Ce=Ce.slice(Ke[0].length)||Ce),gt.push(ke=[])),Te=!1,(Ke=nl.exec(Ce))&&(Te=Ke.shift(),ke.push({value:Te,type:Ke[0].replace(xr," ")}),Ce=Ce.slice(Te.length));for(tt in D.filter)(Ke=ks[tt].exec(Ce))&&(!At[tt]||(Ke=At[tt](Ke)))&&(Te=Ke.shift(),ke.push({value:Te,type:tt,matches:Ke}),Ce=Ce.slice(Te.length));if(!Te)break}return te?Ce.length:Ce?ii.error(Q):Mn(Q,gt).slice(0)};function ba(Q){for(var te=0,Te=Q.length,Ke="";te<Te;te++)Ke+=Q[te].value;return Ke}function Wr(Q,te,Te){var Ke=te.dir,ke=te.next,tt=ke||Ke,Ce=Te&&tt==="parentNode",gt=Fn++;return te.first?function(At,en,Xt){for(;At=At[Ke];)if(At.nodeType===1||Ce)return Q(At,en,Xt);return!1}:function(At,en,Xt){var rn,En,ai,tn=[An,gt];if(Xt){for(;At=At[Ke];)if((At.nodeType===1||Ce)&&Q(At,en,Xt))return!0}else for(;At=At[Ke];)if(At.nodeType===1||Ce)if(ai=At[Jn]||(At[Jn]={}),En=ai[At.uniqueID]||(ai[At.uniqueID]={}),ke&&ke===At.nodeName.toLowerCase())At=At[Ke]||At;else{if((rn=En[tt])&&rn[0]===An&&rn[1]===gt)return tn[2]=rn[2];if(En[tt]=tn,tn[2]=Q(At,en,Xt))return!0}return!1}}function mo(Q){return Q.length>1?function(te,Te,Ke){for(var ke=Q.length;ke--;)if(!Q[ke](te,Te,Ke))return!1;return!0}:Q[0]}function Kl(Q,te,Te){for(var Ke=0,ke=te.length;Ke<ke;Ke++)ii(Q,te[Ke],Te);return Te}function sl(Q,te,Te,Ke,ke){for(var tt,Ce=[],gt=0,At=Q.length,en=te!=null;gt<At;gt++)(tt=Q[gt])&&(!Te||Te(tt,Ke,ke))&&(Ce.push(tt),en&&te.push(gt));return Ce}function Yl(Q,te,Te,Ke,ke,tt){return Ke&&!Ke[Jn]&&(Ke=Yl(Ke)),ke&&!ke[Jn]&&(ke=Yl(ke,tt)),Gr(function(Ce,gt,At,en){var Xt,rn,En,ai=[],tn=[],Pi=gt.length,Zi=Ce||Kl(te||"*",At.nodeType?[At]:At,[]),dr=Q&&(Ce||!te)?sl(Zi,ai,Q,At,en):Zi,fi=Te?ke||(Ce?Q:Pi||Ke)?[]:gt:dr;if(Te&&Te(dr,fi,At,en),Ke)for(Xt=sl(fi,tn),Ke(Xt,[],At,en),rn=Xt.length;rn--;)(En=Xt[rn])&&(fi[tn[rn]]=!(dr[tn[rn]]=En));if(Ce){if(ke||Q){if(ke){for(Xt=[],rn=fi.length;rn--;)(En=fi[rn])&&Xt.push(dr[rn]=En);ke(null,fi=[],Xt,en)}for(rn=fi.length;rn--;)(En=fi[rn])&&(Xt=ke?is(Ce,En):ai[rn])>-1&&(Ce[Xt]=!(gt[Xt]=En))}}else fi=sl(fi===gt?fi.splice(Pi,fi.length):fi),ke?ke(null,gt,fi,en):Zs.apply(gt,fi)})}function Ho(Q){for(var te,Te,Ke,ke=Q.length,tt=D.relative[Q[0].type],Ce=tt||D.relative[" "],gt=tt?1:0,At=Wr(function(rn){return rn===te},Ce,!0),en=Wr(function(rn){return is(te,rn)>-1},Ce,!0),Xt=[function(rn,En,ai){var tn=!tt&&(ai||En!==Ie)||((te=En).nodeType?At(rn,En,ai):en(rn,En,ai));return te=null,tn}];gt<ke;gt++)if(Te=D.relative[Q[gt].type])Xt=[Wr(mo(Xt),Te)];else{if(Te=D.filter[Q[gt].type].apply(null,Q[gt].matches),Te[Jn]){for(Ke=++gt;Ke<ke&&!D.relative[Q[Ke].type];Ke++);return Yl(gt>1&&mo(Xt),gt>1&&ba(Q.slice(0,gt-1).concat({value:Q[gt-2].type===" "?"*":""})).replace(xr,"$1"),Te,gt<Ke&&Ho(Q.slice(gt,Ke)),Ke<ke&&Ho(Q=Q.slice(Ke)),Ke<ke&&ba(Q))}Xt.push(Te)}return mo(Xt)}function Sa(Q,te){var Te=te.length>0,Ke=Q.length>0,ke=function(tt,Ce,gt,At,en){var Xt,rn,En,ai=0,tn="0",Pi=tt&&[],Zi=[],dr=Ie,fi=tt||Ke&&D.find.TAG("*",en),$i=An+=dr==null?1:Math.random()||.1,Hr=fi.length;for(en&&(Ie=Ce==Xe||Ce||en);tn!==Hr&&(Xt=fi[tn])!=null;tn++){if(Ke&&Xt){for(rn=0,!Ce&&Xt.ownerDocument!=Xe&&(Be(Xt),gt=!un);En=Q[rn++];)if(En(Xt,Ce||Xe,gt)){At.push(Xt);break}en&&(An=$i)}Te&&((Xt=!En&&Xt)&&ai--,tt&&Pi.push(Xt))}if(ai+=tn,Te&&tn!==ai){for(rn=0;En=te[rn++];)En(Pi,Zi,Ce,gt);if(tt){if(ai>0)for(;tn--;)Pi[tn]||Zi[tn]||(Zi[tn]=Hs.call(At));Zi=sl(Zi)}Zs.apply(At,Zi),en&&!tt&&Zi.length>0&&ai+te.length>1&&ii.uniqueSort(At)}return en&&(An=$i,Ie=dr),Pi};return Te?Gr(ke):ke}return _e=ii.compile=function(Q,te){var Te,Ke=[],ke=[],tt=Yn[Q+" "];if(!tt){for(te||(te=X(Q)),Te=te.length;Te--;)tt=Ho(te[Te]),tt[Jn]?Ke.push(tt):ke.push(tt);tt=Yn(Q,Sa(ke,Ke)),tt.selector=Q}return tt},ye=ii.select=function(Q,te,Te,Ke){var ke,tt,Ce,gt,At,en=typeof Q=="function"&&Q,Xt=!Ke&&X(Q=en.selector||Q);if(Te=Te||[],Xt.length===1){if(tt=Xt[0]=Xt[0].slice(0),tt.length>2&&(Ce=tt[0]).type==="ID"&&te.nodeType===9&&un&&D.relative[tt[1].type]){if(te=(D.find.ID(Ce.matches[0].replace(qr,Dr),te)||[])[0],te)en&&(te=te.parentNode);else return Te;Q=Q.slice(tt.shift().value.length)}for(ke=ks.needsContext.test(Q)?0:tt.length;ke--&&(Ce=tt[ke],!D.relative[gt=Ce.type]);)if((At=D.find[gt])&&(Ke=At(Ce.matches[0].replace(qr,Dr),va.test(tt[0].type)&&Xl(te.parentNode)||te))){if(tt.splice(ke,1),Q=Ke.length&&ba(tt),!Q)return Zs.apply(Te,Ke),Te;break}}return(en||_e(Q,Xt))(Ke,te,!un,Te,!te||va.test(Q)&&Xl(te.parentNode)||te),Te},E.sortStable=Jn.split("").sort(ns).join("")===Jn,E.detectDuplicates=!!at,Be(),E.sortDetached=sr(function(Q){return Q.compareDocumentPosition(Xe.createElement("fieldset"))&1}),sr(function(Q){return Q.innerHTML="<a href='#'></a>",Q.firstChild.getAttribute("href")==="#"})||rl("type|href|height|width",function(Q,te,Te){if(!Te)return Q.getAttribute(te,te.toLowerCase()==="type"?1:2)}),(!E.attributes||!sr(function(Q){return Q.innerHTML="<input/>",Q.firstChild.setAttribute("value",""),Q.firstChild.getAttribute("value")===""}))&&rl("value",function(Q,te,Te){if(!Te&&Q.nodeName.toLowerCase()==="input")return Q.defaultValue}),sr(function(Q){return Q.getAttribute("disabled")==null})||rl(ho,function(Q,te,Te){var Ke;if(!Te)return Q[te]===!0?te.toLowerCase():(Ke=Q.getAttributeNode(te))&&Ke.specified?Ke.value:null}),ii}(t);P.find=ht,P.expr=ht.selectors,P.expr[":"]=P.expr.pseudos,P.uniqueSort=P.unique=ht.uniqueSort,P.text=ht.getText,P.isXMLDoc=ht.isXML,P.contains=ht.contains,P.escapeSelector=ht.escape;var qt=function(v,b,E){for(var D=[],j=E!==void 0;(v=v[b])&&v.nodeType!==9;)if(v.nodeType===1){if(j&&P(v).is(E))break;D.push(v)}return D},zt=function(v,b){for(var E=[];v;v=v.nextSibling)v.nodeType===1&&v!==b&&E.push(v);return E},Un=P.expr.match.needsContext;function _n(v,b){return v.nodeName&&v.nodeName.toLowerCase()===b.toLowerCase()}var Ti=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Dn(v,b,E){return he(b)?P.grep(v,function(D,j){return!!b.call(D,j,D)!==E}):b.nodeType?P.grep(v,function(D){return D===b!==E}):typeof b!="string"?P.grep(v,function(D){return S.call(b,D)>-1!==E}):P.filter(b,v,E)}P.filter=function(v,b,E){var D=b[0];return E&&(v=":not("+v+")"),b.length===1&&D.nodeType===1?P.find.matchesSelector(D,v)?[D]:[]:P.find.matches(v,P.grep(b,function(j){return j.nodeType===1}))},P.fn.extend({find:function(v){var b,E,D=this.length,j=this;if(typeof v!="string")return this.pushStack(P(v).filter(function(){for(b=0;b<D;b++)if(P.contains(j[b],this))return!0}));for(E=this.pushStack([]),b=0;b<D;b++)P.find(v,j[b],E);return D>1?P.uniqueSort(E):E},filter:function(v){return this.pushStack(Dn(this,v||[],!1))},not:function(v){return this.pushStack(Dn(this,v||[],!0))},is:function(v){return!!Dn(this,typeof v=="string"&&Un.test(v)?P(v):v||[],!1).length}});var si,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ui=P.fn.init=function(v,b,E){var D,j;if(!v)return this;if(E=E||si,typeof v=="string")if(v[0]==="<"&&v[v.length-1]===">"&&v.length>=3?D=[null,v,null]:D=St.exec(v),D&&(D[1]||!b))if(D[1]){if(b=b instanceof P?b[0]:b,P.merge(this,P.parseHTML(D[1],b&&b.nodeType?b.ownerDocument||b:oe,!0)),Ti.test(D[1])&&P.isPlainObject(b))for(D in b)he(this[D])?this[D](b[D]):this.attr(D,b[D]);return this}else return j=oe.getElementById(D[2]),j&&(this[0]=j,this.length=1),this;else return!b||b.jquery?(b||E).find(v):this.constructor(b).find(v);else{if(v.nodeType)return this[0]=v,this.length=1,this;if(he(v))return E.ready!==void 0?E.ready(v):v(P)}return P.makeArray(v,this)};ui.prototype=P.fn,si=P(oe);var qe=/^(?:parents|prev(?:Until|All))/,st={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(v){var b=P(v,this),E=b.length;return this.filter(function(){for(var D=0;D<E;D++)if(P.contains(this,b[D]))return!0})},closest:function(v,b){var E,D=0,j=this.length,G=[],X=typeof v!="string"&&P(v);if(!Un.test(v)){for(;D<j;D++)for(E=this[D];E&&E!==b;E=E.parentNode)if(E.nodeType<11&&(X?X.index(E)>-1:E.nodeType===1&&P.find.matchesSelector(E,v))){G.push(E);break}}return this.pushStack(G.length>1?P.uniqueSort(G):G)},index:function(v){return v?typeof v=="string"?S.call(P(v),this[0]):S.call(this,v.jquery?v[0]:v):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(v,b){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(v,b))))},addBack:function(v){return this.add(v==null?this.prevObject:this.prevObject.filter(v))}});function dt(v,b){for(;(v=v[b])&&v.nodeType!==1;);return v}P.each({parent:function(v){var b=v.parentNode;return b&&b.nodeType!==11?b:null},parents:function(v){return qt(v,"parentNode")},parentsUntil:function(v,b,E){return qt(v,"parentNode",E)},next:function(v){return dt(v,"nextSibling")},prev:function(v){return dt(v,"previousSibling")},nextAll:function(v){return qt(v,"nextSibling")},prevAll:function(v){return qt(v,"previousSibling")},nextUntil:function(v,b,E){return qt(v,"nextSibling",E)},prevUntil:function(v,b,E){return qt(v,"previousSibling",E)},siblings:function(v){return zt((v.parentNode||{}).firstChild,v)},children:function(v){return zt(v.firstChild)},contents:function(v){return v.contentDocument!=null&&h(v.contentDocument)?v.contentDocument:(_n(v,"template")&&(v=v.content||v),P.merge([],v.childNodes))}},function(v,b){P.fn[v]=function(E,D){var j=P.map(this,b,E);return v.slice(-5)!=="Until"&&(D=E),D&&typeof D=="string"&&(j=P.filter(D,j)),this.length>1&&(st[v]||P.uniqueSort(j),qe.test(v)&&j.reverse()),this.pushStack(j)}});var Nt=/[^\x20\t\r\n\f]+/g;function sn(v){var b={};return P.each(v.match(Nt)||[],function(E,D){b[D]=!0}),b}P.Callbacks=function(v){v=typeof v=="string"?sn(v):P.extend({},v);var b,E,D,j,G=[],X=[],_e=-1,ye=function(){for(j=j||v.once,D=b=!0;X.length;_e=-1)for(E=X.shift();++_e<G.length;)G[_e].apply(E[0],E[1])===!1&&v.stopOnFalse&&(_e=G.length,E=!1);v.memory||(E=!1),b=!1,j&&(E?G=[]:G="")},Ie={add:function(){return G&&(E&&!b&&(_e=G.length-1,X.push(E)),function je(at){P.each(at,function(Be,Xe){he(Xe)?(!v.unique||!Ie.has(Xe))&&G.push(Xe):Xe&&Xe.length&&we(Xe)!=="string"&&je(Xe)})}(arguments),E&&!b&&ye()),this},remove:function(){return P.each(arguments,function(je,at){for(var Be;(Be=P.inArray(at,G,Be))>-1;)G.splice(Be,1),Be<=_e&&_e--}),this},has:function(je){return je?P.inArray(je,G)>-1:G.length>0},empty:function(){return G&&(G=[]),this},disable:function(){return j=X=[],G=E="",this},disabled:function(){return!G},lock:function(){return j=X=[],!E&&!b&&(G=E=""),this},locked:function(){return!!j},fireWith:function(je,at){return j||(at=at||[],at=[je,at.slice?at.slice():at],X.push(at),b||ye()),this},fire:function(){return Ie.fireWith(this,arguments),this},fired:function(){return!!D}};return Ie};function on(v){return v}function Tn(v){throw v}function cn(v,b,E,D){var j;try{v&&he(j=v.promise)?j.call(v).done(b).fail(E):v&&he(j=v.then)?j.call(v,b,E):b.apply(void 0,[v].slice(D))}catch(G){E.apply(void 0,[G])}}P.extend({Deferred:function(v){var b=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],E="pending",D={state:function(){return E},always:function(){return j.done(arguments).fail(arguments),this},catch:function(G){return D.then(null,G)},pipe:function(){var G=arguments;return P.Deferred(function(X){P.each(b,function(_e,ye){var Ie=he(G[ye[4]])&&G[ye[4]];j[ye[1]](function(){var je=Ie&&Ie.apply(this,arguments);je&&he(je.promise)?je.promise().progress(X.notify).done(X.resolve).fail(X.reject):X[ye[0]+"With"](this,Ie?[je]:arguments)})}),G=null}).promise()},then:function(G,X,_e){var ye=0;function Ie(je,at,Be,Xe){return function(){var Wt=this,un=arguments,$t=function(){var xi,Oi;if(!(je<ye)){if(xi=Be.apply(Wt,un),xi===at.promise())throw new TypeError("Thenable self-resolution");Oi=xi&&(typeof xi=="object"||typeof xi=="function")&&xi.then,he(Oi)?Xe?Oi.call(xi,Ie(ye,at,on,Xe),Ie(ye,at,Tn,Xe)):(ye++,Oi.call(xi,Ie(ye,at,on,Xe),Ie(ye,at,Tn,Xe),Ie(ye,at,on,at.notifyWith))):(Be!==on&&(Wt=void 0,un=[xi]),(Xe||at.resolveWith)(Wt,un))}},Di=Xe?$t:function(){try{$t()}catch(xi){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(xi,Di.stackTrace),je+1>=ye&&(Be!==Tn&&(Wt=void 0,un=[xi]),at.rejectWith(Wt,un))}};je?Di():(P.Deferred.getStackHook&&(Di.stackTrace=P.Deferred.getStackHook()),t.setTimeout(Di))}}return P.Deferred(function(je){b[0][3].add(Ie(0,je,he(_e)?_e:on,je.notifyWith)),b[1][3].add(Ie(0,je,he(G)?G:on)),b[2][3].add(Ie(0,je,he(X)?X:Tn))}).promise()},promise:function(G){return G!=null?P.extend(G,D):D}},j={};return P.each(b,function(G,X){var _e=X[2],ye=X[5];D[X[1]]=_e.add,ye&&_e.add(function(){E=ye},b[3-G][2].disable,b[3-G][3].disable,b[0][2].lock,b[0][3].lock),_e.add(X[3].fire),j[X[0]]=function(){return j[X[0]+"With"](this===j?void 0:this,arguments),this},j[X[0]+"With"]=_e.fireWith}),D.promise(j),v&&v.call(j,j),j},when:function(v){var b=arguments.length,E=b,D=Array(E),j=p.call(arguments),G=P.Deferred(),X=function(_e){return function(ye){D[_e]=this,j[_e]=arguments.length>1?p.call(arguments):ye,--b||G.resolveWith(D,j)}};if(b<=1&&(cn(v,G.done(X(E)).resolve,G.reject,!b),G.state()==="pending"||he(j[E]&&j[E].then)))return G.then();for(;E--;)cn(j[E],X(E),G.reject);return G.promise()}});var gn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(v,b){t.console&&t.console.warn&&v&&gn.test(v.name)&&t.console.warn("jQuery.Deferred exception: "+v.message,v.stack,b)},P.readyException=function(v){t.setTimeout(function(){throw v})};var jn=P.Deferred();P.fn.ready=function(v){return jn.then(v).catch(function(b){P.readyException(b)}),this},P.extend({isReady:!1,readyWait:1,ready:function(v){(v===!0?--P.readyWait:P.isReady)||(P.isReady=!0,!(v!==!0&&--P.readyWait>0)&&jn.resolveWith(oe,[P]))}}),P.ready.then=jn.then;function ci(){oe.removeEventListener("DOMContentLoaded",ci),t.removeEventListener("load",ci),P.ready()}oe.readyState==="complete"||oe.readyState!=="loading"&&!oe.documentElement.doScroll?t.setTimeout(P.ready):(oe.addEventListener("DOMContentLoaded",ci),t.addEventListener("load",ci));var Bn=function(v,b,E,D,j,G,X){var _e=0,ye=v.length,Ie=E==null;if(we(E)==="object"){j=!0;for(_e in E)Bn(v,b,_e,E[_e],!0,G,X)}else if(D!==void 0&&(j=!0,he(D)||(X=!0),Ie&&(X?(b.call(v,D),b=null):(Ie=b,b=function(je,at,Be){return Ie.call(P(je),Be)})),b))for(;_e<ye;_e++)b(v[_e],E,X?D:D.call(v[_e],_e,b(v[_e],E)));return j?v:Ie?b.call(v):ye?b(v[0],E):G},kr=/^-ms-/,ms=/-([a-z])/g;function Pr(v,b){return b.toUpperCase()}function oi(v){return v.replace(kr,"ms-").replace(ms,Pr)}var Ni=function(v){return v.nodeType===1||v.nodeType===9||!+v.nodeType};function hi(){this.expando=P.expando+hi.uid++}hi.uid=1,hi.prototype={cache:function(v){var b=v[this.expando];return b||(b={},Ni(v)&&(v.nodeType?v[this.expando]=b:Object.defineProperty(v,this.expando,{value:b,configurable:!0}))),b},set:function(v,b,E){var D,j=this.cache(v);if(typeof b=="string")j[oi(b)]=E;else for(D in b)j[oi(D)]=b[D];return j},get:function(v,b){return b===void 0?this.cache(v):v[this.expando]&&v[this.expando][oi(b)]},access:function(v,b,E){return b===void 0||b&&typeof b=="string"&&E===void 0?this.get(v,b):(this.set(v,b,E),E!==void 0?E:b)},remove:function(v,b){var E,D=v[this.expando];if(D!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(oi):(b=oi(b),b=b in D?[b]:b.match(Nt)||[]),E=b.length;E--;)delete D[b[E]];(b===void 0||P.isEmptyObject(D))&&(v.nodeType?v[this.expando]=void 0:delete v[this.expando])}},hasData:function(v){var b=v[this.expando];return b!==void 0&&!P.isEmptyObject(b)}};var Dt=new hi,mi=new hi,it=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ye=/[A-Z]/g;function pt(v){return v==="true"?!0:v==="false"?!1:v==="null"?null:v===+v+""?+v:it.test(v)?JSON.parse(v):v}function Pt(v,b,E){var D;if(E===void 0&&v.nodeType===1)if(D="data-"+b.replace(Ye,"-$&").toLowerCase(),E=v.getAttribute(D),typeof E=="string"){try{E=pt(E)}catch{}mi.set(v,b,E)}else E=void 0;return E}P.extend({hasData:function(v){return mi.hasData(v)||Dt.hasData(v)},data:function(v,b,E){return mi.access(v,b,E)},removeData:function(v,b){mi.remove(v,b)},_data:function(v,b,E){return Dt.access(v,b,E)},_removeData:function(v,b){Dt.remove(v,b)}}),P.fn.extend({data:function(v,b){var E,D,j,G=this[0],X=G&&G.attributes;if(v===void 0){if(this.length&&(j=mi.get(G),G.nodeType===1&&!Dt.get(G,"hasDataAttrs"))){for(E=X.length;E--;)X[E]&&(D=X[E].name,D.indexOf("data-")===0&&(D=oi(D.slice(5)),Pt(G,D,j[D])));Dt.set(G,"hasDataAttrs",!0)}return j}return typeof v=="object"?this.each(function(){mi.set(this,v)}):Bn(this,function(_e){var ye;if(G&&_e===void 0)return ye=mi.get(G,v),ye!==void 0||(ye=Pt(G,v),ye!==void 0)?ye:void 0;this.each(function(){mi.set(this,v,_e)})},null,b,arguments.length>1,null,!0)},removeData:function(v){return this.each(function(){mi.remove(this,v)})}}),P.extend({queue:function(v,b,E){var D;if(v)return b=(b||"fx")+"queue",D=Dt.get(v,b),E&&(!D||Array.isArray(E)?D=Dt.access(v,b,P.makeArray(E)):D.push(E)),D||[]},dequeue:function(v,b){b=b||"fx";var E=P.queue(v,b),D=E.length,j=E.shift(),G=P._queueHooks(v,b),X=function(){P.dequeue(v,b)};j==="inprogress"&&(j=E.shift(),D--),j&&(b==="fx"&&E.unshift("inprogress"),delete G.stop,j.call(v,X,G)),!D&&G&&G.empty.fire()},_queueHooks:function(v,b){var E=b+"queueHooks";return Dt.get(v,E)||Dt.access(v,E,{empty:P.Callbacks("once memory").add(function(){Dt.remove(v,[b+"queue",E])})})}}),P.fn.extend({queue:function(v,b){var E=2;return typeof v!="string"&&(b=v,v="fx",E--),arguments.length<E?P.queue(this[0],v):b===void 0?this:this.each(function(){var D=P.queue(this,v,b);P._queueHooks(this,v),v==="fx"&&D[0]!=="inprogress"&&P.dequeue(this,v)})},dequeue:function(v){return this.each(function(){P.dequeue(this,v)})},clearQueue:function(v){return this.queue(v||"fx",[])},promise:function(v,b){var E,D=1,j=P.Deferred(),G=this,X=this.length,_e=function(){--D||j.resolveWith(G,[G])};for(typeof v!="string"&&(b=v,v=void 0),v=v||"fx";X--;)E=Dt.get(G[X],v+"queueHooks"),E&&E.empty&&(D++,E.empty.add(_e));return _e(),j.promise(b)}});var Yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,yn=new RegExp("^(?:([+-])=|)("+Yt+")([a-z%]*)$","i"),an=["Top","Right","Bottom","Left"],dn=oe.documentElement,bn=function(v){return P.contains(v.ownerDocument,v)},kn={composed:!0};dn.getRootNode&&(bn=function(v){return P.contains(v.ownerDocument,v)||v.getRootNode(kn)===v.ownerDocument});var ze=function(v,b){return v=b||v,v.style.display==="none"||v.style.display===""&&bn(v)&&P.css(v,"display")==="none"};function lt(v,b,E,D){var j,G,X=20,_e=D?function(){return D.cur()}:function(){return P.css(v,b,"")},ye=_e(),Ie=E&&E[3]||(P.cssNumber[b]?"":"px"),je=v.nodeType&&(P.cssNumber[b]||Ie!=="px"&&+ye)&&yn.exec(P.css(v,b));if(je&&je[3]!==Ie){for(ye=ye/2,Ie=Ie||je[3],je=+ye||1;X--;)P.style(v,b,je+Ie),(1-G)*(1-(G=_e()/ye||.5))<=0&&(X=0),je=je/G;je=je*2,P.style(v,b,je+Ie),E=E||[]}return E&&(je=+je||+ye||0,j=E[1]?je+(E[1]+1)*E[2]:+E[2],D&&(D.unit=Ie,D.start=je,D.end=j)),j}var Hi={};function di(v){var b,E=v.ownerDocument,D=v.nodeName,j=Hi[D];return j||(b=E.body.appendChild(E.createElement(D)),j=P.css(b,"display"),b.parentNode.removeChild(b),j==="none"&&(j="block"),Hi[D]=j,j)}function et(v,b){for(var E,D,j=[],G=0,X=v.length;G<X;G++)D=v[G],D.style&&(E=D.style.display,b?(E==="none"&&(j[G]=Dt.get(D,"display")||null,j[G]||(D.style.display="")),D.style.display===""&&ze(D)&&(j[G]=di(D))):E!=="none"&&(j[G]="none",Dt.set(D,"display",E)));for(G=0;G<X;G++)j[G]!=null&&(v[G].style.display=j[G]);return v}P.fn.extend({show:function(){return et(this,!0)},hide:function(){return et(this)},toggle:function(v){return typeof v=="boolean"?v?this.show():this.hide():this.each(function(){ze(this)?P(this).show():P(this).hide()})}});var Ft=/^(?:checkbox|radio)$/i,hn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Sn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var v=oe.createDocumentFragment(),b=v.appendChild(oe.createElement("div")),E=oe.createElement("input");E.setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","t"),b.appendChild(E),ce.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",ce.option=!!b.lastChild})();var Qt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,ce.option||(Qt.optgroup=Qt.option=[1,"<select multiple='multiple'>","</select>"]);function Ze(v,b){var E;return typeof v.getElementsByTagName<"u"?E=v.getElementsByTagName(b||"*"):typeof v.querySelectorAll<"u"?E=v.querySelectorAll(b||"*"):E=[],b===void 0||b&&_n(v,b)?P.merge([v],E):E}function Vt(v,b){for(var E=0,D=v.length;E<D;E++)Dt.set(v[E],"globalEval",!b||Dt.get(b[E],"globalEval"))}var Ot=/<|&#?\w+;/;function Zn(v,b,E,D,j){for(var G,X,_e,ye,Ie,je,at=b.createDocumentFragment(),Be=[],Xe=0,Wt=v.length;Xe<Wt;Xe++)if(G=v[Xe],G||G===0)if(we(G)==="object")P.merge(Be,G.nodeType?[G]:G);else if(!Ot.test(G))Be.push(b.createTextNode(G));else{for(X=X||at.appendChild(b.createElement("div")),_e=(hn.exec(G)||["",""])[1].toLowerCase(),ye=Qt[_e]||Qt._default,X.innerHTML=ye[1]+P.htmlPrefilter(G)+ye[2],je=ye[0];je--;)X=X.lastChild;P.merge(Be,X.childNodes),X=at.firstChild,X.textContent=""}for(at.textContent="",Xe=0;G=Be[Xe++];){if(D&&P.inArray(G,D)>-1){j&&j.push(G);continue}if(Ie=bn(G),X=Ze(at.appendChild(G),"script"),Ie&&Vt(X),E)for(je=0;G=X[je++];)Sn.test(G.type||"")&&E.push(G)}return at}var Ai=/^([^.]*)(?:\.(.+)|)/;function Rt(){return!0}function _i(){return!1}function vn(v,b){return v===rr()==(b==="focus")}function rr(){try{return oe.activeElement}catch{}}function gi(v,b,E,D,j,G){var X,_e;if(typeof b=="object"){typeof E!="string"&&(D=D||E,E=void 0);for(_e in b)gi(v,_e,E,D,b[_e],G);return v}if(D==null&&j==null?(j=E,D=E=void 0):j==null&&(typeof E=="string"?(j=D,D=void 0):(j=D,D=E,E=void 0)),j===!1)j=_i;else if(!j)return v;return G===1&&(X=j,j=function(ye){return P().off(ye),X.apply(this,arguments)},j.guid=X.guid||(X.guid=P.guid++)),v.each(function(){P.event.add(this,b,j,D,E)})}P.event={global:{},add:function(v,b,E,D,j){var G,X,_e,ye,Ie,je,at,Be,Xe,Wt,un,$t=Dt.get(v);if(!!Ni(v))for(E.handler&&(G=E,E=G.handler,j=G.selector),j&&P.find.matchesSelector(dn,j),E.guid||(E.guid=P.guid++),(ye=$t.events)||(ye=$t.events=Object.create(null)),(X=$t.handle)||(X=$t.handle=function(Di){return typeof P<"u"&&P.event.triggered!==Di.type?P.event.dispatch.apply(v,arguments):void 0}),b=(b||"").match(Nt)||[""],Ie=b.length;Ie--;)_e=Ai.exec(b[Ie])||[],Xe=un=_e[1],Wt=(_e[2]||"").split(".").sort(),Xe&&(at=P.event.special[Xe]||{},Xe=(j?at.delegateType:at.bindType)||Xe,at=P.event.special[Xe]||{},je=P.extend({type:Xe,origType:un,data:D,handler:E,guid:E.guid,selector:j,needsContext:j&&P.expr.match.needsContext.test(j),namespace:Wt.join(".")},G),(Be=ye[Xe])||(Be=ye[Xe]=[],Be.delegateCount=0,(!at.setup||at.setup.call(v,D,Wt,X)===!1)&&v.addEventListener&&v.addEventListener(Xe,X)),at.add&&(at.add.call(v,je),je.handler.guid||(je.handler.guid=E.guid)),j?Be.splice(Be.delegateCount++,0,je):Be.push(je),P.event.global[Xe]=!0)},remove:function(v,b,E,D,j){var G,X,_e,ye,Ie,je,at,Be,Xe,Wt,un,$t=Dt.hasData(v)&&Dt.get(v);if(!(!$t||!(ye=$t.events))){for(b=(b||"").match(Nt)||[""],Ie=b.length;Ie--;){if(_e=Ai.exec(b[Ie])||[],Xe=un=_e[1],Wt=(_e[2]||"").split(".").sort(),!Xe){for(Xe in ye)P.event.remove(v,Xe+b[Ie],E,D,!0);continue}for(at=P.event.special[Xe]||{},Xe=(D?at.delegateType:at.bindType)||Xe,Be=ye[Xe]||[],_e=_e[2]&&new RegExp("(^|\\.)"+Wt.join("\\.(?:.*\\.|)")+"(\\.|$)"),X=G=Be.length;G--;)je=Be[G],(j||un===je.origType)&&(!E||E.guid===je.guid)&&(!_e||_e.test(je.namespace))&&(!D||D===je.selector||D==="**"&&je.selector)&&(Be.splice(G,1),je.selector&&Be.delegateCount--,at.remove&&at.remove.call(v,je));X&&!Be.length&&((!at.teardown||at.teardown.call(v,Wt,$t.handle)===!1)&&P.removeEvent(v,Xe,$t.handle),delete ye[Xe])}P.isEmptyObject(ye)&&Dt.remove(v,"handle events")}},dispatch:function(v){var b,E,D,j,G,X,_e=new Array(arguments.length),ye=P.event.fix(v),Ie=(Dt.get(this,"events")||Object.create(null))[ye.type]||[],je=P.event.special[ye.type]||{};for(_e[0]=ye,b=1;b<arguments.length;b++)_e[b]=arguments[b];if(ye.delegateTarget=this,!(je.preDispatch&&je.preDispatch.call(this,ye)===!1)){for(X=P.event.handlers.call(this,ye,Ie),b=0;(j=X[b++])&&!ye.isPropagationStopped();)for(ye.currentTarget=j.elem,E=0;(G=j.handlers[E++])&&!ye.isImmediatePropagationStopped();)(!ye.rnamespace||G.namespace===!1||ye.rnamespace.test(G.namespace))&&(ye.handleObj=G,ye.data=G.data,D=((P.event.special[G.origType]||{}).handle||G.handler).apply(j.elem,_e),D!==void 0&&(ye.result=D)===!1&&(ye.preventDefault(),ye.stopPropagation()));return je.postDispatch&&je.postDispatch.call(this,ye),ye.result}},handlers:function(v,b){var E,D,j,G,X,_e=[],ye=b.delegateCount,Ie=v.target;if(ye&&Ie.nodeType&&!(v.type==="click"&&v.button>=1)){for(;Ie!==this;Ie=Ie.parentNode||this)if(Ie.nodeType===1&&!(v.type==="click"&&Ie.disabled===!0)){for(G=[],X={},E=0;E<ye;E++)D=b[E],j=D.selector+" ",X[j]===void 0&&(X[j]=D.needsContext?P(j,this).index(Ie)>-1:P.find(j,this,null,[Ie]).length),X[j]&&G.push(D);G.length&&_e.push({elem:Ie,handlers:G})}}return Ie=this,ye<b.length&&_e.push({elem:Ie,handlers:b.slice(ye)}),_e},addProp:function(v,b){Object.defineProperty(P.Event.prototype,v,{enumerable:!0,configurable:!0,get:he(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[v]},set:function(E){Object.defineProperty(this,v,{enumerable:!0,configurable:!0,writable:!0,value:E})}})},fix:function(v){return v[P.expando]?v:new P.Event(v)},special:{load:{noBubble:!0},click:{setup:function(v){var b=this||v;return Ft.test(b.type)&&b.click&&_n(b,"input")&&zi(b,"click",Rt),!1},trigger:function(v){var b=this||v;return Ft.test(b.type)&&b.click&&_n(b,"input")&&zi(b,"click"),!0},_default:function(v){var b=v.target;return Ft.test(b.type)&&b.click&&_n(b,"input")&&Dt.get(b,"click")||_n(b,"a")}},beforeunload:{postDispatch:function(v){v.result!==void 0&&v.originalEvent&&(v.originalEvent.returnValue=v.result)}}}};function zi(v,b,E){if(!E){Dt.get(v,b)===void 0&&P.event.add(v,b,Rt);return}Dt.set(v,b,!1),P.event.add(v,b,{namespace:!1,handler:function(D){var j,G,X=Dt.get(this,b);if(D.isTrigger&1&&this[b]){if(X.length)(P.event.special[b]||{}).delegateType&&D.stopPropagation();else if(X=p.call(arguments),Dt.set(this,b,X),j=E(this,b),this[b](),G=Dt.get(this,b),X!==G||j?Dt.set(this,b,!1):G={},X!==G)return D.stopImmediatePropagation(),D.preventDefault(),G&&G.value}else X.length&&(Dt.set(this,b,{value:P.event.trigger(P.extend(X[0],P.Event.prototype),X.slice(1),this)}),D.stopImmediatePropagation())}})}P.removeEvent=function(v,b,E){v.removeEventListener&&v.removeEventListener(b,E)},P.Event=function(v,b){if(!(this instanceof P.Event))return new P.Event(v,b);v&&v.type?(this.originalEvent=v,this.type=v.type,this.isDefaultPrevented=v.defaultPrevented||v.defaultPrevented===void 0&&v.returnValue===!1?Rt:_i,this.target=v.target&&v.target.nodeType===3?v.target.parentNode:v.target,this.currentTarget=v.currentTarget,this.relatedTarget=v.relatedTarget):this.type=v,b&&P.extend(this,b),this.timeStamp=v&&v.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:_i,isPropagationStopped:_i,isImmediatePropagationStopped:_i,isSimulated:!1,preventDefault:function(){var v=this.originalEvent;this.isDefaultPrevented=Rt,v&&!this.isSimulated&&v.preventDefault()},stopPropagation:function(){var v=this.originalEvent;this.isPropagationStopped=Rt,v&&!this.isSimulated&&v.stopPropagation()},stopImmediatePropagation:function(){var v=this.originalEvent;this.isImmediatePropagationStopped=Rt,v&&!this.isSimulated&&v.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(v,b){P.event.special[v]={setup:function(){return zi(this,v,vn),!1},trigger:function(){return zi(this,v),!0},_default:function(E){return Dt.get(E.target,v)},delegateType:b}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(v,b){P.event.special[v]={delegateType:b,bindType:b,handle:function(E){var D,j=this,G=E.relatedTarget,X=E.handleObj;return(!G||G!==j&&!P.contains(j,G))&&(E.type=X.origType,D=X.handler.apply(this,arguments),E.type=b),D}}}),P.fn.extend({on:function(v,b,E,D){return gi(this,v,b,E,D)},one:function(v,b,E,D){return gi(this,v,b,E,D,1)},off:function(v,b,E){var D,j;if(v&&v.preventDefault&&v.handleObj)return D=v.handleObj,P(v.delegateTarget).off(D.namespace?D.origType+"."+D.namespace:D.origType,D.selector,D.handler),this;if(typeof v=="object"){for(j in v)this.off(j,b,v[j]);return this}return(b===!1||typeof b=="function")&&(E=b,b=void 0),E===!1&&(E=_i),this.each(function(){P.event.remove(this,v,E,b)})}});var $n=/<script|<style|<link/i,Lo=/checked\s*(?:[^=]|=\s*.checked.)/i,gs=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function js(v,b){return _n(v,"table")&&_n(b.nodeType!==11?b:b.firstChild,"tr")&&P(v).children("tbody")[0]||v}function ao(v){return v.type=(v.getAttribute("type")!==null)+"/"+v.type,v}function Ro(v){return(v.type||"").slice(0,5)==="true/"?v.type=v.type.slice(5):v.removeAttribute("type"),v}function qs(v,b){var E,D,j,G,X,_e,ye;if(b.nodeType===1){if(Dt.hasData(v)&&(G=Dt.get(v),ye=G.events,ye)){Dt.remove(b,"handle events");for(j in ye)for(E=0,D=ye[j].length;E<D;E++)P.event.add(b,j,ye[j][E])}mi.hasData(v)&&(X=mi.access(v),_e=P.extend({},X),mi.set(b,_e))}}function ne(v,b){var E=b.nodeName.toLowerCase();E==="input"&&Ft.test(v.type)?b.checked=v.checked:(E==="input"||E==="textarea")&&(b.defaultValue=v.defaultValue)}function N(v,b,E,D){b=y(b);var j,G,X,_e,ye,Ie,je=0,at=v.length,Be=at-1,Xe=b[0],Wt=he(Xe);if(Wt||at>1&&typeof Xe=="string"&&!ce.checkClone&&Lo.test(Xe))return v.each(function(un){var $t=v.eq(un);Wt&&(b[0]=Xe.call(this,un,$t.html())),N($t,b,E,D)});if(at&&(j=Zn(b,v[0].ownerDocument,!1,v,D),G=j.firstChild,j.childNodes.length===1&&(j=G),G||D)){for(X=P.map(Ze(j,"script"),ao),_e=X.length;je<at;je++)ye=j,je!==Be&&(ye=P.clone(ye,!0,!0),_e&&P.merge(X,Ze(ye,"script"))),E.call(v[je],ye,je);if(_e)for(Ie=X[X.length-1].ownerDocument,P.map(X,Ro),je=0;je<_e;je++)ye=X[je],Sn.test(ye.type||"")&&!Dt.access(ye,"globalEval")&&P.contains(Ie,ye)&&(ye.src&&(ye.type||"").toLowerCase()!=="module"?P._evalUrl&&!ye.noModule&&P._evalUrl(ye.src,{nonce:ye.nonce||ye.getAttribute("nonce")},Ie):re(ye.textContent.replace(gs,""),ye,Ie))}return v}function q(v,b,E){for(var D,j=b?P.filter(b,v):v,G=0;(D=j[G])!=null;G++)!E&&D.nodeType===1&&P.cleanData(Ze(D)),D.parentNode&&(E&&bn(D)&&Vt(Ze(D,"script")),D.parentNode.removeChild(D));return v}P.extend({htmlPrefilter:function(v){return v},clone:function(v,b,E){var D,j,G,X,_e=v.cloneNode(!0),ye=bn(v);if(!ce.noCloneChecked&&(v.nodeType===1||v.nodeType===11)&&!P.isXMLDoc(v))for(X=Ze(_e),G=Ze(v),D=0,j=G.length;D<j;D++)ne(G[D],X[D]);if(b)if(E)for(G=G||Ze(v),X=X||Ze(_e),D=0,j=G.length;D<j;D++)qs(G[D],X[D]);else qs(v,_e);return X=Ze(_e,"script"),X.length>0&&Vt(X,!ye&&Ze(v,"script")),_e},cleanData:function(v){for(var b,E,D,j=P.event.special,G=0;(E=v[G])!==void 0;G++)if(Ni(E)){if(b=E[Dt.expando]){if(b.events)for(D in b.events)j[D]?P.event.remove(E,D):P.removeEvent(E,D,b.handle);E[Dt.expando]=void 0}E[mi.expando]&&(E[mi.expando]=void 0)}}}),P.fn.extend({detach:function(v){return q(this,v,!0)},remove:function(v){return q(this,v)},text:function(v){return Bn(this,function(b){return b===void 0?P.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,v,arguments.length)},append:function(){return N(this,arguments,function(v){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=js(this,v);b.appendChild(v)}})},prepend:function(){return N(this,arguments,function(v){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=js(this,v);b.insertBefore(v,b.firstChild)}})},before:function(){return N(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this)})},after:function(){return N(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this.nextSibling)})},empty:function(){for(var v,b=0;(v=this[b])!=null;b++)v.nodeType===1&&(P.cleanData(Ze(v,!1)),v.textContent="");return this},clone:function(v,b){return v=v==null?!1:v,b=b==null?v:b,this.map(function(){return P.clone(this,v,b)})},html:function(v){return Bn(this,function(b){var E=this[0]||{},D=0,j=this.length;if(b===void 0&&E.nodeType===1)return E.innerHTML;if(typeof b=="string"&&!$n.test(b)&&!Qt[(hn.exec(b)||["",""])[1].toLowerCase()]){b=P.htmlPrefilter(b);try{for(;D<j;D++)E=this[D]||{},E.nodeType===1&&(P.cleanData(Ze(E,!1)),E.innerHTML=b);E=0}catch{}}E&&this.empty().append(b)},null,v,arguments.length)},replaceWith:function(){var v=[];return N(this,arguments,function(b){var E=this.parentNode;P.inArray(this,v)<0&&(P.cleanData(Ze(this)),E&&E.replaceChild(b,this))},v)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(v,b){P.fn[v]=function(E){for(var D,j=[],G=P(E),X=G.length-1,_e=0;_e<=X;_e++)D=_e===X?this:this.clone(!0),P(G[_e])[b](D),a.apply(j,D.get());return this.pushStack(j)}});var J=new RegExp("^("+Yt+")(?!px)[a-z%]+$","i"),ee=/^--/,fe=function(v){var b=v.ownerDocument.defaultView;return(!b||!b.opener)&&(b=t),b.getComputedStyle(v)},be=function(v,b,E){var D,j,G={};for(j in b)G[j]=v.style[j],v.style[j]=b[j];D=E.call(v);for(j in b)v.style[j]=G[j];return D},ve=new RegExp(an.join("|"),"i"),ge="[\\x20\\t\\r\\n\\f]",Se=new RegExp("^"+ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ge+"+$","g");(function(){function v(){if(!!Ie){ye.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ie.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",dn.appendChild(ye).appendChild(Ie);var je=t.getComputedStyle(Ie);E=je.top!=="1%",_e=b(je.marginLeft)===12,Ie.style.right="60%",G=b(je.right)===36,D=b(je.width)===36,Ie.style.position="absolute",j=b(Ie.offsetWidth/3)===12,dn.removeChild(ye),Ie=null}}function b(je){return Math.round(parseFloat(je))}var E,D,j,G,X,_e,ye=oe.createElement("div"),Ie=oe.createElement("div");!Ie.style||(Ie.style.backgroundClip="content-box",Ie.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle=Ie.style.backgroundClip==="content-box",P.extend(ce,{boxSizingReliable:function(){return v(),D},pixelBoxStyles:function(){return v(),G},pixelPosition:function(){return v(),E},reliableMarginLeft:function(){return v(),_e},scrollboxSize:function(){return v(),j},reliableTrDimensions:function(){var je,at,Be,Xe;return X==null&&(je=oe.createElement("table"),at=oe.createElement("tr"),Be=oe.createElement("div"),je.style.cssText="position:absolute;left:-11111px;border-collapse:separate",at.style.cssText="border:1px solid",at.style.height="1px",Be.style.height="9px",Be.style.display="block",dn.appendChild(je).appendChild(at).appendChild(Be),Xe=t.getComputedStyle(at),X=parseInt(Xe.height,10)+parseInt(Xe.borderTopWidth,10)+parseInt(Xe.borderBottomWidth,10)===at.offsetHeight,dn.removeChild(je)),X}}))})();function Fe(v,b,E){var D,j,G,X,_e=ee.test(b),ye=v.style;return E=E||fe(v),E&&(X=E.getPropertyValue(b)||E[b],_e&&(X=X.replace(Se,"$1")),X===""&&!bn(v)&&(X=P.style(v,b)),!ce.pixelBoxStyles()&&J.test(X)&&ve.test(b)&&(D=ye.width,j=ye.minWidth,G=ye.maxWidth,ye.minWidth=ye.maxWidth=ye.width=X,X=E.width,ye.width=D,ye.minWidth=j,ye.maxWidth=G)),X!==void 0?X+"":X}function rt(v,b){return{get:function(){if(v()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var Oe=["Webkit","Moz","ms"],kt=oe.createElement("div").style,It={};function xt(v){for(var b=v[0].toUpperCase()+v.slice(1),E=Oe.length;E--;)if(v=Oe[E]+b,v in kt)return v}function Gt(v){var b=P.cssProps[v]||It[v];return b||(v in kt?v:It[v]=xt(v)||v)}var Jt=/^(none|table(?!-c[ea]).+)/,Ln={position:"absolute",visibility:"hidden",display:"block"},nn={letterSpacing:"0",fontWeight:"400"};function mn(v,b,E){var D=yn.exec(b);return D?Math.max(0,D[2]-(E||0))+(D[3]||"px"):b}function Pn(v,b,E,D,j,G){var X=b==="width"?1:0,_e=0,ye=0;if(E===(D?"border":"content"))return 0;for(;X<4;X+=2)E==="margin"&&(ye+=P.css(v,E+an[X],!0,j)),D?(E==="content"&&(ye-=P.css(v,"padding"+an[X],!0,j)),E!=="margin"&&(ye-=P.css(v,"border"+an[X]+"Width",!0,j))):(ye+=P.css(v,"padding"+an[X],!0,j),E!=="padding"?ye+=P.css(v,"border"+an[X]+"Width",!0,j):_e+=P.css(v,"border"+an[X]+"Width",!0,j));return!D&&G>=0&&(ye+=Math.max(0,Math.ceil(v["offset"+b[0].toUpperCase()+b.slice(1)]-G-ye-_e-.5))||0),ye}function Xn(v,b,E){var D=fe(v),j=!ce.boxSizingReliable()||E,G=j&&P.css(v,"boxSizing",!1,D)==="border-box",X=G,_e=Fe(v,b,D),ye="offset"+b[0].toUpperCase()+b.slice(1);if(J.test(_e)){if(!E)return _e;_e="auto"}return(!ce.boxSizingReliable()&&G||!ce.reliableTrDimensions()&&_n(v,"tr")||_e==="auto"||!parseFloat(_e)&&P.css(v,"display",!1,D)==="inline")&&v.getClientRects().length&&(G=P.css(v,"boxSizing",!1,D)==="border-box",X=ye in v,X&&(_e=v[ye])),_e=parseFloat(_e)||0,_e+Pn(v,b,E||(G?"border":"content"),X,D,_e)+"px"}P.extend({cssHooks:{opacity:{get:function(v,b){if(b){var E=Fe(v,"opacity");return E===""?"1":E}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(v,b,E,D){if(!(!v||v.nodeType===3||v.nodeType===8||!v.style)){var j,G,X,_e=oi(b),ye=ee.test(b),Ie=v.style;if(ye||(b=Gt(_e)),X=P.cssHooks[b]||P.cssHooks[_e],E!==void 0){if(G=typeof E,G==="string"&&(j=yn.exec(E))&&j[1]&&(E=lt(v,b,j),G="number"),E==null||E!==E)return;G==="number"&&!ye&&(E+=j&&j[3]||(P.cssNumber[_e]?"":"px")),!ce.clearCloneStyle&&E===""&&b.indexOf("background")===0&&(Ie[b]="inherit"),(!X||!("set"in X)||(E=X.set(v,E,D))!==void 0)&&(ye?Ie.setProperty(b,E):Ie[b]=E)}else return X&&"get"in X&&(j=X.get(v,!1,D))!==void 0?j:Ie[b]}},css:function(v,b,E,D){var j,G,X,_e=oi(b),ye=ee.test(b);return ye||(b=Gt(_e)),X=P.cssHooks[b]||P.cssHooks[_e],X&&"get"in X&&(j=X.get(v,!0,E)),j===void 0&&(j=Fe(v,b,D)),j==="normal"&&b in nn&&(j=nn[b]),E===""||E?(G=parseFloat(j),E===!0||isFinite(G)?G||0:j):j}}),P.each(["height","width"],function(v,b){P.cssHooks[b]={get:function(E,D,j){if(D)return Jt.test(P.css(E,"display"))&&(!E.getClientRects().length||!E.getBoundingClientRect().width)?be(E,Ln,function(){return Xn(E,b,j)}):Xn(E,b,j)},set:function(E,D,j){var G,X=fe(E),_e=!ce.scrollboxSize()&&X.position==="absolute",ye=_e||j,Ie=ye&&P.css(E,"boxSizing",!1,X)==="border-box",je=j?Pn(E,b,j,Ie,X):0;return Ie&&_e&&(je-=Math.ceil(E["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(X[b])-Pn(E,b,"border",!1,X)-.5)),je&&(G=yn.exec(D))&&(G[3]||"px")!=="px"&&(E.style[b]=D,D=P.css(E,b)),mn(E,D,je)}}}),P.cssHooks.marginLeft=rt(ce.reliableMarginLeft,function(v,b){if(b)return(parseFloat(Fe(v,"marginLeft"))||v.getBoundingClientRect().left-be(v,{marginLeft:0},function(){return v.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(v,b){P.cssHooks[v+b]={expand:function(E){for(var D=0,j={},G=typeof E=="string"?E.split(" "):[E];D<4;D++)j[v+an[D]+b]=G[D]||G[D-2]||G[0];return j}},v!=="margin"&&(P.cssHooks[v+b].set=mn)}),P.fn.extend({css:function(v,b){return Bn(this,function(E,D,j){var G,X,_e={},ye=0;if(Array.isArray(D)){for(G=fe(E),X=D.length;ye<X;ye++)_e[D[ye]]=P.css(E,D[ye],!1,G);return _e}return j!==void 0?P.style(E,D,j):P.css(E,D)},v,b,arguments.length>1)}});function Wn(v,b,E,D,j){return new Wn.prototype.init(v,b,E,D,j)}P.Tween=Wn,Wn.prototype={constructor:Wn,init:function(v,b,E,D,j,G){this.elem=v,this.prop=E,this.easing=j||P.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=D,this.unit=G||(P.cssNumber[E]?"":"px")},cur:function(){var v=Wn.propHooks[this.prop];return v&&v.get?v.get(this):Wn.propHooks._default.get(this)},run:function(v){var b,E=Wn.propHooks[this.prop];return this.options.duration?this.pos=b=P.easing[this.easing](v,this.options.duration*v,0,1,this.options.duration):this.pos=b=v,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),E&&E.set?E.set(this):Wn.propHooks._default.set(this),this}},Wn.prototype.init.prototype=Wn.prototype,Wn.propHooks={_default:{get:function(v){var b;return v.elem.nodeType!==1||v.elem[v.prop]!=null&&v.elem.style[v.prop]==null?v.elem[v.prop]:(b=P.css(v.elem,v.prop,""),!b||b==="auto"?0:b)},set:function(v){P.fx.step[v.prop]?P.fx.step[v.prop](v):v.elem.nodeType===1&&(P.cssHooks[v.prop]||v.elem.style[Gt(v.prop)]!=null)?P.style(v.elem,v.prop,v.now+v.unit):v.elem[v.prop]=v.now}}},Wn.propHooks.scrollTop=Wn.propHooks.scrollLeft={set:function(v){v.elem.nodeType&&v.elem.parentNode&&(v.elem[v.prop]=v.now)}},P.easing={linear:function(v){return v},swing:function(v){return .5-Math.cos(v*Math.PI)/2},_default:"swing"},P.fx=Wn.prototype.init,P.fx.step={};var Kn,Fi,Bo=/^(?:toggle|show|hide)$/,oa=/queueHooks$/;function Hn(){Fi&&(oe.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Hn):t.setTimeout(Hn,P.fx.interval),P.fx.tick())}function $a(){return t.setTimeout(function(){Kn=void 0}),Kn=Date.now()}function No(v,b){var E,D=0,j={height:v};for(b=b?1:0;D<4;D+=2-b)E=an[D],j["margin"+E]=j["padding"+E]=v;return b&&(j.opacity=j.width=v),j}function Ol(v,b,E){for(var D,j=(ts.tweeners[b]||[]).concat(ts.tweeners["*"]),G=0,X=j.length;G<X;G++)if(D=j[G].call(E,b,v))return D}function Pu(v,b,E){var D,j,G,X,_e,ye,Ie,je,at="width"in b||"height"in b,Be=this,Xe={},Wt=v.style,un=v.nodeType&&ze(v),$t=Dt.get(v,"fxshow");E.queue||(X=P._queueHooks(v,"fx"),X.unqueued==null&&(X.unqueued=0,_e=X.empty.fire,X.empty.fire=function(){X.unqueued||_e()}),X.unqueued++,Be.always(function(){Be.always(function(){X.unqueued--,P.queue(v,"fx").length||X.empty.fire()})}));for(D in b)if(j=b[D],Bo.test(j)){if(delete b[D],G=G||j==="toggle",j===(un?"hide":"show"))if(j==="show"&&$t&&$t[D]!==void 0)un=!0;else continue;Xe[D]=$t&&$t[D]||P.style(v,D)}if(ye=!P.isEmptyObject(b),!(!ye&&P.isEmptyObject(Xe))){at&&v.nodeType===1&&(E.overflow=[Wt.overflow,Wt.overflowX,Wt.overflowY],Ie=$t&&$t.display,Ie==null&&(Ie=Dt.get(v,"display")),je=P.css(v,"display"),je==="none"&&(Ie?je=Ie:(et([v],!0),Ie=v.style.display||Ie,je=P.css(v,"display"),et([v]))),(je==="inline"||je==="inline-block"&&Ie!=null)&&P.css(v,"float")==="none"&&(ye||(Be.done(function(){Wt.display=Ie}),Ie==null&&(je=Wt.display,Ie=je==="none"?"":je)),Wt.display="inline-block")),E.overflow&&(Wt.overflow="hidden",Be.always(function(){Wt.overflow=E.overflow[0],Wt.overflowX=E.overflow[1],Wt.overflowY=E.overflow[2]})),ye=!1;for(D in Xe)ye||($t?"hidden"in $t&&(un=$t.hidden):$t=Dt.access(v,"fxshow",{display:Ie}),G&&($t.hidden=!un),un&&et([v],!0),Be.done(function(){un||et([v]),Dt.remove(v,"fxshow");for(D in Xe)P.style(v,D,Xe[D])})),ye=Ol(un?$t[D]:0,D,Be),D in $t||($t[D]=ye.start,un&&(ye.end=ye.start,ye.start=0))}}function Vl(v,b){var E,D,j,G,X;for(E in v)if(D=oi(E),j=b[D],G=v[E],Array.isArray(G)&&(j=G[1],G=v[E]=G[0]),E!==D&&(v[D]=G,delete v[E]),X=P.cssHooks[D],X&&"expand"in X){G=X.expand(G),delete v[D];for(E in G)E in v||(v[E]=G[E],b[E]=j)}else b[D]=j}function ts(v,b,E){var D,j,G=0,X=ts.prefilters.length,_e=P.Deferred().always(function(){delete ye.elem}),ye=function(){if(j)return!1;for(var at=Kn||$a(),Be=Math.max(0,Ie.startTime+Ie.duration-at),Xe=Be/Ie.duration||0,Wt=1-Xe,un=0,$t=Ie.tweens.length;un<$t;un++)Ie.tweens[un].run(Wt);return _e.notifyWith(v,[Ie,Wt,Be]),Wt<1&&$t?Be:($t||_e.notifyWith(v,[Ie,1,0]),_e.resolveWith(v,[Ie]),!1)},Ie=_e.promise({elem:v,props:P.extend({},b),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},E),originalProperties:b,originalOptions:E,startTime:Kn||$a(),duration:E.duration,tweens:[],createTween:function(at,Be){var Xe=P.Tween(v,Ie.opts,at,Be,Ie.opts.specialEasing[at]||Ie.opts.easing);return Ie.tweens.push(Xe),Xe},stop:function(at){var Be=0,Xe=at?Ie.tweens.length:0;if(j)return this;for(j=!0;Be<Xe;Be++)Ie.tweens[Be].run(1);return at?(_e.notifyWith(v,[Ie,1,0]),_e.resolveWith(v,[Ie,at])):_e.rejectWith(v,[Ie,at]),this}}),je=Ie.props;for(Vl(je,Ie.opts.specialEasing);G<X;G++)if(D=ts.prefilters[G].call(Ie,v,je,Ie.opts),D)return he(D.stop)&&(P._queueHooks(Ie.elem,Ie.opts.queue).stop=D.stop.bind(D)),D;return P.map(je,Ol,Ie),he(Ie.opts.start)&&Ie.opts.start.call(v,Ie),Ie.progress(Ie.opts.progress).done(Ie.opts.done,Ie.opts.complete).fail(Ie.opts.fail).always(Ie.opts.always),P.fx.timer(P.extend(ye,{elem:v,anim:Ie,queue:Ie.opts.queue})),Ie}P.Animation=P.extend(ts,{tweeners:{"*":[function(v,b){var E=this.createTween(v,b);return lt(E.elem,v,yn.exec(b),E),E}]},tweener:function(v,b){he(v)?(b=v,v=["*"]):v=v.match(Nt);for(var E,D=0,j=v.length;D<j;D++)E=v[D],ts.tweeners[E]=ts.tweeners[E]||[],ts.tweeners[E].unshift(b)},prefilters:[Pu],prefilter:function(v,b){b?ts.prefilters.unshift(v):ts.prefilters.push(v)}}),P.speed=function(v,b,E){var D=v&&typeof v=="object"?P.extend({},v):{complete:E||!E&&b||he(v)&&v,duration:v,easing:E&&b||b&&!he(b)&&b};return P.fx.off?D.duration=0:typeof D.duration!="number"&&(D.duration in P.fx.speeds?D.duration=P.fx.speeds[D.duration]:D.duration=P.fx.speeds._default),(D.queue==null||D.queue===!0)&&(D.queue="fx"),D.old=D.complete,D.complete=function(){he(D.old)&&D.old.call(this),D.queue&&P.dequeue(this,D.queue)},D},P.fn.extend({fadeTo:function(v,b,E,D){return this.filter(ze).css("opacity",0).show().end().animate({opacity:b},v,E,D)},animate:function(v,b,E,D){var j=P.isEmptyObject(v),G=P.speed(b,E,D),X=function(){var _e=ts(this,P.extend({},v),G);(j||Dt.get(this,"finish"))&&_e.stop(!0)};return X.finish=X,j||G.queue===!1?this.each(X):this.queue(G.queue,X)},stop:function(v,b,E){var D=function(j){var G=j.stop;delete j.stop,G(E)};return typeof v!="string"&&(E=b,b=v,v=void 0),b&&this.queue(v||"fx",[]),this.each(function(){var j=!0,G=v!=null&&v+"queueHooks",X=P.timers,_e=Dt.get(this);if(G)_e[G]&&_e[G].stop&&D(_e[G]);else for(G in _e)_e[G]&&_e[G].stop&&oa.test(G)&&D(_e[G]);for(G=X.length;G--;)X[G].elem===this&&(v==null||X[G].queue===v)&&(X[G].anim.stop(E),j=!1,X.splice(G,1));(j||!E)&&P.dequeue(this,v)})},finish:function(v){return v!==!1&&(v=v||"fx"),this.each(function(){var b,E=Dt.get(this),D=E[v+"queue"],j=E[v+"queueHooks"],G=P.timers,X=D?D.length:0;for(E.finish=!0,P.queue(this,v,[]),j&&j.stop&&j.stop.call(this,!0),b=G.length;b--;)G[b].elem===this&&G[b].queue===v&&(G[b].anim.stop(!0),G.splice(b,1));for(b=0;b<X;b++)D[b]&&D[b].finish&&D[b].finish.call(this);delete E.finish})}}),P.each(["toggle","show","hide"],function(v,b){var E=P.fn[b];P.fn[b]=function(D,j,G){return D==null||typeof D=="boolean"?E.apply(this,arguments):this.animate(No(b,!0),D,j,G)}}),P.each({slideDown:No("show"),slideUp:No("hide"),slideToggle:No("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(v,b){P.fn[v]=function(E,D,j){return this.animate(b,E,D,j)}}),P.timers=[],P.fx.tick=function(){var v,b=0,E=P.timers;for(Kn=Date.now();b<E.length;b++)v=E[b],!v()&&E[b]===v&&E.splice(b--,1);E.length||P.fx.stop(),Kn=void 0},P.fx.timer=function(v){P.timers.push(v),P.fx.start()},P.fx.interval=13,P.fx.start=function(){Fi||(Fi=!0,Hn())},P.fx.stop=function(){Fi=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(v,b){return v=P.fx&&P.fx.speeds[v]||v,b=b||"fx",this.queue(b,function(E,D){var j=t.setTimeout(E,v);D.stop=function(){t.clearTimeout(j)}})},function(){var v=oe.createElement("input"),b=oe.createElement("select"),E=b.appendChild(oe.createElement("option"));v.type="checkbox",ce.checkOn=v.value!=="",ce.optSelected=E.selected,v=oe.createElement("input"),v.value="t",v.type="radio",ce.radioValue=v.value==="t"}();var aa,lo=P.expr.attrHandle;P.fn.extend({attr:function(v,b){return Bn(this,P.attr,v,b,arguments.length>1)},removeAttr:function(v){return this.each(function(){P.removeAttr(this,v)})}}),P.extend({attr:function(v,b,E){var D,j,G=v.nodeType;if(!(G===3||G===8||G===2)){if(typeof v.getAttribute>"u")return P.prop(v,b,E);if((G!==1||!P.isXMLDoc(v))&&(j=P.attrHooks[b.toLowerCase()]||(P.expr.match.bool.test(b)?aa:void 0)),E!==void 0){if(E===null){P.removeAttr(v,b);return}return j&&"set"in j&&(D=j.set(v,E,b))!==void 0?D:(v.setAttribute(b,E+""),E)}return j&&"get"in j&&(D=j.get(v,b))!==null?D:(D=P.find.attr(v,b),D==null?void 0:D)}},attrHooks:{type:{set:function(v,b){if(!ce.radioValue&&b==="radio"&&_n(v,"input")){var E=v.value;return v.setAttribute("type",b),E&&(v.value=E),b}}}},removeAttr:function(v,b){var E,D=0,j=b&&b.match(Nt);if(j&&v.nodeType===1)for(;E=j[D++];)v.removeAttribute(E)}}),aa={set:function(v,b,E){return b===!1?P.removeAttr(v,E):v.setAttribute(E,E),E}},P.each(P.expr.match.bool.source.match(/\w+/g),function(v,b){var E=lo[b]||P.find.attr;lo[b]=function(D,j,G){var X,_e,ye=j.toLowerCase();return G||(_e=lo[ye],lo[ye]=X,X=E(D,j,G)!=null?ye:null,lo[ye]=_e),X}});var Iu=/^(?:input|select|textarea|button)$/i,Mu=/^(?:a|area)$/i;P.fn.extend({prop:function(v,b){return Bn(this,P.prop,v,b,arguments.length>1)},removeProp:function(v){return this.each(function(){delete this[P.propFix[v]||v]})}}),P.extend({prop:function(v,b,E){var D,j,G=v.nodeType;if(!(G===3||G===8||G===2))return(G!==1||!P.isXMLDoc(v))&&(b=P.propFix[b]||b,j=P.propHooks[b]),E!==void 0?j&&"set"in j&&(D=j.set(v,E,b))!==void 0?D:v[b]=E:j&&"get"in j&&(D=j.get(v,b))!==null?D:v[b]},propHooks:{tabIndex:{get:function(v){var b=P.find.attr(v,"tabindex");return b?parseInt(b,10):Iu.test(v.nodeName)||Mu.test(v.nodeName)&&v.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.optSelected||(P.propHooks.selected={get:function(v){var b=v.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(v){var b=v.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this});function Gs(v){var b=v.match(Nt)||[];return b.join(" ")}function Ir(v){return v.getAttribute&&v.getAttribute("class")||""}function uo(v){return Array.isArray(v)?v:typeof v=="string"?v.match(Nt)||[]:[]}P.fn.extend({addClass:function(v){var b,E,D,j,G,X;return he(v)?this.each(function(_e){P(this).addClass(v.call(this,_e,Ir(this)))}):(b=uo(v),b.length?this.each(function(){if(D=Ir(this),E=this.nodeType===1&&" "+Gs(D)+" ",E){for(G=0;G<b.length;G++)j=b[G],E.indexOf(" "+j+" ")<0&&(E+=j+" ");X=Gs(E),D!==X&&this.setAttribute("class",X)}}):this)},removeClass:function(v){var b,E,D,j,G,X;return he(v)?this.each(function(_e){P(this).removeClass(v.call(this,_e,Ir(this)))}):arguments.length?(b=uo(v),b.length?this.each(function(){if(D=Ir(this),E=this.nodeType===1&&" "+Gs(D)+" ",E){for(G=0;G<b.length;G++)for(j=b[G];E.indexOf(" "+j+" ")>-1;)E=E.replace(" "+j+" "," ");X=Gs(E),D!==X&&this.setAttribute("class",X)}}):this):this.attr("class","")},toggleClass:function(v,b){var E,D,j,G,X=typeof v,_e=X==="string"||Array.isArray(v);return he(v)?this.each(function(ye){P(this).toggleClass(v.call(this,ye,Ir(this),b),b)}):typeof b=="boolean"&&_e?b?this.addClass(v):this.removeClass(v):(E=uo(v),this.each(function(){if(_e)for(G=P(this),j=0;j<E.length;j++)D=E[j],G.hasClass(D)?G.removeClass(D):G.addClass(D);else(v===void 0||X==="boolean")&&(D=Ir(this),D&&Dt.set(this,"__className__",D),this.setAttribute&&this.setAttribute("class",D||v===!1?"":Dt.get(this,"__className__")||""))}))},hasClass:function(v){var b,E,D=0;for(b=" "+v+" ";E=this[D++];)if(E.nodeType===1&&(" "+Gs(Ir(E))+" ").indexOf(b)>-1)return!0;return!1}});var Fo=/\r/g;P.fn.extend({val:function(v){var b,E,D,j=this[0];return arguments.length?(D=he(v),this.each(function(G){var X;this.nodeType===1&&(D?X=v.call(this,G,P(this).val()):X=v,X==null?X="":typeof X=="number"?X+="":Array.isArray(X)&&(X=P.map(X,function(_e){return _e==null?"":_e+""})),b=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,X,"value")===void 0)&&(this.value=X))})):j?(b=P.valHooks[j.type]||P.valHooks[j.nodeName.toLowerCase()],b&&"get"in b&&(E=b.get(j,"value"))!==void 0?E:(E=j.value,typeof E=="string"?E.replace(Fo,""):E==null?"":E)):void 0}}),P.extend({valHooks:{option:{get:function(v){var b=P.find.attr(v,"value");return b!=null?b:Gs(P.text(v))}},select:{get:function(v){var b,E,D,j=v.options,G=v.selectedIndex,X=v.type==="select-one",_e=X?null:[],ye=X?G+1:j.length;for(G<0?D=ye:D=X?G:0;D<ye;D++)if(E=j[D],(E.selected||D===G)&&!E.disabled&&(!E.parentNode.disabled||!_n(E.parentNode,"optgroup"))){if(b=P(E).val(),X)return b;_e.push(b)}return _e},set:function(v,b){for(var E,D,j=v.options,G=P.makeArray(b),X=j.length;X--;)D=j[X],(D.selected=P.inArray(P.valHooks.option.get(D),G)>-1)&&(E=!0);return E||(v.selectedIndex=-1),G}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(v,b){if(Array.isArray(b))return v.checked=P.inArray(P(v).val(),b)>-1}},ce.checkOn||(P.valHooks[this].get=function(v){return v.getAttribute("value")===null?"on":v.value})}),ce.focusin="onfocusin"in t;var la=/^(?:focusinfocus|focusoutblur)$/,ua=function(v){v.stopPropagation()};P.extend(P.event,{trigger:function(v,b,E,D){var j,G,X,_e,ye,Ie,je,at,Be=[E||oe],Xe=V.call(v,"type")?v.type:v,Wt=V.call(v,"namespace")?v.namespace.split("."):[];if(G=at=X=E=E||oe,!(E.nodeType===3||E.nodeType===8)&&!la.test(Xe+P.event.triggered)&&(Xe.indexOf(".")>-1&&(Wt=Xe.split("."),Xe=Wt.shift(),Wt.sort()),ye=Xe.indexOf(":")<0&&"on"+Xe,v=v[P.expando]?v:new P.Event(Xe,typeof v=="object"&&v),v.isTrigger=D?2:3,v.namespace=Wt.join("."),v.rnamespace=v.namespace?new RegExp("(^|\\.)"+Wt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,v.result=void 0,v.target||(v.target=E),b=b==null?[v]:P.makeArray(b,[v]),je=P.event.special[Xe]||{},!(!D&&je.trigger&&je.trigger.apply(E,b)===!1))){if(!D&&!je.noBubble&&!He(E)){for(_e=je.delegateType||Xe,la.test(_e+Xe)||(G=G.parentNode);G;G=G.parentNode)Be.push(G),X=G;X===(E.ownerDocument||oe)&&Be.push(X.defaultView||X.parentWindow||t)}for(j=0;(G=Be[j++])&&!v.isPropagationStopped();)at=G,v.type=j>1?_e:je.bindType||Xe,Ie=(Dt.get(G,"events")||Object.create(null))[v.type]&&Dt.get(G,"handle"),Ie&&Ie.apply(G,b),Ie=ye&&G[ye],Ie&&Ie.apply&&Ni(G)&&(v.result=Ie.apply(G,b),v.result===!1&&v.preventDefault());return v.type=Xe,!D&&!v.isDefaultPrevented()&&(!je._default||je._default.apply(Be.pop(),b)===!1)&&Ni(E)&&ye&&he(E[Xe])&&!He(E)&&(X=E[ye],X&&(E[ye]=null),P.event.triggered=Xe,v.isPropagationStopped()&&at.addEventListener(Xe,ua),E[Xe](),v.isPropagationStopped()&&at.removeEventListener(Xe,ua),P.event.triggered=void 0,X&&(E[ye]=X)),v.result}},simulate:function(v,b,E){var D=P.extend(new P.Event,E,{type:v,isSimulated:!0});P.event.trigger(D,null,b)}}),P.fn.extend({trigger:function(v,b){return this.each(function(){P.event.trigger(v,b,this)})},triggerHandler:function(v,b){var E=this[0];if(E)return P.event.trigger(v,b,E,!0)}}),ce.focusin||P.each({focus:"focusin",blur:"focusout"},function(v,b){var E=function(D){P.event.simulate(b,D.target,P.event.fix(D))};P.event.special[b]={setup:function(){var D=this.ownerDocument||this.document||this,j=Dt.access(D,b);j||D.addEventListener(v,E,!0),Dt.access(D,b,(j||0)+1)},teardown:function(){var D=this.ownerDocument||this.document||this,j=Dt.access(D,b)-1;j?Dt.access(D,b,j):(D.removeEventListener(v,E,!0),Dt.remove(D,b))}}});var ys=t.location,Xa={guid:Date.now()},Oo=/\?/;P.parseXML=function(v){var b,E;if(!v||typeof v!="string")return null;try{b=new t.DOMParser().parseFromString(v,"text/xml")}catch{}return E=b&&b.getElementsByTagName("parsererror")[0],(!b||E)&&P.error("Invalid XML: "+(E?P.map(E.childNodes,function(D){return D.textContent}).join(`
`):v)),b};var ca=/\[\]$/,pi=/\r?\n/g,ha=/^(?:submit|button|image|reset|file)$/i,zu=/^(?:input|select|textarea|keygen)/i;function Ka(v,b,E,D){var j;if(Array.isArray(b))P.each(b,function(G,X){E||ca.test(v)?D(v,X):Ka(v+"["+(typeof X=="object"&&X!=null?G:"")+"]",X,E,D)});else if(!E&&we(b)==="object")for(j in b)Ka(v+"["+j+"]",b[j],E,D);else D(v,b)}P.param=function(v,b){var E,D=[],j=function(G,X){var _e=he(X)?X():X;D[D.length]=encodeURIComponent(G)+"="+encodeURIComponent(_e==null?"":_e)};if(v==null)return"";if(Array.isArray(v)||v.jquery&&!P.isPlainObject(v))P.each(v,function(){j(this.name,this.value)});else for(E in v)Ka(E,v[E],b,j);return D.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var v=P.prop(this,"elements");return v?P.makeArray(v):this}).filter(function(){var v=this.type;return this.name&&!P(this).is(":disabled")&&zu.test(this.nodeName)&&!ha.test(v)&&(this.checked||!Ft.test(v))}).map(function(v,b){var E=P(this).val();return E==null?null:Array.isArray(E)?P.map(E,function(D){return{name:b.name,value:D.replace(pi,`\r
`)}}):{name:b.name,value:E.replace(pi,`\r
`)}}).get()}});var Ul=/%20/g,Ya=/#.*$/,Du=/([?&])_=[^&]*/,Fc=/^(.*?):[ \t]*([^\r\n]*)$/mg,Oc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jl=/^(?:GET|HEAD)$/,ql=/^\/\//,Qa={},da={},Nn="*/".concat("*"),Ja=oe.createElement("a");Ja.href=ys.href;function Lu(v){return function(b,E){typeof b!="string"&&(E=b,b="*");var D,j=0,G=b.toLowerCase().match(Nt)||[];if(he(E))for(;D=G[j++];)D[0]==="+"?(D=D.slice(1)||"*",(v[D]=v[D]||[]).unshift(E)):(v[D]=v[D]||[]).push(E)}}function Vo(v,b,E,D){var j={},G=v===da;function X(_e){var ye;return j[_e]=!0,P.each(v[_e]||[],function(Ie,je){var at=je(b,E,D);if(typeof at=="string"&&!G&&!j[at])return b.dataTypes.unshift(at),X(at),!1;if(G)return!(ye=at)}),ye}return X(b.dataTypes[0])||!j["*"]&&X("*")}function co(v,b){var E,D,j=P.ajaxSettings.flatOptions||{};for(E in b)b[E]!==void 0&&((j[E]?v:D||(D={}))[E]=b[E]);return D&&P.extend(!0,v,D),v}function Ru(v,b,E){for(var D,j,G,X,_e=v.contents,ye=v.dataTypes;ye[0]==="*";)ye.shift(),D===void 0&&(D=v.mimeType||b.getResponseHeader("Content-Type"));if(D){for(j in _e)if(_e[j]&&_e[j].test(D)){ye.unshift(j);break}}if(ye[0]in E)G=ye[0];else{for(j in E){if(!ye[0]||v.converters[j+" "+ye[0]]){G=j;break}X||(X=j)}G=G||X}if(G)return G!==ye[0]&&ye.unshift(G),E[G]}function Mr(v,b,E,D){var j,G,X,_e,ye,Ie={},je=v.dataTypes.slice();if(je[1])for(X in v.converters)Ie[X.toLowerCase()]=v.converters[X];for(G=je.shift();G;)if(v.responseFields[G]&&(E[v.responseFields[G]]=b),!ye&&D&&v.dataFilter&&(b=v.dataFilter(b,v.dataType)),ye=G,G=je.shift(),G){if(G==="*")G=ye;else if(ye!=="*"&&ye!==G){if(X=Ie[ye+" "+G]||Ie["* "+G],!X){for(j in Ie)if(_e=j.split(" "),_e[1]===G&&(X=Ie[ye+" "+_e[0]]||Ie["* "+_e[0]],X)){X===!0?X=Ie[j]:Ie[j]!==!0&&(G=_e[0],je.unshift(_e[1]));break}}if(X!==!0)if(X&&v.throws)b=X(b);else try{b=X(b)}catch(at){return{state:"parsererror",error:X?at:"No conversion from "+ye+" to "+G}}}}return{state:"success",data:b}}P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ys.href,type:"GET",isLocal:Oc.test(ys.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(v,b){return b?co(co(v,P.ajaxSettings),b):co(P.ajaxSettings,v)},ajaxPrefilter:Lu(Qa),ajaxTransport:Lu(da),ajax:function(v,b){typeof v=="object"&&(b=v,v=void 0),b=b||{};var E,D,j,G,X,_e,ye,Ie,je,at,Be=P.ajaxSetup({},b),Xe=Be.context||Be,Wt=Be.context&&(Xe.nodeType||Xe.jquery)?P(Xe):P.event,un=P.Deferred(),$t=P.Callbacks("once memory"),Di=Be.statusCode||{},xi={},Oi={},Jn="canceled",ln={readyState:0,getResponseHeader:function(Fn){var jt;if(ye){if(!G)for(G={};jt=Fc.exec(j);)G[jt[1].toLowerCase()+" "]=(G[jt[1].toLowerCase()+" "]||[]).concat(jt[2]);jt=G[Fn.toLowerCase()+" "]}return jt==null?null:jt.join(", ")},getAllResponseHeaders:function(){return ye?j:null},setRequestHeader:function(Fn,jt){return ye==null&&(Fn=Oi[Fn.toLowerCase()]=Oi[Fn.toLowerCase()]||Fn,xi[Fn]=jt),this},overrideMimeType:function(Fn){return ye==null&&(Be.mimeType=Fn),this},statusCode:function(Fn){var jt;if(Fn)if(ye)ln.always(Fn[ln.status]);else for(jt in Fn)Di[jt]=[Di[jt],Fn[jt]];return this},abort:function(Fn){var jt=Fn||Jn;return E&&E.abort(jt),An(0,jt),this}};if(un.promise(ln),Be.url=((v||Be.url||ys.href)+"").replace(ql,ys.protocol+"//"),Be.type=b.method||b.type||Be.method||Be.type,Be.dataTypes=(Be.dataType||"*").toLowerCase().match(Nt)||[""],Be.crossDomain==null){_e=oe.createElement("a");try{_e.href=Be.url,_e.href=_e.href,Be.crossDomain=Ja.protocol+"//"+Ja.host!=_e.protocol+"//"+_e.host}catch{Be.crossDomain=!0}}if(Be.data&&Be.processData&&typeof Be.data!="string"&&(Be.data=P.param(Be.data,Be.traditional)),Vo(Qa,Be,b,ln),ye)return ln;Ie=P.event&&Be.global,Ie&&P.active++===0&&P.event.trigger("ajaxStart"),Be.type=Be.type.toUpperCase(),Be.hasContent=!jl.test(Be.type),D=Be.url.replace(Ya,""),Be.hasContent?Be.data&&Be.processData&&(Be.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Be.data=Be.data.replace(Ul,"+")):(at=Be.url.slice(D.length),Be.data&&(Be.processData||typeof Be.data=="string")&&(D+=(Oo.test(D)?"&":"?")+Be.data,delete Be.data),Be.cache===!1&&(D=D.replace(Du,"$1"),at=(Oo.test(D)?"&":"?")+"_="+Xa.guid+++at),Be.url=D+at),Be.ifModified&&(P.lastModified[D]&&ln.setRequestHeader("If-Modified-Since",P.lastModified[D]),P.etag[D]&&ln.setRequestHeader("If-None-Match",P.etag[D])),(Be.data&&Be.hasContent&&Be.contentType!==!1||b.contentType)&&ln.setRequestHeader("Content-Type",Be.contentType),ln.setRequestHeader("Accept",Be.dataTypes[0]&&Be.accepts[Be.dataTypes[0]]?Be.accepts[Be.dataTypes[0]]+(Be.dataTypes[0]!=="*"?", "+Nn+"; q=0.01":""):Be.accepts["*"]);for(je in Be.headers)ln.setRequestHeader(je,Be.headers[je]);if(Be.beforeSend&&(Be.beforeSend.call(Xe,ln,Be)===!1||ye))return ln.abort();if(Jn="abort",$t.add(Be.complete),ln.done(Be.success),ln.fail(Be.error),E=Vo(da,Be,b,ln),!E)An(-1,"No Transport");else{if(ln.readyState=1,Ie&&Wt.trigger("ajaxSend",[ln,Be]),ye)return ln;Be.async&&Be.timeout>0&&(X=t.setTimeout(function(){ln.abort("timeout")},Be.timeout));try{ye=!1,E.send(xi,An)}catch(Fn){if(ye)throw Fn;An(-1,Fn)}}function An(Fn,jt,Mn,Yn){var zn,ns,jr,_r,Hs,zr=jt;ye||(ye=!0,X&&t.clearTimeout(X),E=void 0,j=Yn||"",ln.readyState=Fn>0?4:0,zn=Fn>=200&&Fn<300||Fn===304,Mn&&(_r=Ru(Be,ln,Mn)),!zn&&P.inArray("script",Be.dataTypes)>-1&&P.inArray("json",Be.dataTypes)<0&&(Be.converters["text script"]=function(){}),_r=Mr(Be,_r,ln,zn),zn?(Be.ifModified&&(Hs=ln.getResponseHeader("Last-Modified"),Hs&&(P.lastModified[D]=Hs),Hs=ln.getResponseHeader("etag"),Hs&&(P.etag[D]=Hs)),Fn===204||Be.type==="HEAD"?zr="nocontent":Fn===304?zr="notmodified":(zr=_r.state,ns=_r.data,jr=_r.error,zn=!jr)):(jr=zr,(Fn||!zr)&&(zr="error",Fn<0&&(Fn=0))),ln.status=Fn,ln.statusText=(jt||zr)+"",zn?un.resolveWith(Xe,[ns,zr,ln]):un.rejectWith(Xe,[ln,zr,jr]),ln.statusCode(Di),Di=void 0,Ie&&Wt.trigger(zn?"ajaxSuccess":"ajaxError",[ln,Be,zn?ns:jr]),$t.fireWith(Xe,[ln,zr]),Ie&&(Wt.trigger("ajaxComplete",[ln,Be]),--P.active||P.event.trigger("ajaxStop")))}return ln},getJSON:function(v,b,E){return P.get(v,b,E,"json")},getScript:function(v,b){return P.get(v,void 0,b,"script")}}),P.each(["get","post"],function(v,b){P[b]=function(E,D,j,G){return he(D)&&(G=G||j,j=D,D=void 0),P.ajax(P.extend({url:E,type:b,dataType:G,data:D,success:j},P.isPlainObject(E)&&E))}}),P.ajaxPrefilter(function(v){var b;for(b in v.headers)b.toLowerCase()==="content-type"&&(v.contentType=v.headers[b]||"")}),P._evalUrl=function(v,b,E){return P.ajax({url:v,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(D){P.globalEval(D,b,E)}})},P.fn.extend({wrapAll:function(v){var b;return this[0]&&(he(v)&&(v=v.call(this[0])),b=P(v,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var E=this;E.firstElementChild;)E=E.firstElementChild;return E}).append(this)),this},wrapInner:function(v){return he(v)?this.each(function(b){P(this).wrapInner(v.call(this,b))}):this.each(function(){var b=P(this),E=b.contents();E.length?E.wrapAll(v):b.append(v)})},wrap:function(v){var b=he(v);return this.each(function(E){P(this).wrapAll(b?v.call(this,E):v)})},unwrap:function(v){return this.parent(v).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(v){return!P.expr.pseudos.visible(v)},P.expr.pseudos.visible=function(v){return!!(v.offsetWidth||v.offsetHeight||v.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Gl={0:200,1223:204},Ws=P.ajaxSettings.xhr();ce.cors=!!Ws&&"withCredentials"in Ws,ce.ajax=Ws=!!Ws,P.ajaxTransport(function(v){var b,E;if(ce.cors||Ws&&!v.crossDomain)return{send:function(D,j){var G,X=v.xhr();if(X.open(v.type,v.url,v.async,v.username,v.password),v.xhrFields)for(G in v.xhrFields)X[G]=v.xhrFields[G];v.mimeType&&X.overrideMimeType&&X.overrideMimeType(v.mimeType),!v.crossDomain&&!D["X-Requested-With"]&&(D["X-Requested-With"]="XMLHttpRequest");for(G in D)X.setRequestHeader(G,D[G]);b=function(_e){return function(){b&&(b=E=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,_e==="abort"?X.abort():_e==="error"?typeof X.status!="number"?j(0,"error"):j(X.status,X.statusText):j(Gl[X.status]||X.status,X.statusText,(X.responseType||"text")!=="text"||typeof X.responseText!="string"?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}},X.onload=b(),E=X.onerror=X.ontimeout=b("error"),X.onabort!==void 0?X.onabort=E:X.onreadystatechange=function(){X.readyState===4&&t.setTimeout(function(){b&&E()})},b=b("abort");try{X.send(v.hasContent&&v.data||null)}catch(_e){if(b)throw _e}},abort:function(){b&&b()}}}),P.ajaxPrefilter(function(v){v.crossDomain&&(v.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(v){return P.globalEval(v),v}}}),P.ajaxPrefilter("script",function(v){v.cache===void 0&&(v.cache=!1),v.crossDomain&&(v.type="GET")}),P.ajaxTransport("script",function(v){if(v.crossDomain||v.scriptAttrs){var b,E;return{send:function(D,j){b=P("<script>").attr(v.scriptAttrs||{}).prop({charset:v.scriptCharset,src:v.url}).on("load error",E=function(G){b.remove(),E=null,G&&j(G.type==="error"?404:200,G.type)}),oe.head.appendChild(b[0])},abort:function(){E&&E()}}}});var pa=[],fa=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var v=pa.pop()||P.expando+"_"+Xa.guid++;return this[v]=!0,v}}),P.ajaxPrefilter("json jsonp",function(v,b,E){var D,j,G,X=v.jsonp!==!1&&(fa.test(v.url)?"url":typeof v.data=="string"&&(v.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&fa.test(v.data)&&"data");if(X||v.dataTypes[0]==="jsonp")return D=v.jsonpCallback=he(v.jsonpCallback)?v.jsonpCallback():v.jsonpCallback,X?v[X]=v[X].replace(fa,"$1"+D):v.jsonp!==!1&&(v.url+=(Oo.test(v.url)?"&":"?")+v.jsonp+"="+D),v.converters["script json"]=function(){return G||P.error(D+" was not called"),G[0]},v.dataTypes[0]="json",j=t[D],t[D]=function(){G=arguments},E.always(function(){j===void 0?P(t).removeProp(D):t[D]=j,v[D]&&(v.jsonpCallback=b.jsonpCallback,pa.push(D)),G&&he(j)&&j(G[0]),G=j=void 0}),"script"}),ce.createHTMLDocument=function(){var v=oe.implementation.createHTMLDocument("").body;return v.innerHTML="<form></form><form></form>",v.childNodes.length===2}(),P.parseHTML=function(v,b,E){if(typeof v!="string")return[];typeof b=="boolean"&&(E=b,b=!1);var D,j,G;return b||(ce.createHTMLDocument?(b=oe.implementation.createHTMLDocument(""),D=b.createElement("base"),D.href=oe.location.href,b.head.appendChild(D)):b=oe),j=Ti.exec(v),G=!E&&[],j?[b.createElement(j[1])]:(j=Zn([v],b,G),G&&G.length&&P(G).remove(),P.merge([],j.childNodes))},P.fn.load=function(v,b,E){var D,j,G,X=this,_e=v.indexOf(" ");return _e>-1&&(D=Gs(v.slice(_e)),v=v.slice(0,_e)),he(b)?(E=b,b=void 0):b&&typeof b=="object"&&(j="POST"),X.length>0&&P.ajax({url:v,type:j||"GET",dataType:"html",data:b}).done(function(ye){G=arguments,X.html(D?P("<div>").append(P.parseHTML(ye)).find(D):ye)}).always(E&&function(ye,Ie){X.each(function(){E.apply(this,G||[ye.responseText,Ie,ye])})}),this},P.expr.pseudos.animated=function(v){return P.grep(P.timers,function(b){return v===b.elem}).length},P.offset={setOffset:function(v,b,E){var D,j,G,X,_e,ye,Ie,je=P.css(v,"position"),at=P(v),Be={};je==="static"&&(v.style.position="relative"),_e=at.offset(),G=P.css(v,"top"),ye=P.css(v,"left"),Ie=(je==="absolute"||je==="fixed")&&(G+ye).indexOf("auto")>-1,Ie?(D=at.position(),X=D.top,j=D.left):(X=parseFloat(G)||0,j=parseFloat(ye)||0),he(b)&&(b=b.call(v,E,P.extend({},_e))),b.top!=null&&(Be.top=b.top-_e.top+X),b.left!=null&&(Be.left=b.left-_e.left+j),"using"in b?b.using.call(v,Be):at.css(Be)}},P.fn.extend({offset:function(v){if(arguments.length)return v===void 0?this:this.each(function(j){P.offset.setOffset(this,v,j)});var b,E,D=this[0];if(!!D)return D.getClientRects().length?(b=D.getBoundingClientRect(),E=D.ownerDocument.defaultView,{top:b.top+E.pageYOffset,left:b.left+E.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var v,b,E,D=this[0],j={top:0,left:0};if(P.css(D,"position")==="fixed")b=D.getBoundingClientRect();else{for(b=this.offset(),E=D.ownerDocument,v=D.offsetParent||E.documentElement;v&&(v===E.body||v===E.documentElement)&&P.css(v,"position")==="static";)v=v.parentNode;v&&v!==D&&v.nodeType===1&&(j=P(v).offset(),j.top+=P.css(v,"borderTopWidth",!0),j.left+=P.css(v,"borderLeftWidth",!0))}return{top:b.top-j.top-P.css(D,"marginTop",!0),left:b.left-j.left-P.css(D,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var v=this.offsetParent;v&&P.css(v,"position")==="static";)v=v.offsetParent;return v||dn})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(v,b){var E=b==="pageYOffset";P.fn[v]=function(D){return Bn(this,function(j,G,X){var _e;if(He(j)?_e=j:j.nodeType===9&&(_e=j.defaultView),X===void 0)return _e?_e[b]:j[G];_e?_e.scrollTo(E?_e.pageXOffset:X,E?X:_e.pageYOffset):j[G]=X},v,D,arguments.length)}}),P.each(["top","left"],function(v,b){P.cssHooks[b]=rt(ce.pixelPosition,function(E,D){if(D)return D=Fe(E,b),J.test(D)?P(E).position()[b]+"px":D})}),P.each({Height:"height",Width:"width"},function(v,b){P.each({padding:"inner"+v,content:b,"":"outer"+v},function(E,D){P.fn[D]=function(j,G){var X=arguments.length&&(E||typeof j!="boolean"),_e=E||(j===!0||G===!0?"margin":"border");return Bn(this,function(ye,Ie,je){var at;return He(ye)?D.indexOf("outer")===0?ye["inner"+v]:ye.document.documentElement["client"+v]:ye.nodeType===9?(at=ye.documentElement,Math.max(ye.body["scroll"+v],at["scroll"+v],ye.body["offset"+v],at["offset"+v],at["client"+v])):je===void 0?P.css(ye,Ie,_e):P.style(ye,Ie,je,_e)},b,X?j:void 0,X)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(v,b){P.fn[b]=function(E){return this.on(b,E)}}),P.fn.extend({bind:function(v,b,E){return this.on(v,null,b,E)},unbind:function(v,b){return this.off(v,null,b)},delegate:function(v,b,E,D){return this.on(b,v,E,D)},undelegate:function(v,b,E){return arguments.length===1?this.off(v,"**"):this.off(b,v||"**",E)},hover:function(v,b){return this.mouseenter(v).mouseleave(b||v)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(v,b){P.fn[b]=function(E,D){return arguments.length>0?this.on(b,null,E,D):this.trigger(b)}});var Wl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(v,b){var E,D,j;if(typeof b=="string"&&(E=v[b],b=v,v=E),!!he(v))return D=p.call(arguments,2),j=function(){return v.apply(b||this,D.concat(p.call(arguments)))},j.guid=v.guid=v.guid||P.guid++,j},P.holdReady=function(v){v?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=_n,P.isFunction=he,P.isWindow=He,P.camelCase=oi,P.type=we,P.now=Date.now,P.isNumeric=function(v){var b=P.type(v);return(b==="number"||b==="string")&&!isNaN(v-parseFloat(v))},P.trim=function(v){return v==null?"":(v+"").replace(Wl,"$1")};var el=t.jQuery,Hl=t.$;return P.noConflict=function(v){return t.$===P&&(t.$=Hl),v&&t.jQuery===P&&(t.jQuery=el),P},typeof s>"u"&&(t.jQuery=t.$=P),P})})(zT);const ds=zT.exports;var NR={exports:{}};(function(e){(function(t,s){var u=s(t,t.document,Date);t.lazySizes=u,e.exports&&(e.exports=u)})(typeof window<"u"?window:{},function(s,u,h){var p,y;if(function(){var qe,st={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};y=s.lazySizesConfig||s.lazysizesConfig||{};for(qe in st)qe in y||(y[qe]=st[qe])}(),!u||!u.getElementsByClassName)return{init:function(){},cfg:y,noSupport:!0};var a=u.documentElement,S=s.HTMLPictureElement,I="addEventListener",B="getAttribute",V=s[I].bind(s),z=s.setTimeout,ie=s.requestAnimationFrame||z,ce=s.requestIdleCallback,he=/^picture$/i,He=["load","error","lazyincluded","_lazyloaded"],oe={},ae=Array.prototype.forEach,re=function(qe,st){return oe[st]||(oe[st]=new RegExp("(\\s|^)"+st+"(\\s|$)")),oe[st].test(qe[B]("class")||"")&&oe[st]},we=function(qe,st){re(qe,st)||qe.setAttribute("class",(qe[B]("class")||"").trim()+" "+st)},Ue=function(qe,st){var dt;(dt=re(qe,st))&&qe.setAttribute("class",(qe[B]("class")||"").replace(dt," "))},P=function(qe,st,dt){var Nt=dt?I:"removeEventListener";dt&&P(qe,st),He.forEach(function(sn){qe[Nt](sn,st)})},ct=function(qe,st,dt,Nt,sn){var on=u.createEvent("Event");return dt||(dt={}),dt.instance=p,on.initEvent(st,!Nt,!sn),on.detail=dt,qe.dispatchEvent(on),on},ht=function(qe,st){var dt;!S&&(dt=s.picturefill||y.pf)?(st&&st.src&&!qe[B]("srcset")&&qe.setAttribute("srcset",st.src),dt({reevaluate:!0,elements:[qe]})):st&&st.src&&(qe.src=st.src)},qt=function(qe,st){return(getComputedStyle(qe,null)||{})[st]},zt=function(qe,st,dt){for(dt=dt||qe.offsetWidth;dt<y.minSize&&st&&!qe._lazysizesWidth;)dt=st.offsetWidth,st=st.parentNode;return dt},Un=function(){var qe,st,dt=[],Nt=[],sn=dt,on=function(){var cn=sn;for(sn=dt.length?Nt:dt,qe=!0,st=!1;cn.length;)cn.shift()();qe=!1},Tn=function(cn,gn){qe&&!gn?cn.apply(this,arguments):(sn.push(cn),st||(st=!0,(u.hidden?z:ie)(on)))};return Tn._lsFlush=on,Tn}(),_n=function(qe,st){return st?function(){Un(qe)}:function(){var dt=this,Nt=arguments;Un(function(){qe.apply(dt,Nt)})}},Ti=function(qe){var st,dt=0,Nt=y.throttleDelay,sn=y.ricTimeout,on=function(){st=!1,dt=h.now(),qe()},Tn=ce&&sn>49?function(){ce(on,{timeout:sn}),sn!==y.ricTimeout&&(sn=y.ricTimeout)}:_n(function(){z(on)},!0);return function(cn){var gn;(cn=cn===!0)&&(sn=33),!st&&(st=!0,gn=Nt-(h.now()-dt),gn<0&&(gn=0),cn||gn<9?Tn():z(Tn,gn))}},Dn=function(qe){var st,dt,Nt=99,sn=function(){st=null,qe()},on=function(){var Tn=h.now()-dt;Tn<Nt?z(on,Nt-Tn):(ce||sn)(sn)};return function(){dt=h.now(),st||(st=z(on,Nt))}},si=function(){var qe,st,dt,Nt,sn,on,Tn,cn,gn,jn,ci,Bn,kr=/^img$/i,ms=/^iframe$/i,Pr="onscroll"in s&&!/(gle|ing)bot/.test(navigator.userAgent),oi=0,Ni=0,hi=0,Dt=-1,mi=function(et){hi--,(!et||hi<0||!et.target)&&(hi=0)},it=function(et){return Bn==null&&(Bn=qt(u.body,"visibility")=="hidden"),Bn||!(qt(et.parentNode,"visibility")=="hidden"&&qt(et,"visibility")=="hidden")},Ye=function(et,Ft){var hn,Sn=et,Qt=it(et);for(cn-=Ft,ci+=Ft,gn-=Ft,jn+=Ft;Qt&&(Sn=Sn.offsetParent)&&Sn!=u.body&&Sn!=a;)Qt=(qt(Sn,"opacity")||1)>0,Qt&&qt(Sn,"overflow")!="visible"&&(hn=Sn.getBoundingClientRect(),Qt=jn>hn.left&&gn<hn.right&&ci>hn.top-1&&cn<hn.bottom+1);return Qt},pt=function(){var et,Ft,hn,Sn,Qt,Ze,Vt,Ot,Zn,Ai,Rt,_i,vn=p.elements;if((Nt=y.loadMode)&&hi<8&&(et=vn.length)){for(Ft=0,Dt++;Ft<et;Ft++)if(!(!vn[Ft]||vn[Ft]._lazyRace)){if(!Pr||p.prematureUnveil&&p.prematureUnveil(vn[Ft])){ze(vn[Ft]);continue}if((!(Ot=vn[Ft][B]("data-expand"))||!(Ze=Ot*1))&&(Ze=Ni),Ai||(Ai=!y.expand||y.expand<1?a.clientHeight>500&&a.clientWidth>500?500:370:y.expand,p._defEx=Ai,Rt=Ai*y.expFactor,_i=y.hFac,Bn=null,Ni<Rt&&hi<1&&Dt>2&&Nt>2&&!u.hidden?(Ni=Rt,Dt=0):Nt>1&&Dt>1&&hi<6?Ni=Ai:Ni=oi),Zn!==Ze&&(on=innerWidth+Ze*_i,Tn=innerHeight+Ze,Vt=Ze*-1,Zn=Ze),hn=vn[Ft].getBoundingClientRect(),(ci=hn.bottom)>=Vt&&(cn=hn.top)<=Tn&&(jn=hn.right)>=Vt*_i&&(gn=hn.left)<=on&&(ci||jn||gn||cn)&&(y.loadHidden||it(vn[Ft]))&&(st&&hi<3&&!Ot&&(Nt<3||Dt<4)||Ye(vn[Ft],Ze))){if(ze(vn[Ft]),Qt=!0,hi>9)break}else!Qt&&st&&!Sn&&hi<4&&Dt<4&&Nt>2&&(qe[0]||y.preloadAfterLoad)&&(qe[0]||!Ot&&(ci||jn||gn||cn||vn[Ft][B](y.sizesAttr)!="auto"))&&(Sn=qe[0]||vn[Ft])}Sn&&!Qt&&ze(Sn)}},Pt=Ti(pt),Yt=function(et){var Ft=et.target;if(Ft._lazyCache){delete Ft._lazyCache;return}mi(et),we(Ft,y.loadedClass),Ue(Ft,y.loadingClass),P(Ft,an),ct(Ft,"lazyloaded")},yn=_n(Yt),an=function(et){yn({target:et.target})},dn=function(et,Ft){var hn=et.getAttribute("data-load-mode")||y.iframeLoadMode;hn==0?et.contentWindow.location.replace(Ft):hn==1&&(et.src=Ft)},bn=function(et){var Ft,hn=et[B](y.srcsetAttr);(Ft=y.customMedia[et[B]("data-media")||et[B]("media")])&&et.setAttribute("media",Ft),hn&&et.setAttribute("srcset",hn)},kn=_n(function(et,Ft,hn,Sn,Qt){var Ze,Vt,Ot,Zn,Ai,Rt;(Ai=ct(et,"lazybeforeunveil",Ft)).defaultPrevented||(Sn&&(hn?we(et,y.autosizesClass):et.setAttribute("sizes",Sn)),Vt=et[B](y.srcsetAttr),Ze=et[B](y.srcAttr),Qt&&(Ot=et.parentNode,Zn=Ot&&he.test(Ot.nodeName||"")),Rt=Ft.firesLoad||"src"in et&&(Vt||Ze||Zn),Ai={target:et},we(et,y.loadingClass),Rt&&(clearTimeout(dt),dt=z(mi,2500),P(et,an,!0)),Zn&&ae.call(Ot.getElementsByTagName("source"),bn),Vt?et.setAttribute("srcset",Vt):Ze&&!Zn&&(ms.test(et.nodeName)?dn(et,Ze):et.src=Ze),Qt&&(Vt||Zn)&&ht(et,{src:Ze})),et._lazyRace&&delete et._lazyRace,Ue(et,y.lazyClass),Un(function(){var _i=et.complete&&et.naturalWidth>1;(!Rt||_i)&&(_i&&we(et,y.fastLoadedClass),Yt(Ai),et._lazyCache=!0,z(function(){"_lazyCache"in et&&delete et._lazyCache},9)),et.loading=="lazy"&&hi--},!0)}),ze=function(et){if(!et._lazyRace){var Ft,hn=kr.test(et.nodeName),Sn=hn&&(et[B](y.sizesAttr)||et[B]("sizes")),Qt=Sn=="auto";(Qt||!st)&&hn&&(et[B]("src")||et.srcset)&&!et.complete&&!re(et,y.errorClass)&&re(et,y.lazyClass)||(Ft=ct(et,"lazyunveilread").detail,Qt&&St.updateElem(et,!0,et.offsetWidth),et._lazyRace=!0,hi++,kn(et,Ft,Qt,Sn,hn))}},lt=Dn(function(){y.loadMode=3,Pt()}),Hi=function(){y.loadMode==3&&(y.loadMode=2),lt()},di=function(){if(!st){if(h.now()-sn<999){z(di,999);return}st=!0,y.loadMode=3,Pt(),V("scroll",Hi,!0)}};return{_:function(){sn=h.now(),p.elements=u.getElementsByClassName(y.lazyClass),qe=u.getElementsByClassName(y.lazyClass+" "+y.preloadClass),V("scroll",Pt,!0),V("resize",Pt,!0),V("pageshow",function(et){if(et.persisted){var Ft=u.querySelectorAll("."+y.loadingClass);Ft.length&&Ft.forEach&&ie(function(){Ft.forEach(function(hn){hn.complete&&ze(hn)})})}}),s.MutationObserver?new MutationObserver(Pt).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[I]("DOMNodeInserted",Pt,!0),a[I]("DOMAttrModified",Pt,!0),setInterval(Pt,999)),V("hashchange",Pt,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(et){u[I](et,Pt,!0)}),/d$|^c/.test(u.readyState)?di():(V("load",di),u[I]("DOMContentLoaded",Pt),z(di,2e4)),p.elements.length?(pt(),Un._lsFlush()):Pt()},checkElems:Pt,unveil:ze,_aLSL:Hi}}(),St=function(){var qe,st=_n(function(on,Tn,cn,gn){var jn,ci,Bn;if(on._lazysizesWidth=gn,gn+="px",on.setAttribute("sizes",gn),he.test(Tn.nodeName||""))for(jn=Tn.getElementsByTagName("source"),ci=0,Bn=jn.length;ci<Bn;ci++)jn[ci].setAttribute("sizes",gn);cn.detail.dataAttr||ht(on,cn.detail)}),dt=function(on,Tn,cn){var gn,jn=on.parentNode;jn&&(cn=zt(on,jn,cn),gn=ct(on,"lazybeforesizes",{width:cn,dataAttr:!!Tn}),gn.defaultPrevented||(cn=gn.detail.width,cn&&cn!==on._lazysizesWidth&&st(on,jn,gn,cn)))},Nt=function(){var on,Tn=qe.length;if(Tn)for(on=0;on<Tn;on++)dt(qe[on])},sn=Dn(Nt);return{_:function(){qe=u.getElementsByClassName(y.autosizesClass),V("resize",sn)},checkElems:sn,updateElem:dt}}(),ui=function(){!ui.i&&u.getElementsByClassName&&(ui.i=!0,St._(),si._())};return z(function(){y.init&&ui()}),p={cfg:y,autoSizer:St,loader:si,init:ui,uP:ht,aC:we,rC:Ue,hC:re,fire:ct,gW:zt,rAF:Un},p})})(NR);(function(e,t,s,u){function h(p,y){this.settings=null,this.options=e.extend({},h.Defaults,y),this.$element=e(p),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(a,S){this._handlers[S]=e.proxy(this[S],this)},this)),e.each(h.Plugins,e.proxy(function(a,S){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new S(this)},this)),e.each(h.Workers,e.proxy(function(a,S){this._pipe.push({filter:S.filter,run:e.proxy(S.run,this)})},this)),this.setup(),this.initialize()}h.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},h.Width={Default:"default",Inner:"inner",Outer:"outer"},h.Type={Event:"event",State:"state"},h.Plugins={},h.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(p){p.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(p){var y=this.settings.margin||"",a=!this.settings.autoWidth,S=this.settings.rtl,I={width:"auto","margin-left":S?y:"","margin-right":S?"":y};!a&&this.$stage.children().css(I),p.css=I}},{filter:["width","items","settings"],run:function(p){var y=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,a=null,S=this._items.length,I=!this.settings.autoWidth,B=[];for(p.items={merge:!1,width:y};S--;)a=this._mergers[S],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,p.items.merge=a>1||p.items.merge,B[S]=I?y*a:this._items[S].width();this._widths=B}},{filter:["items","settings"],run:function(){var p=[],y=this._items,a=this.settings,S=Math.max(a.items*2,4),I=Math.ceil(y.length/2)*2,B=a.loop&&y.length?a.rewind?S:Math.max(S,I):0,V="",z="";for(B/=2;B>0;)p.push(this.normalize(p.length/2,!0)),V=V+y[p[p.length-1]][0].outerHTML,p.push(this.normalize(y.length-1-(p.length-1)/2,!0)),z=y[p[p.length-1]][0].outerHTML+z,B-=1;this._clones=p,e(V).addClass("cloned").appendTo(this.$stage),e(z).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var p=this.settings.rtl?1:-1,y=this._clones.length+this._items.length,a=-1,S=0,I=0,B=[];++a<y;)S=B[a-1]||0,I=this._widths[this.relative(a)]+this.settings.margin,B.push(S+I*p);this._coordinates=B}},{filter:["width","items","settings"],run:function(){var p=this.settings.stagePadding,y=this._coordinates,a={width:Math.ceil(Math.abs(y[y.length-1]))+p*2,"padding-left":p||"","padding-right":p||""};this.$stage.css(a)}},{filter:["width","items","settings"],run:function(p){var y=this._coordinates.length,a=!this.settings.autoWidth,S=this.$stage.children();if(a&&p.items.merge)for(;y--;)p.css.width=this._widths[this.relative(y)],S.eq(y).css(p.css);else a&&(p.css.width=p.items.width,S.css(p.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(p){p.current=p.current?this.$stage.children().index(p.current):0,p.current=Math.max(this.minimum(),Math.min(this.maximum(),p.current)),this.reset(p.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var p=this.settings.rtl?1:-1,y=this.settings.stagePadding*2,a=this.coordinates(this.current())+y,S=a+this.width()*p,I,B,V=[],z,ie;for(z=0,ie=this._coordinates.length;z<ie;z++)I=this._coordinates[z-1]||0,B=Math.abs(this._coordinates[z])+y*p,(this.op(I,"<=",a)&&this.op(I,">",S)||this.op(B,"<",a)&&this.op(B,">",S))&&V.push(z);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+V.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],h.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),!this.$stage.length&&(this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(e("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},h.prototype.initializeItems=function(){var p=this.$element.find(".owl-item");if(p.length){this._items=p.get().map(function(y){return e(y)}),this._mergers=this._items.map(function(){return 1}),this.refresh();return}this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},h.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var p,y,a;p=this.$element.find("img"),y=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:u,a=this.$element.children(y).width(),p.length&&a<=0&&this.preloadAutoWidthImages(p)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},h.prototype.isVisible=function(){return this.settings.checkVisibility?this.$element.is(":visible"):!0},h.prototype.setup=function(){var p=this.viewport(),y=this.options.responsive,a=-1,S=null;y?(e.each(y,function(I){I<=p&&I>a&&(a=Number(I))}),S=e.extend({},this.options,y[a]),typeof S.stagePadding=="function"&&(S.stagePadding=S.stagePadding()),delete S.responsive,S.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+a))):S=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:S}}),this._breakpoint=a,this.settings=S,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},h.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},h.prototype.prepare=function(p){var y=this.trigger("prepare",{content:p});return y.data||(y.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(p)),this.trigger("prepared",{content:y.data}),y.data},h.prototype.update=function(){for(var p=0,y=this._pipe.length,a=e.proxy(function(I){return this[I]},this._invalidated),S={};p<y;)(this._invalidated.all||e.grep(this._pipe[p].filter,a).length>0)&&this._pipe[p].run(S),p++;this._invalidated={},!this.is("valid")&&this.enter("valid")},h.prototype.width=function(p){switch(p=p||h.Width.Default,p){case h.Width.Inner:case h.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}},h.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},h.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},h.prototype.onResize=function(){if(!this._items.length||this._width===this.$element.width()||!this.isVisible())return!1;if(this.enter("resizing"),this.trigger("resize").isDefaultPrevented())return this.leave("resizing"),!1;this.invalidate("width"),this.refresh(),this.leave("resizing"),this.trigger("resized")},h.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},h.prototype.onDragStart=function(p){var y=null;p.which!==3&&(e.support.transform?(y=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),y={x:y[y.length===16?12:4],y:y[y.length===16?13:5]}):(y=this.$stage.position(),y={x:this.settings.rtl?y.left+this.$stage.width()-this.width()+this.settings.margin:y.left,y:y.top}),this.is("animating")&&(e.support.transform?this.animate(y.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,p.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=e(p.target),this._drag.stage.start=y,this._drag.stage.current=y,this._drag.pointer=this.pointer(p),e(s).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(s).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(a){var S=this.difference(this._drag.pointer,this.pointer(a));e(s).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),!(Math.abs(S.x)<Math.abs(S.y)&&this.is("valid"))&&(a.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},h.prototype.onDragMove=function(p){var y=null,a=null,S=null,I=this.difference(this._drag.pointer,this.pointer(p)),B=this.difference(this._drag.stage.start,I);!this.is("dragging")||(p.preventDefault(),this.settings.loop?(y=this.coordinates(this.minimum()),a=this.coordinates(this.maximum()+1)-y,B.x=((B.x-y)%a+a)%a+y):(y=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),a=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),S=this.settings.pullDrag?-1*I.x/5:0,B.x=Math.max(Math.min(B.x,y+S),a+S)),this._drag.stage.current=B,this.animate(B.x))},h.prototype.onDragEnd=function(p){var y=this.difference(this._drag.pointer,this.pointer(p)),a=this._drag.stage.current,S=y.x>0^this.settings.rtl?"left":"right";e(s).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(y.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(a.x,y.x!==0?S:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=S,(Math.abs(y.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},h.prototype.closest=function(p,y){var a=-1,S=30,I=this.width(),B=this.coordinates();return this.settings.freeDrag||e.each(B,e.proxy(function(V,z){return y==="left"&&p>z-S&&p<z+S?a=V:y==="right"&&p>z-I-S&&p<z-I+S?a=V+1:this.op(p,"<",z)&&this.op(p,">",B[V+1]!==u?B[V+1]:z-I)&&(a=y==="left"?V+1:V),a===-1},this)),this.settings.loop||(this.op(p,">",B[this.minimum()])?a=p=this.minimum():this.op(p,"<",B[this.maximum()])&&(a=p=this.maximum())),a},h.prototype.animate=function(p){var y=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),y&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+p+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):y?this.$stage.animate({left:p+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:p+"px"})},h.prototype.is=function(p){return this._states.current[p]&&this._states.current[p]>0},h.prototype.current=function(p){if(p===u)return this._current;if(this._items.length===0)return u;if(p=this.normalize(p),this._current!==p){var y=this.trigger("change",{property:{name:"position",value:p}});y.data!==u&&(p=this.normalize(y.data)),this._current=p,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},h.prototype.invalidate=function(p){return e.type(p)==="string"&&(this._invalidated[p]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(y,a){return a})},h.prototype.reset=function(p){p=this.normalize(p),p!==u&&(this._speed=0,this._current=p,this.suppress(["translate","translated"]),this.animate(this.coordinates(p)),this.release(["translate","translated"]))},h.prototype.normalize=function(p,y){var a=this._items.length,S=y?0:this._clones.length;return!this.isNumeric(p)||a<1?p=u:(p<0||p>=a+S)&&(p=((p-S/2)%a+a)%a+S/2),p},h.prototype.relative=function(p){return p-=this._clones.length/2,this.normalize(p,!0)},h.prototype.maximum=function(p){var y=this.settings,a=this._coordinates.length,S,I,B;if(y.loop)a=this._clones.length/2+this._items.length-1;else if(y.autoWidth||y.merge){if(S=this._items.length,S)for(I=this._items[--S].width(),B=this.$element.width();S--&&(I+=this._items[S].width()+this.settings.margin,!(I>B)););a=S+1}else y.center?a=this._items.length-1:a=this._items.length-y.items;return p&&(a-=this._clones.length/2),Math.max(a,0)},h.prototype.minimum=function(p){return p?0:this._clones.length/2},h.prototype.items=function(p){return p===u?this._items.slice():(p=this.normalize(p,!0),this._items[p])},h.prototype.mergers=function(p){return p===u?this._mergers.slice():(p=this.normalize(p,!0),this._mergers[p])},h.prototype.clones=function(p){var y=this._clones.length/2,a=y+this._items.length,S=function(I){return I%2===0?a+I/2:y-(I+1)/2};return p===u?e.map(this._clones,function(I,B){return S(B)}):e.map(this._clones,function(I,B){return I===p?S(B):null})},h.prototype.speed=function(p){return p!==u&&(this._speed=p),this._speed},h.prototype.coordinates=function(p){var y=1,a=p-1,S;return p===u?e.map(this._coordinates,e.proxy(function(I,B){return this.coordinates(B)},this)):(this.settings.center?(this.settings.rtl&&(y=-1,a=p+1),S=this._coordinates[p],S+=(this.width()-S+(this._coordinates[a]||0))/2*y):S=this._coordinates[a]||0,S=Math.ceil(S),S)},h.prototype.duration=function(p,y,a){return a===0?0:Math.min(Math.max(Math.abs(y-p),1),6)*Math.abs(a||this.settings.smartSpeed)},h.prototype.to=function(p,y){var a=this.current(),S=null,I=p-this.relative(a),B=(I>0)-(I<0),V=this._items.length,z=this.minimum(),ie=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(I)>V/2&&(I+=B*-1*V),p=a+I,S=((p-z)%V+V)%V+z,S!==p&&S-I<=ie&&S-I>0&&(a=S-I,p=S,this.reset(a))):this.settings.rewind?(ie+=1,p=(p%ie+ie)%ie):p=Math.max(z,Math.min(ie,p)),this.speed(this.duration(a,p,y)),this.current(p),this.isVisible()&&this.update()},h.prototype.next=function(p){p=p||!1,this.to(this.relative(this.current())+1,p)},h.prototype.prev=function(p){p=p||!1,this.to(this.relative(this.current())-1,p)},h.prototype.onTransitionEnd=function(p){if(p!==u&&(p.stopPropagation(),(p.target||p.srcElement||p.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},h.prototype.viewport=function(){var p;return this.options.responsiveBaseElement!==t?p=e(this.options.responsiveBaseElement).width():t.innerWidth?p=t.innerWidth:s.documentElement&&s.documentElement.clientWidth?p=s.documentElement.clientWidth:console.warn("Can not detect viewport width."),p},h.prototype.replace=function(p){this.$stage.empty(),this._items=[],p&&(p=p instanceof ds?p:e(p)),this.settings.nestedItemSelector&&(p=p.find("."+this.settings.nestedItemSelector)),p.filter(function(){return this.nodeType===1}).each(e.proxy(function(y,a){a=this.prepare(a),this.$stage.append(a),this._items.push(a),this._mergers.push(a.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},h.prototype.add=function(p,y){var a=this.relative(this._current);y=y===u?this._items.length:this.normalize(y,!0),p=p instanceof ds?p:e(p),this.trigger("add",{content:p,position:y}),p=this.prepare(p),this._items.length===0||y===this._items.length?(this._items.length===0&&this.$stage.append(p),this._items.length!==0&&this._items[y-1].after(p),this._items.push(p),this._mergers.push(p.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)):(this._items[y].before(p),this._items.splice(y,0,p),this._mergers.splice(y,0,p.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)),this._items[a]&&this.reset(this._items[a].index()),this.invalidate("items"),this.trigger("added",{content:p,position:y})},h.prototype.remove=function(p){p=this.normalize(p,!0),p!==u&&(this.trigger("remove",{content:this._items[p],position:p}),this._items[p].remove(),this._items.splice(p,1),this._mergers.splice(p,1),this.invalidate("items"),this.trigger("removed",{content:null,position:p}))},h.prototype.preloadAutoWidthImages=function(p){p.each(e.proxy(function(y,a){this.enter("pre-loading"),a=e(a),e(new Image).one("load",e.proxy(function(S){a.attr("src",S.target.src),a.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",a.attr("src")||a.attr("data-src")||a.attr("data-src-retina"))},this))},h.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(s).off(".owl.core"),this.settings.responsive!==!1&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var p in this._plugins)this._plugins[p].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},h.prototype.op=function(p,y,a){var S=this.settings.rtl;switch(y){case"<":return S?p>a:p<a;case">":return S?p<a:p>a;case">=":return S?p<=a:p>=a;case"<=":return S?p>=a:p<=a}},h.prototype.on=function(p,y,a,S){p.addEventListener?p.addEventListener(y,a,S):p.attachEvent&&p.attachEvent("on"+y,a)},h.prototype.off=function(p,y,a,S){p.removeEventListener?p.removeEventListener(y,a,S):p.detachEvent&&p.detachEvent("on"+y,a)},h.prototype.trigger=function(p,y,a,S,I){var B={item:{count:this._items.length,index:this.current()}},V=e.camelCase(e.grep(["on",p,a],function(ie){return ie}).join("-").toLowerCase()),z=e.Event([p,"owl",a||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},B,y));return this._supress[p]||(e.each(this._plugins,function(ie,ce){ce.onTrigger&&ce.onTrigger(z)}),this.register({type:h.Type.Event,name:p}),this.$element.trigger(z),this.settings&&typeof this.settings[V]=="function"&&this.settings[V].call(this,z)),z},h.prototype.enter=function(p){e.each([p].concat(this._states.tags[p]||[]),e.proxy(function(y,a){this._states.current[a]===u&&(this._states.current[a]=0),this._states.current[a]++},this))},h.prototype.leave=function(p){e.each([p].concat(this._states.tags[p]||[]),e.proxy(function(y,a){this._states.current[a]--},this))},h.prototype.register=function(p){if(p.type===h.Type.Event){if(e.event.special[p.name]||(e.event.special[p.name]={}),!e.event.special[p.name].owl){var y=e.event.special[p.name]._default;e.event.special[p.name]._default=function(a){return y&&y.apply&&(!a.namespace||a.namespace.indexOf("owl")===-1)?y.apply(this,arguments):a.namespace&&a.namespace.indexOf("owl")>-1},e.event.special[p.name].owl=!0}}else p.type===h.Type.State&&(this._states.tags[p.name]?this._states.tags[p.name]=this._states.tags[p.name].concat(p.tags):this._states.tags[p.name]=p.tags,this._states.tags[p.name]=e.grep(this._states.tags[p.name],e.proxy(function(a,S){return e.inArray(a,this._states.tags[p.name])===S},this)))},h.prototype.suppress=function(p){e.each(p,e.proxy(function(y,a){this._supress[a]=!0},this))},h.prototype.release=function(p){e.each(p,e.proxy(function(y,a){delete this._supress[a]},this))},h.prototype.pointer=function(p){var y={x:null,y:null};return p=p.originalEvent||p||t.event,p=p.touches&&p.touches.length?p.touches[0]:p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:p,p.pageX?(y.x=p.pageX,y.y=p.pageY):(y.x=p.clientX,y.y=p.clientY),y},h.prototype.isNumeric=function(p){return!isNaN(parseFloat(p))},h.prototype.difference=function(p,y){return{x:p.x-y.x,y:p.y-y.y}},e.fn.owlCarousel=function(p){var y=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e(this),S=a.data("owl.carousel");S||(S=new h(this,typeof p=="object"&&p),a.data("owl.carousel",S),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(I,B){S.register({type:h.Type.Event,name:B}),S.$element.on(B+".owl.carousel.core",e.proxy(function(V){V.namespace&&V.relatedTarget!==this&&(this.suppress([B]),S[B].apply(this,[].slice.call(arguments,1)),this.release([B]))},S))})),typeof p=="string"&&p.charAt(0)!=="_"&&S[p].apply(S,y)})},e.fn.owlCarousel.Constructor=h})(window.Zepto||ds,window,document);(function(e,t,s,u){var h=function(p){this._core=p,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this._core.$element.on(this._handlers)};h.Defaults={autoRefresh:!0,autoRefreshInterval:500},h.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},h.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},h.prototype.destroy=function(){var p,y;t.clearInterval(this._interval);for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=h})(window.Zepto||ds,window);(function(e,t,s,u){var h=function(p){this._core=p,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(y){if(!!y.namespace&&!(!this._core.settings||!this._core.settings.lazyLoad)&&(y.property&&y.property.name=="position"||y.type=="initialized")){var a=this._core.settings,S=a.center&&Math.ceil(a.items/2)||a.items,I=a.center&&S*-1||0,B=(y.property&&y.property.value!==u?y.property.value:this._core.current())+I,V=this._core.clones().length,z=e.proxy(function(ie,ce){this.load(ce)},this);for(a.lazyLoadEager>0&&(S+=a.lazyLoadEager,a.loop&&(B-=a.lazyLoadEager,S++));I++<S;)this.load(V/2+this._core.relative(B)),V&&e.each(this._core.clones(this._core.relative(B)),z),B++}},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this._core.$element.on(this._handlers)};h.Defaults={lazyLoad:!1,lazyLoadEager:0},h.prototype.load=function(p){var y=this._core.$stage.children().eq(p),a=y&&y.find(".owl-lazy");!a||e.inArray(y.get(0),this._loaded)>-1||(a.each(e.proxy(function(S,I){var B=e(I),V,z=t.devicePixelRatio>1&&B.attr("data-src-retina")||B.attr("data-src")||B.attr("data-srcset");this._core.trigger("load",{element:B,url:z},"lazy"),B.is("img")?B.one("load.owl.lazy",e.proxy(function(){B.css("opacity",1),this._core.trigger("loaded",{element:B,url:z},"lazy")},this)).attr("src",z):B.is("source")?B.one("load.owl.lazy",e.proxy(function(){this._core.trigger("loaded",{element:B,url:z},"lazy")},this)).attr("srcset",z):(V=new Image,V.onload=e.proxy(function(){B.css({"background-image":'url("'+z+'")',opacity:"1"}),this._core.trigger("loaded",{element:B,url:z},"lazy")},this),V.src=z)},this)),this._loaded.push(y.get(0)))},h.prototype.destroy=function(){var p,y;for(p in this.handlers)this._core.$element.off(p,this.handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=h})(window.Zepto||ds,window);(function(e,t,s,u){var h=function(p){this._core=p,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.property.name==="position"&&this.update()},this),"loaded.owl.lazy":e.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var y=this;e(t).on("load",function(){y._core.settings.autoHeight&&y.update()}),e(t).resize(function(){y._core.settings.autoHeight&&(y._intervalId!=null&&clearTimeout(y._intervalId),y._intervalId=setTimeout(function(){y.update()},250))})};h.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},h.prototype.update=function(){var p=this._core._current,y=p+this._core.settings.items,a=this._core.settings.lazyLoad,S=this._core.$stage.children().toArray().slice(p,y),I=[],B=0;e.each(S,function(V,z){I.push(e(z).height())}),B=Math.max.apply(null,I),B<=1&&a&&this._previousHeight&&(B=this._previousHeight),this._previousHeight=B,this._core.$stage.parent().height(B).addClass(this._core.settings.autoHeightClass)},h.prototype.destroy=function(){var p,y;for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=h})(window.Zepto||ds,window);(function(e,t,s,u){var h=function(p){this._core=p,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(y){y.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.video&&this.isInFullScreen()&&y.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(y){y.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(y){y.namespace&&y.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(y){if(!!y.namespace){var a=e(y.content).find(".owl-video");a.length&&(a.css("display","none"),this.fetch(a,e(y.content)))}},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(y){this.play(y)},this))};h.Defaults={video:!1,videoHeight:!1,videoWidth:!1},h.prototype.fetch=function(p,y){var a=function(){return p.attr("data-vimeo-id")?"vimeo":p.attr("data-vzaar-id")?"vzaar":"youtube"}(),S=p.attr("data-vimeo-id")||p.attr("data-youtube-id")||p.attr("data-vzaar-id"),I=p.attr("data-width")||this._core.settings.videoWidth,B=p.attr("data-height")||this._core.settings.videoHeight,V=p.attr("href");if(V){if(S=V.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),S[3].indexOf("youtu")>-1)a="youtube";else if(S[3].indexOf("vimeo")>-1)a="vimeo";else if(S[3].indexOf("vzaar")>-1)a="vzaar";else throw new Error("Video URL not supported.");S=S[6]}else throw new Error("Missing video URL.");this._videos[V]={type:a,id:S,width:I,height:B},y.attr("data-video",V),this.thumbnail(p,this._videos[V])},h.prototype.thumbnail=function(p,y){var a,S,I,B=y.width&&y.height?"width:"+y.width+"px;height:"+y.height+"px;":"",V=p.find("img"),z="src",ie="",ce=this._core.settings,he=function(He){S='<div class="owl-video-play-icon"></div>',ce.lazyLoad?a=e("<div/>",{class:"owl-video-tn "+ie,srcType:He}):a=e("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+He+")"}),p.after(a),p.after(S)};if(p.wrap(e("<div/>",{class:"owl-video-wrapper",style:B})),this._core.settings.lazyLoad&&(z="data-src",ie="owl-lazy"),V.length)return he(V.attr(z)),V.remove(),!1;y.type==="youtube"?(I="//img.youtube.com/vi/"+y.id+"/hqdefault.jpg",he(I)):y.type==="vimeo"?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+y.id+".json",jsonp:"callback",dataType:"jsonp",success:function(He){I=He[0].thumbnail_large,he(I)}}):y.type==="vzaar"&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+y.id+".json",jsonp:"callback",dataType:"jsonp",success:function(He){I=He.framegrab_url,he(I)}})},h.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},h.prototype.play=function(p){var y=e(p.target),a=y.closest("."+this._core.settings.itemClass),S=this._videos[a.attr("data-video")],I=S.width||"100%",B=S.height||this._core.$stage.height(),V;this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),a=this._core.items(this._core.relative(a.index())),this._core.reset(a.index()),V=e('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),V.attr("height",B),V.attr("width",I),S.type==="youtube"?V.attr("src","//www.youtube.com/embed/"+S.id+"?autoplay=1&rel=0&v="+S.id):S.type==="vimeo"?V.attr("src","//player.vimeo.com/video/"+S.id+"?autoplay=1"):S.type==="vzaar"&&V.attr("src","//view.vzaar.com/"+S.id+"/player?autoplay=true"),e(V).wrap('<div class="owl-video-frame" />').insertAfter(a.find(".owl-video")),this._playing=a.addClass("owl-video-playing"))},h.prototype.isInFullScreen=function(){var p=s.fullscreenElement||s.mozFullScreenElement||s.webkitFullscreenElement;return p&&e(p).parent().hasClass("owl-video-frame")},h.prototype.destroy=function(){var p,y;this._core.$element.off("click.owl.video");for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=h})(window.Zepto||ds,window,document);(function(e,t,s,u){var h=function(p){this.core=p,this.core.options=e.extend({},h.Defaults,this.core.options),this.swapping=!0,this.previous=u,this.next=u,this.handlers={"change.owl.carousel":e.proxy(function(y){y.namespace&&y.property.name=="position"&&(this.previous=this.core.current(),this.next=y.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(y){y.namespace&&(this.swapping=y.type=="translated")},this),"translate.owl.carousel":e.proxy(function(y){y.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};h.Defaults={animateOut:!1,animateIn:!1},h.prototype.swap=function(){if(this.core.settings.items===1&&!(!e.support.animation||!e.support.transition)){this.core.speed(0);var p,y=e.proxy(this.clear,this),a=this.core.$stage.children().eq(this.previous),S=this.core.$stage.children().eq(this.next),I=this.core.settings.animateIn,B=this.core.settings.animateOut;this.core.current()!==this.previous&&(B&&(p=this.core.coordinates(this.previous)-this.core.coordinates(this.next),a.one(e.support.animation.end,y).css({left:p+"px"}).addClass("animated owl-animated-out").addClass(B)),I&&S.one(e.support.animation.end,y).addClass("animated owl-animated-in").addClass(I))}},h.prototype.clear=function(p){e(p.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},h.prototype.destroy=function(){var p,y;for(p in this.handlers)this.core.$element.off(p,this.handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=h})(window.Zepto||ds);(function(e,t,s,u){var h=function(p){this._core=p,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy(function(y){y.namespace&&y.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():y.namespace&&y.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(y,a,S){y.namespace&&this.play(a,S)},this),"stop.owl.autoplay":e.proxy(function(y){y.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},h.Defaults,this._core.options)};h.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},h.prototype._next=function(p){this._call=t.setTimeout(e.proxy(this._next,this,p),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),!(this._core.is("interacting")||s.hidden)&&this._core.next(p||this._core.settings.autoplaySpeed)},h.prototype.read=function(){return new Date().getTime()-this._time},h.prototype.play=function(p,y){var a;this._core.is("rotating")||this._core.enter("rotating"),p=p||this._core.settings.autoplayTimeout,a=Math.min(this._time%(this._timeout||p),p),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%p-a,this._timeout=p,this._call=t.setTimeout(e.proxy(this._next,this,y),p-a)},h.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},h.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},h.prototype.destroy=function(){var p,y;this.stop();for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=h})(window.Zepto||ds,window,document);(function(e,t,s,u){var h=function(p){this._core=p,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(y.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.dotsData&&this._templates.splice(y.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.dotsData&&this._templates.splice(y.position,1)},this),"changed.owl.carousel":e.proxy(function(y){y.namespace&&y.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(y){y.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(y){y.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this.$element.on(this._handlers)};h.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},h.prototype.initialize=function(){var p,y=this._core.settings;this._controls.$relative=(y.navContainer?e(y.navContainer):e("<div>").addClass(y.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+y.navElement+">").addClass(y.navClass[0]).html(y.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(a){this.prev(y.navSpeed)},this)),this._controls.$next=e("<"+y.navElement+">").addClass(y.navClass[1]).html(y.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(a){this.next(y.navSpeed)},this)),y.dotsData||(this._templates=[e('<button role="button">').addClass(y.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(y.dotsContainer?e(y.dotsContainer):e("<div>").addClass(y.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy(function(a){var S=e(a.target).parent().is(this._controls.$absolute)?e(a.target).index():e(a.target).parent().index();a.preventDefault(),this.to(S,y.dotsSpeed)},this));for(p in this._overrides)this._core[p]=e.proxy(this[p],this)},h.prototype.destroy=function(){var p,y,a,S,I;I=this._core.settings;for(p in this._handlers)this.$element.off(p,this._handlers[p]);for(y in this._controls)y==="$relative"&&I.navContainer?this._controls[y].html(""):this._controls[y].remove();for(S in this.overides)this._core[S]=this._overrides[S];for(a in Object.getOwnPropertyNames(this))typeof this[a]!="function"&&(this[a]=null)},h.prototype.update=function(){var p,y,a=this._core.clones().length/2,S=a+this._core.items().length,I=this._core.maximum(!0),B=this._core.settings,V=B.center||B.autoWidth||B.dotsData?1:B.dotsEach||B.items;if(B.slideBy!=="page"&&(B.slideBy=Math.min(B.slideBy,B.items)),B.dots||B.slideBy=="page")for(this._pages=[],p=a,y=0,0;p<S;p++){if(y>=V||y===0){if(this._pages.push({start:Math.min(I,p-a),end:p-a+V-1}),Math.min(I,p-a)===I)break;y=0}y+=this._core.mergers(this._core.relative(p))}},h.prototype.draw=function(){var p,y=this._core.settings,a=this._core.items().length<=y.items,S=this._core.relative(this._core.current()),I=y.loop||y.rewind;this._controls.$relative.toggleClass("disabled",!y.nav||a),y.nav&&(this._controls.$previous.toggleClass("disabled",!I&&S<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!I&&S>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!y.dots||a),y.dots&&(p=this._pages.length-this._controls.$absolute.children().length,y.dotsData&&p!==0?this._controls.$absolute.html(this._templates.join("")):p>0?this._controls.$absolute.append(new Array(p+1).join(this._templates[0])):p<0&&this._controls.$absolute.children().slice(p).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},h.prototype.onTrigger=function(p){var y=this._core.settings;p.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:y&&(y.center||y.autoWidth||y.dotsData?1:y.dotsEach||y.items)}},h.prototype.current=function(){var p=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(y,a){return y.start<=p&&y.end>=p},this)).pop()},h.prototype.getPosition=function(p){var y,a,S=this._core.settings;return S.slideBy=="page"?(y=e.inArray(this.current(),this._pages),a=this._pages.length,p?++y:--y,y=this._pages[(y%a+a)%a].start):(y=this._core.relative(this._core.current()),a=this._core.items().length,p?y+=S.slideBy:y-=S.slideBy),y},h.prototype.next=function(p){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),p)},h.prototype.prev=function(p){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),p)},h.prototype.to=function(p,y,a){var S;!a&&this._pages.length?(S=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(p%S+S)%S].start,y)):e.proxy(this._overrides.to,this._core)(p,y)},e.fn.owlCarousel.Constructor.Plugins.Navigation=h})(window.Zepto||ds);(function(e,t,s,u){var h=function(p){this._core=p,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.startPosition==="URLHash"&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(y){if(y.namespace){var a=e(y.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!a)return;this._hashes[a]=y.content}},this),"changed.owl.carousel":e.proxy(function(y){if(y.namespace&&y.property.name==="position"){var a=this._core.items(this._core.relative(this._core.current())),S=e.map(this._hashes,function(I,B){return I===a?B:null}).join();if(!S||t.location.hash.slice(1)===S)return;t.location.hash=S}},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(y){var a=t.location.hash.substring(1),S=this._core.$stage.children(),I=this._hashes[a]&&S.index(this._hashes[a]);I===u||I===this._core.current()||this._core.to(this._core.relative(I),!1,!0)},this))};h.Defaults={URLhashListener:!1},h.prototype.destroy=function(){var p,y;e(t).off("hashchange.owl.navigation");for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=h})(window.Zepto||ds,window);(function(e,t,s,u){var h=e("<support>").get(0).style,p="Webkit Moz O ms".split(" "),y={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},a={csstransforms:function(){return!!S("transform")},csstransforms3d:function(){return!!S("perspective")},csstransitions:function(){return!!S("transition")},cssanimations:function(){return!!S("animation")}};function S(B,V){var z=!1,ie=B.charAt(0).toUpperCase()+B.slice(1);return e.each((B+" "+p.join(ie+" ")+ie).split(" "),function(ce,he){if(h[he]!==u)return z=V?he:!0,!1}),z}function I(B){return S(B,!0)}a.csstransitions()&&(e.support.transition=new String(I("transition")),e.support.transition.end=y.transition.end[e.support.transition]),a.cssanimations()&&(e.support.animation=new String(I("animation")),e.support.animation.end=y.animation.end[e.support.animation]),a.csstransforms()&&(e.support.transform=new String(I("transform")),e.support.transform3d=a.csstransforms3d())})(window.Zepto||ds);ds(function(){ds(".owl-1").owlCarousel({responsive:{0:{items:1},400:{items:1},550:{items:2},800:{items:3}},margin:20,dots:!1,stageOuterClass:"owl-stage",navContainerClass:"mt-7 text-center",navClass:["px-2 text-lg py-1 cursor-pointer text-gray-200 border rounded-sm mx-1 sm:mx-2 border-cyan-600","px-2 text-lg py-1 cursor-pointer text-gray-200 border rounded-sm mx-1 sm:mx-2 border-cyan-600"],nav:!0,navElement:!0}),ds(".owl-2").owlCarousel({loop:!0,responsive:{0:{items:1}},margin:20,dots:!0,stageOuterClass:"mb-8",dotClass:"bg-cyan-600 w-3 h-3 rounded-full dot",dotsClass:"flex items-center justify-center space-x-2",autoplay:!0})});const FR=JL([{path:"/",element:H(AR,{})},{path:"/proyek",element:H(ER,{})},{path:"/harga",element:H(kR,{})},{path:"/kontak-kami",element:H(CR,{})},{path:"/tentang-kami",element:H(MR,{})},{path:"/proyek/:proyekid",element:H(BR,{})}]);function OR(){return H(WL,{router:FR})}Dg.createRoot(document.getElementById("root")).render(H(OR,{}));
