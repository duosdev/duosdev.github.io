function AA(e,t){for(var s=0;s<t.length;s++){const u=t[s];if(typeof u!="string"&&!Array.isArray(u)){for(const h in u)if(h!=="default"&&!(h in e)){const p=Object.getOwnPropertyDescriptor(u,h);p&&Object.defineProperty(e,h,p.get?p:{enumerable:!0,get:()=>u[h]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerpolicy&&(p.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?p.credentials="include":h.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $e={exports:{}},qi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=Symbol.for("react.element"),kA=Symbol.for("react.portal"),PA=Symbol.for("react.fragment"),IA=Symbol.for("react.strict_mode"),MA=Symbol.for("react.profiler"),zA=Symbol.for("react.provider"),DA=Symbol.for("react.context"),LA=Symbol.for("react.forward_ref"),RA=Symbol.for("react.suspense"),BA=Symbol.for("react.memo"),NA=Symbol.for("react.lazy"),qx=Symbol.iterator;function OA(e){return e===null||typeof e!="object"?null:(e=qx&&e[qx]||e["@@iterator"],typeof e=="function"?e:null)}var kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pw=Object.assign,Iw={};function zc(e,t,s){this.props=e,this.context=t,this.refs=Iw,this.updater=s||kw}zc.prototype.isReactComponent={};zc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mw(){}Mw.prototype=zc.prototype;function Ky(e,t,s){this.props=e,this.context=t,this.refs=Iw,this.updater=s||kw}var Yy=Ky.prototype=new Mw;Yy.constructor=Ky;Pw(Yy,zc.prototype);Yy.isPureReactComponent=!0;var Gx=Array.isArray,zw=Object.prototype.hasOwnProperty,Qy={current:null},Dw={key:!0,ref:!0,__self:!0,__source:!0};function Lw(e,t,s){var u,h={},p=null,y=null;if(t!=null)for(u in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(p=""+t.key),t)zw.call(t,u)&&!Dw.hasOwnProperty(u)&&(h[u]=t[u]);var a=arguments.length-2;if(a===1)h.children=s;else if(1<a){for(var T=Array(a),z=0;z<a;z++)T[z]=arguments[z+2];h.children=T}if(e&&e.defaultProps)for(u in a=e.defaultProps,a)h[u]===void 0&&(h[u]=a[u]);return{$$typeof:md,type:e,key:p,ref:y,props:h,_owner:Qy.current}}function FA(e,t){return{$$typeof:md,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jy(e){return typeof e=="object"&&e!==null&&e.$$typeof===md}function VA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Wx=/\/+/g;function jm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VA(""+e.key):t.toString(36)}function Cp(e,t,s,u,h){var p=typeof e;(p==="undefined"||p==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(p){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case md:case kA:y=!0}}if(y)return y=e,h=h(y),e=u===""?"."+jm(y,0):u,Gx(h)?(s="",e!=null&&(s=e.replace(Wx,"$&/")+"/"),Cp(h,t,s,"",function(z){return z})):h!=null&&(Jy(h)&&(h=FA(h,s+(!h.key||y&&y.key===h.key?"":(""+h.key).replace(Wx,"$&/")+"/")+e)),t.push(h)),1;if(y=0,u=u===""?".":u+":",Gx(e))for(var a=0;a<e.length;a++){p=e[a];var T=u+jm(p,a);y+=Cp(p,t,s,T,h)}else if(T=OA(e),typeof T=="function")for(e=T.call(e),a=0;!(p=e.next()).done;)p=p.value,T=u+jm(p,a++),y+=Cp(p,t,s,T,h);else if(p==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function ip(e,t,s){if(e==null)return e;var u=[],h=0;return Cp(e,u,"","",function(p){return t.call(s,p,h++)}),u}function UA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ds={current:null},Ap={transition:null},jA={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:Ap,ReactCurrentOwner:Qy};qi.Children={map:ip,forEach:function(e,t,s){ip(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return ip(e,function(){t++}),t},toArray:function(e){return ip(e,function(t){return t})||[]},only:function(e){if(!Jy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qi.Component=zc;qi.Fragment=PA;qi.Profiler=MA;qi.PureComponent=Ky;qi.StrictMode=IA;qi.Suspense=RA;qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jA;qi.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var u=Pw({},e.props),h=e.key,p=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(p=t.ref,y=Qy.current),t.key!==void 0&&(h=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(T in t)zw.call(t,T)&&!Dw.hasOwnProperty(T)&&(u[T]=t[T]===void 0&&a!==void 0?a[T]:t[T])}var T=arguments.length-2;if(T===1)u.children=s;else if(1<T){a=Array(T);for(var z=0;z<T;z++)a[z]=arguments[z+2];u.children=a}return{$$typeof:md,type:e.type,key:h,ref:p,props:u,_owner:y}};qi.createContext=function(e){return e={$$typeof:DA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zA,_context:e},e.Consumer=e};qi.createElement=Lw;qi.createFactory=function(e){var t=Lw.bind(null,e);return t.type=e,t};qi.createRef=function(){return{current:null}};qi.forwardRef=function(e){return{$$typeof:LA,render:e}};qi.isValidElement=Jy;qi.lazy=function(e){return{$$typeof:NA,_payload:{_status:-1,_result:e},_init:UA}};qi.memo=function(e,t){return{$$typeof:BA,type:e,compare:t===void 0?null:t}};qi.startTransition=function(e){var t=Ap.transition;Ap.transition={};try{e()}finally{Ap.transition=t}};qi.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};qi.useCallback=function(e,t){return ds.current.useCallback(e,t)};qi.useContext=function(e){return ds.current.useContext(e)};qi.useDebugValue=function(){};qi.useDeferredValue=function(e){return ds.current.useDeferredValue(e)};qi.useEffect=function(e,t){return ds.current.useEffect(e,t)};qi.useId=function(){return ds.current.useId()};qi.useImperativeHandle=function(e,t,s){return ds.current.useImperativeHandle(e,t,s)};qi.useInsertionEffect=function(e,t){return ds.current.useInsertionEffect(e,t)};qi.useLayoutEffect=function(e,t){return ds.current.useLayoutEffect(e,t)};qi.useMemo=function(e,t){return ds.current.useMemo(e,t)};qi.useReducer=function(e,t,s){return ds.current.useReducer(e,t,s)};qi.useRef=function(e){return ds.current.useRef(e)};qi.useState=function(e){return ds.current.useState(e)};qi.useSyncExternalStore=function(e,t,s){return ds.current.useSyncExternalStore(e,t,s)};qi.useTransition=function(){return ds.current.useTransition()};qi.version="18.2.0";(function(e){e.exports=qi})($e);const ev=EA($e.exports),zg=AA({__proto__:null,default:ev},[$e.exports]);var Dg={},Rw={exports:{}},Fs={},Bw={exports:{}},Nw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(He,at){var dt=He.length;He.push(at);e:for(;0<dt;){var Ot=dt-1>>>1,ri=He[Ot];if(0<h(ri,at))He[Ot]=at,He[dt]=ri,dt=Ot;else break e}}function s(He){return He.length===0?null:He[0]}function u(He){if(He.length===0)return null;var at=He[0],dt=He.pop();if(dt!==at){He[0]=dt;e:for(var Ot=0,ri=He.length,si=ri>>>1;Ot<si;){var Ti=2*(Ot+1)-1,ci=He[Ti],gi=Ti+1,Ui=He[gi];if(0>h(ci,dt))gi<ri&&0>h(Ui,ci)?(He[Ot]=Ui,He[gi]=dt,Ot=gi):(He[Ot]=ci,He[Ti]=dt,Ot=Ti);else if(gi<ri&&0>h(Ui,dt))He[Ot]=Ui,He[gi]=dt,Ot=gi;else break e}}return at}function h(He,at){var dt=He.sortIndex-at.sortIndex;return dt!==0?dt:He.id-at.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;e.unstable_now=function(){return p.now()}}else{var y=Date,a=y.now();e.unstable_now=function(){return y.now()-a}}var T=[],z=[],O=1,j=null,S=3,Q=!1,se=!1,oe=!1,he=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(He){for(var at=s(z);at!==null;){if(at.callback===null)u(z);else if(at.startTime<=He)u(z),at.sortIndex=at.expirationTime,t(T,at);else break;at=s(z)}}function Y(He){if(oe=!1,F(He),!se)if(s(T)!==null)se=!0,Tt(xe);else{var at=s(z);at!==null&&un(Y,at.startTime-He)}}function xe(He,at){se=!1,oe&&(oe=!1,k(qe),qe=-1),Q=!0;var dt=S;try{for(F(at),j=s(T);j!==null&&(!(j.expirationTime>at)||He&&!_i());){var Ot=j.callback;if(typeof Ot=="function"){j.callback=null,S=j.priorityLevel;var ri=Ot(j.expirationTime<=at);at=e.unstable_now(),typeof ri=="function"?j.callback=ri:j===s(T)&&u(T),F(at)}else u(T);j=s(T)}if(j!==null)var si=!0;else{var Ti=s(z);Ti!==null&&un(Y,Ti.startTime-at),si=!1}return si}finally{j=null,S=dt,Q=!1}}var E=!1,Ne=null,qe=-1,wt=5,At=-1;function _i(){return!(e.unstable_now()-At<wt)}function ui(){if(Ne!==null){var He=e.unstable_now();At=He;var at=!0;try{at=Ne(!0,He)}finally{at?Tn():(E=!1,Ne=null)}}else E=!1}var Tn;if(typeof D=="function")Tn=function(){D(ui)};else if(typeof MessageChannel<"u"){var Di=new MessageChannel,sn=Di.port2;Di.port1.onmessage=ui,Tn=function(){sn.postMessage(null)}}else Tn=function(){he(ui,0)};function Tt(He){Ne=He,E||(E=!0,Tn())}function un(He,at){qe=he(function(){He(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(He){He.callback=null},e.unstable_continueExecution=function(){se||Q||(se=!0,Tt(xe))},e.unstable_forceFrameRate=function(He){0>He||125<He?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<He?Math.floor(1e3/He):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return s(T)},e.unstable_next=function(He){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var dt=S;S=at;try{return He()}finally{S=dt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(He,at){switch(He){case 1:case 2:case 3:case 4:case 5:break;default:He=3}var dt=S;S=He;try{return at()}finally{S=dt}},e.unstable_scheduleCallback=function(He,at,dt){var Ot=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ot+dt:Ot):dt=Ot,He){case 1:var ri=-1;break;case 2:ri=250;break;case 5:ri=1073741823;break;case 4:ri=1e4;break;default:ri=5e3}return ri=dt+ri,He={id:O++,callback:at,priorityLevel:He,startTime:dt,expirationTime:ri,sortIndex:-1},dt>Ot?(He.sortIndex=dt,t(z,He),s(T)===null&&He===s(z)&&(oe?(k(qe),qe=-1):oe=!0,un(Y,dt-Ot))):(He.sortIndex=ri,t(T,He),se||Q||(se=!0,Tt(xe))),He},e.unstable_shouldYield=_i,e.unstable_wrapCallback=function(He){var at=S;return function(){var dt=S;S=at;try{return He.apply(this,arguments)}finally{S=dt}}}})(Nw);(function(e){e.exports=Nw})(Bw);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow=$e.exports,Ns=Bw.exports;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fw=new Set,jh={};function Tu(e,t){Sc(e,t),Sc(e+"Capture",t)}function Sc(e,t){for(jh[e]=t,e=0;e<t.length;e++)Fw.add(t[e])}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lg=Object.prototype.hasOwnProperty,qA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hx={},Zx={};function GA(e){return Lg.call(Zx,e)?!0:Lg.call(Hx,e)?!1:qA.test(e)?Zx[e]=!0:(Hx[e]=!0,!1)}function WA(e,t,s,u){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HA(e,t,s,u){if(t===null||typeof t>"u"||WA(e,t,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ps(e,t,s,u,h,p,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=y}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ur[e]=new ps(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ur[t]=new ps(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ur[e]=new ps(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ur[e]=new ps(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ur[e]=new ps(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ur[e]=new ps(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ur[e]=new ps(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ur[e]=new ps(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ur[e]=new ps(e,5,!1,e.toLowerCase(),null,!1,!1)});var tv=/[\-:]([a-z])/g;function iv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tv,iv);Ur[t]=new ps(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tv,iv);Ur[t]=new ps(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tv,iv);Ur[t]=new ps(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ur[e]=new ps(e,1,!1,e.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ur[e]=new ps(e,1,!1,e.toLowerCase(),null,!0,!0)});function nv(e,t,s,u){var h=Ur.hasOwnProperty(t)?Ur[t]:null;(h!==null?h.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HA(t,s,h,u)&&(s=null),u||h===null?GA(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(t=h.attributeName,u=h.attributeNamespace,s===null?e.removeAttribute(t):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?e.setAttributeNS(u,t,s):e.setAttribute(t,s))))}var Wa=Ow.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,np=Symbol.for("react.element"),Qu=Symbol.for("react.portal"),Ju=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),Ng=Symbol.for("react.suspense_list"),ov=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),jw=Symbol.for("react.offscreen"),$x=Symbol.iterator;function lh(e){return e===null||typeof e!="object"?null:(e=$x&&e[$x]||e["@@iterator"],typeof e=="function"?e:null)}var Wn=Object.assign,qm;function xh(e){if(qm===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);qm=t&&t[1]||""}return`
`+qm+e}var Gm=!1;function Wm(e,t){if(!e||Gm)return"";Gm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(z){var u=z}Reflect.construct(e,[],t)}else{try{t.call()}catch(z){u=z}e.call(t.prototype)}else{try{throw Error()}catch(z){u=z}e()}}catch(z){if(z&&u&&typeof z.stack=="string"){for(var h=z.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,a=p.length-1;1<=y&&0<=a&&h[y]!==p[a];)a--;for(;1<=y&&0<=a;y--,a--)if(h[y]!==p[a]){if(y!==1||a!==1)do if(y--,a--,0>a||h[y]!==p[a]){var T=`
`+h[y].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=y&&0<=a);break}}}finally{Gm=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?xh(e):""}function ZA(e){switch(e.tag){case 5:return xh(e.type);case 16:return xh("Lazy");case 13:return xh("Suspense");case 19:return xh("SuspenseList");case 0:case 2:case 15:return e=Wm(e.type,!1),e;case 11:return e=Wm(e.type.render,!1),e;case 1:return e=Wm(e.type,!0),e;default:return""}}function Og(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ju:return"Fragment";case Qu:return"Portal";case Rg:return"Profiler";case rv:return"StrictMode";case Bg:return"Suspense";case Ng:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uw:return(e.displayName||"Context")+".Consumer";case Vw:return(e._context.displayName||"Context")+".Provider";case sv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ov:return t=e.displayName||null,t!==null?t:Og(e.type)||"Memo";case ml:t=e._payload,e=e._init;try{return Og(e(t))}catch{}}return null}function $A(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Og(t);case 8:return t===rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XA(e){var t=qw(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rp(e){e._valueTracker||(e._valueTracker=XA(e))}function Gw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),u="";return e&&(u=qw(e)?e.checked?"true":"false":e.value),e=u,e!==s?(t.setValue(e),!0):!1}function Vp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fg(e,t){var s=t.checked;return Wn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s!=null?s:e._wrapperState.initialChecked})}function Xx(e,t){var s=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;s=zl(t.value!=null?t.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ww(e,t){t=t.checked,t!=null&&nv(e,"checked",t,!1)}function Vg(e,t){Ww(e,t);var s=zl(t.value),u=t.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ug(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ug(e,t.type,zl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kx(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ug(e,t,s){(t!=="number"||Vp(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var wh=Array.isArray;function pc(e,t,s,u){if(e=e.options,t){t={};for(var h=0;h<s.length;h++)t["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=t.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&u&&(e[s].defaultSelected=!0)}else{for(s=""+zl(s),t=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function jg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return Wn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yx(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(ft(92));if(wh(s)){if(1<s.length)throw Error(ft(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:zl(s)}}function Hw(e,t){var s=zl(t.value),u=zl(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function Qx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sp,$w=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,u,h){MSApp.execUnsafeLocalFunction(function(){return e(t,s,u,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sp=sp||document.createElement("div"),sp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qh(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KA=["Webkit","ms","Moz","O"];Object.keys(Ch).forEach(function(e){KA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ch[t]=Ch[e]})});function Xw(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ch.hasOwnProperty(e)&&Ch[e]?(""+t).trim():t+"px"}function Kw(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=Xw(s,t[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,h):e[s]=h}}var YA=Wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gg(e,t){if(t){if(YA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function Wg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function av(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zg=null,fc=null,mc=null;function Jx(e){if(e=vd(e)){if(typeof Zg!="function")throw Error(ft(280));var t=e.stateNode;t&&(t=If(t),Zg(e.stateNode,e.type,t))}}function Yw(e){fc?mc?mc.push(e):mc=[e]:fc=e}function Qw(){if(fc){var e=fc,t=mc;if(mc=fc=null,Jx(e),t)for(e=0;e<t.length;e++)Jx(t[e])}}function Jw(e,t){return e(t)}function eb(){}var Hm=!1;function tb(e,t,s){if(Hm)return e(t,s);Hm=!0;try{return Jw(e,t,s)}finally{Hm=!1,(fc!==null||mc!==null)&&(eb(),Qw())}}function Gh(e,t){var s=e.stateNode;if(s===null)return null;var u=If(s);if(u===null)return null;s=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ft(231,t,typeof s));return s}var $g=!1;if(Va)try{var uh={};Object.defineProperty(uh,"passive",{get:function(){$g=!0}}),window.addEventListener("test",uh,uh),window.removeEventListener("test",uh,uh)}catch{$g=!1}function QA(e,t,s,u,h,p,y,a,T){var z=Array.prototype.slice.call(arguments,3);try{t.apply(s,z)}catch(O){this.onError(O)}}var Ah=!1,Up=null,jp=!1,Xg=null,JA={onError:function(e){Ah=!0,Up=e}};function eE(e,t,s,u,h,p,y,a,T){Ah=!1,Up=null,QA.apply(JA,arguments)}function tE(e,t,s,u,h,p,y,a,T){if(eE.apply(this,arguments),Ah){if(Ah){var z=Up;Ah=!1,Up=null}else throw Error(ft(198));jp||(jp=!0,Xg=z)}}function Cu(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function ib(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e0(e){if(Cu(e)!==e)throw Error(ft(188))}function iE(e){var t=e.alternate;if(!t){if(t=Cu(e),t===null)throw Error(ft(188));return t!==e?null:e}for(var s=e,u=t;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return e0(h),e;if(p===u)return e0(h),t;p=p.sibling}throw Error(ft(188))}if(s.return!==u.return)s=h,u=p;else{for(var y=!1,a=h.child;a;){if(a===s){y=!0,s=h,u=p;break}if(a===u){y=!0,u=h,s=p;break}a=a.sibling}if(!y){for(a=p.child;a;){if(a===s){y=!0,s=p,u=h;break}if(a===u){y=!0,u=p,s=h;break}a=a.sibling}if(!y)throw Error(ft(189))}}if(s.alternate!==u)throw Error(ft(190))}if(s.tag!==3)throw Error(ft(188));return s.stateNode.current===s?e:t}function nb(e){return e=iE(e),e!==null?rb(e):null}function rb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rb(e);if(t!==null)return t;e=e.sibling}return null}var sb=Ns.unstable_scheduleCallback,t0=Ns.unstable_cancelCallback,nE=Ns.unstable_shouldYield,rE=Ns.unstable_requestPaint,nr=Ns.unstable_now,sE=Ns.unstable_getCurrentPriorityLevel,lv=Ns.unstable_ImmediatePriority,ob=Ns.unstable_UserBlockingPriority,qp=Ns.unstable_NormalPriority,oE=Ns.unstable_LowPriority,ab=Ns.unstable_IdlePriority,Af=null,ia=null;function aE(e){if(ia&&typeof ia.onCommitFiberRoot=="function")try{ia.onCommitFiberRoot(Af,e,void 0,(e.current.flags&128)===128)}catch{}}var Ao=Math.clz32?Math.clz32:cE,lE=Math.log,uE=Math.LN2;function cE(e){return e>>>=0,e===0?32:31-(lE(e)/uE|0)|0}var op=64,ap=4194304;function bh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gp(e,t){var s=e.pendingLanes;if(s===0)return 0;var u=0,h=e.suspendedLanes,p=e.pingedLanes,y=s&268435455;if(y!==0){var a=y&~h;a!==0?u=bh(a):(p&=y,p!==0&&(u=bh(p)))}else y=s&~h,y!==0?u=bh(y):p!==0&&(u=bh(p));if(u===0)return 0;if(t!==0&&t!==u&&(t&h)===0&&(h=u&-u,p=t&-t,h>=p||h===16&&(p&4194240)!==0))return t;if((u&4)!==0&&(u|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)s=31-Ao(t),h=1<<s,u|=e[s],t&=~h;return u}function hE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dE(e,t){for(var s=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var y=31-Ao(p),a=1<<y,T=h[y];T===-1?((a&s)===0||(a&u)!==0)&&(h[y]=hE(a,t)):T<=t&&(e.expiredLanes|=a),p&=~a}}function Kg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lb(){var e=op;return op<<=1,(op&4194240)===0&&(op=64),e}function Zm(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function gd(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ao(t),e[t]=s}function pE(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-Ao(s),p=1<<h;t[h]=0,u[h]=-1,e[h]=-1,s&=~p}}function uv(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var u=31-Ao(s),h=1<<u;h&t|e[u]&t&&(e[u]|=t),s&=~h}}var yn=0;function ub(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cb,cv,hb,db,pb,Yg=!1,lp=[],Tl=null,Cl=null,Al=null,Wh=new Map,Hh=new Map,vl=[],fE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i0(e,t){switch(e){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":Wh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(t.pointerId)}}function ch(e,t,s,u,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},t!==null&&(t=vd(t),t!==null&&cv(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function mE(e,t,s,u,h){switch(t){case"focusin":return Tl=ch(Tl,e,t,s,u,h),!0;case"dragenter":return Cl=ch(Cl,e,t,s,u,h),!0;case"mouseover":return Al=ch(Al,e,t,s,u,h),!0;case"pointerover":var p=h.pointerId;return Wh.set(p,ch(Wh.get(p)||null,e,t,s,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Hh.set(p,ch(Hh.get(p)||null,e,t,s,u,h)),!0}return!1}function fb(e){var t=hu(e.target);if(t!==null){var s=Cu(t);if(s!==null){if(t=s.tag,t===13){if(t=ib(s),t!==null){e.blockedOn=t,pb(e.priority,function(){hb(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ep(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Hg=u,s.target.dispatchEvent(u),Hg=null}else return t=vd(s),t!==null&&cv(t),e.blockedOn=s,!1;t.shift()}return!0}function n0(e,t,s){Ep(e)&&s.delete(t)}function gE(){Yg=!1,Tl!==null&&Ep(Tl)&&(Tl=null),Cl!==null&&Ep(Cl)&&(Cl=null),Al!==null&&Ep(Al)&&(Al=null),Wh.forEach(n0),Hh.forEach(n0)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Yg||(Yg=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,gE)))}function Zh(e){function t(h){return hh(h,e)}if(0<lp.length){hh(lp[0],e);for(var s=1;s<lp.length;s++){var u=lp[s];u.blockedOn===e&&(u.blockedOn=null)}}for(Tl!==null&&hh(Tl,e),Cl!==null&&hh(Cl,e),Al!==null&&hh(Al,e),Wh.forEach(t),Hh.forEach(t),s=0;s<vl.length;s++)u=vl[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<vl.length&&(s=vl[0],s.blockedOn===null);)fb(s),s.blockedOn===null&&vl.shift()}var gc=Wa.ReactCurrentBatchConfig,Wp=!0;function yE(e,t,s,u){var h=yn,p=gc.transition;gc.transition=null;try{yn=1,hv(e,t,s,u)}finally{yn=h,gc.transition=p}}function vE(e,t,s,u){var h=yn,p=gc.transition;gc.transition=null;try{yn=4,hv(e,t,s,u)}finally{yn=h,gc.transition=p}}function hv(e,t,s,u){if(Wp){var h=Qg(e,t,s,u);if(h===null)ng(e,t,u,Hp,s),i0(e,u);else if(mE(h,e,t,s,u))u.stopPropagation();else if(i0(e,u),t&4&&-1<fE.indexOf(e)){for(;h!==null;){var p=vd(h);if(p!==null&&cb(p),p=Qg(e,t,s,u),p===null&&ng(e,t,u,Hp,s),p===h)break;h=p}h!==null&&u.stopPropagation()}else ng(e,t,u,null,s)}}var Hp=null;function Qg(e,t,s,u){if(Hp=null,e=av(u),e=hu(e),e!==null)if(t=Cu(e),t===null)e=null;else if(s=t.tag,s===13){if(e=ib(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hp=e,null}function mb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sE()){case lv:return 1;case ob:return 4;case qp:case oE:return 16;case ab:return 536870912;default:return 16}default:return 16}}var xl=null,dv=null,kp=null;function gb(){if(kp)return kp;var e,t=dv,s=t.length,u,h="value"in xl?xl.value:xl.textContent,p=h.length;for(e=0;e<s&&t[e]===h[e];e++);var y=s-e;for(u=1;u<=y&&t[s-u]===h[p-u];u++);return kp=h.slice(e,1<u?1-u:void 0)}function Pp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function up(){return!0}function r0(){return!1}function Vs(e){function t(s,u,h,p,y){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(s=e[a],this[a]=s?s(p):p[a]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?up:r0,this.isPropagationStopped=r0,this}return Wn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=up)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=up)},persist:function(){},isPersistent:up}),t}var Dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pv=Vs(Dc),yd=Wn({},Dc,{view:0,detail:0}),_E=Vs(yd),$m,Xm,dh,Ef=Wn({},yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dh&&(dh&&e.type==="mousemove"?($m=e.screenX-dh.screenX,Xm=e.screenY-dh.screenY):Xm=$m=0,dh=e),$m)},movementY:function(e){return"movementY"in e?e.movementY:Xm}}),s0=Vs(Ef),xE=Wn({},Ef,{dataTransfer:0}),wE=Vs(xE),bE=Wn({},yd,{relatedTarget:0}),Km=Vs(bE),SE=Wn({},Dc,{animationName:0,elapsedTime:0,pseudoElement:0}),TE=Vs(SE),CE=Wn({},Dc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AE=Vs(CE),EE=Wn({},Dc,{data:0}),o0=Vs(EE),kE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ME(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IE[e])?!!t[e]:!1}function fv(){return ME}var zE=Wn({},yd,{key:function(e){if(e.key){var t=kE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fv,charCode:function(e){return e.type==="keypress"?Pp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DE=Vs(zE),LE=Wn({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a0=Vs(LE),RE=Wn({},yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fv}),BE=Vs(RE),NE=Wn({},Dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),OE=Vs(NE),FE=Wn({},Ef,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VE=Vs(FE),UE=[9,13,27,32],mv=Va&&"CompositionEvent"in window,Eh=null;Va&&"documentMode"in document&&(Eh=document.documentMode);var jE=Va&&"TextEvent"in window&&!Eh,yb=Va&&(!mv||Eh&&8<Eh&&11>=Eh),l0=String.fromCharCode(32),u0=!1;function vb(e,t){switch(e){case"keyup":return UE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _b(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ec=!1;function qE(e,t){switch(e){case"compositionend":return _b(t);case"keypress":return t.which!==32?null:(u0=!0,l0);case"textInput":return e=t.data,e===l0&&u0?null:e;default:return null}}function GE(e,t){if(ec)return e==="compositionend"||!mv&&vb(e,t)?(e=gb(),kp=dv=xl=null,ec=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yb&&t.locale!=="ko"?null:t.data;default:return null}}var WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WE[e.type]:t==="textarea"}function xb(e,t,s,u){Yw(u),t=Zp(t,"onChange"),0<t.length&&(s=new pv("onChange","change",null,s,u),e.push({event:s,listeners:t}))}var kh=null,$h=null;function HE(e){Mb(e,0)}function kf(e){var t=nc(e);if(Gw(t))return e}function ZE(e,t){if(e==="change")return t}var wb=!1;if(Va){var Ym;if(Va){var Qm="oninput"in document;if(!Qm){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),Qm=typeof h0.oninput=="function"}Ym=Qm}else Ym=!1;wb=Ym&&(!document.documentMode||9<document.documentMode)}function d0(){kh&&(kh.detachEvent("onpropertychange",bb),$h=kh=null)}function bb(e){if(e.propertyName==="value"&&kf($h)){var t=[];xb(t,$h,e,av(e)),tb(HE,t)}}function $E(e,t,s){e==="focusin"?(d0(),kh=t,$h=s,kh.attachEvent("onpropertychange",bb)):e==="focusout"&&d0()}function XE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kf($h)}function KE(e,t){if(e==="click")return kf(t)}function YE(e,t){if(e==="input"||e==="change")return kf(t)}function QE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Io=typeof Object.is=="function"?Object.is:QE;function Xh(e,t){if(Io(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),u=Object.keys(t);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!Lg.call(t,h)||!Io(e[h],t[h]))return!1}return!0}function p0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f0(e,t){var s=p0(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=t&&u>=t)return{node:s,offset:t-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=p0(s)}}function Sb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tb(){for(var e=window,t=Vp();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Vp(e.document)}return t}function gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JE(e){var t=Tb(),s=e.focusedElem,u=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Sb(s.ownerDocument.documentElement,s)){if(u!==null&&gv(s)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!e.extend&&p>u&&(h=u,u=p,p=h),h=f0(s,p);var y=f0(s,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),p>u?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ek=Va&&"documentMode"in document&&11>=document.documentMode,tc=null,Jg=null,Ph=null,ey=!1;function m0(e,t,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ey||tc==null||tc!==Vp(u)||(u=tc,"selectionStart"in u&&gv(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ph&&Xh(Ph,u)||(Ph=u,u=Zp(Jg,"onSelect"),0<u.length&&(t=new pv("onSelect","select",null,t,s),e.push({event:t,listeners:u}),t.target=tc)))}function cp(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ic={animationend:cp("Animation","AnimationEnd"),animationiteration:cp("Animation","AnimationIteration"),animationstart:cp("Animation","AnimationStart"),transitionend:cp("Transition","TransitionEnd")},Jm={},Cb={};Va&&(Cb=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function Pf(e){if(Jm[e])return Jm[e];if(!ic[e])return e;var t=ic[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Cb)return Jm[e]=t[s];return e}var Ab=Pf("animationend"),Eb=Pf("animationiteration"),kb=Pf("animationstart"),Pb=Pf("transitionend"),Ib=new Map,g0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rl(e,t){Ib.set(e,t),Tu(t,[e])}for(var eg=0;eg<g0.length;eg++){var tg=g0[eg],tk=tg.toLowerCase(),ik=tg[0].toUpperCase()+tg.slice(1);Rl(tk,"on"+ik)}Rl(Ab,"onAnimationEnd");Rl(Eb,"onAnimationIteration");Rl(kb,"onAnimationStart");Rl("dblclick","onDoubleClick");Rl("focusin","onFocus");Rl("focusout","onBlur");Rl(Pb,"onTransitionEnd");Sc("onMouseEnter",["mouseout","mouseover"]);Sc("onMouseLeave",["mouseout","mouseover"]);Sc("onPointerEnter",["pointerout","pointerover"]);Sc("onPointerLeave",["pointerout","pointerover"]);Tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sh));function y0(e,t,s){var u=e.type||"unknown-event";e.currentTarget=s,tE(u,t,void 0,e),e.currentTarget=null}function Mb(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],h=u.event;u=u.listeners;e:{var p=void 0;if(t)for(var y=u.length-1;0<=y;y--){var a=u[y],T=a.instance,z=a.currentTarget;if(a=a.listener,T!==p&&h.isPropagationStopped())break e;y0(h,a,z),p=T}else for(y=0;y<u.length;y++){if(a=u[y],T=a.instance,z=a.currentTarget,a=a.listener,T!==p&&h.isPropagationStopped())break e;y0(h,a,z),p=T}}}if(jp)throw e=Xg,jp=!1,Xg=null,e}function In(e,t){var s=t[sy];s===void 0&&(s=t[sy]=new Set);var u=e+"__bubble";s.has(u)||(zb(t,e,2,!1),s.add(u))}function ig(e,t,s){var u=0;t&&(u|=4),zb(s,e,u,t)}var hp="_reactListening"+Math.random().toString(36).slice(2);function Kh(e){if(!e[hp]){e[hp]=!0,Fw.forEach(function(s){s!=="selectionchange"&&(nk.has(s)||ig(s,!1,e),ig(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hp]||(t[hp]=!0,ig("selectionchange",!1,t))}}function zb(e,t,s,u){switch(mb(t)){case 1:var h=yE;break;case 4:h=vE;break;default:h=hv}s=h.bind(null,t,s,e),h=void 0,!$g||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(t,s,{capture:!0,passive:h}):e.addEventListener(t,s,!0):h!==void 0?e.addEventListener(t,s,{passive:h}):e.addEventListener(t,s,!1)}function ng(e,t,s,u,h){var p=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var a=u.stateNode.containerInfo;if(a===h||a.nodeType===8&&a.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var T=y.tag;if((T===3||T===4)&&(T=y.stateNode.containerInfo,T===h||T.nodeType===8&&T.parentNode===h))return;y=y.return}for(;a!==null;){if(y=hu(a),y===null)return;if(T=y.tag,T===5||T===6){u=p=y;continue e}a=a.parentNode}}u=u.return}tb(function(){var z=p,O=av(s),j=[];e:{var S=Ib.get(e);if(S!==void 0){var Q=pv,se=e;switch(e){case"keypress":if(Pp(s)===0)break e;case"keydown":case"keyup":Q=DE;break;case"focusin":se="focus",Q=Km;break;case"focusout":se="blur",Q=Km;break;case"beforeblur":case"afterblur":Q=Km;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=s0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=wE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=BE;break;case Ab:case Eb:case kb:Q=TE;break;case Pb:Q=OE;break;case"scroll":Q=_E;break;case"wheel":Q=VE;break;case"copy":case"cut":case"paste":Q=AE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=a0}var oe=(t&4)!==0,he=!oe&&e==="scroll",k=oe?S!==null?S+"Capture":null:S;oe=[];for(var D=z,F;D!==null;){F=D;var Y=F.stateNode;if(F.tag===5&&Y!==null&&(F=Y,k!==null&&(Y=Gh(D,k),Y!=null&&oe.push(Yh(D,Y,F)))),he)break;D=D.return}0<oe.length&&(S=new Q(S,se,null,s,O),j.push({event:S,listeners:oe}))}}if((t&7)===0){e:{if(S=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",S&&s!==Hg&&(se=s.relatedTarget||s.fromElement)&&(hu(se)||se[Ua]))break e;if((Q||S)&&(S=O.window===O?O:(S=O.ownerDocument)?S.defaultView||S.parentWindow:window,Q?(se=s.relatedTarget||s.toElement,Q=z,se=se?hu(se):null,se!==null&&(he=Cu(se),se!==he||se.tag!==5&&se.tag!==6)&&(se=null)):(Q=null,se=z),Q!==se)){if(oe=s0,Y="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(oe=a0,Y="onPointerLeave",k="onPointerEnter",D="pointer"),he=Q==null?S:nc(Q),F=se==null?S:nc(se),S=new oe(Y,D+"leave",Q,s,O),S.target=he,S.relatedTarget=F,Y=null,hu(O)===z&&(oe=new oe(k,D+"enter",se,s,O),oe.target=F,oe.relatedTarget=he,Y=oe),he=Y,Q&&se)t:{for(oe=Q,k=se,D=0,F=oe;F;F=Ku(F))D++;for(F=0,Y=k;Y;Y=Ku(Y))F++;for(;0<D-F;)oe=Ku(oe),D--;for(;0<F-D;)k=Ku(k),F--;for(;D--;){if(oe===k||k!==null&&oe===k.alternate)break t;oe=Ku(oe),k=Ku(k)}oe=null}else oe=null;Q!==null&&v0(j,S,Q,oe,!1),se!==null&&he!==null&&v0(j,he,se,oe,!0)}}e:{if(S=z?nc(z):window,Q=S.nodeName&&S.nodeName.toLowerCase(),Q==="select"||Q==="input"&&S.type==="file")var xe=ZE;else if(c0(S))if(wb)xe=YE;else{xe=XE;var E=$E}else(Q=S.nodeName)&&Q.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(xe=KE);if(xe&&(xe=xe(e,z))){xb(j,xe,s,O);break e}E&&E(e,S,z),e==="focusout"&&(E=S._wrapperState)&&E.controlled&&S.type==="number"&&Ug(S,"number",S.value)}switch(E=z?nc(z):window,e){case"focusin":(c0(E)||E.contentEditable==="true")&&(tc=E,Jg=z,Ph=null);break;case"focusout":Ph=Jg=tc=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,m0(j,s,O);break;case"selectionchange":if(ek)break;case"keydown":case"keyup":m0(j,s,O)}var Ne;if(mv)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ec?vb(e,s)&&(qe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(qe="onCompositionStart");qe&&(yb&&s.locale!=="ko"&&(ec||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ec&&(Ne=gb()):(xl=O,dv="value"in xl?xl.value:xl.textContent,ec=!0)),E=Zp(z,qe),0<E.length&&(qe=new o0(qe,e,null,s,O),j.push({event:qe,listeners:E}),Ne?qe.data=Ne:(Ne=_b(s),Ne!==null&&(qe.data=Ne)))),(Ne=jE?qE(e,s):GE(e,s))&&(z=Zp(z,"onBeforeInput"),0<z.length&&(O=new o0("onBeforeInput","beforeinput",null,s,O),j.push({event:O,listeners:z}),O.data=Ne))}Mb(j,t)})}function Yh(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Zp(e,t){for(var s=t+"Capture",u=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=Gh(e,s),p!=null&&u.unshift(Yh(e,p,h)),p=Gh(e,t),p!=null&&u.push(Yh(e,p,h))),e=e.return}return u}function Ku(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v0(e,t,s,u,h){for(var p=t._reactName,y=[];s!==null&&s!==u;){var a=s,T=a.alternate,z=a.stateNode;if(T!==null&&T===u)break;a.tag===5&&z!==null&&(a=z,h?(T=Gh(s,p),T!=null&&y.unshift(Yh(s,T,a))):h||(T=Gh(s,p),T!=null&&y.push(Yh(s,T,a)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var rk=/\r\n?/g,sk=/\u0000|\uFFFD/g;function _0(e){return(typeof e=="string"?e:""+e).replace(rk,`
`).replace(sk,"")}function dp(e,t,s){if(t=_0(t),_0(e)!==t&&s)throw Error(ft(425))}function $p(){}var ty=null,iy=null;function ny(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ry=typeof setTimeout=="function"?setTimeout:void 0,ok=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,ak=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(e){return x0.resolve(null).then(e).catch(lk)}:ry;function lk(e){setTimeout(function(){throw e})}function rg(e,t){var s=t,u=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){e.removeChild(h),Zh(t);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);Zh(t)}function El(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),ta="__reactFiber$"+Lc,Qh="__reactProps$"+Lc,Ua="__reactContainer$"+Lc,sy="__reactEvents$"+Lc,uk="__reactListeners$"+Lc,ck="__reactHandles$"+Lc;function hu(e){var t=e[ta];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ua]||s[ta]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=w0(e);e!==null;){if(s=e[ta])return s;e=w0(e)}return t}e=s,s=e.parentNode}return null}function vd(e){return e=e[ta]||e[Ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ft(33))}function If(e){return e[Qh]||null}var oy=[],rc=-1;function Bl(e){return{current:e}}function Mn(e){0>rc||(e.current=oy[rc],oy[rc]=null,rc--)}function kn(e,t){rc++,oy[rc]=e.current,e.current=t}var Dl={},es=Bl(Dl),Ss=Bl(!1),_u=Dl;function Tc(e,t){var s=e.type.contextTypes;if(!s)return Dl;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in s)h[p]=t[p];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function Ts(e){return e=e.childContextTypes,e!=null}function Xp(){Mn(Ss),Mn(es)}function b0(e,t,s){if(es.current!==Dl)throw Error(ft(168));kn(es,t),kn(Ss,s)}function Db(e,t,s){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in t))throw Error(ft(108,$A(e)||"Unknown",h));return Wn({},s,u)}function Kp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dl,_u=es.current,kn(es,e),kn(Ss,Ss.current),!0}function S0(e,t,s){var u=e.stateNode;if(!u)throw Error(ft(169));s?(e=Db(e,t,_u),u.__reactInternalMemoizedMergedChildContext=e,Mn(Ss),Mn(es),kn(es,e)):Mn(Ss),kn(Ss,s)}var Ra=null,Mf=!1,sg=!1;function Lb(e){Ra===null?Ra=[e]:Ra.push(e)}function hk(e){Mf=!0,Lb(e)}function Nl(){if(!sg&&Ra!==null){sg=!0;var e=0,t=yn;try{var s=Ra;for(yn=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}Ra=null,Mf=!1}catch(h){throw Ra!==null&&(Ra=Ra.slice(e+1)),sb(lv,Nl),h}finally{yn=t,sg=!1}}return null}var sc=[],oc=0,Yp=null,Qp=0,Js=[],eo=0,xu=null,Ba=1,Na="";function lu(e,t){sc[oc++]=Qp,sc[oc++]=Yp,Yp=e,Qp=t}function Rb(e,t,s){Js[eo++]=Ba,Js[eo++]=Na,Js[eo++]=xu,xu=e;var u=Ba;e=Na;var h=32-Ao(u)-1;u&=~(1<<h),s+=1;var p=32-Ao(t)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,Ba=1<<32-Ao(t)+h|s<<h|u,Na=p+e}else Ba=1<<p|s<<h|u,Na=e}function yv(e){e.return!==null&&(lu(e,1),Rb(e,1,0))}function vv(e){for(;e===Yp;)Yp=sc[--oc],sc[oc]=null,Qp=sc[--oc],sc[oc]=null;for(;e===xu;)xu=Js[--eo],Js[eo]=null,Na=Js[--eo],Js[eo]=null,Ba=Js[--eo],Js[eo]=null}var Bs=null,Rs=null,Bn=!1,Co=null;function Bb(e,t){var s=to(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function T0(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bs=e,Rs=El(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bs=e,Rs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=xu!==null?{id:Ba,overflow:Na}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=to(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Bs=e,Rs=null,!0):!1;default:return!1}}function ay(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ly(e){if(Bn){var t=Rs;if(t){var s=t;if(!T0(e,t)){if(ay(e))throw Error(ft(418));t=El(s.nextSibling);var u=Bs;t&&T0(e,t)?Bb(u,s):(e.flags=e.flags&-4097|2,Bn=!1,Bs=e)}}else{if(ay(e))throw Error(ft(418));e.flags=e.flags&-4097|2,Bn=!1,Bs=e}}}function C0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bs=e}function pp(e){if(e!==Bs)return!1;if(!Bn)return C0(e),Bn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ny(e.type,e.memoizedProps)),t&&(t=Rs)){if(ay(e))throw Nb(),Error(ft(418));for(;t;)Bb(e,t),t=El(t.nextSibling)}if(C0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Rs=El(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Rs=null}}else Rs=Bs?El(e.stateNode.nextSibling):null;return!0}function Nb(){for(var e=Rs;e;)e=El(e.nextSibling)}function Cc(){Rs=Bs=null,Bn=!1}function _v(e){Co===null?Co=[e]:Co.push(e)}var dk=Wa.ReactCurrentBatchConfig;function So(e,t){if(e&&e.defaultProps){t=Wn({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}var Jp=Bl(null),ef=null,ac=null,xv=null;function wv(){xv=ac=ef=null}function bv(e){var t=Jp.current;Mn(Jp),e._currentValue=t}function uy(e,t,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===s)break;e=e.return}}function yc(e,t){ef=e,xv=ac=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(bs=!0),e.firstContext=null)}function ro(e){var t=e._currentValue;if(xv!==e)if(e={context:e,memoizedValue:t,next:null},ac===null){if(ef===null)throw Error(ft(308));ac=e,ef.dependencies={lanes:0,firstContext:e}}else ac=ac.next=e;return t}var du=null;function Sv(e){du===null?du=[e]:du.push(e)}function Ob(e,t,s,u){var h=t.interleaved;return h===null?(s.next=s,Sv(t)):(s.next=h.next,h.next=s),t.interleaved=s,ja(e,u)}function ja(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var gl=!1;function Tv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kl(e,t,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(tn&2)!==0){var h=u.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),u.pending=t,ja(e,s)}return h=u.interleaved,h===null?(t.next=t,Sv(u)):(t.next=h.next,h.next=t),u.interleaved=t,ja(e,s)}function Ip(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,uv(e,s)}}function A0(e,t){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?h=p=y:p=p.next=y,s=s.next}while(s!==null);p===null?h=p=t:p=p.next=t}else h=p=t;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function tf(e,t,s,u){var h=e.updateQueue;gl=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,a=h.shared.pending;if(a!==null){h.shared.pending=null;var T=a,z=T.next;T.next=null,y===null?p=z:y.next=z,y=T;var O=e.alternate;O!==null&&(O=O.updateQueue,a=O.lastBaseUpdate,a!==y&&(a===null?O.firstBaseUpdate=z:a.next=z,O.lastBaseUpdate=T))}if(p!==null){var j=h.baseState;y=0,O=z=T=null,a=p;do{var S=a.lane,Q=a.eventTime;if((u&S)===S){O!==null&&(O=O.next={eventTime:Q,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var se=e,oe=a;switch(S=t,Q=s,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){j=se.call(Q,j,S);break e}j=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,S=typeof se=="function"?se.call(Q,j,S):se,S==null)break e;j=Wn({},j,S);break e;case 2:gl=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,S=h.effects,S===null?h.effects=[a]:S.push(a))}else Q={eventTime:Q,lane:S,tag:a.tag,payload:a.payload,callback:a.callback,next:null},O===null?(z=O=Q,T=j):O=O.next=Q,y|=S;if(a=a.next,a===null){if(a=h.shared.pending,a===null)break;S=a,a=S.next,S.next=null,h.lastBaseUpdate=S,h.shared.pending=null}}while(1);if(O===null&&(T=j),h.baseState=T,h.firstBaseUpdate=z,h.lastBaseUpdate=O,t=h.shared.interleaved,t!==null){h=t;do y|=h.lane,h=h.next;while(h!==t)}else p===null&&(h.shared.lanes=0);bu|=y,e.lanes=y,e.memoizedState=j}}function E0(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(ft(191,h));h.call(u)}}}var Vb=new Ow.Component().refs;function cy(e,t,s,u){t=e.memoizedState,s=s(u,t),s=s==null?t:Wn({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zf={isMounted:function(e){return(e=e._reactInternals)?Cu(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var u=hs(),h=Il(e),p=Oa(u,h);p.payload=t,s!=null&&(p.callback=s),t=kl(e,p,h),t!==null&&(Eo(t,e,h,u),Ip(t,e,h))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var u=hs(),h=Il(e),p=Oa(u,h);p.tag=1,p.payload=t,s!=null&&(p.callback=s),t=kl(e,p,h),t!==null&&(Eo(t,e,h,u),Ip(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=hs(),u=Il(e),h=Oa(s,u);h.tag=2,t!=null&&(h.callback=t),t=kl(e,h,u),t!==null&&(Eo(t,e,u,s),Ip(t,e,u))}};function k0(e,t,s,u,h,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,y):t.prototype&&t.prototype.isPureReactComponent?!Xh(s,u)||!Xh(h,p):!0}function Ub(e,t,s){var u=!1,h=Dl,p=t.contextType;return typeof p=="object"&&p!==null?p=ro(p):(h=Ts(t)?_u:es.current,u=t.contextTypes,p=(u=u!=null)?Tc(e,h):Dl),t=new t(s,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zf,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),t}function P0(e,t,s,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,u),t.state!==e&&zf.enqueueReplaceState(t,t.state,null)}function hy(e,t,s,u){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs=Vb,Tv(e);var p=t.contextType;typeof p=="object"&&p!==null?h.context=ro(p):(p=Ts(t)?_u:es.current,h.context=Tc(e,p)),h.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(cy(e,t,p,s),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&zf.enqueueReplaceState(h,h.state,null),tf(e,s,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function ph(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ft(309));var u=s.stateNode}if(!u)throw Error(ft(147,e));var h=u,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(y){var a=h.refs;a===Vb&&(a=h.refs={}),y===null?delete a[p]:a[p]=y},t._stringRef=p,t)}if(typeof e!="string")throw Error(ft(284));if(!s._owner)throw Error(ft(290,e))}return e}function fp(e,t){throw e=Object.prototype.toString.call(t),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function I0(e){var t=e._init;return t(e._payload)}function jb(e){function t(k,D){if(e){var F=k.deletions;F===null?(k.deletions=[D],k.flags|=16):F.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)t(k,D),D=D.sibling;return null}function u(k,D){for(k=new Map;D!==null;)D.key!==null?k.set(D.key,D):k.set(D.index,D),D=D.sibling;return k}function h(k,D){return k=Ml(k,D),k.index=0,k.sibling=null,k}function p(k,D,F){return k.index=F,e?(F=k.alternate,F!==null?(F=F.index,F<D?(k.flags|=2,D):F):(k.flags|=2,D)):(k.flags|=1048576,D)}function y(k){return e&&k.alternate===null&&(k.flags|=2),k}function a(k,D,F,Y){return D===null||D.tag!==6?(D=dg(F,k.mode,Y),D.return=k,D):(D=h(D,F),D.return=k,D)}function T(k,D,F,Y){var xe=F.type;return xe===Ju?O(k,D,F.props.children,Y,F.key):D!==null&&(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ml&&I0(xe)===D.type)?(Y=h(D,F.props),Y.ref=ph(k,D,F),Y.return=k,Y):(Y=Bp(F.type,F.key,F.props,null,k.mode,Y),Y.ref=ph(k,D,F),Y.return=k,Y)}function z(k,D,F,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=pg(F,k.mode,Y),D.return=k,D):(D=h(D,F.children||[]),D.return=k,D)}function O(k,D,F,Y,xe){return D===null||D.tag!==7?(D=yu(F,k.mode,Y,xe),D.return=k,D):(D=h(D,F),D.return=k,D)}function j(k,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=dg(""+D,k.mode,F),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case np:return F=Bp(D.type,D.key,D.props,null,k.mode,F),F.ref=ph(k,null,D),F.return=k,F;case Qu:return D=pg(D,k.mode,F),D.return=k,D;case ml:var Y=D._init;return j(k,Y(D._payload),F)}if(wh(D)||lh(D))return D=yu(D,k.mode,F,null),D.return=k,D;fp(k,D)}return null}function S(k,D,F,Y){var xe=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return xe!==null?null:a(k,D,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case np:return F.key===xe?T(k,D,F,Y):null;case Qu:return F.key===xe?z(k,D,F,Y):null;case ml:return xe=F._init,S(k,D,xe(F._payload),Y)}if(wh(F)||lh(F))return xe!==null?null:O(k,D,F,Y,null);fp(k,F)}return null}function Q(k,D,F,Y,xe){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return k=k.get(F)||null,a(D,k,""+Y,xe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case np:return k=k.get(Y.key===null?F:Y.key)||null,T(D,k,Y,xe);case Qu:return k=k.get(Y.key===null?F:Y.key)||null,z(D,k,Y,xe);case ml:var E=Y._init;return Q(k,D,F,E(Y._payload),xe)}if(wh(Y)||lh(Y))return k=k.get(F)||null,O(D,k,Y,xe,null);fp(D,Y)}return null}function se(k,D,F,Y){for(var xe=null,E=null,Ne=D,qe=D=0,wt=null;Ne!==null&&qe<F.length;qe++){Ne.index>qe?(wt=Ne,Ne=null):wt=Ne.sibling;var At=S(k,Ne,F[qe],Y);if(At===null){Ne===null&&(Ne=wt);break}e&&Ne&&At.alternate===null&&t(k,Ne),D=p(At,D,qe),E===null?xe=At:E.sibling=At,E=At,Ne=wt}if(qe===F.length)return s(k,Ne),Bn&&lu(k,qe),xe;if(Ne===null){for(;qe<F.length;qe++)Ne=j(k,F[qe],Y),Ne!==null&&(D=p(Ne,D,qe),E===null?xe=Ne:E.sibling=Ne,E=Ne);return Bn&&lu(k,qe),xe}for(Ne=u(k,Ne);qe<F.length;qe++)wt=Q(Ne,k,qe,F[qe],Y),wt!==null&&(e&&wt.alternate!==null&&Ne.delete(wt.key===null?qe:wt.key),D=p(wt,D,qe),E===null?xe=wt:E.sibling=wt,E=wt);return e&&Ne.forEach(function(_i){return t(k,_i)}),Bn&&lu(k,qe),xe}function oe(k,D,F,Y){var xe=lh(F);if(typeof xe!="function")throw Error(ft(150));if(F=xe.call(F),F==null)throw Error(ft(151));for(var E=xe=null,Ne=D,qe=D=0,wt=null,At=F.next();Ne!==null&&!At.done;qe++,At=F.next()){Ne.index>qe?(wt=Ne,Ne=null):wt=Ne.sibling;var _i=S(k,Ne,At.value,Y);if(_i===null){Ne===null&&(Ne=wt);break}e&&Ne&&_i.alternate===null&&t(k,Ne),D=p(_i,D,qe),E===null?xe=_i:E.sibling=_i,E=_i,Ne=wt}if(At.done)return s(k,Ne),Bn&&lu(k,qe),xe;if(Ne===null){for(;!At.done;qe++,At=F.next())At=j(k,At.value,Y),At!==null&&(D=p(At,D,qe),E===null?xe=At:E.sibling=At,E=At);return Bn&&lu(k,qe),xe}for(Ne=u(k,Ne);!At.done;qe++,At=F.next())At=Q(Ne,k,qe,At.value,Y),At!==null&&(e&&At.alternate!==null&&Ne.delete(At.key===null?qe:At.key),D=p(At,D,qe),E===null?xe=At:E.sibling=At,E=At);return e&&Ne.forEach(function(ui){return t(k,ui)}),Bn&&lu(k,qe),xe}function he(k,D,F,Y){if(typeof F=="object"&&F!==null&&F.type===Ju&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case np:e:{for(var xe=F.key,E=D;E!==null;){if(E.key===xe){if(xe=F.type,xe===Ju){if(E.tag===7){s(k,E.sibling),D=h(E,F.props.children),D.return=k,k=D;break e}}else if(E.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ml&&I0(xe)===E.type){s(k,E.sibling),D=h(E,F.props),D.ref=ph(k,E,F),D.return=k,k=D;break e}s(k,E);break}else t(k,E);E=E.sibling}F.type===Ju?(D=yu(F.props.children,k.mode,Y,F.key),D.return=k,k=D):(Y=Bp(F.type,F.key,F.props,null,k.mode,Y),Y.ref=ph(k,D,F),Y.return=k,k=Y)}return y(k);case Qu:e:{for(E=F.key;D!==null;){if(D.key===E)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){s(k,D.sibling),D=h(D,F.children||[]),D.return=k,k=D;break e}else{s(k,D);break}else t(k,D);D=D.sibling}D=pg(F,k.mode,Y),D.return=k,k=D}return y(k);case ml:return E=F._init,he(k,D,E(F._payload),Y)}if(wh(F))return se(k,D,F,Y);if(lh(F))return oe(k,D,F,Y);fp(k,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(s(k,D.sibling),D=h(D,F),D.return=k,k=D):(s(k,D),D=dg(F,k.mode,Y),D.return=k,k=D),y(k)):s(k,D)}return he}var Ac=jb(!0),qb=jb(!1),_d={},na=Bl(_d),Jh=Bl(_d),ed=Bl(_d);function pu(e){if(e===_d)throw Error(ft(174));return e}function Cv(e,t){switch(kn(ed,t),kn(Jh,e),kn(na,_d),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qg(t,e)}Mn(na),kn(na,t)}function Ec(){Mn(na),Mn(Jh),Mn(ed)}function Gb(e){pu(ed.current);var t=pu(na.current),s=qg(t,e.type);t!==s&&(kn(Jh,e),kn(na,s))}function Av(e){Jh.current===e&&(Mn(na),Mn(Jh))}var qn=Bl(0);function nf(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var og=[];function Ev(){for(var e=0;e<og.length;e++)og[e]._workInProgressVersionPrimary=null;og.length=0}var Mp=Wa.ReactCurrentDispatcher,ag=Wa.ReactCurrentBatchConfig,wu=0,Gn=null,yr=null,Ar=null,rf=!1,Ih=!1,td=0,pk=0;function Yr(){throw Error(ft(321))}function kv(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Io(e[s],t[s]))return!1;return!0}function Pv(e,t,s,u,h,p){if(wu=p,Gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mp.current=e===null||e.memoizedState===null?yk:vk,e=s(u,h),Ih){p=0;do{if(Ih=!1,td=0,25<=p)throw Error(ft(301));p+=1,Ar=yr=null,t.updateQueue=null,Mp.current=_k,e=s(u,h)}while(Ih)}if(Mp.current=sf,t=yr!==null&&yr.next!==null,wu=0,Ar=yr=Gn=null,rf=!1,t)throw Error(ft(300));return e}function Iv(){var e=td!==0;return td=0,e}function Jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Gn.memoizedState=Ar=e:Ar=Ar.next=e,Ar}function so(){if(yr===null){var e=Gn.alternate;e=e!==null?e.memoizedState:null}else e=yr.next;var t=Ar===null?Gn.memoizedState:Ar.next;if(t!==null)Ar=t,yr=e;else{if(e===null)throw Error(ft(310));yr=e,e={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Ar===null?Gn.memoizedState=Ar=e:Ar=Ar.next=e}return Ar}function id(e,t){return typeof t=="function"?t(e):t}function lg(e){var t=so(),s=t.queue;if(s===null)throw Error(ft(311));s.lastRenderedReducer=e;var u=yr,h=u.baseQueue,p=s.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,s.pending=null}if(h!==null){p=h.next,u=u.baseState;var a=y=null,T=null,z=p;do{var O=z.lane;if((wu&O)===O)T!==null&&(T=T.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),u=z.hasEagerState?z.eagerState:e(u,z.action);else{var j={lane:O,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};T===null?(a=T=j,y=u):T=T.next=j,Gn.lanes|=O,bu|=O}z=z.next}while(z!==null&&z!==p);T===null?y=u:T.next=a,Io(u,t.memoizedState)||(bs=!0),t.memoizedState=u,t.baseState=y,t.baseQueue=T,s.lastRenderedState=u}if(e=s.interleaved,e!==null){h=e;do p=h.lane,Gn.lanes|=p,bu|=p,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ug(e){var t=so(),s=t.queue;if(s===null)throw Error(ft(311));s.lastRenderedReducer=e;var u=s.dispatch,h=s.pending,p=t.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do p=e(p,y.action),y=y.next;while(y!==h);Io(p,t.memoizedState)||(bs=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),s.lastRenderedState=p}return[p,u]}function Wb(){}function Hb(e,t){var s=Gn,u=so(),h=t(),p=!Io(u.memoizedState,h);if(p&&(u.memoizedState=h,bs=!0),u=u.queue,Mv(Xb.bind(null,s,u,e),[e]),u.getSnapshot!==t||p||Ar!==null&&Ar.memoizedState.tag&1){if(s.flags|=2048,nd(9,$b.bind(null,s,u,h,t),void 0,null),Er===null)throw Error(ft(349));(wu&30)!==0||Zb(s,t,h)}return h}function Zb(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Gn.updateQueue,t===null?(t={lastEffect:null,stores:null},Gn.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function $b(e,t,s,u){t.value=s,t.getSnapshot=u,Kb(t)&&Yb(e)}function Xb(e,t,s){return s(function(){Kb(t)&&Yb(e)})}function Kb(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Io(e,s)}catch{return!0}}function Yb(e){var t=ja(e,1);t!==null&&Eo(t,e,1,-1)}function M0(e){var t=Jo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:e},t.queue=e,e=e.dispatch=gk.bind(null,Gn,e),[t.memoizedState,e]}function nd(e,t,s,u){return e={tag:e,create:t,destroy:s,deps:u,next:null},t=Gn.updateQueue,t===null?(t={lastEffect:null,stores:null},Gn.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,t.lastEffect=e)),e}function Qb(){return so().memoizedState}function zp(e,t,s,u){var h=Jo();Gn.flags|=e,h.memoizedState=nd(1|t,s,void 0,u===void 0?null:u)}function Df(e,t,s,u){var h=so();u=u===void 0?null:u;var p=void 0;if(yr!==null){var y=yr.memoizedState;if(p=y.destroy,u!==null&&kv(u,y.deps)){h.memoizedState=nd(t,s,p,u);return}}Gn.flags|=e,h.memoizedState=nd(1|t,s,p,u)}function z0(e,t){return zp(8390656,8,e,t)}function Mv(e,t){return Df(2048,8,e,t)}function Jb(e,t){return Df(4,2,e,t)}function e2(e,t){return Df(4,4,e,t)}function t2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i2(e,t,s){return s=s!=null?s.concat([e]):null,Df(4,4,t2.bind(null,t,e),s)}function zv(){}function n2(e,t){var s=so();t=t===void 0?null:t;var u=s.memoizedState;return u!==null&&t!==null&&kv(t,u[1])?u[0]:(s.memoizedState=[e,t],e)}function r2(e,t){var s=so();t=t===void 0?null:t;var u=s.memoizedState;return u!==null&&t!==null&&kv(t,u[1])?u[0]:(e=e(),s.memoizedState=[e,t],e)}function s2(e,t,s){return(wu&21)===0?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=s):(Io(s,t)||(s=lb(),Gn.lanes|=s,bu|=s,e.baseState=!0),t)}function fk(e,t){var s=yn;yn=s!==0&&4>s?s:4,e(!0);var u=ag.transition;ag.transition={};try{e(!1),t()}finally{yn=s,ag.transition=u}}function o2(){return so().memoizedState}function mk(e,t,s){var u=Il(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},a2(e))l2(t,s);else if(s=Ob(e,t,s,u),s!==null){var h=hs();Eo(s,e,u,h),u2(s,t,u)}}function gk(e,t,s){var u=Il(e),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(a2(e))l2(t,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var y=t.lastRenderedState,a=p(y,s);if(h.hasEagerState=!0,h.eagerState=a,Io(a,y)){var T=t.interleaved;T===null?(h.next=h,Sv(t)):(h.next=T.next,T.next=h),t.interleaved=h;return}}catch{}finally{}s=Ob(e,t,h,u),s!==null&&(h=hs(),Eo(s,e,u,h),u2(s,t,u))}}function a2(e){var t=e.alternate;return e===Gn||t!==null&&t===Gn}function l2(e,t){Ih=rf=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function u2(e,t,s){if((s&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,uv(e,s)}}var sf={readContext:ro,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},yk={readContext:ro,useCallback:function(e,t){return Jo().memoizedState=[e,t===void 0?null:t],e},useContext:ro,useEffect:z0,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,zp(4194308,4,t2.bind(null,t,e),s)},useLayoutEffect:function(e,t){return zp(4194308,4,e,t)},useInsertionEffect:function(e,t){return zp(4,2,e,t)},useMemo:function(e,t){var s=Jo();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var u=Jo();return t=s!==void 0?s(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=mk.bind(null,Gn,e),[u.memoizedState,e]},useRef:function(e){var t=Jo();return e={current:e},t.memoizedState=e},useState:M0,useDebugValue:zv,useDeferredValue:function(e){return Jo().memoizedState=e},useTransition:function(){var e=M0(!1),t=e[0];return e=fk.bind(null,e[1]),Jo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var u=Gn,h=Jo();if(Bn){if(s===void 0)throw Error(ft(407));s=s()}else{if(s=t(),Er===null)throw Error(ft(349));(wu&30)!==0||Zb(u,t,s)}h.memoizedState=s;var p={value:s,getSnapshot:t};return h.queue=p,z0(Xb.bind(null,u,p,e),[e]),u.flags|=2048,nd(9,$b.bind(null,u,p,s,t),void 0,null),s},useId:function(){var e=Jo(),t=Er.identifierPrefix;if(Bn){var s=Na,u=Ba;s=(u&~(1<<32-Ao(u)-1)).toString(32)+s,t=":"+t+"R"+s,s=td++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=pk++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vk={readContext:ro,useCallback:n2,useContext:ro,useEffect:Mv,useImperativeHandle:i2,useInsertionEffect:Jb,useLayoutEffect:e2,useMemo:r2,useReducer:lg,useRef:Qb,useState:function(){return lg(id)},useDebugValue:zv,useDeferredValue:function(e){var t=so();return s2(t,yr.memoizedState,e)},useTransition:function(){var e=lg(id)[0],t=so().memoizedState;return[e,t]},useMutableSource:Wb,useSyncExternalStore:Hb,useId:o2,unstable_isNewReconciler:!1},_k={readContext:ro,useCallback:n2,useContext:ro,useEffect:Mv,useImperativeHandle:i2,useInsertionEffect:Jb,useLayoutEffect:e2,useMemo:r2,useReducer:ug,useRef:Qb,useState:function(){return ug(id)},useDebugValue:zv,useDeferredValue:function(e){var t=so();return yr===null?t.memoizedState=e:s2(t,yr.memoizedState,e)},useTransition:function(){var e=ug(id)[0],t=so().memoizedState;return[e,t]},useMutableSource:Wb,useSyncExternalStore:Hb,useId:o2,unstable_isNewReconciler:!1};function kc(e,t){try{var s="",u=t;do s+=ZA(u),u=u.return;while(u);var h=s}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:h,digest:null}}function cg(e,t,s){return{value:e,source:null,stack:s!=null?s:null,digest:t!=null?t:null}}function dy(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var xk=typeof WeakMap=="function"?WeakMap:Map;function c2(e,t,s){s=Oa(-1,s),s.tag=3,s.payload={element:null};var u=t.value;return s.callback=function(){af||(af=!0,by=u),dy(e,t)},s}function h2(e,t,s){s=Oa(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=t.value;s.payload=function(){return u(h)},s.callback=function(){dy(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){dy(e,t),typeof u!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),s}function D0(e,t,s){var u=e.pingCache;if(u===null){u=e.pingCache=new xk;var h=new Set;u.set(t,h)}else h=u.get(t),h===void 0&&(h=new Set,u.set(t,h));h.has(s)||(h.add(s),e=Lk.bind(null,e,t,s),t.then(e,e))}function L0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function R0(e,t,s,u,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Oa(-1,1),t.tag=2,kl(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var wk=Wa.ReactCurrentOwner,bs=!1;function cs(e,t,s,u){t.child=e===null?qb(t,null,s,u):Ac(t,e.child,s,u)}function B0(e,t,s,u,h){s=s.render;var p=t.ref;return yc(t,h),u=Pv(e,t,s,u,p,h),s=Iv(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,qa(e,t,h)):(Bn&&s&&yv(t),t.flags|=1,cs(e,t,u,h),t.child)}function N0(e,t,s,u,h){if(e===null){var p=s.type;return typeof p=="function"&&!Vv(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=p,d2(e,t,p,u,h)):(e=Bp(s.type,null,u,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&h)===0){var y=p.memoizedProps;if(s=s.compare,s=s!==null?s:Xh,s(y,u)&&e.ref===t.ref)return qa(e,t,h)}return t.flags|=1,e=Ml(p,u),e.ref=t.ref,e.return=t,t.child=e}function d2(e,t,s,u,h){if(e!==null){var p=e.memoizedProps;if(Xh(p,u)&&e.ref===t.ref)if(bs=!1,t.pendingProps=u=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(bs=!0);else return t.lanes=e.lanes,qa(e,t,h)}return py(e,t,s,u,h)}function p2(e,t,s){var u=t.pendingProps,h=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(uc,Ls),Ls|=s;else{if((s&1073741824)===0)return e=p!==null?p.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kn(uc,Ls),Ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:s,kn(uc,Ls),Ls|=u}else p!==null?(u=p.baseLanes|s,t.memoizedState=null):u=s,kn(uc,Ls),Ls|=u;return cs(e,t,h,s),t.child}function f2(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function py(e,t,s,u,h){var p=Ts(s)?_u:es.current;return p=Tc(t,p),yc(t,h),s=Pv(e,t,s,u,p,h),u=Iv(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,qa(e,t,h)):(Bn&&u&&yv(t),t.flags|=1,cs(e,t,s,h),t.child)}function O0(e,t,s,u,h){if(Ts(s)){var p=!0;Kp(t)}else p=!1;if(yc(t,h),t.stateNode===null)Dp(e,t),Ub(t,s,u),hy(t,s,u,h),u=!0;else if(e===null){var y=t.stateNode,a=t.memoizedProps;y.props=a;var T=y.context,z=s.contextType;typeof z=="object"&&z!==null?z=ro(z):(z=Ts(s)?_u:es.current,z=Tc(t,z));var O=s.getDerivedStateFromProps,j=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function";j||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(a!==u||T!==z)&&P0(t,y,u,z),gl=!1;var S=t.memoizedState;y.state=S,tf(t,u,y,h),T=t.memoizedState,a!==u||S!==T||Ss.current||gl?(typeof O=="function"&&(cy(t,s,O,u),T=t.memoizedState),(a=gl||k0(t,s,a,u,S,T,z))?(j||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=T),y.props=u,y.state=T,y.context=z,u=a):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{y=t.stateNode,Fb(e,t),a=t.memoizedProps,z=t.type===t.elementType?a:So(t.type,a),y.props=z,j=t.pendingProps,S=y.context,T=s.contextType,typeof T=="object"&&T!==null?T=ro(T):(T=Ts(s)?_u:es.current,T=Tc(t,T));var Q=s.getDerivedStateFromProps;(O=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(a!==j||S!==T)&&P0(t,y,u,T),gl=!1,S=t.memoizedState,y.state=S,tf(t,u,y,h);var se=t.memoizedState;a!==j||S!==se||Ss.current||gl?(typeof Q=="function"&&(cy(t,s,Q,u),se=t.memoizedState),(z=gl||k0(t,s,z,u,S,se,T)||!1)?(O||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,se,T),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,se,T)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||a===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=se),y.props=u,y.state=se,y.context=T,u=z):(typeof y.componentDidUpdate!="function"||a===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),u=!1)}return fy(e,t,s,u,p,h)}function fy(e,t,s,u,h,p){f2(e,t);var y=(t.flags&128)!==0;if(!u&&!y)return h&&S0(t,s,!1),qa(e,t,p);u=t.stateNode,wk.current=t;var a=y&&typeof s.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&y?(t.child=Ac(t,e.child,null,p),t.child=Ac(t,null,a,p)):cs(e,t,a,p),t.memoizedState=u.state,h&&S0(t,s,!0),t.child}function m2(e){var t=e.stateNode;t.pendingContext?b0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b0(e,t.context,!1),Cv(e,t.containerInfo)}function F0(e,t,s,u,h){return Cc(),_v(h),t.flags|=256,cs(e,t,s,u),t.child}var my={dehydrated:null,treeContext:null,retryLane:0};function gy(e){return{baseLanes:e,cachePool:null,transitions:null}}function g2(e,t,s){var u=t.pendingProps,h=qn.current,p=!1,y=(t.flags&128)!==0,a;if((a=y)||(a=e!==null&&e.memoizedState===null?!1:(h&2)!==0),a?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),kn(qn,h&1),e===null)return ly(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=u.children,e=u.fallback,p?(u=t.mode,p=t.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Bf(y,u,0,null),e=yu(e,u,s,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=gy(s),t.memoizedState=my,e):Dv(t,y));if(h=e.memoizedState,h!==null&&(a=h.dehydrated,a!==null))return bk(e,t,y,u,a,h,s);if(p){p=u.fallback,y=t.mode,h=e.child,a=h.sibling;var T={mode:"hidden",children:u.children};return(y&1)===0&&t.child!==h?(u=t.child,u.childLanes=0,u.pendingProps=T,t.deletions=null):(u=Ml(h,T),u.subtreeFlags=h.subtreeFlags&14680064),a!==null?p=Ml(a,p):(p=yu(p,y,s,null),p.flags|=2),p.return=t,u.return=t,u.sibling=p,t.child=u,u=p,p=t.child,y=e.child.memoizedState,y=y===null?gy(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=e.childLanes&~s,t.memoizedState=my,u}return p=e.child,e=p.sibling,u=Ml(p,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=s),u.return=t,u.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=u,t.memoizedState=null,u}function Dv(e,t){return t=Bf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mp(e,t,s,u){return u!==null&&_v(u),Ac(t,e.child,null,s),e=Dv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bk(e,t,s,u,h,p,y){if(s)return t.flags&256?(t.flags&=-257,u=cg(Error(ft(422))),mp(e,t,y,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=u.fallback,h=t.mode,u=Bf({mode:"visible",children:u.children},h,0,null),p=yu(p,h,y,null),p.flags|=2,u.return=t,p.return=t,u.sibling=p,t.child=u,(t.mode&1)!==0&&Ac(t,e.child,null,y),t.child.memoizedState=gy(y),t.memoizedState=my,p);if((t.mode&1)===0)return mp(e,t,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var a=u.dgst;return u=a,p=Error(ft(419)),u=cg(p,u,void 0),mp(e,t,y,u)}if(a=(y&e.childLanes)!==0,bs||a){if(u=Er,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ja(e,h),Eo(u,e,h,-1))}return Fv(),u=cg(Error(ft(421))),mp(e,t,y,u)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Rk.bind(null,e),h._reactRetry=t,null):(e=p.treeContext,Rs=El(h.nextSibling),Bs=t,Bn=!0,Co=null,e!==null&&(Js[eo++]=Ba,Js[eo++]=Na,Js[eo++]=xu,Ba=e.id,Na=e.overflow,xu=t),t=Dv(t,u.children),t.flags|=4096,t)}function V0(e,t,s){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),uy(e.return,t,s)}function hg(e,t,s,u,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=h)}function y2(e,t,s){var u=t.pendingProps,h=u.revealOrder,p=u.tail;if(cs(e,t,u.children,s),u=qn.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V0(e,s,t);else if(e.tag===19)V0(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(kn(qn,u),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(s=t.child,h=null;s!==null;)e=s.alternate,e!==null&&nf(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=t.child,t.child=null):(h=s.sibling,s.sibling=null),hg(t,!1,h,s,p);break;case"backwards":for(s=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&nf(e)===null){t.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}hg(t,!0,s,null,p);break;case"together":hg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dp(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),bu|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(ft(153));if(t.child!==null){for(e=t.child,s=Ml(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ml(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Sk(e,t,s){switch(t.tag){case 3:m2(t),Cc();break;case 5:Gb(t);break;case 1:Ts(t.type)&&Kp(t);break;case 4:Cv(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,h=t.memoizedProps.value;kn(Jp,u._currentValue),u._currentValue=h;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(kn(qn,qn.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?g2(e,t,s):(kn(qn,qn.current&1),e=qa(e,t,s),e!==null?e.sibling:null);kn(qn,qn.current&1);break;case 19:if(u=(s&t.childLanes)!==0,(e.flags&128)!==0){if(u)return y2(e,t,s);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),kn(qn,qn.current),u)break;return null;case 22:case 23:return t.lanes=0,p2(e,t,s)}return qa(e,t,s)}var v2,yy,_2,x2;v2=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};yy=function(){};_2=function(e,t,s,u){var h=e.memoizedProps;if(h!==u){e=t.stateNode,pu(na.current);var p=null;switch(s){case"input":h=Fg(e,h),u=Fg(e,u),p=[];break;case"select":h=Wn({},h,{value:void 0}),u=Wn({},u,{value:void 0}),p=[];break;case"textarea":h=jg(e,h),u=jg(e,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=$p)}Gg(s,u);var y;s=null;for(z in h)if(!u.hasOwnProperty(z)&&h.hasOwnProperty(z)&&h[z]!=null)if(z==="style"){var a=h[z];for(y in a)a.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(jh.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in u){var T=u[z];if(a=h!=null?h[z]:void 0,u.hasOwnProperty(z)&&T!==a&&(T!=null||a!=null))if(z==="style")if(a){for(y in a)!a.hasOwnProperty(y)||T&&T.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in T)T.hasOwnProperty(y)&&a[y]!==T[y]&&(s||(s={}),s[y]=T[y])}else s||(p||(p=[]),p.push(z,s)),s=T;else z==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,a=a?a.__html:void 0,T!=null&&a!==T&&(p=p||[]).push(z,T)):z==="children"?typeof T!="string"&&typeof T!="number"||(p=p||[]).push(z,""+T):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(jh.hasOwnProperty(z)?(T!=null&&z==="onScroll"&&In("scroll",e),p||a===T||(p=[])):(p=p||[]).push(z,T))}s&&(p=p||[]).push("style",s);var z=p;(t.updateQueue=z)&&(t.flags|=4)}};x2=function(e,t,s,u){s!==u&&(t.flags|=4)};function fh(e,t){if(!Bn)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Qr(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(t)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=s,t}function Tk(e,t,s){var u=t.pendingProps;switch(vv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(t),null;case 1:return Ts(t.type)&&Xp(),Qr(t),null;case 3:return u=t.stateNode,Ec(),Mn(Ss),Mn(es),Ev(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(pp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Co!==null&&(Cy(Co),Co=null))),yy(e,t),Qr(t),null;case 5:Av(t);var h=pu(ed.current);if(s=t.type,e!==null&&t.stateNode!=null)_2(e,t,s,u,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(ft(166));return Qr(t),null}if(e=pu(na.current),pp(t)){u=t.stateNode,s=t.type;var p=t.memoizedProps;switch(u[ta]=t,u[Qh]=p,e=(t.mode&1)!==0,s){case"dialog":In("cancel",u),In("close",u);break;case"iframe":case"object":case"embed":In("load",u);break;case"video":case"audio":for(h=0;h<Sh.length;h++)In(Sh[h],u);break;case"source":In("error",u);break;case"img":case"image":case"link":In("error",u),In("load",u);break;case"details":In("toggle",u);break;case"input":Xx(u,p),In("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},In("invalid",u);break;case"textarea":Yx(u,p),In("invalid",u)}Gg(s,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var a=p[y];y==="children"?typeof a=="string"?u.textContent!==a&&(p.suppressHydrationWarning!==!0&&dp(u.textContent,a,e),h=["children",a]):typeof a=="number"&&u.textContent!==""+a&&(p.suppressHydrationWarning!==!0&&dp(u.textContent,a,e),h=["children",""+a]):jh.hasOwnProperty(y)&&a!=null&&y==="onScroll"&&In("scroll",u)}switch(s){case"input":rp(u),Kx(u,p,!0);break;case"textarea":rp(u),Qx(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=$p)}u=h,t.updateQueue=u,u!==null&&(t.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zw(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(s,{is:u.is}):(e=y.createElement(s),s==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,s),e[ta]=t,e[Qh]=u,v2(e,t,!1,!1),t.stateNode=e;e:{switch(y=Wg(s,u),s){case"dialog":In("cancel",e),In("close",e),h=u;break;case"iframe":case"object":case"embed":In("load",e),h=u;break;case"video":case"audio":for(h=0;h<Sh.length;h++)In(Sh[h],e);h=u;break;case"source":In("error",e),h=u;break;case"img":case"image":case"link":In("error",e),In("load",e),h=u;break;case"details":In("toggle",e),h=u;break;case"input":Xx(e,u),h=Fg(e,u),In("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=Wn({},u,{value:void 0}),In("invalid",e);break;case"textarea":Yx(e,u),h=jg(e,u),In("invalid",e);break;default:h=u}Gg(s,h),a=h;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];p==="style"?Kw(e,T):p==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&$w(e,T)):p==="children"?typeof T=="string"?(s!=="textarea"||T!=="")&&qh(e,T):typeof T=="number"&&qh(e,""+T):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(jh.hasOwnProperty(p)?T!=null&&p==="onScroll"&&In("scroll",e):T!=null&&nv(e,p,T,y))}switch(s){case"input":rp(e),Kx(e,u,!1);break;case"textarea":rp(e),Qx(e);break;case"option":u.value!=null&&e.setAttribute("value",""+zl(u.value));break;case"select":e.multiple=!!u.multiple,p=u.value,p!=null?pc(e,!!u.multiple,p,!1):u.defaultValue!=null&&pc(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=$p)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qr(t),null;case 6:if(e&&t.stateNode!=null)x2(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(ft(166));if(s=pu(ed.current),pu(na.current),pp(t)){if(u=t.stateNode,s=t.memoizedProps,u[ta]=t,(p=u.nodeValue!==s)&&(e=Bs,e!==null))switch(e.tag){case 3:dp(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dp(u.nodeValue,s,(e.mode&1)!==0)}p&&(t.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[ta]=t,t.stateNode=u}return Qr(t),null;case 13:if(Mn(qn),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bn&&Rs!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Nb(),Cc(),t.flags|=98560,p=!1;else if(p=pp(t),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(ft(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(ft(317));p[ta]=t}else Cc(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qr(t),p=!1}else Co!==null&&(Cy(Co),Co=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(qn.current&1)!==0?vr===0&&(vr=3):Fv())),t.updateQueue!==null&&(t.flags|=4),Qr(t),null);case 4:return Ec(),yy(e,t),e===null&&Kh(t.stateNode.containerInfo),Qr(t),null;case 10:return bv(t.type._context),Qr(t),null;case 17:return Ts(t.type)&&Xp(),Qr(t),null;case 19:if(Mn(qn),p=t.memoizedState,p===null)return Qr(t),null;if(u=(t.flags&128)!==0,y=p.rendering,y===null)if(u)fh(p,!1);else{if(vr!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=nf(e),y!==null){for(t.flags|=128,fh(p,!1),u=y.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=s,s=t.child;s!==null;)p=s,e=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,e=y.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return kn(qn,qn.current&1|2),t.child}e=e.sibling}p.tail!==null&&nr()>Pc&&(t.flags|=128,u=!0,fh(p,!1),t.lanes=4194304)}else{if(!u)if(e=nf(y),e!==null){if(t.flags|=128,u=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),fh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Bn)return Qr(t),null}else 2*nr()-p.renderingStartTime>Pc&&s!==1073741824&&(t.flags|=128,u=!0,fh(p,!1),t.lanes=4194304);p.isBackwards?(y.sibling=t.child,t.child=y):(s=p.last,s!==null?s.sibling=y:t.child=y,p.last=y)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=nr(),t.sibling=null,s=qn.current,kn(qn,u?s&1|2:s&1),t):(Qr(t),null);case 22:case 23:return Ov(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(Ls&1073741824)!==0&&(Qr(t),t.subtreeFlags&6&&(t.flags|=8192)):Qr(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function Ck(e,t){switch(vv(t),t.tag){case 1:return Ts(t.type)&&Xp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ec(),Mn(Ss),Mn(es),Ev(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Av(t),null;case 13:if(Mn(qn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));Cc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mn(qn),null;case 4:return Ec(),null;case 10:return bv(t.type._context),null;case 22:case 23:return Ov(),null;case 24:return null;default:return null}}var gp=!1,Jr=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,jt=null;function lc(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Qn(e,t,u)}else s.current=null}function vy(e,t,s){try{s()}catch(u){Qn(e,t,u)}}var U0=!1;function Ek(e,t){if(ty=Wp,e=Tb(),gv(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var y=0,a=-1,T=-1,z=0,O=0,j=e,S=null;t:for(;;){for(var Q;j!==s||h!==0&&j.nodeType!==3||(a=y+h),j!==p||u!==0&&j.nodeType!==3||(T=y+u),j.nodeType===3&&(y+=j.nodeValue.length),(Q=j.firstChild)!==null;)S=j,j=Q;for(;;){if(j===e)break t;if(S===s&&++z===h&&(a=y),S===p&&++O===u&&(T=y),(Q=j.nextSibling)!==null)break;j=S,S=j.parentNode}j=Q}s=a===-1||T===-1?null:{start:a,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(iy={focusedElem:e,selectionRange:s},Wp=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){t=jt;try{var se=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,he=se.memoizedState,k=t.stateNode,D=k.getSnapshotBeforeUpdate(t.elementType===t.type?oe:So(t.type,oe),he);k.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(Y){Qn(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}return se=U0,U0=!1,se}function Mh(e,t,s){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&vy(t,s,p)}h=h.next}while(h!==u)}}function Lf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==t)}}function _y(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function w2(e){var t=e.alternate;t!==null&&(e.alternate=null,w2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ta],delete t[Qh],delete t[sy],delete t[uk],delete t[ck])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b2(e){return e.tag===5||e.tag===3||e.tag===4}function j0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xy(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=$p));else if(u!==4&&(e=e.child,e!==null))for(xy(e,t,s),e=e.sibling;e!==null;)xy(e,t,s),e=e.sibling}function wy(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(wy(e,t,s),e=e.sibling;e!==null;)wy(e,t,s),e=e.sibling}var Or=null,To=!1;function pl(e,t,s){for(s=s.child;s!==null;)S2(e,t,s),s=s.sibling}function S2(e,t,s){if(ia&&typeof ia.onCommitFiberUnmount=="function")try{ia.onCommitFiberUnmount(Af,s)}catch{}switch(s.tag){case 5:Jr||lc(s,t);case 6:var u=Or,h=To;Or=null,pl(e,t,s),Or=u,To=h,Or!==null&&(To?(e=Or,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Or.removeChild(s.stateNode));break;case 18:Or!==null&&(To?(e=Or,s=s.stateNode,e.nodeType===8?rg(e.parentNode,s):e.nodeType===1&&rg(e,s),Zh(e)):rg(Or,s.stateNode));break;case 4:u=Or,h=To,Or=s.stateNode.containerInfo,To=!0,pl(e,t,s),Or=u,To=h;break;case 0:case 11:case 14:case 15:if(!Jr&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&vy(s,t,y),h=h.next}while(h!==u)}pl(e,t,s);break;case 1:if(!Jr&&(lc(s,t),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(a){Qn(s,t,a)}pl(e,t,s);break;case 21:pl(e,t,s);break;case 22:s.mode&1?(Jr=(u=Jr)||s.memoizedState!==null,pl(e,t,s),Jr=u):pl(e,t,s);break;default:pl(e,t,s)}}function q0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ak),t.forEach(function(u){var h=Bk.bind(null,e,u);s.has(u)||(s.add(u),u.then(h,h))})}}function xo(e,t){var s=t.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var p=e,y=t,a=y;e:for(;a!==null;){switch(a.tag){case 5:Or=a.stateNode,To=!1;break e;case 3:Or=a.stateNode.containerInfo,To=!0;break e;case 4:Or=a.stateNode.containerInfo,To=!0;break e}a=a.return}if(Or===null)throw Error(ft(160));S2(p,y,h),Or=null,To=!1;var T=h.alternate;T!==null&&(T.return=null),h.return=null}catch(z){Qn(h,t,z)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)T2(t,e),t=t.sibling}function T2(e,t){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xo(t,e),Qo(e),u&4){try{Mh(3,e,e.return),Lf(3,e)}catch(oe){Qn(e,e.return,oe)}try{Mh(5,e,e.return)}catch(oe){Qn(e,e.return,oe)}}break;case 1:xo(t,e),Qo(e),u&512&&s!==null&&lc(s,s.return);break;case 5:if(xo(t,e),Qo(e),u&512&&s!==null&&lc(s,s.return),e.flags&32){var h=e.stateNode;try{qh(h,"")}catch(oe){Qn(e,e.return,oe)}}if(u&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,y=s!==null?s.memoizedProps:p,a=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{a==="input"&&p.type==="radio"&&p.name!=null&&Ww(h,p),Wg(a,y);var z=Wg(a,p);for(y=0;y<T.length;y+=2){var O=T[y],j=T[y+1];O==="style"?Kw(h,j):O==="dangerouslySetInnerHTML"?$w(h,j):O==="children"?qh(h,j):nv(h,O,j,z)}switch(a){case"input":Vg(h,p);break;case"textarea":Hw(h,p);break;case"select":var S=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Q=p.value;Q!=null?pc(h,!!p.multiple,Q,!1):S!==!!p.multiple&&(p.defaultValue!=null?pc(h,!!p.multiple,p.defaultValue,!0):pc(h,!!p.multiple,p.multiple?[]:"",!1))}h[Qh]=p}catch(oe){Qn(e,e.return,oe)}}break;case 6:if(xo(t,e),Qo(e),u&4){if(e.stateNode===null)throw Error(ft(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(oe){Qn(e,e.return,oe)}}break;case 3:if(xo(t,e),Qo(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Zh(t.containerInfo)}catch(oe){Qn(e,e.return,oe)}break;case 4:xo(t,e),Qo(e);break;case 13:xo(t,e),Qo(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Bv=nr())),u&4&&q0(e);break;case 22:if(O=s!==null&&s.memoizedState!==null,e.mode&1?(Jr=(z=Jr)||O,xo(t,e),Jr=z):xo(t,e),Qo(e),u&8192){if(z=e.memoizedState!==null,(e.stateNode.isHidden=z)&&!O&&(e.mode&1)!==0)for(jt=e,O=e.child;O!==null;){for(j=jt=O;jt!==null;){switch(S=jt,Q=S.child,S.tag){case 0:case 11:case 14:case 15:Mh(4,S,S.return);break;case 1:lc(S,S.return);var se=S.stateNode;if(typeof se.componentWillUnmount=="function"){u=S,s=S.return;try{t=u,se.props=t.memoizedProps,se.state=t.memoizedState,se.componentWillUnmount()}catch(oe){Qn(u,s,oe)}}break;case 5:lc(S,S.return);break;case 22:if(S.memoizedState!==null){W0(j);continue}}Q!==null?(Q.return=S,jt=Q):W0(j)}O=O.sibling}e:for(O=null,j=e;;){if(j.tag===5){if(O===null){O=j;try{h=j.stateNode,z?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(a=j.stateNode,T=j.memoizedProps.style,y=T!=null&&T.hasOwnProperty("display")?T.display:null,a.style.display=Xw("display",y))}catch(oe){Qn(e,e.return,oe)}}}else if(j.tag===6){if(O===null)try{j.stateNode.nodeValue=z?"":j.memoizedProps}catch(oe){Qn(e,e.return,oe)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;O===j&&(O=null),j=j.return}O===j&&(O=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:xo(t,e),Qo(e),u&4&&q0(e);break;case 21:break;default:xo(t,e),Qo(e)}}function Qo(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(b2(s)){var u=s;break e}s=s.return}throw Error(ft(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(qh(h,""),u.flags&=-33);var p=j0(e);wy(e,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,a=j0(e);xy(e,a,y);break;default:throw Error(ft(161))}}catch(T){Qn(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kk(e,t,s){jt=e,C2(e)}function C2(e,t,s){for(var u=(e.mode&1)!==0;jt!==null;){var h=jt,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||gp;if(!y){var a=h.alternate,T=a!==null&&a.memoizedState!==null||Jr;a=gp;var z=Jr;if(gp=y,(Jr=T)&&!z)for(jt=h;jt!==null;)y=jt,T=y.child,y.tag===22&&y.memoizedState!==null?H0(h):T!==null?(T.return=y,jt=T):H0(h);for(;p!==null;)jt=p,C2(p),p=p.sibling;jt=h,gp=a,Jr=z}G0(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,jt=p):G0(e)}}function G0(e){for(;jt!==null;){var t=jt;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Jr||Lf(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!Jr)if(s===null)u.componentDidMount();else{var h=t.elementType===t.type?s.memoizedProps:So(t.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&E0(t,p,u);break;case 3:var y=t.updateQueue;if(y!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}E0(t,y,s)}break;case 5:var a=t.stateNode;if(s===null&&t.flags&4){s=a;var T=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&s.focus();break;case"img":T.src&&(s.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var z=t.alternate;if(z!==null){var O=z.memoizedState;if(O!==null){var j=O.dehydrated;j!==null&&Zh(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}Jr||t.flags&512&&_y(t)}catch(S){Qn(t,t.return,S)}}if(t===e){jt=null;break}if(s=t.sibling,s!==null){s.return=t.return,jt=s;break}jt=t.return}}function W0(e){for(;jt!==null;){var t=jt;if(t===e){jt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,jt=s;break}jt=t.return}}function H0(e){for(;jt!==null;){var t=jt;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Lf(4,t)}catch(T){Qn(t,s,T)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var h=t.return;try{u.componentDidMount()}catch(T){Qn(t,h,T)}}var p=t.return;try{_y(t)}catch(T){Qn(t,p,T)}break;case 5:var y=t.return;try{_y(t)}catch(T){Qn(t,y,T)}}}catch(T){Qn(t,t.return,T)}if(t===e){jt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,jt=a;break}jt=t.return}}var Pk=Math.ceil,of=Wa.ReactCurrentDispatcher,Lv=Wa.ReactCurrentOwner,io=Wa.ReactCurrentBatchConfig,tn=0,Er=null,hr=null,Vr=0,Ls=0,uc=Bl(0),vr=0,rd=null,bu=0,Rf=0,Rv=0,zh=null,ws=null,Bv=0,Pc=1/0,La=null,af=!1,by=null,Pl=null,yp=!1,wl=null,lf=0,Dh=0,Sy=null,Lp=-1,Rp=0;function hs(){return(tn&6)!==0?nr():Lp!==-1?Lp:Lp=nr()}function Il(e){return(e.mode&1)===0?1:(tn&2)!==0&&Vr!==0?Vr&-Vr:dk.transition!==null?(Rp===0&&(Rp=lb()),Rp):(e=yn,e!==0||(e=window.event,e=e===void 0?16:mb(e.type)),e)}function Eo(e,t,s,u){if(50<Dh)throw Dh=0,Sy=null,Error(ft(185));gd(e,s,u),((tn&2)===0||e!==Er)&&(e===Er&&((tn&2)===0&&(Rf|=s),vr===4&&_l(e,Vr)),Cs(e,u),s===1&&tn===0&&(t.mode&1)===0&&(Pc=nr()+500,Mf&&Nl()))}function Cs(e,t){var s=e.callbackNode;dE(e,t);var u=Gp(e,e===Er?Vr:0);if(u===0)s!==null&&t0(s),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(s!=null&&t0(s),t===1)e.tag===0?hk(Z0.bind(null,e)):Lb(Z0.bind(null,e)),ak(function(){(tn&6)===0&&Nl()}),s=null;else{switch(ub(u)){case 1:s=lv;break;case 4:s=ob;break;case 16:s=qp;break;case 536870912:s=ab;break;default:s=qp}s=D2(s,A2.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function A2(e,t){if(Lp=-1,Rp=0,(tn&6)!==0)throw Error(ft(327));var s=e.callbackNode;if(vc()&&e.callbackNode!==s)return null;var u=Gp(e,e===Er?Vr:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=uf(e,u);else{t=u;var h=tn;tn|=2;var p=k2();(Er!==e||Vr!==t)&&(La=null,Pc=nr()+500,gu(e,t));do try{zk();break}catch(a){E2(e,a)}while(1);wv(),of.current=p,tn=h,hr!==null?t=0:(Er=null,Vr=0,t=vr)}if(t!==0){if(t===2&&(h=Kg(e),h!==0&&(u=h,t=Ty(e,h))),t===1)throw s=rd,gu(e,0),_l(e,u),Cs(e,nr()),s;if(t===6)_l(e,u);else{if(h=e.current.alternate,(u&30)===0&&!Ik(h)&&(t=uf(e,u),t===2&&(p=Kg(e),p!==0&&(u=p,t=Ty(e,p))),t===1))throw s=rd,gu(e,0),_l(e,u),Cs(e,nr()),s;switch(e.finishedWork=h,e.finishedLanes=u,t){case 0:case 1:throw Error(ft(345));case 2:uu(e,ws,La);break;case 3:if(_l(e,u),(u&130023424)===u&&(t=Bv+500-nr(),10<t)){if(Gp(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){hs(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=ry(uu.bind(null,e,ws,La),t);break}uu(e,ws,La);break;case 4:if(_l(e,u),(u&4194240)===u)break;for(t=e.eventTimes,h=-1;0<u;){var y=31-Ao(u);p=1<<y,y=t[y],y>h&&(h=y),u&=~p}if(u=h,u=nr()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Pk(u/1960))-u,10<u){e.timeoutHandle=ry(uu.bind(null,e,ws,La),u);break}uu(e,ws,La);break;case 5:uu(e,ws,La);break;default:throw Error(ft(329))}}}return Cs(e,nr()),e.callbackNode===s?A2.bind(null,e):null}function Ty(e,t){var s=zh;return e.current.memoizedState.isDehydrated&&(gu(e,t).flags|=256),e=uf(e,t),e!==2&&(t=ws,ws=s,t!==null&&Cy(t)),e}function Cy(e){ws===null?ws=e:ws.push.apply(ws,e)}function Ik(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],p=h.getSnapshot;h=h.value;try{if(!Io(p(),h))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _l(e,t){for(t&=~Rv,t&=~Rf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Ao(t),u=1<<s;e[s]=-1,t&=~u}}function Z0(e){if((tn&6)!==0)throw Error(ft(327));vc();var t=Gp(e,0);if((t&1)===0)return Cs(e,nr()),null;var s=uf(e,t);if(e.tag!==0&&s===2){var u=Kg(e);u!==0&&(t=u,s=Ty(e,u))}if(s===1)throw s=rd,gu(e,0),_l(e,t),Cs(e,nr()),s;if(s===6)throw Error(ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uu(e,ws,La),Cs(e,nr()),null}function Nv(e,t){var s=tn;tn|=1;try{return e(t)}finally{tn=s,tn===0&&(Pc=nr()+500,Mf&&Nl())}}function Su(e){wl!==null&&wl.tag===0&&(tn&6)===0&&vc();var t=tn;tn|=1;var s=io.transition,u=yn;try{if(io.transition=null,yn=1,e)return e()}finally{yn=u,io.transition=s,tn=t,(tn&6)===0&&Nl()}}function Ov(){Ls=uc.current,Mn(uc)}function gu(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ok(s)),hr!==null)for(s=hr.return;s!==null;){var u=s;switch(vv(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Xp();break;case 3:Ec(),Mn(Ss),Mn(es),Ev();break;case 5:Av(u);break;case 4:Ec();break;case 13:Mn(qn);break;case 19:Mn(qn);break;case 10:bv(u.type._context);break;case 22:case 23:Ov()}s=s.return}if(Er=e,hr=e=Ml(e.current,null),Vr=Ls=t,vr=0,rd=null,Rv=Rf=bu=0,ws=zh=null,du!==null){for(t=0;t<du.length;t++)if(s=du[t],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,p=s.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}s.pending=u}du=null}return e}function E2(e,t){do{var s=hr;try{if(wv(),Mp.current=sf,rf){for(var u=Gn.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}rf=!1}if(wu=0,Ar=yr=Gn=null,Ih=!1,td=0,Lv.current=null,s===null||s.return===null){vr=1,rd=t,hr=null;break}e:{var p=e,y=s.return,a=s,T=t;if(t=Vr,a.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=T,O=a,j=O.tag;if((O.mode&1)===0&&(j===0||j===11||j===15)){var S=O.alternate;S?(O.updateQueue=S.updateQueue,O.memoizedState=S.memoizedState,O.lanes=S.lanes):(O.updateQueue=null,O.memoizedState=null)}var Q=L0(y);if(Q!==null){Q.flags&=-257,R0(Q,y,a,p,t),Q.mode&1&&D0(p,z,t),t=Q,T=z;var se=t.updateQueue;if(se===null){var oe=new Set;oe.add(T),t.updateQueue=oe}else se.add(T);break e}else{if((t&1)===0){D0(p,z,t),Fv();break e}T=Error(ft(426))}}else if(Bn&&a.mode&1){var he=L0(y);if(he!==null){(he.flags&65536)===0&&(he.flags|=256),R0(he,y,a,p,t),_v(kc(T,a));break e}}p=T=kc(T,a),vr!==4&&(vr=2),zh===null?zh=[p]:zh.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var k=c2(p,T,t);A0(p,k);break e;case 1:a=T;var D=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Pl===null||!Pl.has(F)))){p.flags|=65536,t&=-t,p.lanes|=t;var Y=h2(p,a,t);A0(p,Y);break e}}p=p.return}while(p!==null)}I2(s)}catch(xe){t=xe,hr===s&&s!==null&&(hr=s=s.return);continue}break}while(1)}function k2(){var e=of.current;return of.current=sf,e===null?sf:e}function Fv(){(vr===0||vr===3||vr===2)&&(vr=4),Er===null||(bu&268435455)===0&&(Rf&268435455)===0||_l(Er,Vr)}function uf(e,t){var s=tn;tn|=2;var u=k2();(Er!==e||Vr!==t)&&(La=null,gu(e,t));do try{Mk();break}catch(h){E2(e,h)}while(1);if(wv(),tn=s,of.current=u,hr!==null)throw Error(ft(261));return Er=null,Vr=0,vr}function Mk(){for(;hr!==null;)P2(hr)}function zk(){for(;hr!==null&&!nE();)P2(hr)}function P2(e){var t=z2(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,t===null?I2(e):hr=t,Lv.current=null}function I2(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Tk(s,t,Ls),s!==null){hr=s;return}}else{if(s=Ck(s,t),s!==null){s.flags&=32767,hr=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vr=6,hr=null;return}}if(t=t.sibling,t!==null){hr=t;return}hr=t=e}while(t!==null);vr===0&&(vr=5)}function uu(e,t,s){var u=yn,h=io.transition;try{io.transition=null,yn=1,Dk(e,t,s,u)}finally{io.transition=h,yn=u}return null}function Dk(e,t,s,u){do vc();while(wl!==null);if((tn&6)!==0)throw Error(ft(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ft(177));e.callbackNode=null,e.callbackPriority=0;var p=s.lanes|s.childLanes;if(pE(e,p),e===Er&&(hr=Er=null,Vr=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||yp||(yp=!0,D2(qp,function(){return vc(),null})),p=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||p){p=io.transition,io.transition=null;var y=yn;yn=1;var a=tn;tn|=4,Lv.current=null,Ek(e,s),T2(s,e),JE(iy),Wp=!!ty,iy=ty=null,e.current=s,kk(s),rE(),tn=a,yn=y,io.transition=p}else e.current=s;if(yp&&(yp=!1,wl=e,lf=h),p=e.pendingLanes,p===0&&(Pl=null),aE(s.stateNode),Cs(e,nr()),t!==null)for(u=e.onRecoverableError,s=0;s<t.length;s++)h=t[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(af)throw af=!1,e=by,by=null,e;return(lf&1)!==0&&e.tag!==0&&vc(),p=e.pendingLanes,(p&1)!==0?e===Sy?Dh++:(Dh=0,Sy=e):Dh=0,Nl(),null}function vc(){if(wl!==null){var e=ub(lf),t=io.transition,s=yn;try{if(io.transition=null,yn=16>e?16:e,wl===null)var u=!1;else{if(e=wl,wl=null,lf=0,(tn&6)!==0)throw Error(ft(331));var h=tn;for(tn|=4,jt=e.current;jt!==null;){var p=jt,y=p.child;if((jt.flags&16)!==0){var a=p.deletions;if(a!==null){for(var T=0;T<a.length;T++){var z=a[T];for(jt=z;jt!==null;){var O=jt;switch(O.tag){case 0:case 11:case 15:Mh(8,O,p)}var j=O.child;if(j!==null)j.return=O,jt=j;else for(;jt!==null;){O=jt;var S=O.sibling,Q=O.return;if(w2(O),O===z){jt=null;break}if(S!==null){S.return=Q,jt=S;break}jt=Q}}}var se=p.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var he=oe.sibling;oe.sibling=null,oe=he}while(oe!==null)}}jt=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,jt=y;else e:for(;jt!==null;){if(p=jt,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Mh(9,p,p.return)}var k=p.sibling;if(k!==null){k.return=p.return,jt=k;break e}jt=p.return}}var D=e.current;for(jt=D;jt!==null;){y=jt;var F=y.child;if((y.subtreeFlags&2064)!==0&&F!==null)F.return=y,jt=F;else e:for(y=D;jt!==null;){if(a=jt,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Lf(9,a)}}catch(xe){Qn(a,a.return,xe)}if(a===y){jt=null;break e}var Y=a.sibling;if(Y!==null){Y.return=a.return,jt=Y;break e}jt=a.return}}if(tn=h,Nl(),ia&&typeof ia.onPostCommitFiberRoot=="function")try{ia.onPostCommitFiberRoot(Af,e)}catch{}u=!0}return u}finally{yn=s,io.transition=t}}return!1}function $0(e,t,s){t=kc(s,t),t=c2(e,t,1),e=kl(e,t,1),t=hs(),e!==null&&(gd(e,1,t),Cs(e,t))}function Qn(e,t,s){if(e.tag===3)$0(e,e,s);else for(;t!==null;){if(t.tag===3){$0(t,e,s);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Pl===null||!Pl.has(u))){e=kc(s,e),e=h2(t,e,1),t=kl(t,e,1),e=hs(),t!==null&&(gd(t,1,e),Cs(t,e));break}}t=t.return}}function Lk(e,t,s){var u=e.pingCache;u!==null&&u.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&s,Er===e&&(Vr&s)===s&&(vr===4||vr===3&&(Vr&130023424)===Vr&&500>nr()-Bv?gu(e,0):Rv|=s),Cs(e,t)}function M2(e,t){t===0&&((e.mode&1)===0?t=1:(t=ap,ap<<=1,(ap&130023424)===0&&(ap=4194304)));var s=hs();e=ja(e,t),e!==null&&(gd(e,t,s),Cs(e,s))}function Rk(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),M2(e,s)}function Bk(e,t){var s=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(ft(314))}u!==null&&u.delete(t),M2(e,s)}var z2;z2=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ss.current)bs=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return bs=!1,Sk(e,t,s);bs=(e.flags&131072)!==0}else bs=!1,Bn&&(t.flags&1048576)!==0&&Rb(t,Qp,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;Dp(e,t),e=t.pendingProps;var h=Tc(t,es.current);yc(t,s),h=Pv(null,t,u,e,h,s);var p=Iv();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(u)?(p=!0,Kp(t)):p=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Tv(t),h.updater=zf,t.stateNode=h,h._reactInternals=t,hy(t,u,e,s),t=fy(null,t,u,!0,p,s)):(t.tag=0,Bn&&p&&yv(t),cs(null,t,h,s),t=t.child),t;case 16:u=t.elementType;e:{switch(Dp(e,t),e=t.pendingProps,h=u._init,u=h(u._payload),t.type=u,h=t.tag=Ok(u),e=So(u,e),h){case 0:t=py(null,t,u,e,s);break e;case 1:t=O0(null,t,u,e,s);break e;case 11:t=B0(null,t,u,e,s);break e;case 14:t=N0(null,t,u,So(u.type,e),s);break e}throw Error(ft(306,u,""))}return t;case 0:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:So(u,h),py(e,t,u,h,s);case 1:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:So(u,h),O0(e,t,u,h,s);case 3:e:{if(m2(t),e===null)throw Error(ft(387));u=t.pendingProps,p=t.memoizedState,h=p.element,Fb(e,t),tf(t,u,null,s);var y=t.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){h=kc(Error(ft(423)),t),t=F0(e,t,u,s,h);break e}else if(u!==h){h=kc(Error(ft(424)),t),t=F0(e,t,u,s,h);break e}else for(Rs=El(t.stateNode.containerInfo.firstChild),Bs=t,Bn=!0,Co=null,s=qb(t,null,u,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cc(),u===h){t=qa(e,t,s);break e}cs(e,t,u,s)}t=t.child}return t;case 5:return Gb(t),e===null&&ly(t),u=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,y=h.children,ny(u,h)?y=null:p!==null&&ny(u,p)&&(t.flags|=32),f2(e,t),cs(e,t,y,s),t.child;case 6:return e===null&&ly(t),null;case 13:return g2(e,t,s);case 4:return Cv(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=Ac(t,null,u,s):cs(e,t,u,s),t.child;case 11:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:So(u,h),B0(e,t,u,h,s);case 7:return cs(e,t,t.pendingProps,s),t.child;case 8:return cs(e,t,t.pendingProps.children,s),t.child;case 12:return cs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(u=t.type._context,h=t.pendingProps,p=t.memoizedProps,y=h.value,kn(Jp,u._currentValue),u._currentValue=y,p!==null)if(Io(p.value,y)){if(p.children===h.children&&!Ss.current){t=qa(e,t,s);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var a=p.dependencies;if(a!==null){y=p.child;for(var T=a.firstContext;T!==null;){if(T.context===u){if(p.tag===1){T=Oa(-1,s&-s),T.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var O=z.pending;O===null?T.next=T:(T.next=O.next,O.next=T),z.pending=T}}p.lanes|=s,T=p.alternate,T!==null&&(T.lanes|=s),uy(p.return,s,t),a.lanes|=s;break}T=T.next}}else if(p.tag===10)y=p.type===t.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(ft(341));y.lanes|=s,a=y.alternate,a!==null&&(a.lanes|=s),uy(y,s,t),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===t){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}cs(e,t,h.children,s),t=t.child}return t;case 9:return h=t.type,u=t.pendingProps.children,yc(t,s),h=ro(h),u=u(h),t.flags|=1,cs(e,t,u,s),t.child;case 14:return u=t.type,h=So(u,t.pendingProps),h=So(u.type,h),N0(e,t,u,h,s);case 15:return d2(e,t,t.type,t.pendingProps,s);case 17:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:So(u,h),Dp(e,t),t.tag=1,Ts(u)?(e=!0,Kp(t)):e=!1,yc(t,s),Ub(t,u,h),hy(t,u,h,s),fy(null,t,u,!0,e,s);case 19:return y2(e,t,s);case 22:return p2(e,t,s)}throw Error(ft(156,t.tag))};function D2(e,t){return sb(e,t)}function Nk(e,t,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function to(e,t,s,u){return new Nk(e,t,s,u)}function Vv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ok(e){if(typeof e=="function")return Vv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sv)return 11;if(e===ov)return 14}return 2}function Ml(e,t){var s=e.alternate;return s===null?(s=to(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Bp(e,t,s,u,h,p){var y=2;if(u=e,typeof e=="function")Vv(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Ju:return yu(s.children,h,p,t);case rv:y=8,h|=8;break;case Rg:return e=to(12,s,t,h|2),e.elementType=Rg,e.lanes=p,e;case Bg:return e=to(13,s,t,h),e.elementType=Bg,e.lanes=p,e;case Ng:return e=to(19,s,t,h),e.elementType=Ng,e.lanes=p,e;case jw:return Bf(s,h,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vw:y=10;break e;case Uw:y=9;break e;case sv:y=11;break e;case ov:y=14;break e;case ml:y=16,u=null;break e}throw Error(ft(130,e==null?e:typeof e,""))}return t=to(y,s,t,h),t.elementType=e,t.type=u,t.lanes=p,t}function yu(e,t,s,u){return e=to(7,e,u,t),e.lanes=s,e}function Bf(e,t,s,u){return e=to(22,e,u,t),e.elementType=jw,e.lanes=s,e.stateNode={isHidden:!1},e}function dg(e,t,s){return e=to(6,e,null,t),e.lanes=s,e}function pg(e,t,s){return t=to(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fk(e,t,s,u,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zm(0),this.expirationTimes=Zm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zm(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Uv(e,t,s,u,h,p,y,a,T){return e=new Fk(e,t,s,a,T),t===1?(t=1,p===!0&&(t|=8)):t=0,p=to(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tv(p),e}function Vk(e,t,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qu,key:u==null?null:""+u,children:e,containerInfo:t,implementation:s}}function L2(e){if(!e)return Dl;e=e._reactInternals;e:{if(Cu(e)!==e||e.tag!==1)throw Error(ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(e.tag===1){var s=e.type;if(Ts(s))return Db(e,s,t)}return t}function R2(e,t,s,u,h,p,y,a,T){return e=Uv(s,u,!0,e,h,p,y,a,T),e.context=L2(null),s=e.current,u=hs(),h=Il(s),p=Oa(u,h),p.callback=t!=null?t:null,kl(s,p,h),e.current.lanes=h,gd(e,h,u),Cs(e,u),e}function Nf(e,t,s,u){var h=t.current,p=hs(),y=Il(h);return s=L2(s),t.context===null?t.context=s:t.pendingContext=s,t=Oa(p,y),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=kl(h,t,y),e!==null&&(Eo(e,h,y,p),Ip(e,h,y)),y}function cf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function X0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function jv(e,t){X0(e,t),(e=e.alternate)&&X0(e,t)}function Uk(){return null}var B2=typeof reportError=="function"?reportError:function(e){console.error(e)};function qv(e){this._internalRoot=e}Of.prototype.render=qv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ft(409));Nf(e,t,null,null)};Of.prototype.unmount=qv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Su(function(){Nf(null,e,null,null)}),t[Ua]=null}};function Of(e){this._internalRoot=e}Of.prototype.unstable_scheduleHydration=function(e){if(e){var t=db();e={blockedOn:null,target:e,priority:t};for(var s=0;s<vl.length&&t!==0&&t<vl[s].priority;s++);vl.splice(s,0,e),s===0&&fb(e)}};function Gv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K0(){}function jk(e,t,s,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var z=cf(y);p.call(z)}}var y=R2(t,u,e,0,null,!1,!1,"",K0);return e._reactRootContainer=y,e[Ua]=y.current,Kh(e.nodeType===8?e.parentNode:e),Su(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var a=u;u=function(){var z=cf(T);a.call(z)}}var T=Uv(e,0,!1,null,null,!1,!1,"",K0);return e._reactRootContainer=T,e[Ua]=T.current,Kh(e.nodeType===8?e.parentNode:e),Su(function(){Nf(t,T,s,u)}),T}function Vf(e,t,s,u,h){var p=s._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var a=h;h=function(){var T=cf(y);a.call(T)}}Nf(t,y,e,h)}else y=jk(s,t,e,h,u);return cf(y)}cb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=bh(t.pendingLanes);s!==0&&(uv(t,s|1),Cs(t,nr()),(tn&6)===0&&(Pc=nr()+500,Nl()))}break;case 13:Su(function(){var u=ja(e,1);if(u!==null){var h=hs();Eo(u,e,1,h)}}),jv(e,1)}};cv=function(e){if(e.tag===13){var t=ja(e,134217728);if(t!==null){var s=hs();Eo(t,e,134217728,s)}jv(e,134217728)}};hb=function(e){if(e.tag===13){var t=Il(e),s=ja(e,t);if(s!==null){var u=hs();Eo(s,e,t,u)}jv(e,t)}};db=function(){return yn};pb=function(e,t){var s=yn;try{return yn=e,t()}finally{yn=s}};Zg=function(e,t,s){switch(t){case"input":if(Vg(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var u=s[t];if(u!==e&&u.form===e.form){var h=If(u);if(!h)throw Error(ft(90));Gw(u),Vg(u,h)}}}break;case"textarea":Hw(e,s);break;case"select":t=s.value,t!=null&&pc(e,!!s.multiple,t,!1)}};Jw=Nv;eb=Su;var qk={usingClientEntryPoint:!1,Events:[vd,nc,If,Yw,Qw,Nv]},mh={findFiberByHostInstance:hu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Gk={bundleType:mh.bundleType,version:mh.version,rendererPackageName:mh.rendererPackageName,rendererConfig:mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nb(e),e===null?null:e.stateNode},findFiberByHostInstance:mh.findFiberByHostInstance||Uk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vp.isDisabled&&vp.supportsFiber)try{Af=vp.inject(Gk),ia=vp}catch{}}Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk;Fs.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gv(t))throw Error(ft(200));return Vk(e,t,null,s)};Fs.createRoot=function(e,t){if(!Gv(e))throw Error(ft(299));var s=!1,u="",h=B2;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Uv(e,1,!1,null,null,s,!1,u,h),e[Ua]=t.current,Kh(e.nodeType===8?e.parentNode:e),new qv(t)};Fs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ft(188)):(e=Object.keys(e).join(","),Error(ft(268,e)));return e=nb(t),e=e===null?null:e.stateNode,e};Fs.flushSync=function(e){return Su(e)};Fs.hydrate=function(e,t,s){if(!Ff(t))throw Error(ft(200));return Vf(null,e,t,!0,s)};Fs.hydrateRoot=function(e,t,s){if(!Gv(e))throw Error(ft(405));var u=s!=null&&s.hydratedSources||null,h=!1,p="",y=B2;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),t=R2(t,null,e,1,s!=null?s:null,h,!1,p,y),e[Ua]=t.current,Kh(e),u)for(e=0;e<u.length;e++)s=u[e],h=s._getVersion,h=h(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,h]:t.mutableSourceEagerHydrationData.push(s,h);return new Of(t)};Fs.render=function(e,t,s){if(!Ff(t))throw Error(ft(200));return Vf(null,e,t,!1,s)};Fs.unmountComponentAtNode=function(e){if(!Ff(e))throw Error(ft(40));return e._reactRootContainer?(Su(function(){Vf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ua]=null})}),!0):!1};Fs.unstable_batchedUpdates=Nv;Fs.unstable_renderSubtreeIntoContainer=function(e,t,s,u){if(!Ff(s))throw Error(ft(200));if(e==null||e._reactInternals===void 0)throw Error(ft(38));return Vf(e,t,s,!1,u)};Fs.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}t(),e.exports=Fs})(Rw);var Y0=Rw.exports;Dg.createRoot=Y0.createRoot,Dg.hydrateRoot=Y0.hydrateRoot;const Q0="/assets/lighting-circle.6879f268.png";var Uf={exports:{}},jf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=$e.exports,Hk=Symbol.for("react.element"),Zk=Symbol.for("react.fragment"),$k=Object.prototype.hasOwnProperty,Xk=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kk={key:!0,ref:!0,__self:!0,__source:!0};function N2(e,t,s){var u,h={},p=null,y=null;s!==void 0&&(p=""+s),t.key!==void 0&&(p=""+t.key),t.ref!==void 0&&(y=t.ref);for(u in t)$k.call(t,u)&&!Kk.hasOwnProperty(u)&&(h[u]=t[u]);if(e&&e.defaultProps)for(u in t=e.defaultProps,t)h[u]===void 0&&(h[u]=t[u]);return{$$typeof:Hk,type:e,key:p,ref:y,props:h,_owner:Xk.current}}jf.Fragment=Zk;jf.jsx=N2;jf.jsxs=N2;(function(e){e.exports=jf})(Uf);const sd=Uf.exports.Fragment,X=Uf.exports.jsx,rt=Uf.exports.jsxs;function qf({className:e="w-5 h-5"}){return X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,children:X("path",{fillRule:"evenodd",d:"M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z",clipRule:"evenodd"})})}function Yk(){return rt("div",{className:"relative",children:[X("div",{className:"bg-box absolute right-0 top-0 w-[300px] sm:w-[800px] h-[400px] sm:h-[500px] -z-10"}),X("div",{className:"bg-gradient-to-tr from-slate-900 via-slate-900 to-blue-600/95",children:rt("div",{className:"min-h-screen flex items-center justify-center overflow-hidden relative",children:[rt("div",{className:"mt-[56px] sm:mt-0 z-10 text-center max-w-sm px-4 sm:max-w-3xl tracking-wide",children:[rt("h1",{className:"text-3xl font-bold sm:text-6xl text-gray-200",children:["Kami Siap Membuat ",X("span",{className:"text-blue-400",children:"website"})," ","Impian Untuk Anda"]}),X("p",{className:"text-xs sm:max-w-xl mx-auto sm:text-sm mt-4 sm:mt-6 text-gray-300/90",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias est, soluta temporibus nisi asperiores vitae dignissimos ipsa in deleniti mollitia!"}),X("button",{onClick:()=>{console.log(8),window.scrollY=1e3},className:"text-gray-200 absolute left-1/2 bottom-28 sm:bottom-20 md:bottom-20 -translate-x-1/2",children:X("div",{className:"animate-bounce",children:X(qf,{className:"w-7 h-7 rotate-90"})})})]}),X("div",{className:"absolute w-[100%] sm:w-[45%] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:X("img",{src:Q0,alt:"header-image",className:""})}),X("div",{className:"absolute w-[100%] sm:w-[55%] rotate-[120deg] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:X("img",{src:Q0,alt:"header-image",className:""})})]})})]})}const Wv=$e.exports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Gf=$e.exports.createContext({});function Qk(){return $e.exports.useContext(Gf).visualElement}const xd=$e.exports.createContext(null),Au=typeof document<"u",hf=Au?$e.exports.useLayoutEffect:$e.exports.useEffect,Hv=$e.exports.createContext({strict:!1});function Jk(e,t,s,u){const h=Qk(),p=$e.exports.useContext(Hv),y=$e.exports.useContext(xd),a=$e.exports.useContext(Wv).reducedMotion,T=$e.exports.useRef();u=u||p.renderer,!T.current&&u&&(T.current=u(e,{visualState:t,parent:h,props:s,presenceId:y?y.id:void 0,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:a}));const z=T.current;return hf(()=>{z&&z.render()}),$e.exports.useEffect(()=>{z&&z.animationState&&z.animationState.animateChanges()}),hf(()=>()=>z&&z.notify("Unmount"),[]),z}function cc(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function eP(e,t,s){return $e.exports.useCallback(u=>{u&&e.mount&&e.mount(u),t&&(u?t.mount(u):t.unmount()),s&&(typeof s=="function"?s(u):cc(s)&&(s.current=u))},[t])}function od(e){return typeof e=="string"||Array.isArray(e)}function Wf(e){return typeof e=="object"&&typeof e.start=="function"}const tP=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function Hf(e){return Wf(e.animate)||tP.some(t=>od(e[t]))}function O2(e){return Boolean(Hf(e)||e.variants)}function iP(e,t){if(Hf(e)){const{initial:s,animate:u}=e;return{initial:s===!1||od(s)?s:void 0,animate:od(u)?u:void 0}}return e.inherit!==!1?t:{}}function nP(e){const{initial:t,animate:s}=iP(e,$e.exports.useContext(Gf));return $e.exports.useMemo(()=>({initial:t,animate:s}),[J0(t),J0(s)])}function J0(e){return Array.isArray(e)?e.join(" "):e}const Da=e=>({isEnabled:t=>e.some(s=>!!t[s])}),ad={measureLayout:Da(["layout","layoutId","drag"]),animation:Da(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Da(["exit"]),drag:Da(["drag","dragControls"]),focus:Da(["whileFocus"]),hover:Da(["whileHover","onHoverStart","onHoverEnd"]),tap:Da(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Da(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Da(["whileInView","onViewportEnter","onViewportLeave"])};function Ay(e){for(const t in e)t==="projectionNodeConstructor"?ad.projectionNodeConstructor=e[t]:ad[t].Component=e[t]}function Zf(e){const t=$e.exports.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let rP=1;function sP(){return Zf(()=>{if(Lh.hasEverUpdated)return rP++})}const ld=$e.exports.createContext({});class oP extends ev.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:s}=this.props;return t&&t.setProps(s),null}componentDidUpdate(){}render(){return this.props.children}}const F2=$e.exports.createContext({}),aP=Symbol.for("motionComponentSymbol");function lP({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:s,useRender:u,useVisualState:h,Component:p}){e&&Ay(e);function y(T,z){const O={...$e.exports.useContext(Wv),...T,layoutId:uP(T)},{isStatic:j}=O;let S=null;const Q=nP(T),se=j?void 0:sP(),oe=h(T,j);if(!j&&Au){Q.visualElement=Jk(p,oe,O,t);const he=$e.exports.useContext(Hv).strict,k=$e.exports.useContext(F2);Q.visualElement&&(S=Q.visualElement.loadFeatures(O,he,e,se,s||ad.projectionNodeConstructor,k))}return rt(oP,{visualElement:Q.visualElement,props:O,children:[S,X(Gf.Provider,{value:Q,children:u(p,T,se,eP(oe,Q.visualElement,z),oe,j,Q.visualElement)})]})}const a=$e.exports.forwardRef(y);return a[aP]=p,a}function uP({layoutId:e}){const t=$e.exports.useContext(ld).id;return t&&e!==void 0?t+"-"+e:e}function V2(e){function t(u,h={}){return lP(e(u,h))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(u,h)=>(s.has(h)||s.set(h,t(h)),s.get(h))})}const cP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Zv(e){return typeof e!="string"||e.includes("-")?!1:!!(cP.indexOf(e)>-1||/[A-Z]/.test(e))}const df={};function hP(e){Object.assign(df,e)}const pf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wd=new Set(pf);function U2(e,{layout:t,layoutId:s}){return wd.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!df[e]||e==="opacity")}const ko=e=>!!(e!=null&&e.getVelocity),dP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pP=(e,t)=>pf.indexOf(e)-pf.indexOf(t);function fP({transform:e,transformKeys:t},{enableHardwareAcceleration:s=!0,allowTransformNone:u=!0},h,p){let y="";t.sort(pP);for(const a of t)y+=`${dP[a]||a}(${e[a]}) `;return s&&!e.z&&(y+="translateZ(0)"),y=y.trim(),p?y=p(e,h?"":y):u&&h&&(y="none"),y}function j2(e){return e.startsWith("--")}const mP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,q2=(e,t)=>s=>Math.max(Math.min(s,t),e),Rh=e=>e%1?Number(e.toFixed(5)):e,ud=/(-)?([\d]*\.?[\d])+/g,Ey=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,gP=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bd(e){return typeof e=="string"}const Eu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bh=Object.assign(Object.assign({},Eu),{transform:q2(0,1)}),_p=Object.assign(Object.assign({},Eu),{default:1}),Sd=e=>({test:t=>bd(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fl=Sd("deg"),ra=Sd("%"),fi=Sd("px"),yP=Sd("vh"),vP=Sd("vw"),e1=Object.assign(Object.assign({},ra),{parse:e=>ra.parse(e)/100,transform:e=>ra.transform(e*100)}),$v=(e,t)=>s=>Boolean(bd(s)&&gP.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),G2=(e,t,s)=>u=>{if(!bd(u))return u;const[h,p,y,a]=u.match(ud);return{[e]:parseFloat(h),[t]:parseFloat(p),[s]:parseFloat(y),alpha:a!==void 0?parseFloat(a):1}},fu={test:$v("hsl","hue"),parse:G2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:u=1})=>"hsla("+Math.round(e)+", "+ra.transform(Rh(t))+", "+ra.transform(Rh(s))+", "+Rh(Bh.transform(u))+")"},_P=q2(0,255),fg=Object.assign(Object.assign({},Eu),{transform:e=>Math.round(_P(e))}),bl={test:$v("rgb","red"),parse:G2("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:u=1})=>"rgba("+fg.transform(e)+", "+fg.transform(t)+", "+fg.transform(s)+", "+Rh(Bh.transform(u))+")"};function xP(e){let t="",s="",u="",h="";return e.length>5?(t=e.substr(1,2),s=e.substr(3,2),u=e.substr(5,2),h=e.substr(7,2)):(t=e.substr(1,1),s=e.substr(2,1),u=e.substr(3,1),h=e.substr(4,1),t+=t,s+=s,u+=u,h+=h),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(u,16),alpha:h?parseInt(h,16)/255:1}}const ky={test:$v("#"),parse:xP,transform:bl.transform},us={test:e=>bl.test(e)||ky.test(e)||fu.test(e),parse:e=>bl.test(e)?bl.parse(e):fu.test(e)?fu.parse(e):ky.parse(e),transform:e=>bd(e)?e:e.hasOwnProperty("red")?bl.transform(e):fu.transform(e)},W2="${c}",H2="${n}";function wP(e){var t,s,u,h;return isNaN(e)&&bd(e)&&((s=(t=e.match(ud))===null||t===void 0?void 0:t.length)!==null&&s!==void 0?s:0)+((h=(u=e.match(Ey))===null||u===void 0?void 0:u.length)!==null&&h!==void 0?h:0)>0}function Z2(e){typeof e=="number"&&(e=`${e}`);const t=[];let s=0;const u=e.match(Ey);u&&(s=u.length,e=e.replace(Ey,W2),t.push(...u.map(us.parse)));const h=e.match(ud);return h&&(e=e.replace(ud,H2),t.push(...h.map(Eu.parse))),{values:t,numColors:s,tokenised:e}}function $2(e){return Z2(e).values}function X2(e){const{values:t,numColors:s,tokenised:u}=Z2(e),h=t.length;return p=>{let y=u;for(let a=0;a<h;a++)y=y.replace(a<s?W2:H2,a<s?us.transform(p[a]):Rh(p[a]));return y}}const bP=e=>typeof e=="number"?0:e;function SP(e){const t=$2(e);return X2(e)(t.map(bP))}const Ga={test:wP,parse:$2,createTransformer:X2,getAnimatableNone:SP},TP=new Set(["brightness","contrast","saturate","opacity"]);function CP(e){let[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[u]=s.match(ud)||[];if(!u)return e;const h=s.replace(u,"");let p=TP.has(t)?1:0;return u!==s&&(p*=100),t+"("+p+h+")"}const AP=/([a-z-]*)\(.*?\)/g,Py=Object.assign(Object.assign({},Ga),{getAnimatableNone:e=>{const t=e.match(AP);return t?t.map(CP).join(" "):e}}),t1={...Eu,transform:Math.round},K2={borderWidth:fi,borderTopWidth:fi,borderRightWidth:fi,borderBottomWidth:fi,borderLeftWidth:fi,borderRadius:fi,radius:fi,borderTopLeftRadius:fi,borderTopRightRadius:fi,borderBottomRightRadius:fi,borderBottomLeftRadius:fi,width:fi,maxWidth:fi,height:fi,maxHeight:fi,size:fi,top:fi,right:fi,bottom:fi,left:fi,padding:fi,paddingTop:fi,paddingRight:fi,paddingBottom:fi,paddingLeft:fi,margin:fi,marginTop:fi,marginRight:fi,marginBottom:fi,marginLeft:fi,rotate:fl,rotateX:fl,rotateY:fl,rotateZ:fl,scale:_p,scaleX:_p,scaleY:_p,scaleZ:_p,skew:fl,skewX:fl,skewY:fl,distance:fi,translateX:fi,translateY:fi,translateZ:fi,x:fi,y:fi,z:fi,perspective:fi,transformPerspective:fi,opacity:Bh,originX:e1,originY:e1,originZ:fi,zIndex:t1,fillOpacity:Bh,strokeOpacity:Bh,numOctaves:t1};function Xv(e,t,s,u){const{style:h,vars:p,transform:y,transformKeys:a,transformOrigin:T}=e;a.length=0;let z=!1,O=!1,j=!0;for(const S in t){const Q=t[S];if(j2(S)){p[S]=Q;continue}const se=K2[S],oe=mP(Q,se);if(wd.has(S)){if(z=!0,y[S]=oe,a.push(S),!j)continue;Q!==(se.default||0)&&(j=!1)}else S.startsWith("origin")?(O=!0,T[S]=oe):h[S]=oe}if(t.transform||(z||u?h.transform=fP(e,s,j,u):h.transform&&(h.transform="none")),O){const{originX:S="50%",originY:Q="50%",originZ:se=0}=T;h.transformOrigin=`${S} ${Q} ${se}`}}const Kv=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function Y2(e,t,s){for(const u in t)!ko(t[u])&&!U2(u,s)&&(e[u]=t[u])}function EP({transformTemplate:e},t,s){return $e.exports.useMemo(()=>{const u=Kv();return Xv(u,t,{enableHardwareAcceleration:!s},e),Object.assign({},u.vars,u.style)},[t])}function kP(e,t,s){const u=e.style||{},h={};return Y2(h,u,e),Object.assign(h,EP(e,t,s)),e.transformValues?e.transformValues(h):h}function PP(e,t,s){const u={},h=kP(e,t,s);return e.drag&&e.dragListener!==!1&&(u.draggable=!1,h.userSelect=h.WebkitUserSelect=h.WebkitTouchCallout="none",h.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),u.style=h,u}const IP=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],MP=["whileTap","onTap","onTapStart","onTapCancel"],zP=["onPan","onPanStart","onPanSessionStart","onPanEnd"],DP=["whileInView","onViewportEnter","onViewportLeave","viewport"],LP=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...DP,...MP,...IP,...zP]);function ff(e){return LP.has(e)}let Q2=e=>!ff(e);function RP(e){!e||(Q2=t=>t.startsWith("on")?!ff(t):e(t))}try{RP(require("@emotion/is-prop-valid").default)}catch{}function BP(e,t,s){const u={};for(const h in e)(Q2(h)||s===!0&&ff(h)||!t&&!ff(h)||e.draggable&&h.startsWith("onDrag"))&&(u[h]=e[h]);return u}function i1(e,t,s){return typeof e=="string"?e:fi.transform(t+s*e)}function NP(e,t,s){const u=i1(t,e.x,e.width),h=i1(s,e.y,e.height);return`${u} ${h}`}const OP={offset:"stroke-dashoffset",array:"stroke-dasharray"},FP={offset:"strokeDashoffset",array:"strokeDasharray"};function VP(e,t,s=1,u=0,h=!0){e.pathLength=1;const p=h?OP:FP;e[p.offset]=fi.transform(-u);const y=fi.transform(t),a=fi.transform(s);e[p.array]=`${y} ${a}`}function Yv(e,{attrX:t,attrY:s,originX:u,originY:h,pathLength:p,pathSpacing:y=1,pathOffset:a=0,...T},z,O){Xv(e,T,z,O),e.attrs=e.style,e.style={};const{attrs:j,style:S,dimensions:Q}=e;j.transform&&(Q&&(S.transform=j.transform),delete j.transform),Q&&(u!==void 0||h!==void 0||S.transform)&&(S.transformOrigin=NP(Q,u!==void 0?u:.5,h!==void 0?h:.5)),t!==void 0&&(j.x=t),s!==void 0&&(j.y=s),p!==void 0&&VP(j,p,y,a,!1)}const J2=()=>({...Kv(),attrs:{}});function UP(e,t){const s=$e.exports.useMemo(()=>{const u=J2();return Yv(u,t,{enableHardwareAcceleration:!1},e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};Y2(u,e.style,e),s.style={...u,...s.style}}return s}function jP(e=!1){return(s,u,h,p,{latestValues:y},a)=>{const z=(Zv(s)?UP:PP)(u,y,a),j={...BP(u,typeof s=="string",e),...z,ref:p};return h&&(j["data-projection-id"]=h),$e.exports.createElement(s,j)}}const eS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function tS(e,{style:t,vars:s},u,h){Object.assign(e.style,t,h&&h.getProjectionStyles(u));for(const p in s)e.style.setProperty(p,s[p])}const iS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function nS(e,t,s,u){tS(e,t,void 0,u);for(const h in t.attrs)e.setAttribute(iS.has(h)?h:eS(h),t.attrs[h])}function Qv(e){const{style:t}=e,s={};for(const u in t)(ko(t[u])||U2(u,e))&&(s[u]=t[u]);return s}function rS(e){const t=Qv(e);for(const s in e)if(ko(e[s])){const u=s==="x"||s==="y"?"attr"+s.toUpperCase():s;t[u]=e[s]}return t}function Jv(e,t,s,u={},h={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,u,h)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,u,h)),t}const cd=e=>Array.isArray(e),qP=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),sS=e=>cd(e)?e[e.length-1]||0:e;function Np(e){const t=ko(e)?e.get():e;return qP(t)?t.toValue():t}function GP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},u,h,p){const y={latestValues:WP(u,h,p,e),renderState:t()};return s&&(y.mount=a=>s(u,a,y)),y}const oS=e=>(t,s)=>{const u=$e.exports.useContext(Gf),h=$e.exports.useContext(xd),p=()=>GP(e,t,u,h);return s?p():Zf(p)};function WP(e,t,s,u){const h={},p=u(e);for(const S in p)h[S]=Np(p[S]);let{initial:y,animate:a}=e;const T=Hf(e),z=O2(e);t&&z&&!T&&e.inherit!==!1&&(y===void 0&&(y=t.initial),a===void 0&&(a=t.animate));let O=s?s.initial===!1:!1;O=O||y===!1;const j=O?a:y;return j&&typeof j!="boolean"&&!Wf(j)&&(Array.isArray(j)?j:[j]).forEach(Q=>{const se=Jv(e,Q);if(!se)return;const{transitionEnd:oe,transition:he,...k}=se;for(const D in k){let F=k[D];if(Array.isArray(F)){const Y=O?F.length-1:0;F=F[Y]}F!==null&&(h[D]=F)}for(const D in oe)h[D]=oe[D]}),h}const HP={useVisualState:oS({scrapeMotionValuesFromProps:rS,createRenderState:J2,onMount:(e,t,{renderState:s,latestValues:u})=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}Yv(s,u,{enableHardwareAcceleration:!1},e.transformTemplate),nS(t,s)}})},ZP={useVisualState:oS({scrapeMotionValuesFromProps:Qv,createRenderState:Kv})};function aS(e,{forwardMotionProps:t=!1},s,u,h){return{...Zv(e)?HP:ZP,preloadedFeatures:s,useRender:jP(t),createVisualElement:u,projectionNodeConstructor:h,Component:e}}var En;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(En||(En={}));function $f(e,t,s,u={passive:!0}){return e.addEventListener(t,s,u),()=>e.removeEventListener(t,s)}function Iy(e,t,s,u){$e.exports.useEffect(()=>{const h=e.current;if(s&&h)return $f(h,t,s,u)},[e,t,s,u])}function $P({whileFocus:e,visualElement:t}){const{animationState:s}=t,u=()=>{s&&s.setActive(En.Focus,!0)},h=()=>{s&&s.setActive(En.Focus,!1)};Iy(t,"focus",e?u:void 0),Iy(t,"blur",e?h:void 0)}function lS(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function uS(e){return!!e.touches}function XP(e){return t=>{const s=t instanceof MouseEvent;(!s||s&&t.button===0)&&e(t)}}const KP={pageX:0,pageY:0};function YP(e,t="page"){const u=e.touches[0]||e.changedTouches[0]||KP;return{x:u[t+"X"],y:u[t+"Y"]}}function QP(e,t="page"){return{x:e[t+"X"],y:e[t+"Y"]}}function e_(e,t="page"){return{point:uS(e)?YP(e,t):QP(e,t)}}const cS=(e,t=!1)=>{const s=u=>e(u,e_(u));return t?XP(s):s},JP=()=>Au&&window.onpointerdown===null,eI=()=>Au&&window.ontouchstart===null,tI=()=>Au&&window.onmousedown===null,iI={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},nI={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function hS(e){return JP()?e:eI()?nI[e]:tI()?iI[e]:e}function _c(e,t,s,u){return $f(e,hS(t),cS(s,t==="pointerdown"),u)}function mf(e,t,s,u){return Iy(e,hS(t),s&&cS(s,t==="pointerdown"),u)}function dS(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const n1=dS("dragHorizontal"),r1=dS("dragVertical");function pS(e){let t=!1;if(e==="y")t=r1();else if(e==="x")t=n1();else{const s=n1(),u=r1();s&&u?t=()=>{s(),u()}:(s&&s(),u&&u())}return t}function fS(){const e=pS(!0);return e?(e(),!1):!0}function s1(e,t,s){return(u,h)=>{!lS(u)||fS()||(e.animationState&&e.animationState.setActive(En.Hover,t),s&&s(u,h))}}function rI({onHoverStart:e,onHoverEnd:t,whileHover:s,visualElement:u}){mf(u,"pointerenter",e||s?s1(u,!0,e):void 0,{passive:!e}),mf(u,"pointerleave",t||s?s1(u,!1,t):void 0,{passive:!t})}const mS=(e,t)=>t?e===t?!0:mS(e,t.parentElement):!1;function t_(e){return $e.exports.useEffect(()=>()=>e(),[])}function gS(e,t){var s={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.indexOf(u)<0&&(s[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,u=Object.getOwnPropertySymbols(e);h<u.length;h++)t.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(e,u[h])&&(s[u[h]]=e[u[h]]);return s}var sI=function(){},gf=function(){};const yf=(e,t,s)=>Math.min(Math.max(s,e),t),mg=.001,oI=.01,o1=10,aI=.05,lI=1;function uI({duration:e=800,bounce:t=.25,velocity:s=0,mass:u=1}){let h,p;sI(e<=o1*1e3);let y=1-t;y=yf(aI,lI,y),e=yf(oI,o1,e/1e3),y<1?(h=z=>{const O=z*y,j=O*e,S=O-s,Q=My(z,y),se=Math.exp(-j);return mg-S/Q*se},p=z=>{const j=z*y*e,S=j*s+s,Q=Math.pow(y,2)*Math.pow(z,2)*e,se=Math.exp(-j),oe=My(Math.pow(z,2),y);return(-h(z)+mg>0?-1:1)*((S-Q)*se)/oe}):(h=z=>{const O=Math.exp(-z*e),j=(z-s)*e+1;return-mg+O*j},p=z=>{const O=Math.exp(-z*e),j=(s-z)*(e*e);return O*j});const a=5/e,T=hI(h,p,a);if(e=e*1e3,isNaN(T))return{stiffness:100,damping:10,duration:e};{const z=Math.pow(T,2)*u;return{stiffness:z,damping:y*2*Math.sqrt(u*z),duration:e}}}const cI=12;function hI(e,t,s){let u=s;for(let h=1;h<cI;h++)u=u-e(u)/t(u);return u}function My(e,t){return e*Math.sqrt(1-t*t)}const dI=["duration","bounce"],pI=["stiffness","damping","mass"];function a1(e,t){return t.some(s=>e[s]!==void 0)}function fI(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!a1(e,pI)&&a1(e,dI)){const s=uI(e);t=Object.assign(Object.assign(Object.assign({},t),s),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function i_(e){var{from:t=0,to:s=1,restSpeed:u=2,restDelta:h}=e,p=gS(e,["from","to","restSpeed","restDelta"]);const y={done:!1,value:t};let{stiffness:a,damping:T,mass:z,velocity:O,duration:j,isResolvedFromDuration:S}=fI(p),Q=l1,se=l1;function oe(){const he=O?-(O/1e3):0,k=s-t,D=T/(2*Math.sqrt(a*z)),F=Math.sqrt(a/z)/1e3;if(h===void 0&&(h=Math.min(Math.abs(s-t)/100,.4)),D<1){const Y=My(F,D);Q=xe=>{const E=Math.exp(-D*F*xe);return s-E*((he+D*F*k)/Y*Math.sin(Y*xe)+k*Math.cos(Y*xe))},se=xe=>{const E=Math.exp(-D*F*xe);return D*F*E*(Math.sin(Y*xe)*(he+D*F*k)/Y+k*Math.cos(Y*xe))-E*(Math.cos(Y*xe)*(he+D*F*k)-Y*k*Math.sin(Y*xe))}}else if(D===1)Q=Y=>s-Math.exp(-F*Y)*(k+(he+F*k)*Y);else{const Y=F*Math.sqrt(D*D-1);Q=xe=>{const E=Math.exp(-D*F*xe),Ne=Math.min(Y*xe,300);return s-E*((he+D*F*k)*Math.sinh(Ne)+Y*k*Math.cosh(Ne))/Y}}}return oe(),{next:he=>{const k=Q(he);if(S)y.done=he>=j;else{const D=se(he)*1e3,F=Math.abs(D)<=u,Y=Math.abs(s-k)<=h;y.done=F&&Y}return y.value=y.done?s:k,y},flipTarget:()=>{O=-O,[t,s]=[s,t],oe()}}}i_.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const l1=e=>0,hd=(e,t,s)=>{const u=t-e;return u===0?1:(s-e)/u},Jn=(e,t,s)=>-s*e+s*t+e;function gg(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function u1({hue:e,saturation:t,lightness:s,alpha:u}){e/=360,t/=100,s/=100;let h=0,p=0,y=0;if(!t)h=p=y=s;else{const a=s<.5?s*(1+t):s+t-s*t,T=2*s-a;h=gg(T,a,e+1/3),p=gg(T,a,e),y=gg(T,a,e-1/3)}return{red:Math.round(h*255),green:Math.round(p*255),blue:Math.round(y*255),alpha:u}}const mI=(e,t,s)=>{const u=e*e,h=t*t;return Math.sqrt(Math.max(0,s*(h-u)+u))},gI=[ky,bl,fu],c1=e=>gI.find(t=>t.test(e)),yS=(e,t)=>{let s=c1(e),u=c1(t),h=s.parse(e),p=u.parse(t);s===fu&&(h=u1(h),s=bl),u===fu&&(p=u1(p),u=bl);const y=Object.assign({},h);return a=>{for(const T in y)T!=="alpha"&&(y[T]=mI(h[T],p[T],a));return y.alpha=Jn(h.alpha,p.alpha,a),s.transform(y)}},zy=e=>typeof e=="number",yI=(e,t)=>s=>t(e(s)),Xf=(...e)=>e.reduce(yI);function vS(e,t){return zy(e)?s=>Jn(e,t,s):us.test(e)?yS(e,t):xS(e,t)}const _S=(e,t)=>{const s=[...e],u=s.length,h=e.map((p,y)=>vS(p,t[y]));return p=>{for(let y=0;y<u;y++)s[y]=h[y](p);return s}},vI=(e,t)=>{const s=Object.assign(Object.assign({},e),t),u={};for(const h in s)e[h]!==void 0&&t[h]!==void 0&&(u[h]=vS(e[h],t[h]));return h=>{for(const p in u)s[p]=u[p](h);return s}};function h1(e){const t=Ga.parse(e),s=t.length;let u=0,h=0,p=0;for(let y=0;y<s;y++)u||typeof t[y]=="number"?u++:t[y].hue!==void 0?p++:h++;return{parsed:t,numNumbers:u,numRGB:h,numHSL:p}}const xS=(e,t)=>{const s=Ga.createTransformer(t),u=h1(e),h=h1(t);return u.numHSL===h.numHSL&&u.numRGB===h.numRGB&&u.numNumbers>=h.numNumbers?Xf(_S(u.parsed,h.parsed),s):y=>`${y>0?t:e}`},_I=(e,t)=>s=>Jn(e,t,s);function xI(e){if(typeof e=="number")return _I;if(typeof e=="string")return us.test(e)?yS:xS;if(Array.isArray(e))return _S;if(typeof e=="object")return vI}function wI(e,t,s){const u=[],h=s||xI(e[0]),p=e.length-1;for(let y=0;y<p;y++){let a=h(e[y],e[y+1]);if(t){const T=Array.isArray(t)?t[y]:t;a=Xf(T,a)}u.push(a)}return u}function bI([e,t],[s]){return u=>s(hd(e,t,u))}function SI(e,t){const s=e.length,u=s-1;return h=>{let p=0,y=!1;if(h<=e[0]?y=!0:h>=e[u]&&(p=u-1,y=!0),!y){let T=1;for(;T<s&&!(e[T]>h||T===u);T++);p=T-1}const a=hd(e[p],e[p+1],h);return t[p](a)}}function wS(e,t,{clamp:s=!0,ease:u,mixer:h}={}){const p=e.length;gf(p===t.length),gf(!u||!Array.isArray(u)||u.length===p-1),e[0]>e[p-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const y=wI(t,u,h),a=p===2?bI(e,y):SI(e,y);return s?T=>a(yf(e[0],e[p-1],T)):a}const Kf=e=>t=>1-e(1-t),n_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,TI=e=>t=>Math.pow(t,e),bS=e=>t=>t*t*((e+1)*t-e),CI=e=>{const t=bS(e);return s=>(s*=2)<1?.5*t(s):.5*(2-Math.pow(2,-10*(s-1)))},SS=1.525,AI=4/11,EI=8/11,kI=9/10,r_=e=>e,s_=TI(2),PI=Kf(s_),TS=n_(s_),CS=e=>1-Math.sin(Math.acos(e)),o_=Kf(CS),II=n_(o_),a_=bS(SS),MI=Kf(a_),zI=n_(a_),DI=CI(SS),LI=4356/361,RI=35442/1805,BI=16061/1805,vf=e=>{if(e===1||e===0)return e;const t=e*e;return e<AI?7.5625*t:e<EI?9.075*t-9.9*e+3.4:e<kI?LI*t-RI*e+BI:10.8*e*e-20.52*e+10.72},NI=Kf(vf),OI=e=>e<.5?.5*(1-vf(1-e*2)):.5*vf(e*2-1)+.5;function FI(e,t){return e.map(()=>t||TS).splice(0,e.length-1)}function VI(e){const t=e.length;return e.map((s,u)=>u!==0?u/(t-1):0)}function UI(e,t){return e.map(s=>s*t)}function Op({from:e=0,to:t=1,ease:s,offset:u,duration:h=300}){const p={done:!1,value:e},y=Array.isArray(t)?t:[e,t],a=UI(u&&u.length===y.length?u:VI(y),h);function T(){return wS(a,y,{ease:Array.isArray(s)?s:FI(y,s)})}let z=T();return{next:O=>(p.value=z(O),p.done=O>=h,p),flipTarget:()=>{y.reverse(),z=T()}}}function jI({velocity:e=0,from:t=0,power:s=.8,timeConstant:u=350,restDelta:h=.5,modifyTarget:p}){const y={done:!1,value:t};let a=s*e;const T=t+a,z=p===void 0?T:p(T);return z!==T&&(a=z-t),{next:O=>{const j=-a*Math.exp(-O/u);return y.done=!(j>h||j<-h),y.value=y.done?z:z+j,y},flipTarget:()=>{}}}const d1={keyframes:Op,spring:i_,decay:jI};function qI(e){if(Array.isArray(e.to))return Op;if(d1[e.type])return d1[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Op:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?i_:Op}const AS=1/60*1e3,GI=typeof performance<"u"?()=>performance.now():()=>Date.now(),ES=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(GI()),AS);function WI(e){let t=[],s=[],u=0,h=!1,p=!1;const y=new WeakSet,a={schedule:(T,z=!1,O=!1)=>{const j=O&&h,S=j?t:s;return z&&y.add(T),S.indexOf(T)===-1&&(S.push(T),j&&h&&(u=t.length)),T},cancel:T=>{const z=s.indexOf(T);z!==-1&&s.splice(z,1),y.delete(T)},process:T=>{if(h){p=!0;return}if(h=!0,[t,s]=[s,t],s.length=0,u=t.length,u)for(let z=0;z<u;z++){const O=t[z];O(T),y.has(O)&&(a.schedule(O),e())}h=!1,p&&(p=!1,a.process(T))}};return a}const HI=40;let Dy=!0,dd=!1,Ly=!1;const xc={delta:0,timestamp:0},Td=["read","update","preRender","render","postRender"],Yf=Td.reduce((e,t)=>(e[t]=WI(()=>dd=!0),e),{}),no=Td.reduce((e,t)=>{const s=Yf[t];return e[t]=(u,h=!1,p=!1)=>(dd||$I(),s.schedule(u,h,p)),e},{}),Ll=Td.reduce((e,t)=>(e[t]=Yf[t].cancel,e),{}),yg=Td.reduce((e,t)=>(e[t]=()=>Yf[t].process(xc),e),{}),ZI=e=>Yf[e].process(xc),kS=e=>{dd=!1,xc.delta=Dy?AS:Math.max(Math.min(e-xc.timestamp,HI),1),xc.timestamp=e,Ly=!0,Td.forEach(ZI),Ly=!1,dd&&(Dy=!1,ES(kS))},$I=()=>{dd=!0,Dy=!0,Ly||ES(kS)},_f=()=>xc;function PS(e,t,s=0){return e-t-s}function XI(e,t,s=0,u=!0){return u?PS(t+-e,t,s):t-(e-t)+s}function KI(e,t,s,u){return u?e>=t+s:e<=-s}const YI=e=>{const t=({delta:s})=>e(s);return{start:()=>no.update(t,!0),stop:()=>Ll.update(t)}};function IS(e){var t,s,{from:u,autoplay:h=!0,driver:p=YI,elapsed:y=0,repeat:a=0,repeatType:T="loop",repeatDelay:z=0,onPlay:O,onStop:j,onComplete:S,onRepeat:Q,onUpdate:se}=e,oe=gS(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:he}=oe,k,D=0,F=oe.duration,Y,xe=!1,E=!0,Ne;const qe=qI(oe);!((s=(t=qe).needsInterpolation)===null||s===void 0)&&s.call(t,u,he)&&(Ne=wS([0,100],[u,he],{clamp:!1}),u=0,he=100);const wt=qe(Object.assign(Object.assign({},oe),{from:u,to:he}));function At(){D++,T==="reverse"?(E=D%2===0,y=XI(y,F,z,E)):(y=PS(y,F,z),T==="mirror"&&wt.flipTarget()),xe=!1,Q&&Q()}function _i(){k.stop(),S&&S()}function ui(Di){if(E||(Di=-Di),y+=Di,!xe){const sn=wt.next(Math.max(0,y));Y=sn.value,Ne&&(Y=Ne(Y)),xe=E?sn.done:y<=0}se==null||se(Y),xe&&(D===0&&(F!=null||(F=y)),D<a?KI(y,F,z,E)&&At():_i())}function Tn(){O==null||O(),k=p(ui),k.start()}return h&&Tn(),{stop:()=>{j==null||j(),k.stop()}}}function MS(e,t){return t?e*(1e3/t):0}function QI({from:e=0,velocity:t=0,min:s,max:u,power:h=.8,timeConstant:p=750,bounceStiffness:y=500,bounceDamping:a=10,restDelta:T=1,modifyTarget:z,driver:O,onUpdate:j,onComplete:S,onStop:Q}){let se;function oe(F){return s!==void 0&&F<s||u!==void 0&&F>u}function he(F){return s===void 0?u:u===void 0||Math.abs(s-F)<Math.abs(u-F)?s:u}function k(F){se==null||se.stop(),se=IS(Object.assign(Object.assign({},F),{driver:O,onUpdate:Y=>{var xe;j==null||j(Y),(xe=F.onUpdate)===null||xe===void 0||xe.call(F,Y)},onComplete:S,onStop:Q}))}function D(F){k(Object.assign({type:"spring",stiffness:y,damping:a,restDelta:T},F))}if(oe(e))D({from:e,velocity:t,to:he(e)});else{let F=h*t+e;typeof z<"u"&&(F=z(F));const Y=he(F),xe=Y===s?-1:1;let E,Ne;const qe=wt=>{E=Ne,Ne=wt,t=MS(wt-E,_f().delta),(xe===1&&wt>Y||xe===-1&&wt<Y)&&D({from:wt,to:Y,velocity:t})};k({type:"decay",from:e,velocity:t,timeConstant:p,power:h,restDelta:T,modifyTarget:z,onUpdate:oe(F)?qe:void 0})}return{stop:()=>se==null?void 0:se.stop()}}const Ry=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),p1=e=>Ry(e)&&e.hasOwnProperty("z"),xp=(e,t)=>Math.abs(e-t);function l_(e,t){if(zy(e)&&zy(t))return xp(e,t);if(Ry(e)&&Ry(t)){const s=xp(e.x,t.x),u=xp(e.y,t.y),h=p1(e)&&p1(t)?xp(e.z,t.z):0;return Math.sqrt(Math.pow(s,2)+Math.pow(u,2)+Math.pow(h,2))}}const zS=(e,t)=>1-3*t+3*e,DS=(e,t)=>3*t-6*e,LS=e=>3*e,xf=(e,t,s)=>((zS(t,s)*e+DS(t,s))*e+LS(t))*e,RS=(e,t,s)=>3*zS(t,s)*e*e+2*DS(t,s)*e+LS(t),JI=1e-7,eM=10;function tM(e,t,s,u,h){let p,y,a=0;do y=t+(s-t)/2,p=xf(y,u,h)-e,p>0?s=y:t=y;while(Math.abs(p)>JI&&++a<eM);return y}const iM=8,nM=.001;function rM(e,t,s,u){for(let h=0;h<iM;++h){const p=RS(t,s,u);if(p===0)return t;const y=xf(t,s,u)-e;t-=y/p}return t}const Fp=11,wp=1/(Fp-1);function sM(e,t,s,u){if(e===t&&s===u)return r_;const h=new Float32Array(Fp);for(let y=0;y<Fp;++y)h[y]=xf(y*wp,e,s);function p(y){let a=0,T=1;const z=Fp-1;for(;T!==z&&h[T]<=y;++T)a+=wp;--T;const O=(y-h[T])/(h[T+1]-h[T]),j=a+O*wp,S=RS(j,e,s);return S>=nM?rM(y,j,e,s):S===0?j:tM(y,a,a+wp,e,s)}return y=>y===0||y===1?y:xf(p(y),t,u)}function oM({onTap:e,onTapStart:t,onTapCancel:s,whileTap:u,visualElement:h}){const p=e||t||s||u,y=$e.exports.useRef(!1),a=$e.exports.useRef(null),T={passive:!(t||e||s||Q)};function z(){a.current&&a.current(),a.current=null}function O(){return z(),y.current=!1,h.animationState&&h.animationState.setActive(En.Tap,!1),!fS()}function j(se,oe){!O()||(mS(h.current,se.target)?e&&e(se,oe):s&&s(se,oe))}function S(se,oe){!O()||s&&s(se,oe)}function Q(se,oe){z(),!y.current&&(y.current=!0,a.current=Xf(_c(window,"pointerup",j,T),_c(window,"pointercancel",S,T)),h.animationState&&h.animationState.setActive(En.Tap,!0),t&&t(se,oe))}mf(h,"pointerdown",p?Q:void 0,T),t_(z)}const aM="production",BS=typeof process>"u"||process.env===void 0?aM:"production",f1=new Set;function NS(e,t,s){e||f1.has(t)||(console.warn(t),s&&console.warn(s),f1.add(t))}const By=new WeakMap,vg=new WeakMap,lM=e=>{const t=By.get(e.target);t&&t(e)},uM=e=>{e.forEach(lM)};function cM({root:e,...t}){const s=e||document;vg.has(s)||vg.set(s,{});const u=vg.get(s),h=JSON.stringify(t);return u[h]||(u[h]=new IntersectionObserver(uM,{root:e,...t})),u[h]}function hM(e,t,s){const u=cM(t);return By.set(e,s),u.observe(e),()=>{By.delete(e),u.unobserve(e)}}function dM({visualElement:e,whileInView:t,onViewportEnter:s,onViewportLeave:u,viewport:h={}}){const p=$e.exports.useRef({hasEnteredView:!1,isInView:!1});let y=Boolean(t||s||u);h.once&&p.current.hasEnteredView&&(y=!1),(typeof IntersectionObserver>"u"?mM:fM)(y,p.current,e,h)}const pM={some:0,all:1};function fM(e,t,s,{root:u,margin:h,amount:p="some",once:y}){$e.exports.useEffect(()=>{if(!e||!s.current)return;const a={root:u==null?void 0:u.current,rootMargin:h,threshold:typeof p=="number"?p:pM[p]},T=z=>{const{isIntersecting:O}=z;if(t.isInView===O||(t.isInView=O,y&&!O&&t.hasEnteredView))return;O&&(t.hasEnteredView=!0),s.animationState&&s.animationState.setActive(En.InView,O);const j=s.getProps(),S=O?j.onViewportEnter:j.onViewportLeave;S&&S(z)};return hM(s.current,a,T)},[e,u,h,p])}function mM(e,t,s,{fallback:u=!0}){$e.exports.useEffect(()=>{!e||!u||(BS!=="production"&&NS(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:h}=s.getProps();h&&h(null),s.animationState&&s.animationState.setActive(En.InView,!0)}))},[e])}const Sl=e=>t=>(e(t),null),OS={inView:Sl(dM),tap:Sl(oM),focus:Sl($P),hover:Sl(rI)};function FS(){const e=$e.exports.useContext(xd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:u}=e,h=$e.exports.useId();return $e.exports.useEffect(()=>u(h),[]),!t&&s?[!1,()=>s&&s(h)]:[!0]}function VS(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let u=0;u<s;u++)if(t[u]!==e[u])return!1;return!0}const wf=e=>e*1e3,gM={linear:r_,easeIn:s_,easeInOut:TS,easeOut:PI,circIn:CS,circInOut:II,circOut:o_,backIn:a_,backInOut:zI,backOut:MI,anticipate:DI,bounceIn:NI,bounceInOut:OI,bounceOut:vf},m1=e=>{if(Array.isArray(e)){gf(e.length===4);const[t,s,u,h]=e;return sM(t,s,u,h)}else if(typeof e=="string")return gM[e];return e},yM=e=>Array.isArray(e)&&typeof e[0]!="number",g1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Ga.test(t)&&!t.startsWith("url(")),ou=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),bp=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_g=()=>({type:"keyframes",ease:"linear",duration:.3}),vM=e=>({type:"keyframes",duration:.8,values:e}),y1={x:ou,y:ou,z:ou,rotate:ou,rotateX:ou,rotateY:ou,rotateZ:ou,scaleX:bp,scaleY:bp,scale:bp,opacity:_g,backgroundColor:_g,color:_g,default:bp},_M=(e,t)=>{let s;return cd(t)?s=vM:s=y1[e]||y1.default,{to:t,...s(t)}},xM={...K2,color:us,backgroundColor:us,outlineColor:us,fill:us,stroke:us,borderColor:us,borderTopColor:us,borderRightColor:us,borderBottomColor:us,borderLeftColor:us,filter:Py,WebkitFilter:Py},u_=e=>xM[e];function c_(e,t){var s;let u=u_(e);return u!==Py&&(u=Ga),(s=u.getAnimatableNone)===null||s===void 0?void 0:s.call(u,t)}const wM={current:!1};function US(e,t){const s=performance.now(),u=({timestamp:h})=>{const p=h-s;p>=t&&(Ll.read(u),e(p-t))};return no.read(u,!0),()=>Ll.read(u)}function bM({when:e,delay:t,delayChildren:s,staggerChildren:u,staggerDirection:h,repeat:p,repeatType:y,repeatDelay:a,from:T,...z}){return!!Object.keys(z).length}function SM({ease:e,times:t,yoyo:s,flip:u,loop:h,...p}){const y={...p};return t&&(y.offset=t),p.duration&&(y.duration=wf(p.duration)),p.repeatDelay&&(y.repeatDelay=wf(p.repeatDelay)),e&&(y.ease=yM(e)?e.map(m1):m1(e)),p.type==="tween"&&(y.type="keyframes"),(s||h||u)&&(s?y.repeatType="reverse":h?y.repeatType="loop":u&&(y.repeatType="mirror"),y.repeat=h||s||u||p.repeat),p.type!=="spring"&&(y.type="keyframes"),y}function TM(e,t){var s,u;return(u=(s=(h_(e,t)||{}).delay)!==null&&s!==void 0?s:e.delay)!==null&&u!==void 0?u:0}function CM(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function AM(e,t,s){return Array.isArray(t.to)&&e.duration===void 0&&(e.duration=.8),CM(t),bM(e)||(e={...e,..._M(s,t.to)}),{...t,...SM(e)}}function EM(e,t,s,u,h){const p=h_(u,e)||{};let y=p.from!==void 0?p.from:t.get();const a=g1(e,s);y==="none"&&a&&typeof s=="string"?y=c_(e,s):v1(y)&&typeof s=="string"?y=_1(s):!Array.isArray(s)&&v1(s)&&typeof y=="string"&&(s=_1(y));const T=g1(e,y);function z(){const j={from:y,to:s,velocity:t.getVelocity(),onComplete:h,onUpdate:S=>t.set(S)};return p.type==="inertia"||p.type==="decay"?QI({...j,...p}):IS({...AM(p,j,e),onUpdate:S=>{j.onUpdate(S),p.onUpdate&&p.onUpdate(S)},onComplete:()=>{j.onComplete(),p.onComplete&&p.onComplete()}})}function O(){const j=sS(s);return t.set(j),h(),p.onUpdate&&p.onUpdate(j),p.onComplete&&p.onComplete(),{stop:()=>{}}}return!T||!a||p.type===!1?O:z}function v1(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function _1(e){return typeof e=="number"?0:c_("",e)}function h_(e,t){return e[t]||e.default||e}function d_(e,t,s,u={}){return wM.current&&(u={type:!1}),t.start(h=>{let p;const y=EM(e,t,s,u,h),a=TM(u,e),T=()=>p=y();let z;return a?z=US(T,wf(a)):T(),()=>{z&&z(),p&&p.stop()}})}const kM=e=>/^\-?\d*\.?\d+$/.test(e),PM=e=>/^0[^.\s]+$/.test(e);function p_(e,t){e.indexOf(t)===-1&&e.push(t)}function f_(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Nh{constructor(){this.subscriptions=[]}add(t){return p_(this.subscriptions,t),()=>f_(this.subscriptions,t)}notify(t,s,u){const h=this.subscriptions.length;if(!!h)if(h===1)this.subscriptions[0](t,s,u);else for(let p=0;p<h;p++){const y=this.subscriptions[p];y&&y(t,s,u)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const IM=e=>!isNaN(parseFloat(e));class MM{constructor(t){this.version="7.6.6",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Nh,this.velocityUpdateSubscribers=new Nh,this.renderSubscribers=new Nh,this.canTrackVelocity=!1,this.updateAndNotify=(s,u=!0)=>{this.prev=this.current,this.current=s;const{delta:h,timestamp:p}=_f();this.lastUpdated!==p&&(this.timeDelta=h,this.lastUpdated=p,no.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),u&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>no.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=IM(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(t){return t(this.get()),this.renderSubscribers.add(t)}attach(t){this.passiveEffect=t}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?MS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.stopAnimation=t(s)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function Ic(e){return new MM(e)}const jS=e=>t=>t.test(e),zM={test:e=>e==="auto",parse:e=>e},qS=[Eu,fi,ra,fl,vP,yP,zM],gh=e=>qS.find(jS(e)),DM=[...qS,us,Ga],LM=e=>DM.find(jS(e));function RM(e){const t={};return e.values.forEach((s,u)=>t[u]=s.get()),t}function BM(e){const t={};return e.values.forEach((s,u)=>t[u]=s.getVelocity()),t}function Qf(e,t,s){const u=e.getProps();return Jv(u,t,s!==void 0?s:u.custom,RM(e),BM(e))}function NM(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ic(s))}function OM(e,t){const s=Qf(e,t);let{transitionEnd:u={},transition:h={},...p}=s?e.makeTargetAnimatable(s,!1):{};p={...p,...u};for(const y in p){const a=sS(p[y]);NM(e,y,a)}}function FM(e,t,s){var u,h;const p=Object.keys(t).filter(a=>!e.hasValue(a)),y=p.length;if(!!y)for(let a=0;a<y;a++){const T=p[a],z=t[T];let O=null;Array.isArray(z)&&(O=z[0]),O===null&&(O=(h=(u=s[T])!==null&&u!==void 0?u:e.readValue(T))!==null&&h!==void 0?h:t[T]),O!=null&&(typeof O=="string"&&(kM(O)||PM(O))?O=parseFloat(O):!LM(O)&&Ga.test(z)&&(O=c_(T,z)),e.addValue(T,Ic(O)),s[T]===void 0&&(s[T]=O),O!==null&&e.setBaseTarget(T,O))}}function VM(e,t){return t?(t[e]||t.default||t).from:void 0}function UM(e,t,s){var u;const h={};for(const p in e){const y=VM(p,t);h[p]=y!==void 0?y:(u=s.getValue(p))===null||u===void 0?void 0:u.get()}return h}function bf(e){return Boolean(ko(e)&&e.add)}function jM(e,t,s={}){e.notify("AnimationStart",t);let u;if(Array.isArray(t)){const h=t.map(p=>Ny(e,p,s));u=Promise.all(h)}else if(typeof t=="string")u=Ny(e,t,s);else{const h=typeof t=="function"?Qf(e,t,s.custom):t;u=GS(e,h,s)}return u.then(()=>e.notify("AnimationComplete",t))}function Ny(e,t,s={}){var u;const h=Qf(e,t,s.custom);let{transition:p=e.getDefaultTransition()||{}}=h||{};s.transitionOverride&&(p=s.transitionOverride);const y=h?()=>GS(e,h,s):()=>Promise.resolve(),a=!((u=e.variantChildren)===null||u===void 0)&&u.size?(z=0)=>{const{delayChildren:O=0,staggerChildren:j,staggerDirection:S}=p;return qM(e,t,O+z,j,S,s)}:()=>Promise.resolve(),{when:T}=p;if(T){const[z,O]=T==="beforeChildren"?[y,a]:[a,y];return z().then(O)}else return Promise.all([y(),a(s.delay)])}function GS(e,t,{delay:s=0,transitionOverride:u,type:h}={}){var p;let{transition:y=e.getDefaultTransition(),transitionEnd:a,...T}=e.makeTargetAnimatable(t);const z=e.getValue("willChange");u&&(y=u);const O=[],j=h&&((p=e.animationState)===null||p===void 0?void 0:p.getState()[h]);for(const S in T){const Q=e.getValue(S),se=T[S];if(!Q||se===void 0||j&&WM(j,S))continue;let oe={delay:s,...y};e.shouldReduceMotion&&wd.has(S)&&(oe={...oe,type:!1,delay:0});let he=d_(S,Q,se,oe);bf(z)&&(z.add(S),he=he.then(()=>z.remove(S))),O.push(he)}return Promise.all(O).then(()=>{a&&OM(e,a)})}function qM(e,t,s=0,u=0,h=1,p){const y=[],a=(e.variantChildren.size-1)*u,T=h===1?(z=0)=>z*u:(z=0)=>a-z*u;return Array.from(e.variantChildren).sort(GM).forEach((z,O)=>{y.push(Ny(z,t,{...p,delay:s+T(O)}).then(()=>z.notify("AnimationComplete",t)))}),Promise.all(y)}function GM(e,t){return e.sortNodePosition(t)}function WM({protectedKeys:e,needsAnimating:t},s){const u=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,u}const m_=[En.Animate,En.InView,En.Focus,En.Hover,En.Tap,En.Drag,En.Exit],HM=[...m_].reverse(),ZM=m_.length;function $M(e){return t=>Promise.all(t.map(({animation:s,options:u})=>jM(e,s,u)))}function XM(e){let t=$M(e);const s=YM();let u=!0;const h=(T,z)=>{const O=Qf(e,z);if(O){const{transition:j,transitionEnd:S,...Q}=O;T={...T,...Q,...S}}return T};function p(T){t=T(e)}function y(T,z){var O;const j=e.getProps(),S=e.getVariantContext(!0)||{},Q=[],se=new Set;let oe={},he=1/0;for(let D=0;D<ZM;D++){const F=HM[D],Y=s[F],xe=(O=j[F])!==null&&O!==void 0?O:S[F],E=od(xe),Ne=F===z?Y.isActive:null;Ne===!1&&(he=D);let qe=xe===S[F]&&xe!==j[F]&&E;if(qe&&u&&e.manuallyAnimateOnMount&&(qe=!1),Y.protectedKeys={...oe},!Y.isActive&&Ne===null||!xe&&!Y.prevProp||Wf(xe)||typeof xe=="boolean")continue;const wt=KM(Y.prevProp,xe);let At=wt||F===z&&Y.isActive&&!qe&&E||D>he&&E;const _i=Array.isArray(xe)?xe:[xe];let ui=_i.reduce(h,{});Ne===!1&&(ui={});const{prevResolvedValues:Tn={}}=Y,Di={...Tn,...ui},sn=Tt=>{At=!0,se.delete(Tt),Y.needsAnimating[Tt]=!0};for(const Tt in Di){const un=ui[Tt],He=Tn[Tt];oe.hasOwnProperty(Tt)||(un!==He?cd(un)&&cd(He)?!VS(un,He)||wt?sn(Tt):Y.protectedKeys[Tt]=!0:un!==void 0?sn(Tt):se.add(Tt):un!==void 0&&se.has(Tt)?sn(Tt):Y.protectedKeys[Tt]=!0)}Y.prevProp=xe,Y.prevResolvedValues=ui,Y.isActive&&(oe={...oe,...ui}),u&&e.blockInitialAnimation&&(At=!1),At&&!qe&&Q.push(..._i.map(Tt=>({animation:Tt,options:{type:F,...T}})))}if(se.size){const D={};se.forEach(F=>{const Y=e.getBaseTarget(F);Y!==void 0&&(D[F]=Y)}),Q.push({animation:D})}let k=Boolean(Q.length);return u&&j.initial===!1&&!e.manuallyAnimateOnMount&&(k=!1),u=!1,k?t(Q):Promise.resolve()}function a(T,z,O){var j;if(s[T].isActive===z)return Promise.resolve();(j=e.variantChildren)===null||j===void 0||j.forEach(Q=>{var se;return(se=Q.animationState)===null||se===void 0?void 0:se.setActive(T,z)}),s[T].isActive=z;const S=y(O,T);for(const Q in s)s[Q].protectedKeys={};return S}return{animateChanges:y,setActive:a,setAnimateFunction:p,getState:()=>s}}function KM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!VS(t,e):!1}function au(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YM(){return{[En.Animate]:au(!0),[En.InView]:au(),[En.Hover]:au(),[En.Tap]:au(),[En.Drag]:au(),[En.Focus]:au(),[En.Exit]:au()}}const WS={animation:Sl(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=XM(e)),Wf(t)&&$e.exports.useEffect(()=>t.subscribe(e),[t])}),exit:Sl(e=>{const{custom:t,visualElement:s}=e,[u,h]=FS(),p=$e.exports.useContext(xd);$e.exports.useEffect(()=>{s.isPresent=u;const y=s.animationState&&s.animationState.setActive(En.Exit,!u,{custom:p&&p.custom||t});y&&!u&&y.then(h)},[u])})};class HS{constructor(t,s,{transformPagePoint:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=wg(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,j=l_(z.offset,{x:0,y:0})>=3;if(!O&&!j)return;const{point:S}=z,{timestamp:Q}=_f();this.history.push({...S,timestamp:Q});const{onStart:se,onMove:oe}=this.handlers;O||(se&&se(this.lastMoveEvent,z),this.startEvent=this.lastMoveEvent),oe&&oe(this.lastMoveEvent,z)},this.handlePointerMove=(z,O)=>{if(this.lastMoveEvent=z,this.lastMoveEventInfo=xg(O,this.transformPagePoint),lS(z)&&z.buttons===0){this.handlePointerUp(z,O);return}no.update(this.updatePoint,!0)},this.handlePointerUp=(z,O)=>{this.end();const{onEnd:j,onSessionEnd:S}=this.handlers,Q=wg(xg(O,this.transformPagePoint),this.history);this.startEvent&&j&&j(z,Q),S&&S(z,Q)},uS(t)&&t.touches.length>1)return;this.handlers=s,this.transformPagePoint=u;const h=e_(t),p=xg(h,this.transformPagePoint),{point:y}=p,{timestamp:a}=_f();this.history=[{...y,timestamp:a}];const{onSessionStart:T}=s;T&&T(t,wg(p,this.history)),this.removeListeners=Xf(_c(window,"pointermove",this.handlePointerMove),_c(window,"pointerup",this.handlePointerUp),_c(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ll.update(this.updatePoint)}}function xg(e,t){return t?{point:t(e.point)}:e}function x1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wg({point:e},t){return{point:e,delta:x1(e,ZS(t)),offset:x1(e,QM(t)),velocity:JM(t,.1)}}function QM(e){return e[0]}function ZS(e){return e[e.length-1]}function JM(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,u=null;const h=ZS(e);for(;s>=0&&(u=e[s],!(h.timestamp-u.timestamp>wf(t)));)s--;if(!u)return{x:0,y:0};const p=(h.timestamp-u.timestamp)/1e3;if(p===0)return{x:0,y:0};const y={x:(h.x-u.x)/p,y:(h.y-u.y)/p};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function Os(e){return e.max-e.min}function w1(e,t=0,s=.01){return l_(e,t)<s}function b1(e,t,s,u=.5){e.origin=u,e.originPoint=Jn(t.min,t.max,e.origin),e.scale=Os(s)/Os(t),(w1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Jn(s.min,s.max,e.origin)-e.originPoint,(w1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Oh(e,t,s,u){b1(e.x,t.x,s.x,u==null?void 0:u.originX),b1(e.y,t.y,s.y,u==null?void 0:u.originY)}function S1(e,t,s){e.min=s.min+t.min,e.max=e.min+Os(t)}function ez(e,t,s){S1(e.x,t.x,s.x),S1(e.y,t.y,s.y)}function T1(e,t,s){e.min=t.min-s.min,e.max=e.min+Os(t)}function Fh(e,t,s){T1(e.x,t.x,s.x),T1(e.y,t.y,s.y)}function tz(e,{min:t,max:s},u){return t!==void 0&&e<t?e=u?Jn(t,e,u.min):Math.max(e,t):s!==void 0&&e>s&&(e=u?Jn(s,e,u.max):Math.min(e,s)),e}function C1(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function iz(e,{top:t,left:s,bottom:u,right:h}){return{x:C1(e.x,s,h),y:C1(e.y,t,u)}}function A1(e,t){let s=t.min-e.min,u=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,u]=[u,s]),{min:s,max:u}}function nz(e,t){return{x:A1(e.x,t.x),y:A1(e.y,t.y)}}function rz(e,t){let s=.5;const u=Os(e),h=Os(t);return h>u?s=hd(t.min,t.max-u,e.min):u>h&&(s=hd(e.min,e.max-h,t.min)),yf(0,1,s)}function sz(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Oy=.35;function oz(e=Oy){return e===!1?e=0:e===!0&&(e=Oy),{x:E1(e,"left","right"),y:E1(e,"top","bottom")}}function E1(e,t,s){return{min:k1(e,t),max:k1(e,s)}}function k1(e,t){var s;return typeof e=="number"?e:(s=e[t])!==null&&s!==void 0?s:0}const P1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vh=()=>({x:P1(),y:P1()}),I1=()=>({min:0,max:0}),mr=()=>({x:I1(),y:I1()});function ea(e){return[e("x"),e("y")]}function $S({top:e,left:t,right:s,bottom:u}){return{x:{min:t,max:s},y:{min:e,max:u}}}function az({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lz(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),u=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:u.y,right:u.x}}function bg(e){return e===void 0||e===1}function Fy({scale:e,scaleX:t,scaleY:s}){return!bg(e)||!bg(t)||!bg(s)}function cu(e){return Fy(e)||XS(e)||e.z||e.rotate||e.rotateX||e.rotateY}function XS(e){return M1(e.x)||M1(e.y)}function M1(e){return e&&e!=="0%"}function Sf(e,t,s){const u=e-s,h=t*u;return s+h}function z1(e,t,s,u,h){return h!==void 0&&(e=Sf(e,h,u)),Sf(e,s,u)+t}function Vy(e,t=0,s=1,u,h){e.min=z1(e.min,t,s,u,h),e.max=z1(e.max,t,s,u,h)}function KS(e,{x:t,y:s}){Vy(e.x,t.translate,t.scale,t.originPoint),Vy(e.y,s.translate,s.scale,s.originPoint)}function uz(e,t,s,u=!1){var h,p;const y=s.length;if(!y)return;t.x=t.y=1;let a,T;for(let z=0;z<y;z++)a=s[z],T=a.projectionDelta,((p=(h=a.instance)===null||h===void 0?void 0:h.style)===null||p===void 0?void 0:p.display)!=="contents"&&(u&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hc(e,{x:-a.scroll.x,y:-a.scroll.y}),T&&(t.x*=T.x.scale,t.y*=T.y.scale,KS(e,T)),u&&cu(a.latestValues)&&hc(e,a.latestValues))}function yl(e,t){e.min=e.min+t,e.max=e.max+t}function D1(e,t,[s,u,h]){const p=t[h]!==void 0?t[h]:.5,y=Jn(e.min,e.max,p);Vy(e,t[s],t[u],y,t.scale)}const cz=["x","scaleX","originX"],hz=["y","scaleY","originY"];function hc(e,t){D1(e.x,t,cz),D1(e.y,t,hz)}function YS(e,t){return $S(lz(e.getBoundingClientRect(),t))}function dz(e,t,s){const u=YS(e,s),{scroll:h}=t;return h&&(yl(u.x,h.x),yl(u.y,h.y)),u}const pz=new WeakMap;class fz{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mr(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){if(this.visualElement.isPresent===!1)return;const u=a=>{this.stopAnimation(),s&&this.snapToCursor(e_(a,"page").point)},h=(a,T)=>{var z;const{drag:O,dragPropagation:j,onDragStart:S}=this.getProps();O&&!j&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pS(O),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ea(Q=>{var se,oe;let he=this.getAxisMotionValue(Q).get()||0;if(ra.test(he)){const k=(oe=(se=this.visualElement.projection)===null||se===void 0?void 0:se.layout)===null||oe===void 0?void 0:oe.layoutBox[Q];k&&(he=Os(k)*(parseFloat(he)/100))}this.originPoint[Q]=he}),S==null||S(a,T),(z=this.visualElement.animationState)===null||z===void 0||z.setActive(En.Drag,!0))},p=(a,T)=>{const{dragPropagation:z,dragDirectionLock:O,onDirectionLock:j,onDrag:S}=this.getProps();if(!z&&!this.openGlobalLock)return;const{offset:Q}=T;if(O&&this.currentDirection===null){this.currentDirection=mz(Q),this.currentDirection!==null&&(j==null||j(this.currentDirection));return}this.updateAxis("x",T.point,Q),this.updateAxis("y",T.point,Q),this.visualElement.render(),S==null||S(a,T)},y=(a,T)=>this.stop(a,T);this.panSession=new HS(t,{onSessionStart:u,onStart:h,onMove:p,onSessionEnd:y},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,s){const u=this.isDragging;if(this.cancel(),!u)return;const{velocity:h}=s;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p==null||p(t,s)}cancel(){var t,s;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:u}=this.getProps();!u&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(s=this.visualElement.animationState)===null||s===void 0||s.setActive(En.Drag,!1)}updateAxis(t,s,u){const{drag:h}=this.getProps();if(!u||!Sp(t,h,this.currentDirection))return;const p=this.getAxisMotionValue(t);let y=this.originPoint[t]+u[t];this.constraints&&this.constraints[t]&&(y=tz(y,this.constraints[t],this.elastic[t])),p.set(y)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),{layout:u}=this.visualElement.projection||{},h=this.constraints;t&&cc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&u?this.constraints=iz(u.layoutBox,t):this.constraints=!1,this.elastic=oz(s),h!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&ea(p=>{this.getAxisMotionValue(p)&&(this.constraints[p]=sz(u.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!cc(t))return!1;const u=t.current,{projection:h}=this.visualElement;if(!h||!h.layout)return!1;const p=dz(u,h.root,this.visualElement.getTransformPagePoint());let y=nz(h.layout.layoutBox,p);if(s){const a=s(az(y));this.hasMutatedConstraints=!!a,a&&(y=$S(a))}return y}startAnimation(t){const{drag:s,dragMomentum:u,dragElastic:h,dragTransition:p,dragSnapToOrigin:y,onDragTransitionEnd:a}=this.getProps(),T=this.constraints||{},z=ea(O=>{var j;if(!Sp(O,s,this.currentDirection))return;let S=(j=T==null?void 0:T[O])!==null&&j!==void 0?j:{};y&&(S={min:0,max:0});const Q=h?200:1e6,se=h?40:1e7,oe={type:"inertia",velocity:u?t[O]:0,bounceStiffness:Q,bounceDamping:se,timeConstant:750,restDelta:1,restSpeed:10,...p,...S};return this.startAxisValueAnimation(O,oe)});return Promise.all(z).then(a)}startAxisValueAnimation(t,s){const u=this.getAxisMotionValue(t);return d_(t,u,0,s)}stopAnimation(){ea(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var s,u;const h="_drag"+t.toUpperCase(),p=this.visualElement.getProps()[h];return p||this.visualElement.getValue(t,(u=(s=this.visualElement.getProps().initial)===null||s===void 0?void 0:s[t])!==null&&u!==void 0?u:0)}snapToCursor(t){ea(s=>{const{drag:u}=this.getProps();if(!Sp(s,u,this.currentDirection))return;const{projection:h}=this.visualElement,p=this.getAxisMotionValue(s);if(h&&h.layout){const{min:y,max:a}=h.layout.layoutBox[s];p.set(t[s]-Jn(y,a,.5))}})}scalePositionWithinConstraints(){var t;if(!this.visualElement.current)return;const{drag:s,dragConstraints:u}=this.getProps(),{projection:h}=this.visualElement;if(!cc(u)||!h||!this.constraints)return;this.stopAnimation();const p={x:0,y:0};ea(a=>{const T=this.getAxisMotionValue(a);if(T){const z=T.get();p[a]=rz({min:z,max:z},this.constraints[a])}});const{transformTemplate:y}=this.visualElement.getProps();this.visualElement.current.style.transform=y?y({},""):"none",(t=h.root)===null||t===void 0||t.updateScroll(),h.updateLayout(),this.resolveConstraints(),ea(a=>{if(!Sp(a,s,null))return;const T=this.getAxisMotionValue(a),{min:z,max:O}=this.constraints[a];T.set(Jn(z,O,p[a]))})}addListeners(){var t;if(!this.visualElement.current)return;pz.set(this.visualElement,this);const s=this.visualElement.current,u=_c(s,"pointerdown",z=>{const{drag:O,dragListener:j=!0}=this.getProps();O&&j&&this.start(z)}),h=()=>{const{dragConstraints:z}=this.getProps();cc(z)&&(this.constraints=this.resolveRefConstraints())},{projection:p}=this.visualElement,y=p.addEventListener("measure",h);p&&!p.layout&&((t=p.root)===null||t===void 0||t.updateScroll(),p.updateLayout()),h();const a=$f(window,"resize",()=>this.scalePositionWithinConstraints()),T=p.addEventListener("didUpdate",({delta:z,hasLayoutChanged:O})=>{this.isDragging&&O&&(ea(j=>{const S=this.getAxisMotionValue(j);!S||(this.originPoint[j]+=z[j].translate,S.set(S.get()+z[j].translate))}),this.visualElement.render())});return()=>{a(),u(),y(),T==null||T()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:u=!1,dragPropagation:h=!1,dragConstraints:p=!1,dragElastic:y=Oy,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:u,dragPropagation:h,dragConstraints:p,dragElastic:y,dragMomentum:a}}}function Sp(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function mz(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}function gz(e){const{dragControls:t,visualElement:s}=e,u=Zf(()=>new fz(s));$e.exports.useEffect(()=>t&&t.subscribe(u),[u,t]),$e.exports.useEffect(()=>u.addListeners(),[u])}function yz({onPan:e,onPanStart:t,onPanEnd:s,onPanSessionStart:u,visualElement:h}){const p=e||t||s||u,y=$e.exports.useRef(null),{transformPagePoint:a}=$e.exports.useContext(Wv),T={onSessionStart:u,onStart:t,onMove:e,onEnd:(O,j)=>{y.current=null,s&&s(O,j)}};$e.exports.useEffect(()=>{y.current!==null&&y.current.updateHandlers(T)});function z(O){y.current=new HS(O,T,{transformPagePoint:a})}mf(h,"pointerdown",p&&z),t_(()=>y.current&&y.current.end())}const vz={pan:Sl(yz),drag:Sl(gz)};function Uy(e){return typeof e=="string"&&e.startsWith("var(--")}const QS=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function _z(e){const t=QS.exec(e);if(!t)return[,];const[,s,u]=t;return[s,u]}function jy(e,t,s=1){const[u,h]=_z(e);if(!u)return;const p=window.getComputedStyle(t).getPropertyValue(u);return p?p.trim():Uy(h)?jy(h,t,s+1):h}function xz(e,{...t},s){const u=e.current;if(!(u instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(h=>{const p=h.get();if(!Uy(p))return;const y=jy(p,u);y&&h.set(y)});for(const h in t){const p=t[h];if(!Uy(p))continue;const y=jy(p,u);!y||(t[h]=y,s&&s[h]===void 0&&(s[h]=p))}return{target:t,transitionEnd:s}}const wz=new Set(["width","height","top","left","right","bottom","x","y"]),JS=e=>wz.has(e),bz=e=>Object.keys(e).some(JS),eT=(e,t)=>{e.set(t,!1),e.set(t)},L1=e=>e===Eu||e===fi;var R1;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(R1||(R1={}));const B1=(e,t)=>parseFloat(e.split(", ")[t]),N1=(e,t)=>(s,{transform:u})=>{if(u==="none"||!u)return 0;const h=u.match(/^matrix3d\((.+)\)$/);if(h)return B1(h[1],t);{const p=u.match(/^matrix\((.+)\)$/);return p?B1(p[1],e):0}},Sz=new Set(["x","y","z"]),Tz=pf.filter(e=>!Sz.has(e));function Cz(e){const t=[];return Tz.forEach(s=>{const u=e.getValue(s);u!==void 0&&(t.push([s,u.get()]),u.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const O1={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:N1(4,13),y:N1(5,14)},Az=(e,t,s)=>{const u=t.measureViewportBox(),h=t.current,p=getComputedStyle(h),{display:y}=p,a={};y==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(z=>{a[z]=O1[z](u,p)}),t.render();const T=t.measureViewportBox();return s.forEach(z=>{const O=t.getValue(z);eT(O,a[z]),e[z]=O1[z](T,p)}),e},Ez=(e,t,s={},u={})=>{t={...t},u={...u};const h=Object.keys(t).filter(JS);let p=[],y=!1;const a=[];if(h.forEach(T=>{const z=e.getValue(T);if(!e.hasValue(T))return;let O=s[T],j=gh(O);const S=t[T];let Q;if(cd(S)){const se=S.length,oe=S[0]===null?1:0;O=S[oe],j=gh(O);for(let he=oe;he<se;he++)Q?gf(gh(S[he])===Q):Q=gh(S[he])}else Q=gh(S);if(j!==Q)if(L1(j)&&L1(Q)){const se=z.get();typeof se=="string"&&z.set(parseFloat(se)),typeof S=="string"?t[T]=parseFloat(S):Array.isArray(S)&&Q===fi&&(t[T]=S.map(parseFloat))}else(j==null?void 0:j.transform)&&(Q==null?void 0:Q.transform)&&(O===0||S===0)?O===0?z.set(Q.transform(O)):t[T]=j.transform(S):(y||(p=Cz(e),y=!0),a.push(T),u[T]=u[T]!==void 0?u[T]:t[T],eT(z,S))}),a.length){const T=a.indexOf("height")>=0?window.pageYOffset:null,z=Az(t,e,a);return p.length&&p.forEach(([O,j])=>{e.getValue(O).set(j)}),e.render(),Au&&T!==null&&window.scrollTo({top:T}),{target:z,transitionEnd:u}}else return{target:t,transitionEnd:u}};function kz(e,t,s,u){return bz(t)?Ez(e,t,s,u):{target:t,transitionEnd:u}}const Pz=(e,t,s,u)=>{const h=xz(e,t,u);return t=h.target,u=h.transitionEnd,kz(e,t,s,u)},qy={current:null},tT={current:!1};function Iz(){if(tT.current=!0,!!Au)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qy.current=e.matches;e.addListener(t),t()}else qy.current=!1}function Mz(e,t,s){const{willChange:u}=t;for(const h in t){const p=t[h],y=s[h];if(ko(p))e.addValue(h,p),bf(u)&&u.add(h);else if(ko(y))e.addValue(h,Ic(p)),bf(u)&&u.remove(h);else if(y!==p)if(e.hasValue(h)){const a=e.getValue(h);!a.hasAnimated&&a.set(p)}else{const a=e.getStaticValue(h);e.addValue(h,Ic(a!==void 0?a:p))}}for(const h in s)t[h]===void 0&&e.removeValue(h);return t}const iT=Object.keys(ad),zz=iT.length,F1=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dz{constructor({parent:t,props:s,reducedMotionConfig:u,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{!this.current||(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>no.render(this.render,!1,!0);const{latestValues:y,renderState:a}=h;this.latestValues=y,this.baseTarget={...y},this.initialValues=s.initial?{...y}:{},this.renderState=a,this.parent=t,this.props=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=u,this.options=p,this.isControllingVariants=Hf(s),this.isVariantNode=O2(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:T,...z}=this.scrapeMotionValuesFromProps(s);for(const O in z){const j=z[O];y[O]!==void 0&&ko(j)&&(j.set(y[O],!1),bf(T)&&T.add(O))}if(s.values)for(const O in s.values){const j=s.values[O];y[O]!==void 0&&ko(j)&&j.set(y[O])}}scrapeMotionValuesFromProps(t){return{}}mount(t){var s;this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(s=this.parent)===null||s===void 0?void 0:s.addVariantChild(this)),this.values.forEach((u,h)=>this.bindToMotionValue(h,u)),tT.current||Iz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qy.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var t,s,u;(t=this.projection)===null||t===void 0||t.unmount(),Ll.update(this.notifyUpdate),Ll.render(this.render),this.valueSubscriptions.forEach(h=>h()),(s=this.removeFromVariantTree)===null||s===void 0||s.call(this),(u=this.parent)===null||u===void 0||u.children.delete(this);for(const h in this.events)this.events[h].clear();this.current=null}bindToMotionValue(t,s){const u=s.onChange(p=>{this.latestValues[t]=p,this.props.onUpdate&&no.update(this.notifyUpdate,!1,!0)}),h=s.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(t,()=>{u(),h()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures(t,s,u,h,p,y){const a=[];for(let T=0;T<zz;T++){const z=iT[T],{isEnabled:O,Component:j}=ad[z];O(t)&&j&&a.push($e.exports.createElement(j,{key:z,...t,visualElement:this}))}if(!this.projection&&p){this.projection=new p(h,this.latestValues,this.parent&&this.parent.projection);const{layoutId:T,layout:z,drag:O,dragConstraints:j,layoutScroll:S}=t;this.projection.setOptions({layoutId:T,layout:z,alwaysMeasureLayout:Boolean(O)||j&&cc(j),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof z=="string"?z:"both",initialPromotionConfig:y,layoutScroll:S})}return a}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}setProps(t){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=t;for(let s=0;s<F1.length;s++){const u=F1[s];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const h=t["on"+u];h&&(this.propEventSubscriptions[u]=this.on(u,h))}this.prevMotionValues=Mz(this,this.scrapeMotionValuesFromProps(t),this.prevMotionValues)}getProps(){return this.props}getVariant(t){var s;return(s=this.props.variants)===null||s===void 0?void 0:s[t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var t;return this.isVariantNode?this:(t=this.parent)===null||t===void 0?void 0:t.getClosestVariantNode()}getVariantContext(t=!1){var s,u;if(t)return(s=this.parent)===null||s===void 0?void 0:s.getVariantContext();if(!this.isControllingVariants){const p=((u=this.parent)===null||u===void 0?void 0:u.getVariantContext())||{};return this.props.initial!==void 0&&(p.initial=this.props.initial),p}const h={};for(let p=0;p<Lz;p++){const y=nT[p],a=this.props[y];(od(a)||a===!1)&&(h[y]=a)}return h}addVariantChild(t){var s;const u=this.getClosestVariantNode();if(u)return(s=u.variantChildren)===null||s===void 0||s.add(t),()=>u.variantChildren.delete(t)}addValue(t,s){this.hasValue(t)&&this.removeValue(t),this.values.set(t,s),this.latestValues[t]=s.get(),this.bindToMotionValue(t,s)}removeValue(t){var s;this.values.delete(t),(s=this.valueSubscriptions.get(t))===null||s===void 0||s(),this.valueSubscriptions.delete(t),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let u=this.values.get(t);return u===void 0&&s!==void 0&&(u=Ic(s),this.addValue(t,u)),u}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:u}=this.props,h=typeof u=="string"||typeof u=="object"?(s=Jv(this.props,u))===null||s===void 0?void 0:s[t]:void 0;if(u&&h!==void 0)return h;const p=this.getBaseTargetFromProps(this.props,t);return p!==void 0&&!ko(p)?p:this.initialValues[t]!==void 0&&h===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Nh),this.events[t].add(s)}notify(t,...s){var u;(u=this.events[t])===null||u===void 0||u.notify(...s)}}const nT=["initial",...m_],Lz=nT.length;class rT extends Dz{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){var u;return(u=t.style)===null||u===void 0?void 0:u[s]}removeValueFromRenderState(t,{vars:s,style:u}){delete s[t],delete u[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...u},{transformValues:h},p){let y=UM(u,t||{},this);if(h&&(s&&(s=h(s)),u&&(u=h(u)),y&&(y=h(y))),p){FM(this,u,y);const a=Pz(this,u,y,s);s=a.transitionEnd,u=a.target}return{transition:t,transitionEnd:s,...u}}}function Rz(e){return window.getComputedStyle(e)}class Bz extends rT{readValueFromInstance(t,s){if(wd.has(s)){const u=u_(s);return u&&u.default||0}else{const u=Rz(t),h=(j2(s)?u.getPropertyValue(s):u[s])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(t,{transformPagePoint:s}){return YS(t,s)}build(t,s,u,h){Xv(t,s,u,h.transformTemplate)}scrapeMotionValuesFromProps(t){return Qv(t)}renderInstance(t,s,u,h){tS(t,s,u,h)}}class Nz extends rT{getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){var u;return wd.has(s)?((u=u_(s))===null||u===void 0?void 0:u.default)||0:(s=iS.has(s)?s:eS(s),t.getAttribute(s))}measureInstanceViewportBox(){return mr()}scrapeMotionValuesFromProps(t){return rS(t)}build(t,s,u,h){Yv(t,s,u,h.transformTemplate)}renderInstance(t,s,u,h){nS(t,s,u,h)}}const sT=(e,t)=>Zv(e)?new Nz(t,{enableHardwareAcceleration:!1}):new Bz(t,{enableHardwareAcceleration:!0});function V1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(fi.test(e))e=parseFloat(e);else return e;const s=V1(e,t.target.x),u=V1(e,t.target.y);return`${s}% ${u}%`}},U1="_$css",Oz={correct:(e,{treeScale:t,projectionDelta:s})=>{const u=e,h=e.includes("var("),p=[];h&&(e=e.replace(QS,Q=>(p.push(Q),U1)));const y=Ga.parse(e);if(y.length>5)return u;const a=Ga.createTransformer(e),T=typeof y[0]!="number"?1:0,z=s.x.scale*t.x,O=s.y.scale*t.y;y[0+T]/=z,y[1+T]/=O;const j=Jn(z,O,.5);typeof y[2+T]=="number"&&(y[2+T]/=j),typeof y[3+T]=="number"&&(y[3+T]/=j);let S=a(y);if(h){let Q=0;S=S.replace(U1,()=>{const se=p[Q];return Q++,se})}return S}};class Fz extends ev.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:u,layoutId:h}=this.props,{projection:p}=t;hP(Uz),p&&(s.group&&s.group.add(p),u&&u.register&&h&&u.register(p),p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),Lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:u,drag:h,isPresent:p}=this.props,y=u.projection;return y&&(y.isPresent=p,h||t.layoutDependency!==s||s===void 0?y.willUpdate():this.safeToRemove(),t.isPresent!==p&&(p?y.promote():y.relegate()||no.postRender(()=>{var a;!((a=y.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:u}=this.props,{projection:h}=t;h&&(h.scheduleCheckAfterUnmount(),s!=null&&s.group&&s.group.remove(h),u!=null&&u.deregister&&u.deregister(h))}safeToRemove(){const{safeToRemove:t}=this.props;t==null||t()}render(){return null}}function Vz(e){const[t,s]=FS(),u=$e.exports.useContext(ld);return X(Fz,{...e,layoutGroup:u,switchLayoutGroup:$e.exports.useContext(F2),isPresent:t,safeToRemove:s})}const Uz={borderRadius:{...yh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yh,borderTopRightRadius:yh,borderBottomLeftRadius:yh,borderBottomRightRadius:yh,boxShadow:Oz},jz={measureLayout:Vz};function qz(e,t,s={}){const u=ko(e)?e:Ic(e);return d_("",u,t,s),{stop:()=>u.stop(),isAnimating:()=>u.isAnimating()}}const oT=["TopLeft","TopRight","BottomLeft","BottomRight"],Gz=oT.length,j1=e=>typeof e=="string"?parseFloat(e):e,q1=e=>typeof e=="number"||fi.test(e);function Wz(e,t,s,u,h,p){var y,a,T,z;h?(e.opacity=Jn(0,(y=s.opacity)!==null&&y!==void 0?y:1,Hz(u)),e.opacityExit=Jn((a=t.opacity)!==null&&a!==void 0?a:1,0,Zz(u))):p&&(e.opacity=Jn((T=t.opacity)!==null&&T!==void 0?T:1,(z=s.opacity)!==null&&z!==void 0?z:1,u));for(let O=0;O<Gz;O++){const j=`border${oT[O]}Radius`;let S=G1(t,j),Q=G1(s,j);if(S===void 0&&Q===void 0)continue;S||(S=0),Q||(Q=0),S===0||Q===0||q1(S)===q1(Q)?(e[j]=Math.max(Jn(j1(S),j1(Q),u),0),(ra.test(Q)||ra.test(S))&&(e[j]+="%")):e[j]=Q}(t.rotate||s.rotate)&&(e.rotate=Jn(t.rotate||0,s.rotate||0,u))}function G1(e,t){var s;return(s=e[t])!==null&&s!==void 0?s:e.borderRadius}const Hz=aT(0,.5,o_),Zz=aT(.5,.95,r_);function aT(e,t,s){return u=>u<e?0:u>t?1:s(hd(e,t,u))}function W1(e,t){e.min=t.min,e.max=t.max}function wo(e,t){W1(e.x,t.x),W1(e.y,t.y)}function H1(e,t,s,u,h){return e-=t,e=Sf(e,1/s,u),h!==void 0&&(e=Sf(e,1/h,u)),e}function $z(e,t=0,s=1,u=.5,h,p=e,y=e){if(ra.test(t)&&(t=parseFloat(t),t=Jn(y.min,y.max,t/100)-y.min),typeof t!="number")return;let a=Jn(p.min,p.max,u);e===p&&(a-=t),e.min=H1(e.min,t,s,a,h),e.max=H1(e.max,t,s,a,h)}function Z1(e,t,[s,u,h],p,y){$z(e,t[s],t[u],t[h],t.scale,p,y)}const Xz=["x","scaleX","originX"],Kz=["y","scaleY","originY"];function $1(e,t,s,u){Z1(e.x,t,Xz,s==null?void 0:s.x,u==null?void 0:u.x),Z1(e.y,t,Kz,s==null?void 0:s.y,u==null?void 0:u.y)}function X1(e){return e.translate===0&&e.scale===1}function lT(e){return X1(e.x)&&X1(e.y)}function uT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function K1(e){return Os(e.x)/Os(e.y)}function Yz(e,t,s=.1){return l_(e,t)<=s}class Qz{constructor(){this.members=[]}add(t){p_(this.members,t),t.scheduleRender()}remove(t){if(f_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(h=>t===h);if(s===0)return!1;let u;for(let h=s;h>=0;h--){const p=this.members[h];if(p.isPresent!==!1){u=p;break}}return u?(this.promote(u),!0):!1}promote(t,s){var u;const h=this.lead;if(t!==h&&(this.prevLead=h,this.lead=t,t.show(),h)){h.instance&&h.scheduleRender(),t.scheduleRender(),t.resumeFrom=h,s&&(t.resumeFrom.preserveOpacity=!0),h.snapshot&&(t.snapshot=h.snapshot,t.snapshot.latestValues=h.animationValues||h.latestValues,t.snapshot.isShared=!0),!((u=t.root)===null||u===void 0)&&u.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:p}=t.options;p===!1&&h.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var s,u,h,p,y;(u=(s=t.options).onExitComplete)===null||u===void 0||u.call(s),(y=(h=t.resumingFrom)===null||h===void 0?void 0:(p=h.options).onExitComplete)===null||y===void 0||y.call(p)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Jz="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function Y1(e,t,s){const u=e.x.translate/t.x,h=e.y.translate/t.y;let p=`translate3d(${u}px, ${h}px, 0) `;if(p+=`scale(${1/t.x}, ${1/t.y}) `,s){const{rotate:T,rotateX:z,rotateY:O}=s;T&&(p+=`rotate(${T}deg) `),z&&(p+=`rotateX(${z}deg) `),O&&(p+=`rotateY(${O}deg) `)}const y=e.x.scale*t.x,a=e.y.scale*t.y;return p+=`scale(${y}, ${a})`,p===Jz?"none":p}const eD=(e,t)=>e.depth-t.depth;class tD{constructor(){this.children=[],this.isDirty=!1}add(t){p_(this.children,t),this.isDirty=!0}remove(t){f_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eD),this.isDirty=!1,this.children.forEach(t)}}const Q1=["","X","Y","Z"],J1=1e3;function cT({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:u,resetTransform:h}){return class{constructor(y,a={},T=t==null?void 0:t()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(oD),this.nodes.forEach(aD)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=y,this.latestValues=a,this.root=T?T.root||T:this,this.path=T?[...T.path,T]:[],this.parent=T,this.depth=T?T.depth+1:0,y&&this.root.registerPotentialNode(y,this);for(let z=0;z<this.path.length;z++)this.path[z].shouldResetTransform=!0;this.root===this&&(this.nodes=new tD)}addEventListener(y,a){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new Nh),this.eventHandlers.get(y).add(a)}notifyListeners(y,...a){const T=this.eventHandlers.get(y);T==null||T.notify(...a)}hasListeners(y){return this.eventHandlers.has(y)}registerPotentialNode(y,a){this.potentialNodes.set(y,a)}mount(y,a=!1){var T;if(this.instance)return;this.isSVG=y instanceof SVGElement&&y.tagName!=="svg",this.instance=y;const{layoutId:z,layout:O,visualElement:j}=this.options;if(j&&!j.current&&j.mount(y),this.root.nodes.add(this),(T=this.parent)===null||T===void 0||T.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(O||z)&&(this.isLayoutDirty=!0),e){let S;const Q=()=>this.root.updateBlockedByResize=!1;e(y,()=>{this.root.updateBlockedByResize=!0,S&&S(),S=US(Q,250),Lh.hasAnimatedSinceResize&&(Lh.hasAnimatedSinceResize=!1,this.nodes.forEach(tw))})}z&&this.root.registerSharedNode(z,this),this.options.animate!==!1&&j&&(z||O)&&this.addEventListener("didUpdate",({delta:S,hasLayoutChanged:Q,hasRelativeTargetChanged:se,layout:oe})=>{var he,k,D,F,Y;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const xe=(k=(he=this.options.transition)!==null&&he!==void 0?he:j.getDefaultTransition())!==null&&k!==void 0?k:dD,{onLayoutAnimationStart:E,onLayoutAnimationComplete:Ne}=j.getProps(),qe=!this.targetLayout||!uT(this.targetLayout,oe)||se,wt=!Q&&se;if(((D=this.resumeFrom)===null||D===void 0?void 0:D.instance)||wt||Q&&(qe||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(S,wt);const At={...h_(xe,"layout"),onPlay:E,onComplete:Ne};j.shouldReduceMotion&&(At.delay=0,At.type=!1),this.startAnimation(At)}else!Q&&this.animationProgress===0&&tw(this),this.isLead()&&((Y=(F=this.options).onExitComplete)===null||Y===void 0||Y.call(F));this.targetLayout=oe})}unmount(){var y,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(y=this.getStack())===null||y===void 0||y.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Ll.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var y;return this.isAnimationBlocked||((y=this.parent)===null||y===void 0?void 0:y.isTreeAnimationBlocked())||!1}startUpdate(){var y;this.isUpdateBlocked()||(this.isUpdating=!0,(y=this.nodes)===null||y===void 0||y.forEach(lD))}willUpdate(y=!0){var a,T,z;if(this.root.isUpdateBlocked()){(T=(a=this.options).onExitComplete)===null||T===void 0||T.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Q=0;Q<this.path.length;Q++){const se=this.path[Q];se.shouldResetTransform=!0,se.updateScroll()}const{layoutId:O,layout:j}=this.options;if(O===void 0&&!j)return;const S=(z=this.options.visualElement)===null||z===void 0?void 0:z.getProps().transformTemplate;this.prevTransformTemplateValue=S==null?void 0:S(this.latestValues,""),this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ew);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(pD),this.potentialNodes.clear()),this.nodes.forEach(sD),this.nodes.forEach(iD),this.nodes.forEach(nD),this.clearAllSnapshots(),yg.update(),yg.preRender(),yg.render())}clearAllSnapshots(){this.nodes.forEach(rD),this.sharedNodes.forEach(uD)}scheduleUpdateProjection(){no.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){no.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var y;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let T=0;T<this.path.length;T++)this.path[T].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(y=this.options.visualElement)===null||y===void 0||y.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=u(this.instance),this.scroll=s(this.instance))}resetTransform(){var y;if(!h)return;const a=this.isLayoutDirty||this.shouldResetTransform,T=this.projectionDelta&&!lT(this.projectionDelta),z=(y=this.options.visualElement)===null||y===void 0?void 0:y.getProps().transformTemplate,O=z==null?void 0:z(this.latestValues,""),j=O!==this.prevTransformTemplateValue;a&&(T||cu(this.latestValues)||j)&&(h(this.instance,O),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const a=this.measurePageBox();let T=this.removeElementScroll(a);return y&&(T=this.removeTransform(T)),fD(T),{measuredBox:a,layoutBox:T,latestValues:{}}}measurePageBox(){const{visualElement:y}=this.options;if(!y)return mr();const a=y.measureViewportBox(),{scroll:T}=this.root;return T&&(yl(a.x,T.x),yl(a.y,T.y)),a}removeElementScroll(y){const a=mr();wo(a,y);for(let T=0;T<this.path.length;T++){const z=this.path[T],{scroll:O,options:j,isScrollRoot:S}=z;if(z!==this.root&&O&&j.layoutScroll){if(S){wo(a,y);const{scroll:Q}=this.root;Q&&(yl(a.x,-Q.x),yl(a.y,-Q.y))}yl(a.x,O.x),yl(a.y,O.y)}}return a}applyTransform(y,a=!1){const T=mr();wo(T,y);for(let z=0;z<this.path.length;z++){const O=this.path[z];!a&&O.options.layoutScroll&&O.scroll&&O!==O.root&&hc(T,{x:-O.scroll.x,y:-O.scroll.y}),cu(O.latestValues)&&hc(T,O.latestValues)}return cu(this.latestValues)&&hc(T,this.latestValues),T}removeTransform(y){var a;const T=mr();wo(T,y);for(let z=0;z<this.path.length;z++){const O=this.path[z];if(!O.instance||!cu(O.latestValues))continue;Fy(O.latestValues)&&O.updateSnapshot();const j=mr(),S=O.measurePageBox();wo(j,S),$1(T,O.latestValues,(a=O.snapshot)===null||a===void 0?void 0:a.layoutBox,j)}return cu(this.latestValues)&&$1(T,this.latestValues),T}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection()}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var y;const{layout:a,layoutId:T}=this.options;if(!(!this.layout||!(a||T))){if(!this.targetDelta&&!this.relativeTarget){const z=this.getClosestProjectingParent();z&&z.layout?(this.relativeParent=z,this.relativeTarget=mr(),this.relativeTargetOrigin=mr(),Fh(this.relativeTargetOrigin,this.layout.layoutBox,z.layout.layoutBox),wo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mr(),this.targetWithTransforms=mr()),this.relativeTarget&&this.relativeTargetOrigin&&((y=this.relativeParent)===null||y===void 0?void 0:y.target)?ez(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):wo(this.target,this.layout.layoutBox),KS(this.target,this.targetDelta)):wo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const z=this.getClosestProjectingParent();z&&Boolean(z.resumingFrom)===Boolean(this.resumingFrom)&&!z.options.layoutScroll&&z.target?(this.relativeParent=z,this.relativeTarget=mr(),this.relativeTargetOrigin=mr(),Fh(this.relativeTargetOrigin,this.target,z.target),wo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fy(this.parent.latestValues)||XS(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var y;const{layout:a,layoutId:T}=this.options;if(this.isTreeAnimating=Boolean(((y=this.parent)===null||y===void 0?void 0:y.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||T))return;const z=this.getLead();wo(this.layoutCorrected,this.layout.layoutBox),uz(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==z);const{target:O}=z;if(!O)return;this.projectionDelta||(this.projectionDelta=Vh(),this.projectionDeltaWithTransform=Vh());const j=this.treeScale.x,S=this.treeScale.y,Q=this.projectionTransform;Oh(this.projectionDelta,this.layoutCorrected,O,this.latestValues),this.projectionTransform=Y1(this.projectionDelta,this.treeScale),(this.projectionTransform!==Q||this.treeScale.x!==j||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){var a,T,z;(T=(a=this.options).scheduleRender)===null||T===void 0||T.call(a),y&&((z=this.getStack())===null||z===void 0||z.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(y,a=!1){var T;const z=this.snapshot,O=(z==null?void 0:z.latestValues)||{},j={...this.latestValues},S=Vh();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;const Q=mr(),se=z==null?void 0:z.isShared,oe=(((T=this.getStack())===null||T===void 0?void 0:T.members.length)||0)<=1,he=Boolean(se&&!oe&&this.options.crossfade===!0&&!this.path.some(hD));this.animationProgress=0,this.mixTargetDelta=k=>{var D;const F=k/1e3;iw(S.x,y.x,F),iw(S.y,y.y,F),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((D=this.relativeParent)===null||D===void 0?void 0:D.layout)&&(Fh(Q,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cD(this.relativeTarget,this.relativeTargetOrigin,Q,F)),se&&(this.animationValues=j,Wz(j,O,this.latestValues,F,he,oe)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(0)}startAnimation(y){var a,T;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((T=this.resumingFrom.currentAnimation)===null||T===void 0||T.stop()),this.pendingAnimation&&(Ll.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=no.update(()=>{Lh.hasAnimatedSinceResize=!0,this.currentAnimation=qz(0,J1,{...y,onUpdate:z=>{var O;this.mixTargetDelta(z),(O=y.onUpdate)===null||O===void 0||O.call(y,z)},onComplete:()=>{var z;(z=y.onComplete)===null||z===void 0||z.call(y),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var y;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(y=this.getStack())===null||y===void 0||y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var y;this.currentAnimation&&((y=this.mixTargetDelta)===null||y===void 0||y.call(this,J1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:a,target:T,layout:z,latestValues:O}=y;if(!(!a||!T||!z)){if(this!==y&&this.layout&&z&&hT(this.options.animationType,this.layout.layoutBox,z.layoutBox)){T=this.target||mr();const j=Os(this.layout.layoutBox.x);T.x.min=y.target.x.min,T.x.max=T.x.min+j;const S=Os(this.layout.layoutBox.y);T.y.min=y.target.y.min,T.y.max=T.y.min+S}wo(a,T),hc(a,O),Oh(this.projectionDeltaWithTransform,this.layoutCorrected,a,O)}}registerSharedNode(y,a){var T,z,O;this.sharedNodes.has(y)||this.sharedNodes.set(y,new Qz),this.sharedNodes.get(y).add(a),a.promote({transition:(T=a.options.initialPromotionConfig)===null||T===void 0?void 0:T.transition,preserveFollowOpacity:(O=(z=a.options.initialPromotionConfig)===null||z===void 0?void 0:z.shouldPreserveFollowOpacity)===null||O===void 0?void 0:O.call(z,a)})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){var y;const{layoutId:a}=this.options;return a?((y=this.getStack())===null||y===void 0?void 0:y.lead)||this:this}getPrevLead(){var y;const{layoutId:a}=this.options;return a?(y=this.getStack())===null||y===void 0?void 0:y.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:a,preserveFollowOpacity:T}={}){const z=this.getStack();z&&z.promote(this,T),y&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetRotation(){const{visualElement:y}=this.options;if(!y)return;let a=!1;const T={};for(let z=0;z<Q1.length;z++){const j="rotate"+Q1[z];!y.getStaticValue(j)||(a=!0,T[j]=y.getStaticValue(j),y.setStaticValue(j,0))}if(!!a){y==null||y.render();for(const z in T)y.setStaticValue(z,T[z]);y.scheduleRender()}}getProjectionStyles(y={}){var a,T,z;const O={};if(!this.instance||this.isSVG)return O;if(this.isVisible)O.visibility="";else return{visibility:"hidden"};const j=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,O.opacity="",O.pointerEvents=Np(y.pointerEvents)||"",O.transform=j?j(this.latestValues,""):"none",O;const S=this.getLead();if(!this.projectionDelta||!this.layout||!S.target){const he={};return this.options.layoutId&&(he.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,he.pointerEvents=Np(y.pointerEvents)||""),this.hasProjected&&!cu(this.latestValues)&&(he.transform=j?j({},""):"none",this.hasProjected=!1),he}const Q=S.animationValues||S.latestValues;this.applyTransformsToTarget(),O.transform=Y1(this.projectionDeltaWithTransform,this.treeScale,Q),j&&(O.transform=j(Q,O.transform));const{x:se,y:oe}=this.projectionDelta;O.transformOrigin=`${se.origin*100}% ${oe.origin*100}% 0`,S.animationValues?O.opacity=S===this?(z=(T=Q.opacity)!==null&&T!==void 0?T:this.latestValues.opacity)!==null&&z!==void 0?z:1:this.preserveOpacity?this.latestValues.opacity:Q.opacityExit:O.opacity=S===this?Q.opacity!==void 0?Q.opacity:"":Q.opacityExit!==void 0?Q.opacityExit:0;for(const he in df){if(Q[he]===void 0)continue;const{correct:k,applyTo:D}=df[he],F=k(Q[he],S);if(D){const Y=D.length;for(let xe=0;xe<Y;xe++)O[D[xe]]=F}else O[he]=F}return this.options.layoutId&&(O.pointerEvents=S===this?Np(y.pointerEvents)||"":"none"),O}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>{var a;return(a=y.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ew),this.root.sharedNodes.clear()}}}function iD(e){e.updateLayout()}function nD(e){var t,s,u;const h=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&h&&e.hasListeners("didUpdate")){const{layoutBox:p,measuredBox:y}=e.layout,{animationType:a}=e.options;a==="size"?ea(S=>{const Q=h.isShared?h.measuredBox[S]:h.layoutBox[S],se=Os(Q);Q.min=p[S].min,Q.max=Q.min+se}):hT(a,h.layoutBox,p)&&ea(S=>{const Q=h.isShared?h.measuredBox[S]:h.layoutBox[S],se=Os(p[S]);Q.max=Q.min+se});const T=Vh();Oh(T,p,h.layoutBox);const z=Vh();h.isShared?Oh(z,e.applyTransform(y,!0),h.measuredBox):Oh(z,p,h.layoutBox);const O=!lT(T);let j=!1;if(!e.resumeFrom){const S=e.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:Q,layout:se}=S;if(Q&&se){const oe=mr();Fh(oe,h.layoutBox,Q.layoutBox);const he=mr();Fh(he,p,se.layoutBox),uT(oe,he)||(j=!0)}}}e.notifyListeners("didUpdate",{layout:p,snapshot:h,delta:z,layoutDelta:T,hasLayoutChanged:O,hasRelativeTargetChanged:j})}else e.isLead()&&((u=(s=e.options).onExitComplete)===null||u===void 0||u.call(s));e.options.transition=void 0}function rD(e){e.clearSnapshot()}function ew(e){e.clearMeasurements()}function sD(e){const{visualElement:t}=e.options;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function oD(e){e.resolveTargetDelta()}function aD(e){e.calcProjection()}function lD(e){e.resetRotation()}function uD(e){e.removeLeadSnapshot()}function iw(e,t,s){e.translate=Jn(t.translate,0,s),e.scale=Jn(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function nw(e,t,s,u){e.min=Jn(t.min,s.min,u),e.max=Jn(t.max,s.max,u)}function cD(e,t,s,u){nw(e.x,t.x,s.x,u),nw(e.y,t.y,s.y,u)}function hD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dD={duration:.45,ease:[.4,0,.1,1]};function pD(e,t){let s=e.root;for(let p=e.path.length-1;p>=0;p--)if(Boolean(e.path[p].instance)){s=e.path[p];break}const h=(s&&s!==e.root?s.instance:document).querySelector(`[data-projection-id="${t}"]`);h&&e.mount(h,!0)}function rw(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function fD(e){rw(e.x),rw(e.y)}function hT(e,t,s){return e==="position"||e==="preserve-aspect"&&!Yz(K1(t),K1(s),.2)}const mD=cT({attachResizeListener:(e,t)=>$f(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sg={current:void 0},gD=cT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sg.current){const e=new mD(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Sg.current=e}return Sg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")}),yD={...WS,...OS,...vz,...jz},Mc=V2((e,t)=>aS(e,t,yD,sT,gD)),dT=V2(aS);function pT(){const e=$e.exports.useRef(!1);return hf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function fT(){const e=pT(),[t,s]=$e.exports.useState(0),u=$e.exports.useCallback(()=>{e.current&&s(t+1)},[t]);return[$e.exports.useCallback(()=>no.postRender(u),[u]),t]}class vD extends $e.exports.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _D({children:e,isPresent:t}){const s=$e.exports.useId(),u=$e.exports.useRef(null),h=$e.exports.useRef({width:0,height:0,top:0,left:0});return $e.exports.useInsertionEffect(()=>{const{width:p,height:y,top:a,left:T}=h.current;if(t||!u.current||!p||!y)return;u.current.dataset.motionPopId=s;const z=document.createElement("style");return document.head.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            top: ${a}px !important;
            left: ${T}px !important;
          }
        `),()=>{document.head.removeChild(z)}},[t]),X(vD,{isPresent:t,childRef:u,sizeRef:h,children:$e.exports.cloneElement(e,{ref:u})})}const Tg=({children:e,initial:t,isPresent:s,onExitComplete:u,custom:h,presenceAffectsLayout:p,mode:y})=>{const a=Zf(xD),T=$e.exports.useId(),z=$e.exports.useMemo(()=>({id:T,initial:t,isPresent:s,custom:h,onExitComplete:O=>{a.set(O,!0);for(const j of a.values())if(!j)return;u&&u()},register:O=>(a.set(O,!1),()=>a.delete(O))}),p?void 0:[s]);return $e.exports.useMemo(()=>{a.forEach((O,j)=>a.set(j,!1))},[s]),$e.exports.useEffect(()=>{!s&&!a.size&&u&&u()},[s]),y==="popLayout"&&(e=X(_D,{isPresent:s,children:e})),X(xd.Provider,{value:z,children:e})};function xD(){return new Map}const Yu=e=>e.key||"";function wD(e,t){e.forEach(s=>{const u=Yu(s);t.set(u,s)})}function bD(e){const t=[];return $e.exports.Children.forEach(e,s=>{$e.exports.isValidElement(s)&&t.push(s)}),t}const mT=({children:e,custom:t,initial:s=!0,onExitComplete:u,exitBeforeEnter:h,presenceAffectsLayout:p=!0,mode:y="sync"})=>{h&&(y="wait",NS(!1,"Replace exitBeforeEnter with mode='wait'"));let[a]=fT();const T=$e.exports.useContext(ld).forceRender;T&&(a=T);const z=pT(),O=bD(e);let j=O;const S=new Set,Q=$e.exports.useRef(j),se=$e.exports.useRef(new Map).current,oe=$e.exports.useRef(!0);if(hf(()=>{oe.current=!1,wD(O,se),Q.current=j}),t_(()=>{oe.current=!0,se.clear(),S.clear()}),oe.current)return X(sd,{children:j.map(F=>X(Tg,{isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:p,mode:y,children:F},Yu(F)))});j=[...j];const he=Q.current.map(Yu),k=O.map(Yu),D=he.length;for(let F=0;F<D;F++){const Y=he[F];k.indexOf(Y)===-1&&S.add(Y)}return y==="wait"&&S.size&&(j=[]),S.forEach(F=>{if(k.indexOf(F)!==-1)return;const Y=se.get(F);if(!Y)return;const xe=he.indexOf(F),E=()=>{se.delete(F),S.delete(F);const Ne=Q.current.findIndex(qe=>qe.key===F);if(Q.current.splice(Ne,1),!S.size){if(Q.current=O,z.current===!1)return;a(),u&&u()}};j.splice(xe,0,X(Tg,{isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:p,mode:y,children:Y},Yu(Y)))}),j=j.map(F=>{const Y=F.key;return S.has(Y)?F:X(Tg,{isPresent:!0,presenceAffectsLayout:p,mode:y,children:F},Yu(F))}),BS!=="production"&&y==="wait"&&j.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),X(sd,{children:S.size?j:j.map(F=>$e.exports.cloneElement(F))})},SD=$e.exports.createContext(null),TD=e=>!e.isLayoutDirty&&e.willUpdate(!1);function sw(){const e=new Set,t=new WeakMap,s=()=>e.forEach(TD);return{add:u=>{e.add(u),t.set(u,u.addEventListener("willUpdate",s))},remove:u=>{var h;e.delete(u),(h=t.get(u))===null||h===void 0||h(),t.delete(u),s()},dirty:s}}const gT=e=>e===!0,CD=e=>gT(e===!0)||e==="id",AD=({children:e,id:t,inheritId:s,inherit:u=!0})=>{s!==void 0&&(u=s);const h=$e.exports.useContext(ld),p=$e.exports.useContext(SD),[y,a]=fT(),T=$e.exports.useRef(null),z=h.id||p;T.current===null&&(CD(u)&&z&&(t=t?z+"-"+t:z),T.current={id:t,group:gT(u)&&h.group||sw()});const O=$e.exports.useMemo(()=>({...T.current,forceRender:y}),[a]);return X(ld.Provider,{value:O,children:e})};function ED({children:e,features:t,strict:s=!1}){const[,u]=$e.exports.useState(!Cg(t)),h=$e.exports.useRef(void 0);if(!Cg(t)){const{renderer:p,...y}=t;h.current=p,Ay(y)}return $e.exports.useEffect(()=>{Cg(t)&&t().then(({renderer:p,...y})=>{Ay(y),h.current=p,u(!0)})},[]),X(Hv.Provider,{value:{renderer:h.current,strict:s},children:e})}function Cg(e){return typeof e=="function"}const kD={renderer:sT,...WS,...OS},PD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB5VbRccIwDHU6QUbwBmUERsgIjMAGzQZlA7pBR4BOQDcwG5gNVPkQ5dWnxLLT/pR3p4PDenqWLFs499/RWR2JqOePge2ZrZefL2wfbMeu6y7uN5CE2F7YIk0jiE/vloADeAmGOLHt2d7ley7sXQsUsZ2Wgfi9LRYFsVTKtcF/oHvZD64GTNjAjreNvI2Vl4iHpp22cOnalZO7lDN7FfPKOmZZ7tp0XkBYKWIB1mMeVHxUfsKTovkdgC/zZ7aWAvjMd0AH5pwz/6Ig7jYvyVlxO7pplF+frCRrZX2Uskatg+eOZE70dp92rhJ0fYUSQg1pnGqKAg+rs7fyblcj1hIhO6La5w2yTBgM/nj/RtcCuk+DOLdjKWWsPrtSINJfFnwMArWOJwiIbR6wieSsQ03praJbCHqSrDz9HMDmqWIVHbNMw+ImqRT9WzEQbRuyC0VXZPjb8Zj4Ai3KuoGYA+s1AAAAAElFTkSuQmCC",ID="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgBlVSLVYQwEFx8FoAVmBKuBEqwg4sdeB1cB2IFnBWoFVDCYQXQAdfBOgsTL+YCPua9eeSzmUw2S0QIVXXgK9iDo67D5s9gY+uCRkGhPT41WIIXcOB3DTvGG3xRFO/BkdJRJRuA+KfoJE5o1eA3iJiBD9ucNNTCs48Li0oG+9g12kcKfLJvzvrQaDNCe729iJ7CjoKOsbMhBrWJkI9u7ch+TTHlhcXxrQ0uifWky+RqJMtU7C5zvAofE/nCdQ/xHPtvMpfELl17I0YhQyd5DEncqthiMLFL4q5Ic8ZyGH8L8W+sC/lMxqec3afiyMsF4wc0G7BlLX2Dj+CLzPl6lhzo4JwZ91EpaFQqPhNrm44FLZdw9LCwWSVz/gawM+c5Q9M8i1F140+enMDQpIXoNwpV8WWF98zLnHCDHaP7R8cuwcn1/Tvg+Kd4F3N4Cj+trmN6JZgiFzR+ALFVGpa3vFnhAAAAAElFTkSuQmCC",Gy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgBtVWBcYMwDBRM4BHYoGxQj5ARGIERugHtBHSDXCdwOkHYwGxQNlClIFqq2AZzzd/9cRbyv22QXMAGENHQoyZWQsZEHIqiuMBRkLAldsQvjIPf9cQqR9iIcC462W1SvCJ6PA4f3c0/iKdNKOhWSRfiC+4zdMSWeF3HtHijJrXq3as8rfAksdMeDQistIFMBAz4DzOlrKJS+QbyYQLjmp175exx63cL78Dgfc30JcxVusYHVegEmZA5bypsQwYDHMeoxqaEx+JmoI+jhuOo1Hhig1EFn+A4ntV4ZINPFbwVE2RCaseq8LC0ZQwUSQM7IZUdaut2SfAS6PDvHeBlbAOiy33hMAyvkxdwk2uDK7k3SKHRE97x93hqnJvZmdhHjsUkxPvYhKXlsjDfD8mWERG/RueJiVsle95RhoHDPX0M5+/w81fAtgHntpADOSL+2OdEjpPFRFf9DfuYgvfi2rHtAAAAAElFTkSuQmCC",Wy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAARCAYAAADDjbwNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADLSURBVHgB7ZLdEYIwEIRPxwIogRIsgRIogQ6kA7AC0oF0YAm0YAcpwRLWu/GiEYMEgTd2ZidAfr5bLkQsACnbYnkZdkIKaQSkzyX7jvmy7MwLkZM3UXgTLf5XzU7UFZ6F19RbdME7XYFpv7Pz9ma9vV8gYHo6qbjU9ZKiCawJgkIVDqW7QpvNY47h/v4EOVVetUa/WXw2uxs5IwrkDk69g12KE+Juab2nOAlEYA2PAjlKCh6Nvo9qJzhaX+fYRLO1gTbQSwd2S+vr9gCCp+6KzSH/FQAAAABJRU5ErkJggg==",MD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG2SURBVHgB3VbRccIwDFU6QTZoNoANyAbNBk0nCN0gnYBsAJ2gMEHSCcgGoRPABq50yPDwxY5bvtp3p7MtJD0pVhSI/huSGCNjTM7LE0vGMmc5qfQsuyRJOroHQsCyN9MYWMpQrMRDkPKyYilB3Un2WolAbBYsBdhsWF65whNFVJE6VTRK7LPPWDZgvw/Zo+MKnEqKBNsWLEf1W08Zl0CypB/C8S9ChoObkexVl1McWWMbxGeQQzaZ6grQtRQBveOjm9wD2NhSO+6ag+7n8Lsk8kgT0I7rnZg3RDNdP0F3gH3PQb4oDjtdszGiseBbOO8oHvY9moWILtDH8KLHyt7dLwhviKwyo1uyjpc3Ok+Clsku98b7yvOupS4RgVMd6i5oW6MtX8F5QEKJofpmLBC2d+ohq40fpdpkoMvJE6i1GZMH5jrbBgjY2uTM9QUfKBBkqUZ7ioCSZnCu3Ap9jh9TFQV8n4GkmTK2o6PW6tYqWcBHRg5O/NHPRAIO0rahR9bReWoc9CzB5POeg807yzL44YP7wcwa59J9aM3EdMeKas1Sxk6PWWkQkQX4yu8y+7Z3/zn5k/gGvcZ6oI3HmHQAAAAASUVORK5CYII=",zD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEbSURBVHgB7ZaLDYIwEIb/OgEj4AZuIG7gCI7gCI7gBsYJdIPGCXQDcALY4LyTkmDCoxw0JIYvuTQBytc7+gCYCdN2g4gSbrYcG46Io+B4cNyNMRlCwNKI40ntXDhihMBDns4tjxACD/kJWmQiyXdTynN11tzxXE2ajmf2HVknUIpt7SWXhvt95T5iIKuGa4e63JXRolzPbQwudSV+N8hvUl4PqVBAg5SKxpFgIMaJpVQ59KyHbqPfUnMnKdUVeixpdzE3c1PSk46RxzSjXDI/kX4AqY/c9Awiwe95/HKtRffazTh2k5/bPKANlXv06MwX+SKfSn5GCDzktnp2hQnhdSvrfIf2YzJDSDoyjxEaKvd96yaVtH0/E3/OB+HmoEzJzMepAAAAAElFTkSuQmCC",DD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHSSURBVHgB5VeLbcIwEL1UHSDdwBu0I2QDMkI2KBvQDWCD0AlKJ3A3gA2SDcIG7lnY4nH4EkxBqtonnZK88+W9y8dxiP4rCsqEc67kTcVRAt1z7Iqi2NOt4QU55hzWjcPnG7oV/Mk4BpeH7kcmQretOOngTo2sE6KIJV0DLtwK0TeOGrg2jLPA1WEcGtzmCi9FNybwLfCRM8BZ4LrsK+AO9zgljCIbUWMhVyoGmkvEY8EQhROmalFTQW4OvHHHWzBEYxGPsmveGKAWzMX9CvgZ8zM4xpO+cu4Zjvch76PhWJHStXX3hUW9AoS9swHcytnKjOQIuvPoR3JPZzOhuG8X3VMxBp+Jl5FcFfkHOu8sdqdhp/BYU47UmJQ4oqN87HNzmvgT6SgpH4YmxHvYfxHjxi6pVkNKTR93fsfTHgxYd1+cvOePQv+TjjNZz/EFuQq63yS6b5S6Grp+Jw3u8A3HudhAbp56V0MOP7UN8Di3T79BTv+qldrl4+MPyBkQ7lKmpgysFQNWEYloFeEV5cCdr2QW4vLGhUMLXB3GXb+SAQMrd4pOHLfCoFxo5nWcMNAkRKfgTdR0KwQTdkLU5/1bcdEUfO0fi59KDdA93euP5U/iGwlBp2+hQI6uAAAAAElFTkSuQmCC",LD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADxSURBVHgB7ZVRDYMwEIaPZAKQUAlI6BzgYHWySsDBJCABCZPAHGwOumsoCZBr1+sC4eG+pOGh/MfHcSkAgiAIJ8I5Z3D1YSkoBcN1KKaZOZ/Z0gAXDLW43osiPSP7JCQ64IKhkSjU/pEtkqCwGbl7JKuAAwZukUK+zTVDYHDTYGrgkBBIihACBkogBKxvI67Grb/zSmRXgc2+IkS85OMQgYSIO1RgcX8TEbDcB2s3Te3ALRS6QZF1hvwqYhk1hk3Wn6wqN+8LdITACAzCi8wifkB1bvaS2PsAg6qqXni5QimRwTJwNKGd87/egCAIwon4AueHu+1F6qkIAAAAAElFTkSuQmCC",RD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEUSURBVHgB7ZeBDYIwEEUPwwC4ASMwAiMwgiO4gXEC4waOgBPIBjCCG8gG9a6WpDQUKbZVk3sJKVxL++ld2wOAYf6YZMoohMghxuBJcrdWkgi8biIe7UicIYYqC4jLFmeop5tUE5IZQqhBB2G5DkJGKBcNPGLFjc7GYu9ngysQKQQGZ7jEIn/TTIZEUDEoZI/FaWHzbgNhcVmZRXA3adTwcodJhRetZIgp5oyLojGNKqakmNBucoLF2GAxNliMjZ8SIzc9lcuUeoXajFygk34u/ymwzyl7pg96EP5o1YcNfV9cXiY37cAfdDBWsBISk4FfelgJiTmCPxqMm1p7dsmha/l3oPz88QxNpapL+/5GmsswXnkCLABBWp2Ty+kAAAAASUVORK5CYII=",BD="/assets/service-1.53548c0e.png",ND="/assets/service-2.03b6c233.png",OD="/assets/service-3.46682951.png",FD="/assets/service-4.5bf65444.png",bo="/assets/proyek.09356909.png",g_=[{id:1,title:"Proyek",link:"/proyek"},{id:2,title:"Tentang Kami",link:"/tentang-kami"},{id:3,title:"Harga",link:"/harga"},{id:4,title:"Kontak Kami",link:"/kontak-kami"}],VD=[{id:1,title:"Kebijakan Privasi",link:"/"},{id:2,title:"Kebijakan Cookies",link:"/"}],UD=[{id:1,title:"Website Profil Perusahaan",link:"/",photo:BD},{id:2,title:"Website Toko Online",link:"/",photo:ND},{id:3,title:"Website Undangan",link:"/",photo:OD},{id:4,title:"Landing Page",link:"/",photo:FD}],jD=[{id:1,title:"Teknologi Website Terbaru",desc:"Framework Yang Kami Gunakan Sudah Terupdate. Seperti ReactJS, NextJS, Laravel, Tailwind CSS, MongoDB Dll Sesuai Kebutuhan.",icon:LD},{id:2,title:"Free Maintenance 2 Bulan",desc:"Maksudnya Adalah Perawatan Website Secara Berkala Agar Website Selalu Terupdate Dan Terhindar Dari Error",icon:zD},{id:3,title:"Design Website Responsive",desc:"Website Sudah Mendukung Untuk Tampilan Multi Perangkat Seperti Android/IOS Komputer/Laptop Dan Tablet",icon:RD},{id:4,title:"SEO Optimization",desc:"Merupakan Sebuah Proses Optimasi Pada Mesin Pencari Dalam Mempopulerkan Website Di Halaman Pertama Browser",icon:DD}],qD=[{id:1,title:"Cidulang, Cikijing, Majalengka Jawa Barat, 45466",icon:PD},{id:2,title:"duosdev",icon:Gy},{id:3,title:"duosdevofficial@gmail.com",icon:Wy},{id:4,title:"duosdev",icon:ID},{id:5,title:"+6285721557240",icon:MD}],Tf=[{id:1,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"profil-perusahaan"},{id:2,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"profil-perusahaan"},{id:3,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"profil-perusahaan"},{id:4,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"toko-online"},{id:5,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"toko-online"},{id:6,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"landing-page"},{id:7,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"undangan"},{id:8,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"undangan"},{id:9,title:"Class Mate",link:"www.classmate.com",photo:bo,category:"pemerintah"}],GD=[{id:1,title:"Website Profil Perusahaan",value:"profil-perusahaan"},{id:2,title:"Website Toko Online",value:"toko-online"},{id:3,title:"Landing Page",value:"landing-page"},{id:4,title:"Website Undangan",value:"undangan"},{id:5,title:"Website Pemerintahan",value:"pemerintah"}];function Po({children:e,className:t="container px-4 sm:px-2"}){return X("div",{className:`${t} mx-auto`,children:e})}const WD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAlwSURBVHgB7Z1NaFVHFMdPWqFSg9oKKhbqbasFP0oiVF0o9NmNLhQtloqLYiwILixtcBE3avxYNItWRQVBULOyBcWUdqEb84QK1RZMUBFqap4WRFNstSTFgnI7//uhMebOnDN37st95v7g8hLmJu/d8585M3PmzDyigoKCgoKCgoKCgoKCgqpSRznG9/2J6qUxuhrUFf8OvCG331dXZdBrt7q6cNXV1d2nnJI7AZTRS+plpbrw2khu6IqudiVGmQqeBUZX1x51/e1nD97jaCT06CYyfKc/cvSqq4lGGzkw/FB6/dEghHpIz8+X4YfSqy6PqshLVCXUg21XL70Udq55xVMXRNhDVSLzUVBUo05RyhHNnf/6qKe/Qv2PBoKfB9QrfgZTxk4OXqe+Mpmmqp/rx7xKM8a9RSmpqGuJGjVVKEMyFUAZf5V6OUrh+F0EjHu6r5O6H1yhrgdXnxibS/2YcUoEjxZNWkiLJy0IxLEA84cdSoS9lBGZCRC5nFbJ38RGP3/vQmB0l6BFrH5jOTVOmGMjRqsSYQdlQCYCSI0Pw5+8/SOdUJe0ptuwbPISWjd9jVSIvUqEZnKMcwEkxq+24Yfy8bTlQasQCHFMibCeHOJUAInxu5Rvb7t+gO487KORBJ32ujfXBK2CidOW4EwAifEP3jgS1Po8gdYAIdB5M3DWJzgRIBrtnDLdh9q+9Vob9Qz0Uh5Ba9jz3k6uS2pSIrRTSlILEI3zO+n58PAzwPjNV7aNuMsxARF2zWrhzCMwRMU8oYtS4EIAVGdPd0+tGD8GbggtgSFCRV3z0qw3pApFRH7f091Ta8YHGJE1X97GcZWeurZTCqxbQOR6tJ+wFo0/GEGfsMR2oSdNCzAqjw63Vo0PggqkWgJjjmLdCqwE8MPYeZPunvZb3+V2tCMBIuBZDJR8y/UEKxdk6ngxyULN4YKAWeOE2VT/cn0Q6exWcSD8jzyxa9aWIKinoaLckDgEKxaAM+Zf++tGluvRjTaaL291HpBLAz7r8fcPmSZq65UIx0iAjQv6QleI5sr1+7rxNmaleQL9AGP2vo6EiASIRj6lpHIYHuFkDjBw44S5ieUoc7Co4hQEDuEiNaAvKJEAaQvQ9vZnlPE5tR/DuyZGDV+k97lVJ1ivuGusYKtIgFSAkq6QX/s/Yd2HABmWF/PESXPofJ0fZvSxYAsQNS0vqRw1g+v7da5nMOjwlk7+kPIEoy8YnD5pRNICtE3rTN9Z4gCjSlaiFufMDYFu8xCZ7YYkAjQkFaDmc4eM76iFcgloLVjHzRN4VkNnvJKYSAQokeYDZQkmannjp3sXdcUetx9gCWAaWp3/6wJxGXj0L0mpf5m1SlVVGDP1EjHgtgBtp3Ln4Z/ExdB0h6X9D2Mspup0m1u9Rwy4AnhJBRgVSIJucWYbF8nMupownqOBGHAFmJ5UYBPxNPjPJ2DMfexW/mp/TE+/9tk9YsAVILFD6bfw6ch8MwFhD9w4Qnmm/7H22T1ikNoF2fj0riDcfNV4T95x4RpTp6fbZrS13/pWW45EqaljrRJqq4bh2T1ikLoF2IIarosdYcbcMnMT5RkX6ZRcATLZ5okMOd1DYBa8WgXkXmRGVAAYf+u1r7T3IGw9Qxi+qBYuXGTqPoCZS5kIXJEuuoj/j/XYvPcHw8CqtKlbgIswQTDZ0oymgvycuTtzJ4Lh81SIAVeASlLBjHqP0hJnoun6gzQiIJiXxeqaIazutAXcJLsPwQZj6oO9+olXLIKkT0Anvlst/u9WbgxZDUunsPcBGDF8jgox4AqQmAEcLLA4cg1YVTMlQeG9Ds/7hpU1gXs3vf3ZM79vmfl5IAT+Ps3nxnMb+r9uYpBaANDgcMEEsR9GJlowOoIhk947zutMKsPfozXZCsF4ZlbaOisxK1pcQORp2JgQam7b9f3kEhiImxuE2DyEi0PEqJmH533Ndo9xOk27IPDX8u4mNVvXrle/xklbZ2fGKREwbS0NV4bOc8XPn5JrJCKA2JBYR7bJKdpwaTM7unt8/iGdwDijaB4xkMwDziUVoMZlsW7LdUcxsWuxTejipsA0mPcanyMmEgHKusKsQgYQAbNlm6irFG5ofZl5JNVBTNgCRBsQEn0a4jZZJVFhAQfzhCxFgPviuB+0ssWva5MEKpLNGtJQxL6kArih1dNWUFbAQGt/2Ri4pCw2dXPXHxrGzzENP8skQCqAtmlVI5UQLmlD12Z2GiSHYBMGY+Efhm+abhwU7CMBIgGiLZnlpPKsW0EMDNb22/5gHwKESOOa4r3LnNUt9HOGzrcs3bZqs0GjROG+4ES4GzRcgqEnYj6CIwdExyXA92PiZ0C8QcN2i1LinABItyi5JB4SQwzEaoYOSeM0GvQlknVnzKoNScVWW5TGkB04J6GUVOgqQGcDDIxRU5z6EsdsEDbvfzxg1TJNm0kirM6OsBVA6+fylNHQP+hoMxvQghibSTqkrifGdkWspCuU5IrmmeDciNktnFutj6+xFUCbft0zUKFaR7BLfkeag/2ctwB0wLW8Ox4IjI+Ot5VSIBZAjYCQKe0lldd67ZcYX12pl9dsWkBJV8jJ+8wr6HAFBzY1uzhT1GYUlOj/MdqohZzO4cAsd/DypQH4fXbEU4eNAImbNdgBrWATtqdGSxdzcWgfUiC5OzcpNH4rOUIkQBSGSExVTxp+TglCuAuCGWoYtg6jiahxCK5xN3i7JIxbLY8CiOzcJqfGB9IWoN1+ibOdAR5oUWDwuUGMRveATdGRkQiqVUMIS8MD58YHoliQagGXSOOCTtz+QRl8YapQxOm7Z6Mzo932JQ1BZZgfLKRbpFNmYnwgWZT3yHBEmUvCvcdXqOufq0HL+l24FQpur3H8HFYr1IAVwI+y/N4ZiQBNFJ6EPiLEUcx4c9zQ9VssBOHAJ6RKogWmTRqmcN1jfW6Or1cCwPhN9OKDWr8vK5czFEknXKIXnzJVodYPhrtTXht+EIDaVaYwelih/FCm8OjJJdU0PhslwJe+PZ3qavXDb06aOOT/jvS3KXX6tfB9Yr7MSJfUtdcfxuCa/+9Ff9PrZw++yA0VwtW39KWCm5zra4or6vqewlWyjrTf2xgZBhO+D8hdv1OmMF2wXJezrzI0CuA/nwUBAyMQhfz3jqx9ZvT+cR+EIxMm0tP+KH6t0NPPhp9vRq9lCmP2mWwydAFHADxwK0UPlPa49oKCgoKCgoKCgoKCgtHO/9dkmP/H/D2zAAAAAElFTkSuQmCC",Jf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8MAAAADCAYAAAC3dd0fAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkpSURBVHgB7RrLchy3sRuY2YcoiVsVOi6lKhUd4kuSm39A59zyJ/kEfkL+xtf8RC5OKtbBJfkhi0uJFsndQbf7AWAw+6B1cJUPXkgsNBr9BjA73QMEa4yXl4D/+QvgXz8BfPUl4N/uIejMVwOE8zPAm3eAgSAsl4B3c8DlB8C59Pd3gCD4+5mMe8DNPeBsI73AyLeh65Y4bAGHeIsK91HgAbCbQdoKfsEQUrxDgAVExeu8/CWBgd2GIePTsEGYzSAmkx/isJVxD0qnuBQAtd/yNkAvBAILd+i7DkjsCmKj6DSZUeBEQo8DRuggCR2h0IQOaTMgCsykY0DCTnxPIst5Ubh0DkA0xgikMAvcCQEpPRi/aJHQpGBwghvFd4JTPsp0wgIUosBJ42tyTXfwPnDkxC6DOePkLyWXoxYhqy7RLXYl9R2UudCj0SuOmAwm8y2h+ZFl6phVttinvcpkLHOU/QnAIsPxok0tYAqOVxy5NqGXuH0YmG/B/AVwfhhlg49dj9CrDLNZZMCoq9jhNgSVa7picH9szuzWQMLETtDFK/ZqvLMdJlftNIN8Td0vxzEzFnuV1XElHuzywWMSii7kd4K/Vhqxw/WA+2p6sz0T3Waz4lUc6Lyw0Dh3qCmN8QTZKmT7zfjB9DCUTRosHuCr43oo8wbj1b3qugw/sWfUkZHq88Q22fDrBLRG2Z+cY2V4t8VDq2cm2i4Bo9M910eWYW2MyeMcfH6U04wjGD+0jOajTFCCVn/lR7eD7Wzoxghs62RzDmvf8pT5lqaGBWEdEq5T7FifGTCINRlOPPZGLIeakzxDdsfRxwqbDhkX+FiTQ5Z5AFt6xXNq/R6yPKWDUU+3Ky/bJA/VQ3Fr7Ro6eLk7J89NTps7dHhR4XGsMu8yZgEKK35XjvK1/AXexbW0BT5k864tx+w7pl/bv/7x7CWc2qmd2qmd2qmd2m+qIfxK7fKSJ69pr57t2/L5596//v907odvfPwZPNzevm34/rQ/f301zv8oyf4f2slncLDdLA/H7PH77wX/SR1/uHkj4wuDfyd/t4/gSZnbdrcyt5R/ebz1sf4fNhmW1ivewGWm86LBUt4xb+V9UwsLReYw5Je6xQLm0qVMOwz3jp/PrevK2JH232nyfGhlFtq5sVsxwtpM5jIsxQltKW1wnudS2CDd4Vm/7B8R+cu7JW2d5S6ouK7T5ZciRZ6P0WFPgGLOoTvh0xd63yqUkyPKL/Em0/AD+ou90g3Gh1mfFhdiw8OZx3I0URJyMkbsiVvREUgKBZiaWMWcSGf7QBMmh62QAHguOe45N8m96csJscG5EAChJF4hy24Sz5yg5oTU1DRJKdSkeZJEezJs6sYk1pLjACVx9qYJsCXCUCVOYJeVMdWWQkBQbBE3VgF5BY0RjndN1TgtAGjlJwDsZUQPtNau0RxqKEJDQA0hHZVZdzZDDdjPPgGz3bJeKyFdYc6yR1HuFSJOxodU8wM6iLhaH6yexNa7d86pQ6pCpBDiJSCgGq22zz5iaNZkbB+zFuLS830s18kR5aUttc1MbpylbPdoNVRfbMxF3mFNLbr47361dE5papknTHvr3Ag1MIdLZai/PPqet4kWv7CiJ5F7aO9gtgV8b7D+55Gf9UngZSRTXWOGlT+7kp8axsRemzMertp5lOF9sR/H7WkeaiWPGRnKfuWXe8Gt0XRcjW3xZ3IwH3A/uDjc9cv9cIRb0hg5PUNljZnreozCCjLjCHbPR+OWVTz1cYsvbZqo8XFKzzunO3sDuyfm5877hM035ohEPkhYz0Y9/z4+9kSrZwj8ST/GmIpYKVbiui4ZYj2rbdtd0sNPU3v2A5RncNh/1k5iSg2uEc5Z2eFnUau59cMFlh+6o3QAa5lfT4q39ltpNPV3sBSHy++oFIzZf68JW9Elql5kHn/Td8eOa2IRDrnTFJOb33bT4XEdVy/b48VutbPzg+c2QwkDDXxNkdfyZaCGUL7wTH7fuSmatnScmsLvHo1LUBqfK+88QhSjjbWHnVbxwQvh8kIluy1NdpsWuSc8Spdx9X0r5WL4TqEcsbti2F4brpOC7ZALwxnW3t/+vCkcBZ86jd/WEEEK1Njlw2ioQV77Yl28JDb3gktcD6yGX8IjMraD+2CFeflKKHK38qUvdF5gDoVHvripTvkKxwr7nNjWlY8Vo2zV0+e+lTHMhHezAXp09h3cKOa90fdnZ877vo3iO+gfZ7zAsyePGSRK13l2RqnqWzdA//Rpxl/BbHUu8A8+fCtv/KuVzb0x1JuqaT6sqqzFxYXA39a55adbhld58LpgHXH16QWfDc/29sy3z4cR97//whef/f0efqWGcGqndmqndmqndmq/qfbPL14/P4TX7/qLBoYD44LTcZz5C1y/Qbw7KOWYhrsjknfa4ogI0z3nFO4/6j2mg+45/NKt+1jCwW+S+G21HcahChsq/LBKpbIbHPmWCkBz0ySLxi2sJBlaFT4pTDI3SZeNJ7d9puNp01s5EcbbOXFnDkqFWQrjSRMMBSacLQtpOUdtiSHPOX0axWQaMSuOGhPsFETbjJPjOSKtatK5c5vJkmFJQjX5rLeqwG9GuSTBQSi3taC5aYUEuRA8qR6Pya3dCKw0U52T5Fx7U1ZLmPvxLvVlGBNjl0lAjfwQxV/w9S0FHzpQnNkrahzW2sxnLktqcyE1jBn+0RJRWzSfFKsPyC5j9MJ5YjpQIB2LUuYbiq8sBXirrNNoxLHW1LSsemj3A/VCIfslRLDrfVoepFzrMxrZdN4bjqVYoUtrdx9tS1oI9BqklZYaWunthOVrklZJzTxBe8rVRrStIkgtkAqxfpExwUZImBROelFRLb0w11Wq8gWrdaiMZEFzY8jD47pcluB08eSLhbiY7GzL9me7SMeyjeQzU0rmG7qB8h0o6V7TA6LaOPYhaU128C83HAZJXEOfCAapTWhc9IKrxUhqMoFQahadzG/11MpDSfEcg9pEwQcUBpmNJp86KUJYzVfxFmn5rBXlG5/gg5BtY5Lvalot6KiTgztorLuYBKSeO9oaR6J+lmjOPd0IvEgDpeWclmlBV7QlKVZQL8Y+efqYvk73dL79kW7u1vTHP/+evvz3e37x4gVdosUUfgLBTd9P7CJoyQAAAABJRU5ErkJggg==";function ow({title:e}){return X("li",{children:X("a",{href:"#",className:"block text-gray-300 text-xs sm:text-sm",children:e})})}function HD(){return X("div",{className:"max-w-5xl mx-auto",children:rt(Po,{children:[rt("div",{className:"py-6 sm:py-10 space-y-16 sm:space-y-12",children:[rt("div",{className:"grid grid-cols-1 sm:grid-cols-2 space-y-4",children:[rt("div",{className:"col-span-1",children:[rt("h1",{className:"text-xl sm:text-3xl text-transparent bg-clip-text bg-gradient-to-t from-teal-400 to-violet-400 font-bold",children:["Ada Pertanyaan? ",X("br",{})," Silahkan Tanyakan Kepada Kami"]}),X("div",{className:"mt-3 sm:mt-6",children:X("ul",{className:"space-y-4",children:qD.map(e=>rt("li",{className:"flex items-center space-x-2",children:[X("div",{className:"w-[20px] sm:w-[25px] flex items-center justify-center",children:X("img",{src:e.icon,alt:e.title,className:`${e.id==1||e.id==5?"w-[20px] sm:w-[25px]":"w-[15px] sm:w-[20px]"}`})}),X("p",{className:"text-gray-200 text-xs sm:text-sm",children:e.title})]},e.id))})})]}),X("div",{className:"col-span-1 text-gray-200",children:rt("form",{action:"",className:"space-y-4 mt-6",children:[rt("div",{className:"relative",children:[X("label",{htmlFor:"Name",className:"text-xs sm:text-sm text-gray-400 flex items-center space-x-2",children:X("span",{children:"Name*"})}),X("input",{type:"text",className:"w-full bg-transparent py-2 focus:outline-none border-b border-gray-700 text-sm sm:text-sm"})]}),rt("div",{className:"relative",children:[X("label",{htmlFor:"Name",className:"text-xs sm:text-sm text-gray-400 flex items-center space-x-2",children:X("span",{children:"Email*"})}),X("input",{type:"text",className:"w-full bg-transparent py-2 focus:outline-none border-b border-gray-700 text-sm sm:text-sm"})]}),rt("div",{className:"relative",children:[X("label",{htmlFor:"Name",className:"text-xs sm:text-sm text-gray-400 flex items-center space-x-2",children:X("span",{children:"Message*"})}),X("textarea",{rows:2,className:"block sm:hidden w-full bg-transparent py-2 focus:outline-none border-b border-gray-700 text-sm sm:text-sm"}),X("textarea",{rows:3,className:"hidden sm:block w-full bg-transparent py-2 focus:outline-none border-b border-gray-700 text-sm sm:text-sm"})]}),rt("button",{className:"py-2 px-6 border border-cyan-600 rounded-sm text-xs sm:text-sm focus:outline-none flex items-center space-x-2",children:[X("span",{children:"Kirim"}),X(qf,{})]})]})})]}),rt("div",{className:"flex items-center justify-between",children:[X("ul",{className:"flex items-center space-x-4",children:VD.map(e=>X(ow,{title:e.title},e.id))}),X("a",{className:"flex items-center space-x-4",children:X("img",{src:WD,alt:"whatsapp",className:"w-[30px] sm:w-[50px]"})})]})]}),rt("div",{className:"relative flex items-center flex-col-reverse sm:flex-row justify-between py-6 sm:py-12",children:[rt("p",{className:"text-gray-300 text-xs sm:text-sm mt-4",children:["\xA9 ",new Date().getFullYear()," Duos dev. all rights reversed"]}),X("ul",{className:"flex items-center space-x-4",children:g_.map(e=>X(ow,{title:e.title},e.id))}),X("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px]",children:X("img",{src:Jf,alt:"sep-line"})})]})]})})}function ZD(){return X("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:X("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}const $D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAAA/CAYAAAChFpVHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQmSURBVHgB1ZyPVZtQFMa/eDqAbkAn0E5QnKB2gzhBdYLgBNoJdAPtBMUJTCcInUA3uH23gIcQEt6D7z7wd06MQY4XXt53//FggQ+MiCQeu/Xtc1y9QvfJP4GMO6EN+g84lDf3+rJYLApjOyEURyDiTmgFmxO6aQ2clZ0Q1guQqCS0AZ8HN3CXEeyE8OaO6YQ58+7Bp3Cvm9a235ietf6gDJ6bDUv3loLPHOWq/AEDlZE6b+Fz12FnLlzoMY32ee4fqVyX4FKgjK5vDTtTR9cmn1URo2QrpVyX4HPeGri5yFUpalcyePCkjHor8Gn7ucS9ZZgP7/5uzMyzmA36rWatbXOIrk3y+pdBg+dmQwq+XFWm5y07c5Jrzbr+ZVDAMHLe127W3TVsJJg+Ge7ipPbHwTPPaDY8NAeuYm5yVdbNQBY0eEbOu0CripipXJV180PozLOYDXOPrk2emx+8B8+d1A/YyPWhYUN7ZnOUa83WzPMKGNVseEF/0zCEArtVxK17u8I8+d9JaW7wnXnqg5gDp3xvDVyK+Q6csm5v6O0kG5Vg6ufaB5Ngt/00llP3ugCHsE6K2HRMouVuztad8Nj5Evpka5EynCMep+CRe+/pRnopfKL6NOHhrxa387Hw5fqIiDh7qfB46rKxT7ZsuRbudY24nIFH3rVxZ/CkzOnY8tqqIiLxFTzWXnsJX64WV9WinoevwZVw2UhZckVFuBeL9paLR02D4BfkW1VERJj+bm9y3PR5bHl1VRGxSMEjP/hX4ed0k3aAVWrC4+yQIYsSbIkJER6vh+yobLVmS8DlVvzWztGRsjvD4qDbOaquHbB9k0bYSVIUcIPF86E/1gHjEny0PJqiP8dMjnOvvdyJZsLnNbZ8K5ss/HJUsWkGKC+IhLN1Jjx6j/s9z6uSWQv56gndIg4JePzt22GrMeAGMHdvP8HnSrhRcB8peOQIRezkuxHjOlelJjxSDEG4jcQmZvKV8kun4WOzsxlqLF/W1aw25s3PNocuAGUoO8Bs7sUmfYnSSWmyd/AMo69V9fENPHKfnQ5eejSUr0X1wZx5BRiIXfSlVR/CTY5ffe32rlX5IPJlzjrvJonXQh9j+WYYD7MZ8Aw2YidfJcUIZKLkOGhBd/WPLRYfFmit1fNFyqrF2095cOJ7HEHLag3lm2D4DTFUfxfyBQ65DyODTfI8tHmQgkdQRz148Ayjr3Iv4c0DZrAIWsA46A4gY/mGpi/Ra9rRiG309ao+ZKLkuGbwjXvG8l2JX/UxSXJcM+p+W0P5+lYfk/k7hfGMgQw20denefDx/F0bses8K2d7bFI7xzKgSUF5uoWhfJVH6U5fqC2oIStXmc9VyWAj3wTd1UcKHoMe9UEbPOPo21V9xF9W0YL6IC6VrztJHcAEfJLW51/gtY+eMIB/ws/o2UnB5XIAAAAASUVORK5CYII=";/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(e[u]=s[u])}return e},jn.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const aw="popstate";function XD(e){e===void 0&&(e={});function t(u,h){let{pathname:p,search:y,hash:a}=u.location;return vu("",{pathname:p,search:y,hash:a},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(u,h){return typeof h=="string"?h:Mo(h)}return YD(t,s,null,e)}function KD(){return Math.random().toString(36).substr(2,8)}function lw(e){return{usr:e.state,key:e.key}}function vu(e,t,s,u){return s===void 0&&(s=null),jn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ha(t):t,{state:s,key:t&&t.key||u||KD()})}function Mo(e){let{pathname:t="/",search:s="",hash:u=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),u&&u!=="#"&&(t+=u.charAt(0)==="#"?u:"#"+u),t}function Ha(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let u=e.indexOf("?");u>=0&&(t.search=e.substr(u),e=e.substr(0,u)),e&&(t.pathname=e)}return t}function pd(e){let t=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",s=typeof e=="string"?e:Mo(e);return new URL(s,t)}function YD(e,t,s,u){u===void 0&&(u={});let{window:h=document.defaultView,v5Compat:p=!1}=u,y=h.history,a=gr.Pop,T=null;function z(){a=gr.Pop,T&&T({action:a,location:S.location})}function O(Q,se){a=gr.Push;let oe=vu(S.location,Q,se);s&&s(oe,Q);let he=lw(oe),k=S.createHref(oe);try{y.pushState(he,"",k)}catch{h.location.assign(k)}p&&T&&T({action:a,location:S.location})}function j(Q,se){a=gr.Replace;let oe=vu(S.location,Q,se);s&&s(oe,Q);let he=lw(oe),k=S.createHref(oe);y.replaceState(he,"",k),p&&T&&T({action:a,location:S.location})}let S={get action(){return a},get location(){return e(h,y)},listen(Q){if(T)throw new Error("A history only accepts one active listener");return h.addEventListener(aw,z),T=Q,()=>{h.removeEventListener(aw,z),T=null}},createHref(Q){return t(h,Q)},encodeLocation(Q){let se=pd(Mo(Q));return jn({},Q,{pathname:se.pathname,search:se.search,hash:se.hash})},push:O,replace:j,go(Q){return y.go(Q)}};return S}var Fr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fr||(Fr={}));function QD(e){return e.index===!0}function yT(e,t,s){return t===void 0&&(t=[]),s===void 0&&(s=new Set),e.map((u,h)=>{let p=[...t,h],y=typeof u.id=="string"?u.id:p.join("-");return ji(u.index!==!0||!u.children,"Cannot specify children on an index route"),ji(!s.has(y),'Found a route id collision on id "'+y+`".  Route id's must be globally unique within Data Router usages`),s.add(y),QD(u)?jn({},u,{id:y}):jn({},u,{id:y,children:u.children?yT(u.children,p,s):void 0})})}function Th(e,t,s){s===void 0&&(s="/");let u=typeof t=="string"?Ha(t):t,h=_T(u.pathname||"/",s);if(h==null)return null;let p=vT(e);JD(p);let y=null;for(let a=0;y==null&&a<p.length;++a)y=lL(p[a],hL(h));return y}function vT(e,t,s,u){return t===void 0&&(t=[]),s===void 0&&(s=[]),u===void 0&&(u=""),e.forEach((h,p)=>{let y={relativePath:h.path||"",caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};y.relativePath.startsWith("/")&&(ji(y.relativePath.startsWith(u),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(u.length));let a=Fa([u,y.relativePath]),T=s.concat(y);h.children&&h.children.length>0&&(ji(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),vT(h.children,t,T,a)),!(h.path==null&&!h.index)&&t.push({path:a,score:oL(a,h.index),routesMeta:T})}),t}function JD(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:aL(t.routesMeta.map(u=>u.childrenIndex),s.routesMeta.map(u=>u.childrenIndex)))}const eL=/^:\w+$/,tL=3,iL=2,nL=1,rL=10,sL=-2,uw=e=>e==="*";function oL(e,t){let s=e.split("/"),u=s.length;return s.some(uw)&&(u+=sL),t&&(u+=iL),s.filter(h=>!uw(h)).reduce((h,p)=>h+(eL.test(p)?tL:p===""?nL:rL),u)}function aL(e,t){return e.length===t.length&&e.slice(0,-1).every((u,h)=>u===t[h])?e[e.length-1]-t[t.length-1]:0}function lL(e,t){let{routesMeta:s}=e,u={},h="/",p=[];for(let y=0;y<s.length;++y){let a=s[y],T=y===s.length-1,z=h==="/"?t:t.slice(h.length)||"/",O=uL({path:a.relativePath,caseSensitive:a.caseSensitive,end:T},z);if(!O)return null;Object.assign(u,O.params);let j=a.route;p.push({params:u,pathname:Fa([h,O.pathname]),pathnameBase:mL(Fa([h,O.pathnameBase])),route:j}),O.pathnameBase!=="/"&&(h=Fa([h,O.pathnameBase]))}return p}function uL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,u]=cL(e.path,e.caseSensitive,e.end),h=t.match(s);if(!h)return null;let p=h[0],y=p.replace(/(.)\/+$/,"$1"),a=h.slice(1);return{params:u.reduce((z,O,j)=>{if(O==="*"){let S=a[j]||"";y=p.slice(0,p.length-S.length).replace(/(.)\/+$/,"$1")}return z[O]=dL(a[j]||"",O),z},{}),pathname:p,pathnameBase:y,pattern:e}}function cL(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),y_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let u=[],h="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(y,a)=>(u.push(a),"([^\\/]+)"));return e.endsWith("*")?(u.push("*"),h+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":e!==""&&e!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,t?void 0:"i"),u]}function hL(e){try{return decodeURI(e)}catch(t){return y_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dL(e,t){try{return decodeURIComponent(e)}catch(s){return y_(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),e}}function _T(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,u=e.charAt(s);return u&&u!=="/"?null:e.slice(s)||"/"}function ji(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function y_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pL(e,t){t===void 0&&(t="/");let{pathname:s,search:u="",hash:h=""}=typeof e=="string"?Ha(e):e;return{pathname:s?s.startsWith("/")?s:fL(s,t):t,search:gL(u),hash:yL(h)}}function fL(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function Ag(e,t,s,u){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function em(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function v_(e,t,s,u){u===void 0&&(u=!1);let h;typeof e=="string"?h=Ha(e):(h=jn({},e),ji(!h.pathname||!h.pathname.includes("?"),Ag("?","pathname","search",h)),ji(!h.pathname||!h.pathname.includes("#"),Ag("#","pathname","hash",h)),ji(!h.search||!h.search.includes("#"),Ag("#","search","hash",h)));let p=e===""||h.pathname==="",y=p?"/":h.pathname,a;if(u||y==null)a=s;else{let j=t.length-1;if(y.startsWith("..")){let S=y.split("/");for(;S[0]==="..";)S.shift(),j-=1;h.pathname=S.join("/")}a=j>=0?t[j]:"/"}let T=pL(h,a),z=y&&y!=="/"&&y.endsWith("/"),O=(p||y===".")&&s.endsWith("/");return!T.pathname.endsWith("/")&&(z||O)&&(T.pathname+="/"),T}const Fa=e=>e.join("/").replace(/\/\/+/g,"/"),mL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class cw extends Error{}class vL{constructor(t){this.pendingKeys=new Set,this.subscriber=void 0,ji(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let s;this.abortPromise=new Promise((h,p)=>s=p),this.controller=new AbortController;let u=()=>s(new cw("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",u),this.controller.signal.addEventListener("abort",u),this.data=Object.entries(t).reduce((h,p)=>{let[y,a]=p;return Object.assign(h,{[y]:this.trackPromise(y,a)})},{})}trackPromise(t,s){if(!(s instanceof Promise))return s;this.pendingKeys.add(t);let u=Promise.race([s,this.abortPromise]).then(h=>this.onSettle(u,t,null,h),h=>this.onSettle(u,t,h));return u.catch(()=>{}),Object.defineProperty(u,"_tracked",{get:()=>!0}),u}onSettle(t,s,u,h){if(this.controller.signal.aborted&&u instanceof cw)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>u}),Promise.reject(u);this.pendingKeys.delete(s),this.done&&this.unlistenAbortSignal();const p=this.subscriber;return u?(Object.defineProperty(t,"_error",{get:()=>u}),p&&p(!1),Promise.reject(u)):(Object.defineProperty(t,"_data",{get:()=>h}),p&&p(!1),h)}subscribe(t){this.subscriber=t}cancel(){this.controller.abort(),this.pendingKeys.forEach((s,u)=>this.pendingKeys.delete(u));let t=this.subscriber;t&&t(!0)}async resolveData(t){let s=!1;if(!this.done){let u=()=>this.cancel();t.addEventListener("abort",u),s=await new Promise(h=>{this.subscribe(p=>{t.removeEventListener("abort",u),(p||this.done)&&h(p)})})}return s}get done(){return this.pendingKeys.size===0}get unwrappedData(){return ji(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,s)=>{let[u,h]=s;return Object.assign(t,{[u]:xL(h)})},{})}}function _L(e){return e instanceof Promise&&e._tracked===!0}function xL(e){if(!_L(e))return e;if(e._error)throw e._error;return e._data}class Rc{constructor(t,s,u){this.status=t,this.statusText=s||"",this.data=u}}function xT(e){return e instanceof Rc}const Eg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},wL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},bL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SL=!bL;function TL(e){ji(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=yT(e.routes),s=null,u=new Set,h=null,p=null,y=null,a=!1,T=Th(t,e.history.location,e.basename),z=null;if(T==null){let{matches:st,route:Je,error:pt}=mw(t);T=st,z={[Je.id]:pt}}let O=!T.some(st=>st.route.loader)||e.hydrationData!=null,j,S={historyAction:e.history.action,location:e.history.location,matches:T,initialized:O,navigation:Eg,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||z,fetchers:new Map},Q=gr.Pop,se=!1,oe,he=!1,k=!1,D=[],F=[],Y=new Map,xe=0,E=-1,Ne=new Map,qe=new Set,wt=new Map,At=new Map;function _i(){return s=e.history.listen(st=>{let{action:Je,location:pt}=st;return He(Je,pt)}),S.initialized||He(gr.Pop,S.location),j}function ui(){s&&s(),u.clear(),oe&&oe.abort(),S.fetchers.forEach((st,Je)=>Bi(Je))}function Tn(st){return u.add(st),()=>u.delete(st)}function Di(st){S=jn({},S,st),u.forEach(Je=>Je(S))}function sn(st,Je){var pt;let Mt=S.actionData!=null&&S.navigation.formMethod!=null&&S.navigation.state==="loading"&&((pt=S.navigation.formAction)==null?void 0:pt.split("?")[0])===st.pathname,Yt=Je.loaderData?{loaderData:Pg(S.loaderData,Je.loaderData,Je.matches||[])}:{};Di(jn({},Mt?{}:{actionData:null},Je,Yt,{historyAction:Q,location:st,initialized:!0,navigation:Eg,revalidation:"idle",restoreScrollPosition:S.navigation.formData?!1:mn(st,Je.matches||S.matches),preventScrollReset:se})),he||Q===gr.Pop||(Q===gr.Push?e.history.push(st,st.state):Q===gr.Replace&&e.history.replace(st,st.state)),Q=gr.Pop,se=!1,he=!1,k=!1,D=[],F=[]}async function Tt(st,Je){if(typeof st=="number"){e.history.go(st);return}let{path:pt,submission:Mt,error:Yt}=hw(st,Je),yi=vu(S.location,pt,Je&&Je.state);yi=e.history.encodeLocation(yi);let oi=(Je&&Je.replace)===!0||Mt!=null?gr.Replace:gr.Push,di=Je&&"preventScrollReset"in Je?Je.preventScrollReset===!0:void 0;return await He(oi,yi,{submission:Mt,pendingError:Yt,preventScrollReset:di,replace:Je&&Je.replace})}function un(){if(Ui(),Di({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){He(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}He(Q||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function He(st,Je,pt){oe&&oe.abort(),oe=null,Q=st,he=(pt&&pt.startUninterruptedRevalidation)===!0,Lt(S.location,S.matches),se=(pt&&pt.preventScrollReset)===!0;let Mt=pt&&pt.overrideNavigation,Yt=Th(t,Je,e.basename);if(!Yt){let{matches:ct,route:Hn,error:dn}=mw(t);Nn(),sn(Je,{matches:ct,loaderData:{},errors:{[Hn.id]:dn}});return}if(IL(S.location,Je)){sn(Je,{matches:Yt});return}oe=new AbortController;let yi=_h(Je,oe.signal,pt&&pt.submission),oi,di;if(pt&&pt.pendingError)di={[dc(Yt).route.id]:pt.pendingError};else if(pt&&pt.submission){let ct=await at(yi,Je,pt.submission,Yt,{replace:pt.replace});if(ct.shortCircuited)return;oi=ct.pendingActionData,di=ct.pendingActionError,Mt=jn({state:"loading",location:Je},pt.submission)}let{shortCircuited:bi,loaderData:ki,errors:Le}=await dt(yi,Je,Yt,Mt,pt&&pt.submission,pt&&pt.replace,oi,di);bi||(oe=null,sn(Je,{matches:Yt,loaderData:ki,errors:Le}))}async function at(st,Je,pt,Mt,Yt){Ui();let yi=jn({state:"submitting",location:Je},pt);Di({navigation:yi});let oi,di=xw(Mt,Je);if(!di.route.action)oi=gw(Je);else if(oi=await vh("action",st,di,Mt,j.basename),st.signal.aborted)return{shortCircuited:!0};if(wc(oi)){let bi=jn({state:"loading",location:vu(S.location,oi.location)},pt);return await ci(oi,bi,Yt&&Yt.replace),{shortCircuited:!0}}if(Uh(oi)){let bi=dc(Mt,di.route.id);return(Yt&&Yt.replace)!==!0&&(Q=gr.Push),{pendingActionError:{[bi.route.id]:oi.error}}}if(mu(oi))throw new Error("defer() is not supported in actions");return{pendingActionData:{[di.route.id]:oi.data}}}async function dt(st,Je,pt,Mt,Yt,yi,oi,di){let bi=Mt;bi||(bi={state:"loading",location:Je,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[ki,Le]=dw(S,pt,Yt,Je,k,D,F,oi,di,wt);if(Nn(Qt=>!(pt&&pt.some(Ke=>Ke.route.id===Qt))||ki&&ki.some(Ke=>Ke.route.id===Qt)),ki.length===0&&Le.length===0)return sn(Je,{matches:pt,loaderData:Pg(S.loaderData,{},pt),errors:di||null,actionData:oi||null}),{shortCircuited:!0};he||(Le.forEach(Qt=>{let[Ke]=Qt,Ut=S.fetchers.get(Ke),Vt={state:"loading",data:Ut&&Ut.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};S.fetchers.set(Ke,Vt)}),Di(jn({navigation:bi,actionData:oi||S.actionData||null},Le.length>0?{fetchers:new Map(S.fetchers)}:{}))),E=++xe,Le.forEach(Qt=>{let[Ke]=Qt;return Y.set(Ke,oe)});let{results:ct,loaderResults:Hn,fetcherResults:dn}=await gi(S.matches,pt,ki,Le,st);if(st.signal.aborted)return{shortCircuited:!0};Le.forEach(Qt=>{let[Ke]=Qt;return Y.delete(Ke)});let it=yw(ct);if(it){let Qt=kg(S,it);return await ci(it,Qt,yi),{shortCircuited:!0}}let{loaderData:Ft,errors:hi}=fw(S,pt,ki,Hn,di,Le,dn,At);At.forEach((Qt,Ke)=>{Qt.subscribe(Ut=>{(Ut||Qt.done)&&At.delete(Ke)})}),Pr();let Si=on(E);return jn({loaderData:Ft,errors:hi},Si||Le.length>0?{fetchers:new Map(S.fetchers)}:{})}function Ot(st){return S.fetchers.get(st)||wL}function ri(st,Je,pt,Mt){if(SL)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Y.has(st)&&kr(st);let Yt=Th(t,pt,e.basename);if(!Yt){cn(st,Je,new Rc(404,"Not Found",null));return}let{path:yi,submission:oi}=hw(pt,Mt,!0),di=xw(Yt,yi);if(oi){si(st,Je,yi,di,Yt,oi);return}wt.set(st,[yi,di,Yt]),Ti(st,Je,yi,di,Yt)}async function si(st,Je,pt,Mt,Yt,yi){if(Ui(),wt.delete(st),!Mt.route.action){let{error:vi}=gw(pt);cn(st,Je,vi);return}let oi=S.fetchers.get(st),di=jn({state:"submitting"},yi,{data:oi&&oi.data});S.fetchers.set(st,di),Di({fetchers:new Map(S.fetchers)});let bi=new AbortController,ki=_h(pt,bi.signal,yi);Y.set(st,bi);let Le=await vh("action",ki,Mt,Yt,j.basename);if(ki.signal.aborted){Y.get(st)===bi&&Y.delete(st);return}if(wc(Le)){Y.delete(st),qe.add(st);let vi=jn({state:"loading"},yi,{data:void 0});S.fetchers.set(st,vi),Di({fetchers:new Map(S.fetchers)});let rr=jn({state:"loading",location:vu(S.location,Le.location)},yi);await ci(Le,rr);return}if(Uh(Le)){cn(st,Je,Le.error);return}mu(Le)&&ji(!1,"defer() is not supported in actions");let ct=S.navigation.location||S.location,Hn=_h(ct,bi.signal),dn=S.navigation.state!=="idle"?Th(t,S.navigation.location,e.basename):S.matches;ji(dn,"Didn't find any matches after fetcher action");let it=++xe;Ne.set(st,it);let Ft=jn({state:"loading",data:Le.data},yi);S.fetchers.set(st,Ft);let[hi,Si]=dw(S,dn,yi,ct,k,D,F,{[Mt.route.id]:Le.data},void 0,wt);Si.filter(vi=>{let[rr]=vi;return rr!==st}).forEach(vi=>{let[rr]=vi,gn=S.fetchers.get(rr),zn={state:"loading",data:gn&&gn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};S.fetchers.set(rr,zn),Y.set(rr,bi)}),Di({fetchers:new Map(S.fetchers)});let{results:Qt,loaderResults:Ke,fetcherResults:Ut}=await gi(S.matches,dn,hi,Si,Hn);if(bi.signal.aborted)return;Ne.delete(st),Y.delete(st),Si.forEach(vi=>{let[rr]=vi;return Y.delete(rr)});let Vt=yw(Qt);if(Vt){let vi=kg(S,Vt);await ci(Vt,vi);return}let{loaderData:Hi,errors:Cn}=fw(S,S.matches,hi,Ke,void 0,Si,Ut,At),Bt={state:"idle",data:Le.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};S.fetchers.set(st,Bt);let _n=on(it);S.navigation.state==="loading"&&it>E?(ji(Q,"Expected pending action"),oe&&oe.abort(),sn(S.navigation.location,{matches:dn,loaderData:Hi,errors:Cn,fetchers:new Map(S.fetchers)})):(Di(jn({errors:Cn,loaderData:Pg(S.loaderData,Hi,dn)},_n?{fetchers:new Map(S.fetchers)}:{})),k=!1)}async function Ti(st,Je,pt,Mt,Yt){let yi=S.fetchers.get(st),oi={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:yi&&yi.data};S.fetchers.set(st,oi),Di({fetchers:new Map(S.fetchers)});let di=new AbortController,bi=_h(pt,di.signal);Y.set(st,di);let ki=await vh("loader",bi,Mt,Yt,j.basename);if(mu(ki)&&(ki=await TT(ki,bi.signal,!0)||ki),Y.get(st)===di&&Y.delete(st),bi.signal.aborted)return;if(wc(ki)){let ct=kg(S,ki);await ci(ki,ct);return}if(Uh(ki)){let ct=dc(S.matches,Je);S.fetchers.delete(st),Di({fetchers:new Map(S.fetchers),errors:{[ct.route.id]:ki.error}});return}ji(!mu(ki),"Unhandled fetcher deferred data");let Le={state:"idle",data:ki.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};S.fetchers.set(st,Le),Di({fetchers:new Map(S.fetchers)})}async function ci(st,Je,pt){st.revalidate&&(k=!0),ji(Je.location,"Expected a location on the redirect navigation"),oe=null;let Mt=pt===!0?gr.Replace:gr.Push;await He(Mt,Je.location,{overrideNavigation:Je})}async function gi(st,Je,pt,Mt,Yt){let yi=await Promise.all([...pt.map(bi=>vh("loader",Yt,bi,Je,j.basename)),...Mt.map(bi=>{let[,ki,Le,ct]=bi;return vh("loader",_h(ki,Yt.signal),Le,ct,j.basename)})]),oi=yi.slice(0,pt.length),di=yi.slice(pt.length);return await Promise.all([vw(st,pt,oi,Yt.signal,!1,S.loaderData),vw(st,Mt.map(bi=>{let[,,ki]=bi;return ki}),di,Yt.signal,!0)]),{results:yi,loaderResults:oi,fetcherResults:di}}function Ui(){k=!0,D.push(...Nn()),wt.forEach((st,Je)=>{Y.has(Je)&&(F.push(Je),kr(Je))})}function cn(st,Je,pt){let Mt=dc(S.matches,Je);Bi(st),Di({errors:{[Mt.route.id]:pt},fetchers:new Map(S.fetchers)})}function Bi(st){Y.has(st)&&kr(st),wt.delete(st),Ne.delete(st),qe.delete(st),S.fetchers.delete(st)}function kr(st){let Je=Y.get(st);ji(Je,"Expected fetch controller: "+st),Je.abort(),Y.delete(st)}function fs(st){for(let Je of st){let Mt={state:"idle",data:Ot(Je).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};S.fetchers.set(Je,Mt)}}function Pr(){let st=[];for(let Je of qe){let pt=S.fetchers.get(Je);ji(pt,"Expected fetcher: "+Je),pt.state==="loading"&&(qe.delete(Je),st.push(Je))}fs(st)}function on(st){let Je=[];for(let[pt,Mt]of Ne)if(Mt<st){let Yt=S.fetchers.get(pt);ji(Yt,"Expected fetcher: "+pt),Yt.state==="loading"&&(kr(pt),Ne.delete(pt),Je.push(pt))}return fs(Je),Je.length>0}function Nn(st){let Je=[];return At.forEach((pt,Mt)=>{(!st||st(Mt))&&(pt.cancel(),Je.push(Mt),At.delete(Mt))}),Je}function hn(st,Je,pt){if(h=st,y=Je,p=pt||(Mt=>Mt.key),!a&&S.navigation===Eg){a=!0;let Mt=mn(S.location,S.matches);Mt!=null&&Di({restoreScrollPosition:Mt})}return()=>{h=null,y=null,p=null}}function Lt(st,Je){if(h&&p&&y){let pt=Je.map(Yt=>_w(Yt,S.loaderData)),Mt=p(st,pt)||st.key;h[Mt]=y()}}function mn(st,Je){if(h&&p&&y){let pt=Je.map(yi=>_w(yi,S.loaderData)),Mt=p(st,pt)||st.key,Yt=h[Mt];if(typeof Yt=="number")return Yt}return null}return j={get basename(){return e.basename},get state(){return S},get routes(){return t},initialize:_i,subscribe:Tn,enableScrollRestoration:hn,navigate:Tt,fetch:ri,revalidate:un,createHref:st=>e.history.createHref(st),getFetcher:Ot,deleteFetcher:Bi,dispose:ui,_internalFetchControllers:Y,_internalActiveDeferreds:At},j}const CL=new Set(["POST","PUT","PATCH","DELETE"]);[...CL];function hw(e,t,s){s===void 0&&(s=!1);let u=typeof e=="string"?e:Mo(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:u};if(t.formMethod!=null&&t.formMethod!=="get")return{path:u,submission:{formMethod:t.formMethod,formAction:ST(u),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:u};let h=Ha(u);try{let p=bT(t.formData);s&&h.search&&CT(h.search)&&p.append("index",""),h.search="?"+p}catch{return{path:u,error:new Rc(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:Mo(h)}}function kg(e,t){let{formMethod:s,formAction:u,formEncType:h,formData:p}=e.navigation;return{state:"loading",location:vu(e.location,t.location),formMethod:s||void 0,formAction:u||void 0,formEncType:h||void 0,formData:p||void 0}}function AL(e,t){let s=e;if(t){let u=e.findIndex(h=>h.route.id===t);u>=0&&(s=e.slice(0,u))}return s}function dw(e,t,s,u,h,p,y,a,T,z){let O=T?Object.values(T)[0]:a?Object.values(a)[0]:null,j=T?Object.keys(T)[0]:void 0,Q=AL(t,j).filter((oe,he)=>oe.route.loader!=null&&(EL(e.loaderData,e.matches[he],oe)||p.some(k=>k===oe.route.id)||pw(e.location,e.matches[he],s,u,oe,h,O))),se=[];return z&&z.forEach((oe,he)=>{let[k,D,F]=oe;y.includes(he)?se.push([he,k,D,F]):h&&pw(k,D,s,k,D,h,O)&&se.push([he,k,D,F])}),[Q,se]}function EL(e,t,s){let u=!t||s.route.id!==t.route.id,h=e[s.route.id]===void 0;return u||h}function wT(e,t){let s=e.route.path;return e.pathname!==t.pathname||s&&s.endsWith("*")&&e.params["*"]!==t.params["*"]}function pw(e,t,s,u,h,p,y){let a=pd(e),T=t.params,z=pd(u),O=h.params,j=wT(t,h)||a.toString()===z.toString()||a.search!==z.search||p;if(h.route.shouldRevalidate){let S=h.route.shouldRevalidate(jn({currentUrl:a,currentParams:T,nextUrl:z,nextParams:O},s,{actionResult:y,defaultShouldRevalidate:j}));if(typeof S=="boolean")return S}return j}async function vh(e,t,s,u,h,p,y){p===void 0&&(p=!1),y===void 0&&(y=!1);let a,T,z,O=new Promise((S,Q)=>z=Q),j=()=>z();t.signal.addEventListener("abort",j);try{let S=s.route[e];ji(S,"Could not find the "+e+' to run on the "'+s.route.id+'" route'),T=await Promise.race([S({request:t,params:s.params}),O])}catch(S){a=Fr.error,T=S}finally{t.signal.removeEventListener("abort",j)}if(T instanceof Response){let S=T.status;if(S>=300&&S<=399){let oe=T.headers.get("Location");ji(oe,"Redirects returned/thrown from loaders/actions must have a Location header");let he=u.slice(0,u.indexOf(s)+1),k=em(he).map(Y=>Y.pathnameBase),D=pd(t.url).pathname,F=v_(oe,k,D);if(ji(Mo(F),"Unable to resolve redirect location: "+T.headers.get("Location")),h){let Y=F.pathname;F.pathname=Y==="/"?h:Fa([h,Y])}if(oe=Mo(F),p)throw T.headers.set("Location",oe),T;return{type:Fr.redirect,status:S,location:oe,revalidate:T.headers.get("X-Remix-Revalidate")!==null}}if(y)throw{type:a||Fr.data,response:T};let Q,se=T.headers.get("Content-Type");return se&&se.startsWith("application/json")?Q=await T.json():Q=await T.text(),a===Fr.error?{type:a,error:new Rc(S,T.statusText,Q),headers:T.headers}:{type:Fr.data,data:Q,statusCode:T.status,headers:T.headers}}return a===Fr.error?{type:a,error:T}:T instanceof vL?{type:Fr.deferred,deferredData:T}:{type:Fr.data,data:T}}function _h(e,t,s){let u=pd(ST(e)).toString(),h={signal:t};if(s){let{formMethod:p,formEncType:y,formData:a}=s;h.method=p.toUpperCase(),h.body=y==="application/x-www-form-urlencoded"?bT(a):a}return new Request(u,h)}function bT(e){let t=new URLSearchParams;for(let[s,u]of e.entries())ji(typeof u=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(s,u);return t}function kL(e,t,s,u,h){let p={},y=null,a,T=!1,z={};return s.forEach((O,j)=>{let S=t[j].route.id;if(ji(!wc(O),"Cannot handle redirect results in processLoaderData"),Uh(O)){let Q=dc(e,S),se=O.error;u&&(se=Object.values(u)[0],u=void 0),y=Object.assign(y||{},{[Q.route.id]:se}),T||(T=!0,a=xT(O.error)?O.error.status:500),O.headers&&(z[S]=O.headers)}else mu(O)?(h&&h.set(S,O.deferredData),p[S]=O.deferredData.data):(p[S]=O.data,O.statusCode!=null&&O.statusCode!==200&&!T&&(a=O.statusCode),O.headers&&(z[S]=O.headers))}),u&&(y=u),{loaderData:p,errors:y,statusCode:a||200,loaderHeaders:z}}function fw(e,t,s,u,h,p,y,a){let{loaderData:T,errors:z}=kL(t,s,u,h,a);for(let O=0;O<p.length;O++){let[j,,S]=p[O];ji(y!==void 0&&y[O]!==void 0,"Did not find corresponding fetcher result");let Q=y[O];if(Uh(Q)){let se=dc(e.matches,S.route.id);z&&z[se.route.id]||(z=jn({},z,{[se.route.id]:Q.error})),e.fetchers.delete(j)}else{if(wc(Q))throw new Error("Unhandled fetcher revalidation redirect");if(mu(Q))throw new Error("Unhandled fetcher deferred data");{let se={state:"idle",data:Q.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(j,se)}}}return{loaderData:T,errors:z}}function Pg(e,t,s){let u=jn({},t);return s.forEach(h=>{let p=h.route.id;t[p]===void 0&&e[p]!==void 0&&(u[p]=e[p])}),u}function dc(e,t){return(t?e.slice(0,e.findIndex(u=>u.route.id===t)+1):[...e]).reverse().find(u=>u.route.hasErrorBoundary===!0)||e[0]}function PL(e,t,s){let u=e.find(h=>h.index||!h.path||h.path==="/")||{id:"__shim-"+t+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:u}],route:u,error:new Rc(t,s,null)}}function mw(e){return PL(e,404,"Not Found")}function gw(e){let t=typeof e=="string"?e:Mo(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+t+"]")),{type:Fr.error,error:new Rc(405,"Method Not Allowed","")}}function yw(e){for(let t=e.length-1;t>=0;t--){let s=e[t];if(wc(s))return s}}function ST(e){let t=typeof e=="string"?Ha(e):e;return Mo(jn({},t,{hash:""}))}function IL(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function mu(e){return e.type===Fr.deferred}function Uh(e){return e.type===Fr.error}function wc(e){return(e&&e.type)===Fr.redirect}async function vw(e,t,s,u,h,p){for(let y=0;y<s.length;y++){let a=s[y],T=t[y],z=e.find(j=>j.route.id===T.route.id),O=z!=null&&!wT(z,T)&&(p&&p[T.route.id])!==void 0;mu(a)&&(h||O)&&await TT(a,u,h).then(j=>{j&&(s[y]=j||s[y])})}}async function TT(e,t,s){if(s===void 0&&(s=!1),!await e.deferredData.resolveData(t)){if(s)try{return{type:Fr.data,data:e.deferredData.unwrappedData}}catch(h){return{type:Fr.error,error:h}}return{type:Fr.data,data:e.deferredData.data}}}function CT(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function _w(e,t){let{route:s,pathname:u,params:h}=e;return{id:s.id,pathname:u,params:h,data:t[s.id],handle:s.handle}}function xw(e,t){let s=typeof t=="string"?Ha(t).search:t.search;if(e[e.length-1].route.index&&CT(s||""))return e[e.length-1];let u=em(e);return u[u.length-1]}/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(e[u]=s[u])}return e},Cf.apply(this,arguments)}function ML(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const zL=typeof Object.is=="function"?Object.is:ML,{useState:DL,useEffect:LL,useLayoutEffect:RL,useDebugValue:BL}=zg;function NL(e,t,s){const u=t(),[{inst:h},p]=DL({inst:{value:u,getSnapshot:t}});return RL(()=>{h.value=u,h.getSnapshot=t,Ig(h)&&p({inst:h})},[e,u,t]),LL(()=>(Ig(h)&&p({inst:h}),e(()=>{Ig(h)&&p({inst:h})})),[e]),BL(u),u}function Ig(e){const t=e.getSnapshot,s=e.value;try{const u=t();return!zL(s,u)}catch{return!0}}function OL(e,t,s){return t()}const FL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VL=!FL,UL=VL?OL:NL,jL="useSyncExternalStore"in zg?(e=>e.useSyncExternalStore)(zg):UL,qL=$e.exports.createContext(null),AT=$e.exports.createContext(null),tm=$e.exports.createContext(null),__=$e.exports.createContext(null),im=$e.exports.createContext(null),Cd=$e.exports.createContext({outlet:null,matches:[]}),ET=$e.exports.createContext(null);function GL(e,t){let{relative:s}=t===void 0?{}:t;Ad()||ji(!1);let{basename:u,navigator:h}=$e.exports.useContext(__),{hash:p,pathname:y,search:a}=x_(e,{relative:s}),T=y;return u!=="/"&&(T=y==="/"?u:Fa([u,y])),h.createHref({pathname:T,search:a,hash:p})}function Ad(){return $e.exports.useContext(im)!=null}function Ed(){return Ad()||ji(!1),$e.exports.useContext(im).location}function WL(){Ad()||ji(!1);let{basename:e,navigator:t}=$e.exports.useContext(__),{matches:s}=$e.exports.useContext(Cd),{pathname:u}=Ed(),h=JSON.stringify(em(s).map(a=>a.pathnameBase)),p=$e.exports.useRef(!1);return $e.exports.useEffect(()=>{p.current=!0}),$e.exports.useCallback(function(a,T){if(T===void 0&&(T={}),!p.current)return;if(typeof a=="number"){t.go(a);return}let z=v_(a,JSON.parse(h),u,T.relative==="path");e!=="/"&&(z.pathname=z.pathname==="/"?e:Fa([e,z.pathname])),(T.replace?t.replace:t.push)(z,T.state,T)},[e,t,h,u])}function x_(e,t){let{relative:s}=t===void 0?{}:t,{matches:u}=$e.exports.useContext(Cd),{pathname:h}=Ed(),p=JSON.stringify(em(u).map(y=>y.pathnameBase));return $e.exports.useMemo(()=>v_(e,JSON.parse(p),h,s==="path"),[e,p,h,s])}function HL(e,t){Ad()||ji(!1);let s=$e.exports.useContext(tm),{matches:u}=$e.exports.useContext(Cd),h=u[u.length-1],p=h?h.params:{};h&&h.pathname;let y=h?h.pathnameBase:"/";h&&h.route;let a=Ed(),T;if(t){var z;let se=typeof t=="string"?Ha(t):t;y==="/"||((z=se.pathname)==null?void 0:z.startsWith(y))||ji(!1),T=se}else T=a;let O=T.pathname||"/",j=y==="/"?O:O.slice(y.length)||"/",S=Th(e,{pathname:j}),Q=KL(S&&S.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:Fa([y,se.pathname]),pathnameBase:se.pathnameBase==="/"?y:Fa([y,se.pathnameBase])})),u,s||void 0);return t&&Q?X(im.Provider,{value:{location:Cf({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:gr.Pop},children:Q}):Q}function ZL(){let e=QL(),t=xT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,u="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u};return rt(sd,{children:[X("h2",{children:"Unhandled Thrown Error!"}),X("h3",{style:{fontStyle:"italic"},children:t}),s?X("pre",{style:h,children:s}):null,X("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),rt("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",X("code",{style:p,children:"errorElement"})," props on\xA0",X("code",{style:p,children:"<Route>"})]})]})}class $L extends $e.exports.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location?{error:t.error,location:t.location}:{error:t.error||s.error,location:s.location}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error?X(ET.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function XL(e){let{routeContext:t,match:s,children:u}=e,h=$e.exports.useContext(qL);return h&&s.route.errorElement&&(h._deepestRenderedBoundaryId=s.route.id),X(Cd.Provider,{value:t,children:u})}function KL(e,t,s){if(t===void 0&&(t=[]),e==null)if(s!=null&&s.errors)e=s.matches;else return null;let u=e,h=s==null?void 0:s.errors;if(h!=null){let p=u.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id]));p>=0||ji(!1),u=u.slice(0,Math.min(u.length,p+1))}return u.reduceRight((p,y,a)=>{let T=y.route.id?h==null?void 0:h[y.route.id]:null,z=s?y.route.errorElement||X(ZL,{}):null,O=()=>X(XL,{match:y,routeContext:{outlet:p,matches:t.concat(u.slice(0,a+1))},children:T?z:y.route.element!==void 0?y.route.element:p});return s&&(y.route.errorElement||a===0)?X($L,{location:s.location,component:z,error:T,children:O()}):O()},null)}var ww;(function(e){e.UseRevalidator="useRevalidator"})(ww||(ww={}));var Hy;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Hy||(Hy={}));function YL(e){let t=$e.exports.useContext(tm);return t||ji(!1),t}function QL(){var e;let t=$e.exports.useContext(ET),s=YL(Hy.UseRouteError),u=$e.exports.useContext(Cd),h=u.matches[u.matches.length-1];return t||(u||ji(!1),h.route.id||ji(!1),(e=s.errors)==null?void 0:e[h.route.id])}function JL(e){let{fallbackElement:t,router:s}=e,u=jL(s.subscribe,()=>s.state,()=>s.state),h=$e.exports.useMemo(()=>({createHref:s.createHref,go:y=>s.navigate(y),push:(y,a,T)=>s.navigate(y,{state:a,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(y,a,T)=>s.navigate(y,{replace:!0,state:a,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[s]),p=s.basename||"/";return X(AT.Provider,{value:{router:s,navigator:h,static:!1,basename:p},children:X(tm.Provider,{value:u,children:X(tR,{basename:s.basename,location:s.state.location,navigationType:s.state.historyAction,navigator:h,children:s.state.initialized?X(iR,{}):t})})})}function eR(e){ji(!1)}function tR(e){let{basename:t="/",children:s=null,location:u,navigationType:h=gr.Pop,navigator:p,static:y=!1}=e;Ad()&&ji(!1);let a=t.replace(/^\/*/,"/"),T=$e.exports.useMemo(()=>({basename:a,navigator:p,static:y}),[a,p,y]);typeof u=="string"&&(u=Ha(u));let{pathname:z="/",search:O="",hash:j="",state:S=null,key:Q="default"}=u,se=$e.exports.useMemo(()=>{let oe=_T(z,a);return oe==null?null:{pathname:oe,search:O,hash:j,state:S,key:Q}},[a,z,O,j,S,Q]);return se==null?null:X(__.Provider,{value:T,children:X(im.Provider,{children:s,value:{location:se,navigationType:h}})})}function iR(e){let{children:t,location:s}=e,u=$e.exports.useContext(AT),h=u&&!t?u.router.routes:Zy(t);return HL(h,s)}var bw;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(bw||(bw={}));new Promise(()=>{});function Zy(e,t){t===void 0&&(t=[]);let s=[];return $e.exports.Children.forEach(e,(u,h)=>{if(!$e.exports.isValidElement(u))return;if(u.type===$e.exports.Fragment){s.push.apply(s,Zy(u.props.children,t));return}u.type!==eR&&ji(!1),!u.props.index||!u.props.children||ji(!1);let p=[...t,h],y={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,hasErrorBoundary:u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle};u.props.children&&(y.children=Zy(u.props.children,p)),s.push(y)}),s}function kT(e){return e.map(t=>{let s=Cf({},t);return s.hasErrorBoundary==null&&(s.hasErrorBoundary=s.errorElement!=null),s.children&&(s.children=kT(s.children)),s})}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function PT(e,t){if(e==null)return{};var s={},u=Object.keys(e),h,p;for(p=0;p<u.length;p++)h=u[p],!(t.indexOf(h)>=0)&&(s[h]=e[h]);return s}function nR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rR(e,t){return e.button===0&&(!t||t==="_self")&&!nR(e)}const sR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],oR=["aria-current","caseSensitive","className","end","style","to","children"];function aR(e,t){var s;return TL({basename:t==null?void 0:t.basename,history:XD({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||((s=window)==null?void 0:s.__staticRouterHydrationData),routes:kT(e)}).initialize()}const zo=$e.exports.forwardRef(function(t,s){let{onClick:u,relative:h,reloadDocument:p,replace:y,state:a,target:T,to:z,preventScrollReset:O}=t,j=PT(t,sR),S=GL(z,{relative:h}),Q=lR(z,{replace:y,state:a,target:T,preventScrollReset:O,relative:h});function se(oe){u&&u(oe),oe.defaultPrevented||Q(oe)}return X("a",{...j,href:S,onClick:p?u:se,ref:s,target:T})}),IT=$e.exports.forwardRef(function(t,s){let{"aria-current":u="page",caseSensitive:h=!1,className:p="",end:y=!1,style:a,to:T,children:z}=t,O=PT(t,oR),j=x_(T,{relative:O.relative}),S=Ed(),Q=$e.exports.useContext(tm),se=j.pathname,oe=S.pathname,he=Q&&Q.navigation&&Q.navigation.location?Q.navigation.location.pathname:null;h||(oe=oe.toLowerCase(),he=he?he.toLowerCase():null,se=se.toLowerCase());let k=oe===se||!y&&oe.startsWith(se)&&oe.charAt(se.length)==="/",D=he!=null&&(he===se||!y&&he.startsWith(se)&&he.charAt(se.length)==="/"),F=k?u:void 0,Y;typeof p=="function"?Y=p({isActive:k,isPending:D}):Y=[p,k?"active":null,D?"pending":null].filter(Boolean).join(" ");let xe=typeof a=="function"?a({isActive:k,isPending:D}):a;return X(zo,{...O,"aria-current":F,className:Y,ref:s,style:xe,to:T,children:typeof z=="function"?z({isActive:k,isPending:D}):z})});var Sw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Sw||(Sw={}));var Tw;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tw||(Tw={}));function lR(e,t){let{target:s,replace:u,state:h,preventScrollReset:p,relative:y}=t===void 0?{}:t,a=WL(),T=Ed(),z=x_(e,{relative:y});return $e.exports.useCallback(O=>{if(rR(O,s)){O.preventDefault();let j=u!==void 0?u:Mo(T)===Mo(z);a(e,{replace:j,state:h,preventScrollReset:p,relative:y})}},[T,a,z,u,h,s,e,p,y])}function MT({className:e="w-6 h-6"}){return X("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:X("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}function uR({link:e,title:t}){return X("li",{children:X(IT,{to:e,className:({isActive:s})=>`block tracking-wide px-2 sm:px-4 py-1 sm:py-2 rounded-sm text-sm sm:text-sm hover:bg-white/10 ${s&&"bg-white/20"}`,children:t})})}function cR(){return rt(zo,{to:"/",className:"text-gray-200 flex items-center space-x-2",children:[X("div",{children:X("img",{src:$D,alt:"duosdev",className:"w-[46px]"})}),rt("div",{children:[X("h1",{className:"font-bold tracking-wide",children:"Duos Dev"}),X("p",{className:"italic text-[8px] -mt-[2px]",children:"Tech and Solution"})]})]})}function hR({active:e,handleSidebarToggle:t}){const[s,u]=$e.exports.useState((window==null?void 0:window.scrollY)||0);$e.exports.useEffect(()=>(window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)),[]);const h=()=>{u(window.scrollY)};return X(Mc.div,{className:`fixed w-full left-0 top-0 z-50 ${s>30&&"backdrop-blur-md bg-slate-900/50 border-b shadow-xl"} border-slate-700 sm:border-slate-800 `,children:X(Po,{children:rt("div",{className:`flex max-w-5xl mx-auto items-center justify-between ${s>30?"h-[68px] sm:h-16":"h-16"} transition-all duration-300`,children:[X(cR,{}),X("button",{onClick:t,className:"block sm:hidden focus:outline-none text-gray-200",children:e?X(MT,{className:"w-6 h-6 rotate-45"}):X(ZD,{})}),X("ul",{className:"hidden sm:flex items-center text-gray-200",children:g_.map(p=>X(uR,{link:p.link,title:p.title},p.id))})]})})})}const dR={initial:{height:0},animate:{height:"100%",transition:{delayChildren:.3,staggerChildren:.1,type:"tween"}},exit:{height:0,transition:{when:"afterChildren",staggerChildren:.1,type:"tween"}}},pR={initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12}};function fR({active:e=!1}){return X(mT,{children:e&&X(Mc.div,{variants:dR,initial:"initial",animate:"animate",exit:"exit",className:"fixed top-16 inset-0 bg-slate-900 z-30 text-gray-300 h-full flex justify-center items-center flex-col space-y-6",children:g_.map(t=>X(Mc.div,{variants:pR,transition:{type:"tween"},children:X(IT,{to:t.link,className:({isActive:s})=>`text-base tracking-wide font-medium py-3 px-8 rounded-sm hover:bg-white/10 ${s&&"bg-white/20"}`,children:t.title})},t.id))})})}function Bc({title:e="Duosdev",children:t}){const[s,u]=$e.exports.useState(!1),[h,p]=$e.exports.useState((window==null?void 0:window.innerWidth)||0);$e.exports.useEffect(()=>{document.body.title=e},[]);const y=$e.exports.useCallback(()=>{u(!s),s?document.body.classList.remove("overflow-y-hidden"):document.body.classList.add("overflow-y-hidden")},[s]);$e.exports.useEffect(()=>{u(!1),window.scrollTo({top:0,left:0,behavior:"smooth"}),document.body.classList.remove("overflow-y-hidden")},[]);const a=()=>{p(window.innerWidth)};return $e.exports.useEffect(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)),[h]),$e.exports.useEffect(()=>{h>=640&&u(!1)},[h]),rt(sd,{children:[X(hR,{active:s,handleSidebarToggle:y}),X(fR,{handleSidebarToggle:y,active:s}),X(ED,{features:kD,children:t}),X(HD,{})]})}function mR(){return rt("div",{className:"about box-container",children:[X("div",{className:"text-center",children:X("div",{className:"relative w-max mx-auto",children:X("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Tentang Kami"})})}),rt("div",{className:"text-gray-300 mt-8 max-w-5xl mx-auto sm:space-y-0 flex flex-col-reverse sm:flex-row items-start justify-between py-6 sm:py-10 sm:space-x-6",children:[rt("div",{children:[X("p",{className:"text-sm sm:text-base mt-2 sm:mt-4 pr-2 text-gray-300",children:"Duos Dev adalah brand usaha kami di bidang IT yang berlokasi di Cikijing - Majalengka dan memberikan layanan profesional dan dibekali dengan tenaga ahli yang berpengalaman. Dengan bermodal pengetahuan dan jam terbang yang kami miliki. kami siap melayani kebutuhan masyarakat untuk perusahaan khususnya dalam pembuatan website untuk kemajuan usaha."}),rt(zo,{to:"/tentang-kami",className:"mt-6 text-sm sm:text-base w-max rounded-sm py-[10px] px-5 border border-cyan-600 flex items-center space-x-2 focus:outline-none",children:[X("span",{children:"Selengkapnya"}),X(qf,{})]})]}),rt("div",{className:"flex-shrink-0 mb-4 sm:mb-0 sm:space-y-4 flex items-center justify-evenly w-full sm:w-auto sm:block",children:[rt("div",{className:"text-center",children:[X("h2",{className:"text-4xl sm:text-5xl font-bold sm:font-extrabold",children:"47"}),X("p",{className:"sm:mt-2 text-xs sm:text-base",children:"Klien"})]}),rt("div",{className:"text-center",children:[X("h2",{className:"text-4xl sm:text-5xl font-bold sm:font-extrabold",children:"110"}),X("p",{className:" sm:mt-2 text-xs sm:text-base",children:"Proyek"})]})]})]})]})}var zT={exports:{}};(function(e,t){(function(s,u){e.exports=u($e.exports)})(Xy,function(s){var u="default"in s?s.default:s;/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0

	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.

	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,Q){S.__proto__=Q}||function(S,Q){for(var se in Q)Q.hasOwnProperty(se)&&(S[se]=Q[se])};function p(S,Q){h(S,Q);function se(){this.constructor=S}S.prototype=Q===null?Object.create(Q):(se.prototype=Q.prototype,new se)}var y=Object.assign||function(Q){for(var se,oe=1,he=arguments.length;oe<he;oe++){se=arguments[oe];for(var k in se)Object.prototype.hasOwnProperty.call(se,k)&&(Q[k]=se[k])}return Q};function a(S,Q){var se={};for(var oe in S)Object.prototype.hasOwnProperty.call(S,oe)&&Q.indexOf(oe)<0&&(se[oe]=S[oe]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,oe=Object.getOwnPropertySymbols(S);he<oe.length;he++)Q.indexOf(oe[he])<0&&(se[oe[he]]=S[oe[he]]);return se}(function(S,Q,se,oe){function he(k,D){this.settings=null,this.options=S.extend({},he.Defaults,D),this.$element=S(k),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},S.each(["onResize","onThrottledResize"],S.proxy(function(F,Y){this._handlers[Y]=S.proxy(this[Y],this)},this)),S.each(he.Plugins,S.proxy(function(F,Y){this._plugins[F.charAt(0).toLowerCase()+F.slice(1)]=new Y(this)},this)),S.each(he.Workers,S.proxy(function(F,Y){this._pipe.push({filter:Y.filter,run:S.proxy(Y.run,this)})},this)),this.setup(),this.initialize()}he.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:Q,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},he.Width={Default:"default",Inner:"inner",Outer:"outer"},he.Type={Event:"event",State:"state"},he.Plugins={},he.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(k){k.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(k){var D=this.settings.margin||"",F=!this.settings.autoWidth,Y=this.settings.rtl,xe={width:"auto","margin-left":Y?D:"","margin-right":Y?"":D};!F&&this.$stage.children().css(xe),k.css=xe}},{filter:["width","items","settings"],run:function(k){var D=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,F=null,Y=this._items.length,xe=!this.settings.autoWidth,E=[];for(k.items={merge:!1,width:D};Y--;)F=this._mergers[Y],F=this.settings.mergeFit&&Math.min(F,this.settings.items)||F,k.items.merge=F>1||k.items.merge,E[Y]=xe?D*F:this._items[Y].width();this._widths=E}},{filter:["items","settings"],run:function(){var k=[],D=this._items,F=this.settings,Y=Math.max(F.items*2,4),xe=Math.ceil(D.length/2)*2,E=F.loop&&D.length?F.rewind?Y:Math.max(Y,xe):0,Ne="",qe="";for(E/=2;E>0;)k.push(this.normalize(k.length/2,!0)),Ne=Ne+D[k[k.length-1]][0].outerHTML,k.push(this.normalize(D.length-1-(k.length-1)/2,!0)),qe=D[k[k.length-1]][0].outerHTML+qe,E-=1;this._clones=k,S(Ne).addClass("cloned").appendTo(this.$stage),S(qe).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var k=this.settings.rtl?1:-1,D=this._clones.length+this._items.length,F=-1,Y=0,xe=0,E=[];++F<D;)Y=E[F-1]||0,xe=this._widths[this.relative(F)]+this.settings.margin,E.push(Y+xe*k);this._coordinates=E}},{filter:["width","items","settings"],run:function(){var k=this.settings.stagePadding,D=this._coordinates,F={width:Math.ceil(Math.abs(D[D.length-1]))+k*2,"padding-left":k||"","padding-right":k||""};this.$stage.css(F)}},{filter:["width","items","settings"],run:function(k){var D=this._coordinates.length,F=!this.settings.autoWidth,Y=this.$stage.children();if(F&&k.items.merge)for(;D--;)k.css.width=this._widths[this.relative(D)],Y.eq(D).css(k.css);else F&&(k.css.width=k.items.width,Y.css(k.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(k){k.current=k.current?this.$stage.children().index(k.current):0,k.current=Math.max(this.minimum(),Math.min(this.maximum(),k.current)),this.reset(k.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var k=this.settings.rtl?1:-1,D=this.settings.stagePadding*2,F=this.coordinates(this.current())+D,Y=F+this.width()*k,xe,E,Ne=[],qe,wt;for(qe=0,wt=this._coordinates.length;qe<wt;qe++)xe=this._coordinates[qe-1]||0,E=Math.abs(this._coordinates[qe])+D*k,(this.op(xe,"<=",F)&&this.op(xe,">",Y)||this.op(E,"<",F)&&this.op(E,">",Y))&&Ne.push(qe);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+Ne.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],he.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),!this.$stage.length&&(this.$element.addClass(this.options.loadingClass),this.$stage=S("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(S("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},he.prototype.initializeItems=function(){var k=this.$element.find(".owl-item");if(k.length){this._items=k.get().map(function(D){return S(D)}),this._mergers=this._items.map(function(){return 1}),this.refresh();return}this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},he.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var k,D,F;k=this.$element.find("img"),D=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:oe,F=this.$element.children(D).width(),k.length&&F<=0&&this.preloadAutoWidthImages(k)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},he.prototype.isVisible=function(){return this.settings.checkVisibility?this.$element.is(":visible"):!0},he.prototype.setup=function(){var k=this.viewport(),D=this.options.responsive,F=-1,Y=null;D?(S.each(D,function(xe){xe<=k&&xe>F&&(F=Number(xe))}),Y=S.extend({},this.options,D[F]),typeof Y.stagePadding=="function"&&(Y.stagePadding=Y.stagePadding()),delete Y.responsive,Y.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+F))):Y=S.extend({},this.options),this.trigger("change",{property:{name:"settings",value:Y}}),this._breakpoint=F,this.settings=Y,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},he.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},he.prototype.prepare=function(k){var D=this.trigger("prepare",{content:k});return D.data||(D.data=S("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(k)),this.trigger("prepared",{content:D.data}),D.data},he.prototype.update=function(){for(var k=0,D=this._pipe.length,F=S.proxy(function(xe){return this[xe]},this._invalidated),Y={};k<D;)(this._invalidated.all||S.grep(this._pipe[k].filter,F).length>0)&&this._pipe[k].run(Y),k++;this._invalidated={},!this.is("valid")&&this.enter("valid")},he.prototype.width=function(k){switch(k=k||he.Width.Default,k){case he.Width.Inner:case he.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}},he.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},he.prototype.onThrottledResize=function(){Q.clearTimeout(this.resizeTimer),this.resizeTimer=Q.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},he.prototype.onResize=function(){if(!this._items.length||this._width===this.$element.width()||!this.isVisible())return!1;if(this.enter("resizing"),this.trigger("resize").isDefaultPrevented())return this.leave("resizing"),!1;this.invalidate("width"),this.refresh(),this.leave("resizing"),this.trigger("resized")},he.prototype.registerEventHandlers=function(){S.support.transition&&this.$stage.on(S.support.transition.end+".owl.core",S.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(Q,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",S.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",S.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",S.proxy(this.onDragEnd,this)))},he.prototype.onDragStart=function(k){var D=null;k.which!==3&&(S.support.transform?(D=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),D={x:D[D.length===16?12:4],y:D[D.length===16?13:5]}):(D=this.$stage.position(),D={x:this.settings.rtl?D.left+this.$stage.width()-this.width()+this.settings.margin:D.left,y:D.top}),this.is("animating")&&(S.support.transform?this.animate(D.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,k.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=S(k.target),this._drag.stage.start=D,this._drag.stage.current=D,this._drag.pointer=this.pointer(k),S(se).on("mouseup.owl.core touchend.owl.core",S.proxy(this.onDragEnd,this)),S(se).one("mousemove.owl.core touchmove.owl.core",S.proxy(function(F){var Y=this.difference(this._drag.pointer,this.pointer(F));S(se).on("mousemove.owl.core touchmove.owl.core",S.proxy(this.onDragMove,this)),!(Math.abs(Y.x)<Math.abs(Y.y)&&this.is("valid"))&&(F.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},he.prototype.onDragMove=function(k){var D=null,F=null,Y=null,xe=this.difference(this._drag.pointer,this.pointer(k)),E=this.difference(this._drag.stage.start,xe);!this.is("dragging")||(k.preventDefault(),this.settings.loop?(D=this.coordinates(this.minimum()),F=this.coordinates(this.maximum()+1)-D,E.x=((E.x-D)%F+F)%F+D):(D=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),F=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),Y=this.settings.pullDrag?-1*xe.x/5:0,E.x=Math.max(Math.min(E.x,D+Y),F+Y)),this._drag.stage.current=E,this.animate(E.x))},he.prototype.onDragEnd=function(k){var D=this.difference(this._drag.pointer,this.pointer(k)),F=this._drag.stage.current,Y=D.x>0^this.settings.rtl?"left":"right";S(se).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(D.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(F.x,D.x!==0?Y:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=Y,(Math.abs(D.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},he.prototype.closest=function(k,D){var F=-1,Y=30,xe=this.width(),E=this.coordinates();return this.settings.freeDrag||S.each(E,S.proxy(function(Ne,qe){return D==="left"&&k>qe-Y&&k<qe+Y?F=Ne:D==="right"&&k>qe-xe-Y&&k<qe-xe+Y?F=Ne+1:this.op(k,"<",qe)&&this.op(k,">",E[Ne+1]!==oe?E[Ne+1]:qe-xe)&&(F=D==="left"?Ne+1:Ne),F===-1},this)),this.settings.loop||(this.op(k,">",E[this.minimum()])?F=k=this.minimum():this.op(k,"<",E[this.maximum()])&&(F=k=this.maximum())),F},he.prototype.animate=function(k){var D=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),D&&(this.enter("animating"),this.trigger("translate")),S.support.transform3d&&S.support.transition?this.$stage.css({transform:"translate3d("+k+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):D?this.$stage.animate({left:k+"px"},this.speed(),this.settings.fallbackEasing,S.proxy(this.onTransitionEnd,this)):this.$stage.css({left:k+"px"})},he.prototype.is=function(k){return this._states.current[k]&&this._states.current[k]>0},he.prototype.current=function(k){if(k===oe)return this._current;if(this._items.length===0)return oe;if(k=this.normalize(k),this._current!==k){var D=this.trigger("change",{property:{name:"position",value:k}});D.data!==oe&&(k=this.normalize(D.data)),this._current=k,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},he.prototype.invalidate=function(k){return S.type(k)==="string"&&(this._invalidated[k]=!0,this.is("valid")&&this.leave("valid")),S.map(this._invalidated,function(D,F){return F})},he.prototype.reset=function(k){k=this.normalize(k),k!==oe&&(this._speed=0,this._current=k,this.suppress(["translate","translated"]),this.animate(this.coordinates(k)),this.release(["translate","translated"]))},he.prototype.normalize=function(k,D){var F=this._items.length,Y=D?0:this._clones.length;return!this.isNumeric(k)||F<1?k=oe:(k<0||k>=F+Y)&&(k=((k-Y/2)%F+F)%F+Y/2),k},he.prototype.relative=function(k){return k-=this._clones.length/2,this.normalize(k,!0)},he.prototype.maximum=function(k){var D=this.settings,F=this._coordinates.length,Y,xe,E;if(D.loop)F=this._clones.length/2+this._items.length-1;else if(D.autoWidth||D.merge){if(Y=this._items.length,Y)for(xe=this._items[--Y].width(),E=this.$element.width();Y--&&(xe+=this._items[Y].width()+this.settings.margin,!(xe>E)););F=Y+1}else D.center?F=this._items.length-1:F=this._items.length-D.items;return k&&(F-=this._clones.length/2),Math.max(F,0)},he.prototype.minimum=function(k){return k?0:this._clones.length/2},he.prototype.items=function(k){return k===oe?this._items.slice():(k=this.normalize(k,!0),this._items[k])},he.prototype.mergers=function(k){return k===oe?this._mergers.slice():(k=this.normalize(k,!0),this._mergers[k])},he.prototype.clones=function(k){var D=this._clones.length/2,F=D+this._items.length,Y=function(xe){return xe%2===0?F+xe/2:D-(xe+1)/2};return k===oe?S.map(this._clones,function(xe,E){return Y(E)}):S.map(this._clones,function(xe,E){return xe===k?Y(E):null})},he.prototype.speed=function(k){return k!==oe&&(this._speed=k),this._speed},he.prototype.coordinates=function(k){var D=1,F=k-1,Y;return k===oe?S.map(this._coordinates,S.proxy(function(xe,E){return this.coordinates(E)},this)):(this.settings.center?(this.settings.rtl&&(D=-1,F=k+1),Y=this._coordinates[k],Y+=(this.width()-Y+(this._coordinates[F]||0))/2*D):Y=this._coordinates[F]||0,Y=Math.ceil(Y),Y)},he.prototype.duration=function(k,D,F){return F===0?0:Math.min(Math.max(Math.abs(D-k),1),6)*Math.abs(F||this.settings.smartSpeed)},he.prototype.to=function(k,D){var F=this.current(),Y=null,xe=k-this.relative(F),E=(xe>0)-(xe<0),Ne=this._items.length,qe=this.minimum(),wt=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(xe)>Ne/2&&(xe+=E*-1*Ne),k=F+xe,Y=((k-qe)%Ne+Ne)%Ne+qe,Y!==k&&Y-xe<=wt&&Y-xe>0&&(F=Y-xe,k=Y,this.reset(F))):this.settings.rewind?(wt+=1,k=(k%wt+wt)%wt):k=Math.max(qe,Math.min(wt,k)),this.speed(this.duration(F,k,D)),this.current(k),this.isVisible()&&this.update()},he.prototype.next=function(k){k=k||!1,this.to(this.relative(this.current())+1,k)},he.prototype.prev=function(k){k=k||!1,this.to(this.relative(this.current())-1,k)},he.prototype.onTransitionEnd=function(k){if(k!==oe&&(k.stopPropagation(),(k.target||k.srcElement||k.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},he.prototype.viewport=function(){var k;return this.options.responsiveBaseElement!==Q?k=S(this.options.responsiveBaseElement).width():Q.innerWidth?k=Q.innerWidth:se.documentElement&&se.documentElement.clientWidth?k=se.documentElement.clientWidth:console.warn("Can not detect viewport width."),k},he.prototype.replace=function(k){this.$stage.empty(),this._items=[],k&&(k=k instanceof jQuery?k:S(k)),this.settings.nestedItemSelector&&(k=k.find("."+this.settings.nestedItemSelector)),k.filter(function(){return this.nodeType===1}).each(S.proxy(function(D,F){F=this.prepare(F),this.$stage.append(F),this._items.push(F),this._mergers.push(F.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},he.prototype.add=function(k,D){var F=this.relative(this._current);D=D===oe?this._items.length:this.normalize(D,!0),k=k instanceof jQuery?k:S(k),this.trigger("add",{content:k,position:D}),k=this.prepare(k),this._items.length===0||D===this._items.length?(this._items.length===0&&this.$stage.append(k),this._items.length!==0&&this._items[D-1].after(k),this._items.push(k),this._mergers.push(k.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)):(this._items[D].before(k),this._items.splice(D,0,k),this._mergers.splice(D,0,k.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)),this._items[F]&&this.reset(this._items[F].index()),this.invalidate("items"),this.trigger("added",{content:k,position:D})},he.prototype.remove=function(k){k=this.normalize(k,!0),k!==oe&&(this.trigger("remove",{content:this._items[k],position:k}),this._items[k].remove(),this._items.splice(k,1),this._mergers.splice(k,1),this.invalidate("items"),this.trigger("removed",{content:null,position:k}))},he.prototype.preloadAutoWidthImages=function(k){k.each(S.proxy(function(D,F){this.enter("pre-loading"),F=S(F),S(new Image).one("load",S.proxy(function(Y){F.attr("src",Y.target.src),F.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",F.attr("src")||F.attr("data-src")||F.attr("data-src-retina"))},this))},he.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),S(se).off(".owl.core"),this.settings.responsive!==!1&&(Q.clearTimeout(this.resizeTimer),this.off(Q,"resize",this._handlers.onThrottledResize));for(var k in this._plugins)this._plugins[k].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},he.prototype.op=function(k,D,F){var Y=this.settings.rtl;switch(D){case"<":return Y?k>F:k<F;case">":return Y?k<F:k>F;case">=":return Y?k<=F:k>=F;case"<=":return Y?k>=F:k<=F}},he.prototype.on=function(k,D,F,Y){k.addEventListener?k.addEventListener(D,F,Y):k.attachEvent&&k.attachEvent("on"+D,F)},he.prototype.off=function(k,D,F,Y){k.removeEventListener?k.removeEventListener(D,F,Y):k.detachEvent&&k.detachEvent("on"+D,F)},he.prototype.trigger=function(k,D,F,Y,xe){var E={item:{count:this._items.length,index:this.current()}},Ne=S.camelCase(S.grep(["on",k,F],function(wt){return wt}).join("-").toLowerCase()),qe=S.Event([k,"owl",F||"carousel"].join(".").toLowerCase(),S.extend({relatedTarget:this},E,D));return this._supress[k]||(S.each(this._plugins,function(wt,At){At.onTrigger&&At.onTrigger(qe)}),this.register({type:he.Type.Event,name:k}),this.$element.trigger(qe),this.settings&&typeof this.settings[Ne]=="function"&&this.settings[Ne].call(this,qe)),qe},he.prototype.enter=function(k){S.each([k].concat(this._states.tags[k]||[]),S.proxy(function(D,F){this._states.current[F]===oe&&(this._states.current[F]=0),this._states.current[F]++},this))},he.prototype.leave=function(k){S.each([k].concat(this._states.tags[k]||[]),S.proxy(function(D,F){this._states.current[F]--},this))},he.prototype.register=function(k){if(k.type===he.Type.Event){if(S.event.special[k.name]||(S.event.special[k.name]={}),!S.event.special[k.name].owl){var D=S.event.special[k.name]._default;S.event.special[k.name]._default=function(F){return D&&D.apply&&(!F.namespace||F.namespace.indexOf("owl")===-1)?D.apply(this,arguments):F.namespace&&F.namespace.indexOf("owl")>-1},S.event.special[k.name].owl=!0}}else k.type===he.Type.State&&(this._states.tags[k.name]?this._states.tags[k.name]=this._states.tags[k.name].concat(k.tags):this._states.tags[k.name]=k.tags,this._states.tags[k.name]=S.grep(this._states.tags[k.name],S.proxy(function(F,Y){return S.inArray(F,this._states.tags[k.name])===Y},this)))},he.prototype.suppress=function(k){S.each(k,S.proxy(function(D,F){this._supress[F]=!0},this))},he.prototype.release=function(k){S.each(k,S.proxy(function(D,F){delete this._supress[F]},this))},he.prototype.pointer=function(k){var D={x:null,y:null};return k=k.originalEvent||k||Q.event,k=k.touches&&k.touches.length?k.touches[0]:k.changedTouches&&k.changedTouches.length?k.changedTouches[0]:k,k.pageX?(D.x=k.pageX,D.y=k.pageY):(D.x=k.clientX,D.y=k.clientY),D},he.prototype.isNumeric=function(k){return!isNaN(parseFloat(k))},he.prototype.difference=function(k,D){return{x:k.x-D.x,y:k.y-D.y}},S.fn.owlCarousel=function(k){var D=Array.prototype.slice.call(arguments,1);return this.each(function(){var F=S(this),Y=F.data("owl.carousel");Y||(Y=new he(this,typeof k=="object"&&k),F.data("owl.carousel",Y),S.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(xe,E){Y.register({type:he.Type.Event,name:E}),Y.$element.on(E+".owl.carousel.core",S.proxy(function(Ne){Ne.namespace&&Ne.relatedTarget!==this&&(this.suppress([E]),Y[E].apply(this,[].slice.call(arguments,1)),this.release([E]))},Y))})),typeof k=="string"&&k.charAt(0)!=="_"&&Y[k].apply(Y,D)})},S.fn.owlCarousel.Constructor=he})(window.Zepto||window.jQuery,window,document),function(S,Q,se,oe){var he=function(k){this._core=k,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":S.proxy(function(D){D.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=S.extend({},he.Defaults,this._core.options),this._core.$element.on(this._handlers)};he.Defaults={autoRefresh:!0,autoRefreshInterval:500},he.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=Q.setInterval(S.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},he.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},he.prototype.destroy=function(){var k,D;Q.clearInterval(this._interval);for(k in this._handlers)this._core.$element.off(k,this._handlers[k]);for(D in Object.getOwnPropertyNames(this))typeof this[D]!="function"&&(this[D]=null)},S.fn.owlCarousel.Constructor.Plugins.AutoRefresh=he}(window.Zepto||window.jQuery,window),function(S,Q,se,oe){var he=function(k){this._core=k,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":S.proxy(function(D){if(!!D.namespace&&!(!this._core.settings||!this._core.settings.lazyLoad)&&(D.property&&D.property.name=="position"||D.type=="initialized")){var F=this._core.settings,Y=F.center&&Math.ceil(F.items/2)||F.items,xe=F.center&&Y*-1||0,E=(D.property&&D.property.value!==oe?D.property.value:this._core.current())+xe,Ne=this._core.clones().length,qe=S.proxy(function(wt,At){this.load(At)},this);for(F.lazyLoadEager>0&&(Y+=F.lazyLoadEager,F.loop&&(E-=F.lazyLoadEager,Y++));xe++<Y;)this.load(Ne/2+this._core.relative(E)),Ne&&S.each(this._core.clones(this._core.relative(E)),qe),E++}},this)},this._core.options=S.extend({},he.Defaults,this._core.options),this._core.$element.on(this._handlers)};he.Defaults={lazyLoad:!1,lazyLoadEager:0},he.prototype.load=function(k){var D=this._core.$stage.children().eq(k),F=D&&D.find(".owl-lazy");!F||S.inArray(D.get(0),this._loaded)>-1||(F.each(S.proxy(function(Y,xe){var E=S(xe),Ne,qe=Q.devicePixelRatio>1&&E.attr("data-src-retina")||E.attr("data-src")||E.attr("data-srcset");this._core.trigger("load",{element:E,url:qe},"lazy"),E.is("img")?E.one("load.owl.lazy",S.proxy(function(){E.css("opacity",1),this._core.trigger("loaded",{element:E,url:qe},"lazy")},this)).attr("src",qe):E.is("source")?E.one("load.owl.lazy",S.proxy(function(){this._core.trigger("loaded",{element:E,url:qe},"lazy")},this)).attr("srcset",qe):(Ne=new Image,Ne.onload=S.proxy(function(){E.css({"background-image":'url("'+qe+'")',opacity:"1"}),this._core.trigger("loaded",{element:E,url:qe},"lazy")},this),Ne.src=qe)},this)),this._loaded.push(D.get(0)))},he.prototype.destroy=function(){var k,D;for(k in this.handlers)this._core.$element.off(k,this.handlers[k]);for(D in Object.getOwnPropertyNames(this))typeof this[D]!="function"&&(this[D]=null)},S.fn.owlCarousel.Constructor.Plugins.Lazy=he}(window.Zepto||window.jQuery,window),function(S,Q,se,oe){var he=function(k){this._core=k,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":S.proxy(function(F){F.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":S.proxy(function(F){F.namespace&&this._core.settings.autoHeight&&F.property.name==="position"&&this.update()},this),"loaded.owl.lazy":S.proxy(function(F){F.namespace&&this._core.settings.autoHeight&&F.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=S.extend({},he.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var D=this;S(Q).on("load",function(){D._core.settings.autoHeight&&D.update()}),S(Q).resize(function(){D._core.settings.autoHeight&&(D._intervalId!=null&&clearTimeout(D._intervalId),D._intervalId=setTimeout(function(){D.update()},250))})};he.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},he.prototype.update=function(){var k=this._core._current,D=k+this._core.settings.items,F=this._core.settings.lazyLoad,Y=this._core.$stage.children().toArray().slice(k,D),xe=[],E=0;S.each(Y,function(Ne,qe){xe.push(S(qe).height())}),E=Math.max.apply(null,xe),E<=1&&F&&this._previousHeight&&(E=this._previousHeight),this._previousHeight=E,this._core.$stage.parent().height(E).addClass(this._core.settings.autoHeightClass)},he.prototype.destroy=function(){var k,D;for(k in this._handlers)this._core.$element.off(k,this._handlers[k]);for(D in Object.getOwnPropertyNames(this))typeof this[D]!="function"&&(this[D]=null)},S.fn.owlCarousel.Constructor.Plugins.AutoHeight=he}(window.Zepto||window.jQuery,window),function(S,Q,se,oe){var he=function(k){this._core=k,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":S.proxy(function(D){D.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":S.proxy(function(D){D.namespace&&this._core.settings.video&&this.isInFullScreen()&&D.preventDefault()},this),"refreshed.owl.carousel":S.proxy(function(D){D.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":S.proxy(function(D){D.namespace&&D.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":S.proxy(function(D){if(!!D.namespace){var F=S(D.content).find(".owl-video");F.length&&(F.css("display","none"),this.fetch(F,S(D.content)))}},this)},this._core.options=S.extend({},he.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",S.proxy(function(D){this.play(D)},this))};he.Defaults={video:!1,videoHeight:!1,videoWidth:!1},he.prototype.fetch=function(k,D){var F=function(){return k.attr("data-vimeo-id")?"vimeo":k.attr("data-vzaar-id")?"vzaar":"youtube"}(),Y=k.attr("data-vimeo-id")||k.attr("data-youtube-id")||k.attr("data-vzaar-id"),xe=k.attr("data-width")||this._core.settings.videoWidth,E=k.attr("data-height")||this._core.settings.videoHeight,Ne=k.attr("href");if(Ne){if(Y=Ne.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),Y[3].indexOf("youtu")>-1)F="youtube";else if(Y[3].indexOf("vimeo")>-1)F="vimeo";else if(Y[3].indexOf("vzaar")>-1)F="vzaar";else throw new Error("Video URL not supported.");Y=Y[6]}else throw new Error("Missing video URL.");this._videos[Ne]={type:F,id:Y,width:xe,height:E},D.attr("data-video",Ne),this.thumbnail(k,this._videos[Ne])},he.prototype.thumbnail=function(k,D){var F,Y,xe,E=D.width&&D.height?"width:"+D.width+"px;height:"+D.height+"px;":"",Ne=k.find("img"),qe="src",wt="",At=this._core.settings,_i=function(ui){Y='<div class="owl-video-play-icon"></div>',At.lazyLoad?F=S("<div/>",{class:"owl-video-tn "+wt,srcType:ui}):F=S("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+ui+")"}),k.after(F),k.after(Y)};if(k.wrap(S("<div/>",{class:"owl-video-wrapper",style:E})),this._core.settings.lazyLoad&&(qe="data-src",wt="owl-lazy"),Ne.length)return _i(Ne.attr(qe)),Ne.remove(),!1;D.type==="youtube"?(xe="//img.youtube.com/vi/"+D.id+"/hqdefault.jpg",_i(xe)):D.type==="vimeo"?S.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+D.id+".json",jsonp:"callback",dataType:"jsonp",success:function(ui){xe=ui[0].thumbnail_large,_i(xe)}}):D.type==="vzaar"&&S.ajax({type:"GET",url:"//vzaar.com/api/videos/"+D.id+".json",jsonp:"callback",dataType:"jsonp",success:function(ui){xe=ui.framegrab_url,_i(xe)}})},he.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},he.prototype.play=function(k){var D=S(k.target),F=D.closest("."+this._core.settings.itemClass),Y=this._videos[F.attr("data-video")],xe=Y.width||"100%",E=Y.height||this._core.$stage.height(),Ne;this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),F=this._core.items(this._core.relative(F.index())),this._core.reset(F.index()),Ne=S('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),Ne.attr("height",E),Ne.attr("width",xe),Y.type==="youtube"?Ne.attr("src","//www.youtube.com/embed/"+Y.id+"?autoplay=1&rel=0&v="+Y.id):Y.type==="vimeo"?Ne.attr("src","//player.vimeo.com/video/"+Y.id+"?autoplay=1"):Y.type==="vzaar"&&Ne.attr("src","//view.vzaar.com/"+Y.id+"/player?autoplay=true"),S(Ne).wrap('<div class="owl-video-frame" />').insertAfter(F.find(".owl-video")),this._playing=F.addClass("owl-video-playing"))},he.prototype.isInFullScreen=function(){var k=se.fullscreenElement||se.mozFullScreenElement||se.webkitFullscreenElement;return k&&S(k).parent().hasClass("owl-video-frame")},he.prototype.destroy=function(){var k,D;this._core.$element.off("click.owl.video");for(k in this._handlers)this._core.$element.off(k,this._handlers[k]);for(D in Object.getOwnPropertyNames(this))typeof this[D]!="function"&&(this[D]=null)},S.fn.owlCarousel.Constructor.Plugins.Video=he}(window.Zepto||window.jQuery,window,document),function(S,Q,se,oe){var he=function(k){this.core=k,this.core.options=S.extend({},he.Defaults,this.core.options),this.swapping=!0,this.previous=oe,this.next=oe,this.handlers={"change.owl.carousel":S.proxy(function(D){D.namespace&&D.property.name=="position"&&(this.previous=this.core.current(),this.next=D.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":S.proxy(function(D){D.namespace&&(this.swapping=D.type=="translated")},this),"translate.owl.carousel":S.proxy(function(D){D.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};he.Defaults={animateOut:!1,animateIn:!1},he.prototype.swap=function(){if(this.core.settings.items===1&&!(!S.support.animation||!S.support.transition)){this.core.speed(0);var k,D=S.proxy(this.clear,this),F=this.core.$stage.children().eq(this.previous),Y=this.core.$stage.children().eq(this.next),xe=this.core.settings.animateIn,E=this.core.settings.animateOut;this.core.current()!==this.previous&&(E&&(k=this.core.coordinates(this.previous)-this.core.coordinates(this.next),F.one(S.support.animation.end,D).css({left:k+"px"}).addClass("animated owl-animated-out").addClass(E)),xe&&Y.one(S.support.animation.end,D).addClass("animated owl-animated-in").addClass(xe))}},he.prototype.clear=function(k){S(k.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},he.prototype.destroy=function(){var k,D;for(k in this.handlers)this.core.$element.off(k,this.handlers[k]);for(D in Object.getOwnPropertyNames(this))typeof this[D]!="function"&&(this[D]=null)},S.fn.owlCarousel.Constructor.Plugins.Animate=he}(window.Zepto||window.jQuery),function(S,Q,se,oe){var he=function(k){this._core=k,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":S.proxy(function(D){D.namespace&&D.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():D.namespace&&D.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":S.proxy(function(D){D.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":S.proxy(function(D,F,Y){D.namespace&&this.play(F,Y)},this),"stop.owl.autoplay":S.proxy(function(D){D.namespace&&this.stop()},this),"mouseover.owl.autoplay":S.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":S.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":S.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":S.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=S.extend({},he.Defaults,this._core.options)};he.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},he.prototype._next=function(k){this._call=Q.setTimeout(S.proxy(this._next,this,k),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),!(this._core.is("interacting")||se.hidden)&&this._core.next(k||this._core.settings.autoplaySpeed)},he.prototype.read=function(){return new Date().getTime()-this._time},he.prototype.play=function(k,D){var F;this._core.is("rotating")||this._core.enter("rotating"),k=k||this._core.settings.autoplayTimeout,F=Math.min(this._time%(this._timeout||k),k),this._paused?(this._time=this.read(),this._paused=!1):Q.clearTimeout(this._call),this._time+=this.read()%k-F,this._timeout=k,this._call=Q.setTimeout(S.proxy(this._next,this,D),k-F)},he.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,Q.clearTimeout(this._call),this._core.leave("rotating"))},he.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,Q.clearTimeout(this._call))},he.prototype.destroy=function(){var k,D;this.stop();for(k in this._handlers)this._core.$element.off(k,this._handlers[k]);for(D in Object.getOwnPropertyNames(this))typeof this[D]!="function"&&(this[D]=null)},S.fn.owlCarousel.Constructor.Plugins.autoplay=he}(window.Zepto||window.jQuery,window,document),function(S,Q,se,oe){var he=function(k){this._core=k,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":S.proxy(function(D){D.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+S(D.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":S.proxy(function(D){D.namespace&&this._core.settings.dotsData&&this._templates.splice(D.position,0,this._templates.pop())},this),"remove.owl.carousel":S.proxy(function(D){D.namespace&&this._core.settings.dotsData&&this._templates.splice(D.position,1)},this),"changed.owl.carousel":S.proxy(function(D){D.namespace&&D.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":S.proxy(function(D){D.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":S.proxy(function(D){D.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=S.extend({},he.Defaults,this._core.options),this.$element.on(this._handlers)};he.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},he.prototype.initialize=function(){var k,D=this._core.settings;this._controls.$relative=(D.navContainer?S(D.navContainer):S("<div>").addClass(D.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=S("<"+D.navElement+">").addClass(D.navClass[0]).html(D.navText[0]).prependTo(this._controls.$relative).on("click",S.proxy(function(F){this.prev(D.navSpeed)},this)),this._controls.$next=S("<"+D.navElement+">").addClass(D.navClass[1]).html(D.navText[1]).appendTo(this._controls.$relative).on("click",S.proxy(function(F){this.next(D.navSpeed)},this)),D.dotsData||(this._templates=[S('<button role="button">').addClass(D.dotClass).append(S("<span>")).prop("outerHTML")]),this._controls.$absolute=(D.dotsContainer?S(D.dotsContainer):S("<div>").addClass(D.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",S.proxy(function(F){var Y=S(F.target).parent().is(this._controls.$absolute)?S(F.target).index():S(F.target).parent().index();F.preventDefault(),this.to(Y,D.dotsSpeed)},this));for(k in this._overrides)this._core[k]=S.proxy(this[k],this)},he.prototype.destroy=function(){var k,D,F,Y,xe;xe=this._core.settings;for(k in this._handlers)this.$element.off(k,this._handlers[k]);for(D in this._controls)D==="$relative"&&xe.navContainer?this._controls[D].html(""):this._controls[D].remove();for(Y in this.overides)this._core[Y]=this._overrides[Y];for(F in Object.getOwnPropertyNames(this))typeof this[F]!="function"&&(this[F]=null)},he.prototype.update=function(){var k,D,F=this._core.clones().length/2,Y=F+this._core.items().length,xe=this._core.maximum(!0),E=this._core.settings,Ne=E.center||E.autoWidth||E.dotsData?1:E.dotsEach||E.items;if(E.slideBy!=="page"&&(E.slideBy=Math.min(E.slideBy,E.items)),E.dots||E.slideBy=="page")for(this._pages=[],k=F,D=0,0;k<Y;k++){if(D>=Ne||D===0){if(this._pages.push({start:Math.min(xe,k-F),end:k-F+Ne-1}),Math.min(xe,k-F)===xe)break;D=0}D+=this._core.mergers(this._core.relative(k))}},he.prototype.draw=function(){var k,D=this._core.settings,F=this._core.items().length<=D.items,Y=this._core.relative(this._core.current()),xe=D.loop||D.rewind;this._controls.$relative.toggleClass("disabled",!D.nav||F),D.nav&&(this._controls.$previous.toggleClass("disabled",!xe&&Y<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!xe&&Y>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!D.dots||F),D.dots&&(k=this._pages.length-this._controls.$absolute.children().length,D.dotsData&&k!==0?this._controls.$absolute.html(this._templates.join("")):k>0?this._controls.$absolute.append(new Array(k+1).join(this._templates[0])):k<0&&this._controls.$absolute.children().slice(k).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(S.inArray(this.current(),this._pages)).addClass("active"))},he.prototype.onTrigger=function(k){var D=this._core.settings;k.page={index:S.inArray(this.current(),this._pages),count:this._pages.length,size:D&&(D.center||D.autoWidth||D.dotsData?1:D.dotsEach||D.items)}},he.prototype.current=function(){var k=this._core.relative(this._core.current());return S.grep(this._pages,S.proxy(function(D,F){return D.start<=k&&D.end>=k},this)).pop()},he.prototype.getPosition=function(k){var D,F,Y=this._core.settings;return Y.slideBy=="page"?(D=S.inArray(this.current(),this._pages),F=this._pages.length,k?++D:--D,D=this._pages[(D%F+F)%F].start):(D=this._core.relative(this._core.current()),F=this._core.items().length,k?D+=Y.slideBy:D-=Y.slideBy),D},he.prototype.next=function(k){S.proxy(this._overrides.to,this._core)(this.getPosition(!0),k)},he.prototype.prev=function(k){S.proxy(this._overrides.to,this._core)(this.getPosition(!1),k)},he.prototype.to=function(k,D,F){var Y;!F&&this._pages.length?(Y=this._pages.length,S.proxy(this._overrides.to,this._core)(this._pages[(k%Y+Y)%Y].start,D)):S.proxy(this._overrides.to,this._core)(k,D)},S.fn.owlCarousel.Constructor.Plugins.Navigation=he}(window.Zepto||window.jQuery),function(S,Q,se,oe){var he=function(k){this._core=k,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":S.proxy(function(D){D.namespace&&this._core.settings.startPosition==="URLHash"&&S(Q).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":S.proxy(function(D){if(D.namespace){var F=S(D.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!F)return;this._hashes[F]=D.content}},this),"changed.owl.carousel":S.proxy(function(D){if(D.namespace&&D.property.name==="position"){var F=this._core.items(this._core.relative(this._core.current())),Y=S.map(this._hashes,function(xe,E){return xe===F?E:null}).join();if(!Y||Q.location.hash.slice(1)===Y)return;Q.location.hash=Y}},this)},this._core.options=S.extend({},he.Defaults,this._core.options),this.$element.on(this._handlers),S(Q).on("hashchange.owl.navigation",S.proxy(function(D){var F=Q.location.hash.substring(1),Y=this._core.$stage.children(),xe=this._hashes[F]&&Y.index(this._hashes[F]);xe===oe||xe===this._core.current()||this._core.to(this._core.relative(xe),!1,!0)},this))};he.Defaults={URLhashListener:!1},he.prototype.destroy=function(){var k,D;S(Q).off("hashchange.owl.navigation");for(k in this._handlers)this._core.$element.off(k,this._handlers[k]);for(D in Object.getOwnPropertyNames(this))typeof this[D]!="function"&&(this[D]=null)},S.fn.owlCarousel.Constructor.Plugins.Hash=he}(window.Zepto||window.jQuery,window),function(S,Q,se,oe){var he=S("<support>").get(0).style,k="Webkit Moz O ms".split(" "),D={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},F={csstransforms:function(){return!!Y("transform")},csstransforms3d:function(){return!!Y("perspective")},csstransitions:function(){return!!Y("transition")},cssanimations:function(){return!!Y("animation")}};function Y(E,Ne){var qe=!1,wt=E.charAt(0).toUpperCase()+E.slice(1);return S.each((E+" "+k.join(wt+" ")+wt).split(" "),function(At,_i){if(he[_i]!==oe)return qe=Ne?_i:!0,!1}),qe}function xe(E){return Y(E,!0)}F.csstransitions()&&(S.support.transition=new String(xe("transition")),S.support.transition.end=D.transition.end[S.support.transition]),F.cssanimations()&&(S.support.animation=new String(xe("animation")),S.support.animation.end=D.animation.end[S.support.animation]),F.csstransforms()&&(S.support.transform=new String(xe("transform")),S.support.transform3d=F.csstransforms3d())}(window.Zepto||window.jQuery);var T=window.jQuery,z=function(S){p(Q,S);function Q(se){var oe=S.call(this,se)||this;oe.containerRef=function(F){oe.container=F};var he=j(oe.props),k=he[0],D=he[1];return oe.options=k,oe.propsWithoutOptions=D,oe}return Q.prototype.componentDidMount=function(){this.$ele=T(this.container),this.create()},Q.prototype.UNSAFE_componentWillReceiveProps=function(){this.destory()},Q.prototype.componentDidUpdate=function(){var se=j(this.props),oe=se[0],he=se[1];this.options=oe,this.propsWithoutOptions=he,this.create()},Q.prototype.next=function(se){if(!this.$ele)throw new Error("OwlCarousel is not created");typeof se=="number"?this.$ele.trigger("next.owl.carousel",[se]):this.$ele.trigger("next.owl.carousel",se)},Q.prototype.prev=function(se){if(!this.$ele)throw new Error("OwlCarousel is not created");typeof se=="number"?this.$ele.trigger("prev.owl.carousel",[se]):this.$ele.trigger("prev.owl.carousel",se)},Q.prototype.to=function(se,oe){if(!this.$ele)throw new Error("OwlCarousel is not created");typeof se=="number"&&typeof oe=="number"?this.$ele.trigger("to.owl.carousel",[se,oe]):this.$ele.trigger("to.owl.carousel")},Q.prototype.create=function(se){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.owlCarousel(se||this.options)},Q.prototype.destory=function(){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.trigger("destroy.owl.carousel")},Q.prototype.play=function(se,oe){if(!this.$ele)throw new Error("OwlCarousel is not created");typeof se=="number"&&typeof oe=="number"?this.$ele.trigger("play.owl.autoplay",[se,oe]):this.$ele.trigger("play.owl.autoplay")},Q.prototype.stop=function(){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.trigger("stop.owl.autoplay")},Q.prototype.render=function(){var se=this.propsWithoutOptions,oe=se.className,he=a(se,["className"]);return u.createElement("div",y({className:"owl-carousel "+oe,ref:this.containerRef},he))},Q}(s.Component),O=new Set(["items","margin","loop","center","mouseDrag","touchDrag","pullDrag","freeDrag","stagePadding","merge","mergeFit","autoWidth","startPosition","URLhashListener","nav","rewind","navText","navElement","slideBy","dots","dotsEach","dotData","lazyLoad","lazyContent","autoplay","autoplayTimeout","autoplayHoverPause","smartSpeed","fluidSpeed","autoplaySpeed","navSpeed","dotsSpeed","dragEndSpeed","callbacks","responsive","responsiveRefreshRate","responsiveBaseElement","video","videoHeight","videoWidth","animateOut","animateIn","fallbackEasing","info","nestedItemSelector","itemElement","stageElement","navContainer","dotsContainer","refreshClass","loadingClass","loadedClass","rtlClass","dragClass","grabClass","stageClass","stageOuterClass","navContainerClass","navClass","controlsClass","dotClass","dotsClass","autoHeightClass","responsiveClass","onInitialize","onInitialized","onResize","onResized","onRefresh","onRefreshed","onDrag","onDragged","onTranslate","onTranslated","onChange","onChanged","onLoadLazy","onLoadedLazy","onStopVideo","onPlayVideo"]);function j(S){var Q={},se={};return Object.keys(S).forEach(function(oe){O.has(oe)?Q[oe]=S[oe]:se[oe]=S[oe]}),[Q,se]}return z})})(zT);const DT=zT.exports,gR={0:{items:1},400:{items:1},550:{items:2},800:{items:3}};function yR(){return rt("div",{className:"services box-container",children:[rt("div",{className:"text-center",children:[X("div",{className:"relative w-max mx-auto",children:X("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Layanan Kami"})}),X("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Mau membuat website apa? Duos Dev Solusi Lengkap dalam pembuatan website untuk perusahaan atau perorangan, dengan tampilan yang responsive, serta layanan marketing untuk website anda."})]}),X("div",{className:"max-w-5xl mx-auto mt-8",children:X(DT,{className:"owl-theme",responsive:gR,margin:20,dots:!1,stageOuterClass:"owl-stage",navContainerClass:"mt-7 text-center",navClass:["px-2 text-lg py-1 cursor-pointer text-gray-200 border rounded-sm mx-1 sm:mx-2 border-cyan-600","px-2 text-lg py-1 cursor-pointer text-gray-200 border rounded-sm mx-1 sm:mx-2 border-cyan-600"],nav:!0,navElement:!0,children:UD.map(e=>rt("div",{className:"item snap-center relative flex-none h-[226px] border border-cyan-600 rounded-sm",children:[X("div",{className:"absolute -left-2 -top-2 w-full  h-[226px] rounded-sm",children:X("img",{src:e.photo,alt:e.title,className:"w-full h-full object-cover rounded-sm"})}),X("div",{className:"absolute z-10 bottom-4 left-2",children:X("h5",{className:"text-gray-200 text-xs sm:text-sm",children:e.title})}),X("span",{className:"block absolute bg-gradient-to-t from-slate-900 to-transparent -left-2 -top-2 w-full  h-[226px] rounded-sm"})]},e.id))})})]})}const vR="/assets/big-centered.a3d2f747.png",_R="/assets/small-right.9fd2a5f9.png";function xR(){return rt("div",{className:"quotes relative box-container sm:max-w-5xl sm:mx-auto -space-y-12 sm:-space-y-16",children:[rt("div",{className:"relative",children:[X("div",{className:"translate-x-4 sm:translate-x-16 shadow",children:X("img",{src:vR,alt:"big-centered",className:"w-[90%] sm:w-[80%] rounded-sm"})}),X("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 shadow",children:X("img",{src:_R,alt:"big-centered",className:"w-[100px] sm:w-[250px] rounded-sm"})})]}),rt("div",{className:"max-w-2xl relative",children:[rt("h1",{className:"text-2xl sm:text-6xl font-bold text-gray-200",children:["Proses Cepat ",X("br",{})," Dan Hasil Berkualitas"]}),X("p",{className:"text-xs sm:text-base mt-2 sm:mt-4 text-gray-400",children:"Proses pembuatan website yang cepat dengan menggunakan teknologi dan framework terupdate yang banyak digunakan di seluruh dunia dapatkan website dengan harga yang realistis dan terjangkau."})]}),X("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px]",children:X("img",{src:Jf,alt:"sep-line"})})]})}function $y({id:e=1,title:t,link:s,photo:u,className:h=""}){return rt(Mc.div,{layout:!0,className:"project",children:[X("div",{className:"image-container",children:X("img",{src:u,alt:"proyek",className:"rounded-sm w-full"})}),rt("div",{className:`content-container ${h}`,children:[rt("div",{className:"mt-4",children:[X("h3",{className:"text-base font-bold text-gray-300",children:t}),X("p",{className:"text-xs text-gray-400 mt-2",children:s})]}),rt("div",{className:"mt-6 grid grid-cols-2 gap-6",children:[X("a",{href:"",className:"py-2 px-4 text-gray-300 text-xs tracking-wide border border-cyan-600 rounded-sm text-center",children:"Kunjungi Website"}),X(zo,{to:`/proyek/${e}`,className:"py-2 px-4 text-gray-300 text-xs tracking-wide border border-cyan-600 rounded-sm text-center",children:"Lihat Detail"})]})]})]})}function wR(){const[e,t]=$e.exports.useState(1),[s,u]=$e.exports.useState(Tf),h=(p,y)=>{t(p),u(Tf.filter(a=>a.category==y))};return rt("div",{className:"project box-container max-w-5xl mx-auto",children:[X("div",{className:"text-center",children:X("div",{className:"relative w-max mx-auto",children:X("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Hasil Proyek"})})}),X("div",{className:"flex items-center space-x-6 justify-between mt-8 sm:mt-12 border-b border-b-slate-700 sm:px-4 scrollbar-none overflow-x-auto text-gray-300",children:GD.map(p=>rt("button",{className:"block py-3 h-full focus:outline-none text-xs sm:text-sm sm:px-4 relative flex-none ",onClick:()=>h(p.id,p.value),children:[p.title,p.id==e&&X(Mc.span,{layoutId:"underline",className:"block absolute left-0 bottom-0 w-full h-[2px] bg-cyan-600"})]},p.id))}),X(Mc.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-8 sm:gap-y-6 gap-x-6 mt-6 sm:mt-9",children:X(AD,{children:s.filter((p,y)=>y<3).map(p=>X($y,{id:p.id,title:p.title,link:p.link,photo:p.photo},p.id))})}),X("div",{className:"flex items-center justify-center mt-12",children:rt(zo,{to:"/proyek",className:"py-2 px-4 text-gray-300 text-xs tracking-wide border border-cyan-600 rounded-sm text-center flex items-center space-x-2",children:[X("span",{children:"Lihat Proyek Lain"}),X(qf,{})]})})]})}const bR="/assets/profil.51f5f77d.jpg",SR={0:{items:1}};function Tp(){return X("div",{className:"item relative max-w-xl rounded-md mx-auto",children:rt("div",{className:"text-center",children:[X("div",{className:" bg-gray-200 p-[1px] w-[68px] rounded-full shadow-lg mx-auto mb-4",children:X("img",{src:bR,alt:"profil",className:"w-full object-cover rounded-full brightness-90"})}),X("h4",{className:"text-gray-300 font-semibold",children:"Muhammad Badrun"}),X("p",{className:"text-gray-400 text-sm",children:"Programmer"}),X("div",{className:"flex w-[14px] sm:w-[20px] justify-start mt-4",children:X("img",{src:"/twoquotes.svg",alt:"twoquotes",className:"w-full ml-1"})}),X("p",{className:"text-gray-300/90 text-xs sm:text-base mt-2",children:"Website yang dibuat responnya sangat cepat karna menggunakan server VPS KMV, sangat di rekomendasikan untuk website yang ingin di iklan kan di Google, karena kecepatan website sangat mempengaruhi peringkat teratas pencarian di Google, Terimakasih Duos Dev. Sekses Selalu"})]})})}function TR(){return rt("div",{className:"testimoni box-container",children:[X("div",{className:"text-center",children:X("div",{className:"relative w-max mx-auto",children:X("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Testimoni Dari Klien"})})}),X("div",{className:"max-w-5xl mx-auto flex justify-center mt-10",children:rt(DT,{className:"owl-theme",responsive:SR,margin:20,dots:!0,stageOuterClass:"mb-8",children:[X(Tp,{}),X(Tp,{}),X(Tp,{}),X(Tp,{})]})})]})}const Cw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADGSURBVHgB5ZRhDcJADIVbDDAJ54BJQAIOkIAGFCwnAQVIYA6YA+aAOTh6WS95XAYZ3fFrX9J11yyv7b1kFEJoQjkajk8qyCY7DxItLQHGfUo4rblgBCfsmLmPL5p7MoCCNUxYS3JkYMqULoqTkVzwrLmSONG49kVrO23ktWn85iBxfFPEC4VaMuUGtb1ERRlSu34y5fsqzK3EkO4Z8HiYLajT3CU9cPLYyCSoziezJtf/SZBGE5DtUsFZrFDw7//DIoKeyuFfROr9sQx0jZ8AAAAASUVORK5CYII=",CR="/assets/dendi.91332da7.png",AR="/assets/badrun.fc172edf.png",ER=[{id:1,name:"Dendi",title:"Founder",photo:CR,social:[{id:1,icon:Cw,link:"/"},{id:2,icon:Gy,link:"/"},{id:3,icon:Wy,link:"/"}]},{id:2,name:"Badrun",title:"CO-Founder",photo:AR,social:[{id:1,icon:Cw,link:"/"},{id:2,icon:Gy,link:"/"},{id:3,icon:Wy,link:"/"}]}];function LT(){return rt(sd,{children:[X("div",{className:"text-center",children:X("div",{className:"relative w-max mx-auto",children:X("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Tim Kami"})})}),rt("div",{className:"relative pb-16 mx-auto max-w-xl grid grid-cols-1 sm:grid-cols-2 space-y-8 sm:space-y-0 mt-8 sm:mt-10",children:[ER.map(e=>rt("div",{className:"flex items-center flex-col justify-center",children:[X("div",{className:"w-[220px] shadow rounded-sm",children:X("img",{src:e.photo,alt:"profil",className:"grayscale rounded-sm object-cover"})}),rt("div",{className:"text-center mt-4",children:[X("h5",{className:"text-gray-200 font-semibold",children:e.name}),X("p",{className:"text-gray-400 text-sm mt-1",children:e.title}),X("ul",{className:"flex items-center justify-center space-x-3 text-gray-200 mt-4",children:e.social.map(t=>X("li",{children:X("a",{href:"#",className:"block",children:X("img",{src:t.icon,alt:"social-media",className:`${t.id==1?"w-[18px]":"w-[20px]"}`})})},t.id))})]})]},e.id)),X("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px]",children:X("img",{src:Jf,alt:"sep-line"})})]})]})}function kR(){return rt("div",{className:"our-team box-container",children:[X(LT,{}),rt("div",{className:"max-w-xl mx-auto mt-20 relative",children:[X("div",{className:"-top-6 left-1 sm:-top-8 sm:-left-6 absolute",children:X("img",{src:"/twoquotes.svg",alt:"twoquotes",className:"w-[14px] sm:w-[20px]"})}),X("p",{className:"text-gray-200 text-xs sm:text-base italic",children:"Dengan kondisi tim yang muda siap berkarya, handal dan berpengalaman, kami siap sedia untuk membangun negeri menjadi lebih baik dan go-digital. Menyasar sektor bidang pasar secara menyeluruh."})]})]})}const PR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADDCAYAAABDNXs2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF8SURBVHgBXVNBTgMxDLQnKUWqAIlv8Ep+xh+QeAYSSBXqbmIzTtLstpfp2OOM7TQr7q54/5CE10/C95HgF8nQJwFkIVv+zgkP6ZSQQbU0WAn5kZCCLXnJSEUToAwlH4DVCnOVYdWcoGCooaqHs2uGRQghdBZgccJbnWyMziI1w1suQFX3JeKWg4WdyAD+wMyYbGzkPFS9MgsGMgsWJbYJ3cOG1aYiDKwL82zeXCzqEHWmN323HvDOIHd9ZRq0Rn2C0S0WGXU2B+8rtNw2lfSbGM2bX8yHODaaz7XurORm1V3JXPA6qfSLaM1tK2nOzaUN1Pe49rBgY7R5TVuP3ncazL9R5h7SLsWu09vuDtp8ZS4j+wUNO7+hOpysCjXVSnCCEFwTn7la5WONXKgWghiB766ihqDOEomwCRrMoCWeI108cTrUgmKgmmrUISCcU2PM8fOoWKzQuX1exlAOmYKthEI4l0tFPr4UrGU1HE4H1l1+WffzTHj7qrGQ/AMDrfOEzo1pFgAAAABJRU5ErkJggg==";function IR(){return rt("div",{className:"title box-container max-w-5xl mx-auto",children:[X("div",{className:"text-center",children:X("div",{className:"relative w-max mx-auto",children:X("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Kenapa Menggunakan Jasa Duos Dev?"})})}),X("div",{className:"px-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mt-8 sm:mt-16 space-y-6 sm:space-y-0",children:jD.map(e=>rt("div",{className:"bg-slate-800 shadow sm:shadow-none rounded-sm sm:bg-transparent py-8 md:py-0 relative title px-4 text-center",children:[rt("div",{className:"text-gray-300 text-sm sm:text-sm font-bold space-y-4 sm:space-y-2 flex justify-center flex-col items-center",children:[X("div",{children:X("img",{src:e.icon,alt:e.title,className:"w-[28px] md:w-[25px]"})}),X("h4",{children:e.title})]}),X("p",{className:"px-6 sm:px-0 text-xs sm:text-[13px] mt-2 text-gray-400 tracking-wide",children:e.desc}),e.id<4&&X("div",{className:"hidden md:block absolute right-0 top-1/2 -translate-y-1/2",children:X("img",{src:PR,alt:"line"})})]},e.id))})]})}const Aw=[{id:1,question:"Apakah sekali bayar atau ada perpanjangan",type:"desc",answers:[{id:1,answer:"Ada biaya perpanjangan per tahun, biaya perpanjangan per tahun cek daftar harga"}]},{id:2,question:"Proses pembayaranya bagaimana?",type:"desc",answers:[{id:1,answer:"Pembayaran bisa melalui bank transfer BRI atau pembayaran otomatis virtual account atau ORIS melalui checkout pemesanan."},{id:2,answer:"Pembayaran bisa minimum DP 50% di awal, setelah website selesai baru 50%. bisa juga di bayar langsung lunas melalui checkout. Silahkan hubungi customur service kami jika ingin DP 50%."}]},{id:3,question:"Berapa lama proses pengerjaanya?",type:"desc",answers:[{id:1,answer:"Estimasi pengerjaanya website perusahaan mulai dari 1 minggu. tergantung dari kesiapan data yang diberikan oleh klien."}]},{id:4,question:"Bagaimana prosedur pembuatan websitenya?",type:"list",answers:[{id:1,answer:"Silahkan klik tombol Pesan Sekarang di daftar harga, Plush dengan service kami untuk melakukan pemesanan sesuai paket"},{id:2,answer:"Lakukan pembayaran, minimum DP 50% atau langsung lunas, jika sudah transfer harap konfirmasi pembayaran"},{id:3,answer:"Setelah itu kami buatkan group Whatsapp khusus untuk memudahkan selama pembuatan website dan selama free maintenance 1"},{id:4,answer:"Proses pengerjaan"},{id:5,answer:"Proses intput data website dan penyelesain fitur website sesuai paket"},{id:6,answer:"Setelah selesai, akan dibuatkan pelunasan pembayaran invoice 50% (jika tidak bayar lunas di awal)"},{id:7,answer:"Proses maintenance 1 tahun"}]},{id:5,question:"Apa saja data yang perlu dipersiapkan?",type:"list",answers:[{id:1,answer:"Logo usaha / bisnis"},{id:2,answer:"Profil Usaha"},{id:3,answer:"Layanan usaha yang dijual"},{id:4,answer:"Detail produk jika ada, berupa nama produk, deskripsi, harga dan produk"},{id:5,answer:"Alamat usaha / bisnis"},{id:6,answer:"Kontak telepone, email dan whatsapp jika ada"},{id:7,answer:"Link sosial media jika ada"},{id:8,answer:"Portofolio berupa gambar jika ada"},{id:9,answer:"Testimoni dari customer jika ada"},{id:10,answer:"Link google maps jika ada"}]},{id:6,question:"Apa saja maintenance yang diberikan?",type:"list",answers:[{id:1,answer:"Perbaikan website atau server ketika terjadi error"},{id:2,answer:"Backup website"},{id:3,answer:"Input atau update isi konten website (maksimal 5 page sehari)"},{id:4,answer:"Security & Pencegahan dari Hacker & Malwer"}]}];function bc({className:e="w-6 h-6"}){return X("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:X("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}function MR({question:e="",active:t=!1,handleClick:s,index:u}){return rt("button",{onClick:()=>s(u),className:"flex items-center justify-between focus:outline-none w-full",children:[rt("div",{className:"flex items-center space-x-2",children:[X(MT,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400"}),X("h6",{className:"text-gray-300 text-xs sm:text-base",children:e})]}),X(dT.div,{initial:{rotate:180},animate:{rotate:t?0:180},transition:{type:"tween"},children:X(bc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400"})})]})}function zR(){const[e,t]=$e.exports.useState(Array(Aw.length).fill(!1).map((u,h)=>h==0)),s=u=>{t(e.map((h,p)=>p==u?!h:h))};return rt("div",{className:"faq max-w-5xl mx-auto box-container",children:[rt("div",{className:"text-center max-w-2xl mx-auto",children:[X("div",{className:"relative w-max mx-auto",children:X("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"FAQ"})}),X("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Ini adalah pertanyaan yang sering di tanyakan kepada kami"})]}),X("div",{className:"mt-8 sm:mt-12",children:Aw.map((u,h)=>rt("div",{className:`pb-4 border-b border-b-slate-500 overflow-hidden ${u.id!=1&&"mt-6 sm:mt-8"}`,children:[X(MR,{question:u.question,active:e[h],handleClick:s,index:h}),X(mT,{children:e[h]&&X(dT.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},transition:{type:"tween"},children:u.type=="desc"?u.answers.map(p=>X("p",{className:"text-gray-400 text-xs sm:text-sm max-w-4xl px-4 py-4",children:p.answer},p.id)):X("ul",{className:"text-gray-400 text-xs sm:text-sm mt-4 px-4 list-decimal",children:u.answers.map(p=>X("li",{children:p.answer},p.id))})})})]},u.id))})]})}function DR(){return X("div",{className:"bg-box",children:X("div",{className:"bg-linear overflow-hidden",children:rt(Po,{children:[X(mR,{}),X(yR,{}),X(xR,{}),X(IR,{}),X(TR,{}),X(wR,{}),X(kR,{}),X(zR,{})]})})})}function LR(){return rt(Bc,{children:[X(Yk,{}),X(DR,{})]})}function fd({y:e="bottom-0"}){return X("div",{className:`absolute ${e} left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px]`,children:X("img",{src:Jf,alt:"sep-line"})})}function RR(){return X(Bc,{children:rt("div",{className:"max-w-5xl mx-auto mt-16",children:[X(Po,{children:rt("div",{className:"relative py-8 sm:py-12",children:[X("h1",{className:"text-xl md:text-3xl font-bold text-gray-200",children:"Proyek"}),rt("ul",{className:"flex items-center space-x-1 text-xs mt-1 text-gray-300",children:[X("li",{className:"text-gray-400",children:X(zo,{to:"/",children:"Home"})}),X("li",{children:X(bc,{className:"w-4 h-4 rotate-90"})}),X("li",{children:X(zo,{to:"/proyek",children:"Proyek"})})]}),X(fd,{})]})}),X(Po,{className:"sm:container",children:rt("div",{className:"py-8 sm:py-12 relative",children:[rt("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-8 sm:gap-y-6 gap-x-6 mt-6 sm:mt-9",children:[Tf.map(e=>X($y,{id:e.id,title:e.title,link:e.link,photo:e.photo,className:"px-4"},e.id)),Tf.map(e=>X($y,{id:e.id,title:e.title,link:e.link,photo:e.photo,className:"px-4"},e.id))]}),X("div",{className:"flex item-center justify-center mt-24 sm:mt-32",children:rt("ul",{className:"text-gray-300 flex items-center space-x-2",children:[X("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm border border-cyan-600",children:X(bc,{className:"w-5 h-5 -rotate-90"})}),X("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm border border-cyan-600",children:"1"}),X("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm bg-blue-600",children:"2"}),X("li",{className:"text-gray-400",children:"..."}),X("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm border border-cyan-600",children:"4"}),X("li",{className:"h-[30px] px-[10px] text-xs sm:text-sm flex items-center justify-center rounded-sm border border-cyan-600",children:X(bc,{className:"w-5 h-5 rotate-90"})})]})}),X(fd,{})]})})]})})}var RT={exports:{}};(function(e,t){(function(s,u){e.exports=u()})(Xy,function(){var s,u,h;function p(a,T){if(!s)s=T;else if(!u)u=T;else{var z="var sharedChunk = {}; ("+s+")(sharedChunk); ("+u+")(sharedChunk);",O={};s(O),h=T(O),typeof window<"u"&&(h.workerUrl=window.URL.createObjectURL(new Blob([z],{type:"text/javascript"})))}}p(["exports"],function(a){var T=z;function z(r,i,o,c){this.cx=3*r,this.bx=3*(o-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(c-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=i,this.p2x=o,this.p2y=c}function O(r,i,o,c){const m=new T(r,i,o,c);return function(_){return m.solve(_)}}z.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,i){if(i===void 0&&(i=1e-6),r<0)return 0;if(r>1)return 1;for(var o=r,c=0;c<8;c++){var m=this.sampleCurveX(o)-r;if(Math.abs(m)<i)return o;var _=this.sampleCurveDerivativeX(o);if(Math.abs(_)<1e-6)break;o-=m/_}var w=0,A=1;for(o=r,c=0;c<20&&(m=this.sampleCurveX(o),!(Math.abs(m-r)<i));c++)r>m?w=o:A=o,o=.5*(A-w)+w;return o},solve:function(r,i){return this.sampleCurveY(this.solveCurveX(r,i))}};const j=O(.25,.1,.25,1);function S(r,i,o){return Math.min(o,Math.max(i,r))}function Q(r,i,o){const c=o-i,m=((r-i)%c+c)%c+i;return m===i?o:m}function se(r,...i){for(const o of i)for(const c in o)r[c]=o[c];return r}let oe=1;function he(r,i){r.forEach(o=>{i[o]&&(i[o]=i[o].bind(i))})}function k(r,i,o){const c={};for(const m in r)c[m]=i.call(o||this,r[m],m,r);return c}function D(r,i,o){const c={};for(const m in r)i.call(o||this,r[m],m,r)&&(c[m]=r[m]);return c}function F(r){return Array.isArray(r)?r.map(F):typeof r=="object"&&r?k(r,F):r}const Y={};function xe(r){Y[r]||(typeof console<"u"&&console.warn(r),Y[r]=!0)}function E(r,i,o){return(o.y-r.y)*(i.x-r.x)>(i.y-r.y)*(o.x-r.x)}function Ne(r){let i=0;for(let o,c,m=0,_=r.length,w=_-1;m<_;w=m++)o=r[m],c=r[w],i+=(c.x-o.x)*(o.y+c.y);return i}function qe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function wt(r){const i={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,c,m,_)=>{const w=m||_;return i[c]=!w||w.toLowerCase(),""}),i["max-age"]){const o=parseInt(i["max-age"],10);isNaN(o)?delete i["max-age"]:i["max-age"]=o}return i}let At,_i,ui=null;function Tn(r){if(ui==null){const i=r.navigator?r.navigator.userAgent:null;ui=!!r.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return ui}function Di(r){return typeof ImageBitmap<"u"&&r instanceof ImageBitmap}const sn={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(r){const i=requestAnimationFrame(r);return{cancel:()=>cancelAnimationFrame(i)}},getImageData(r,i=0){const o=window.document.createElement("canvas"),c=o.getContext("2d");if(!c)throw new Error("failed to create canvas 2d context");return o.width=r.width,o.height=r.height,c.drawImage(r,0,0,r.width,r.height),c.getImageData(-i,-i,r.width+2*i,r.height+2*i)},resolveURL:r=>(At||(At=document.createElement("a")),At.href=r,At.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(_i==null&&(_i=matchMedia("(prefers-reduced-motion: reduce)")),_i.matches)}};var Tt=un;function un(r,i){this.x=r,this.y=i}un.prototype={clone:function(){return new un(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,i){return this.clone()._rotateAround(r,i)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var i=r.x-this.x,o=r.y-this.y;return i*i+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,i){return Math.atan2(this.x*i-this.y*r,this.x*r+this.y*i)},_matMult:function(r){var i=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=i,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var i=Math.cos(r),o=Math.sin(r),c=o*this.x+i*this.y;return this.x=i*this.x-o*this.y,this.y=c,this},_rotateAround:function(r,i){var o=Math.cos(r),c=Math.sin(r),m=i.y+c*(this.x-i.x)+o*(this.y-i.y);return this.x=i.x+o*(this.x-i.x)-c*(this.y-i.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},un.convert=function(r){return r instanceof un?r:Array.isArray(r)?new un(r[0],r[1]):r};const He={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},at="mapbox-tiles";let dt,Ot,ri=500,si=50;function Ti(){typeof caches>"u"||dt||(dt=caches.open(at))}let ci=1/0;const gi={supported:!1,testSupport:function(r){!Bi&&cn&&(kr?fs(r):Ui=r)}};let Ui,cn,Bi=!1,kr=!1;function fs(r){const i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,cn),r.isContextLost())return;gi.supported=!0}catch{}r.deleteTexture(i),Bi=!0}typeof document<"u"&&(cn=document.createElement("img"),cn.onload=function(){Ui&&fs(Ui),Ui=null,kr=!0},cn.onerror=function(){Bi=!0,Ui=null},cn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Pr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Pr);class on extends Error{constructor(i,o,c,m){super(`AJAXError: ${o} (${i}): ${c}`),this.status=i,this.statusText=o,this.url=c,this.body=m}}const Nn=qe()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function hn(r,i){const o=new AbortController,c=new Request(r.url,{method:r.method||"GET",body:r.body,credentials:r.credentials,headers:r.headers,referrer:Nn(),signal:o.signal});let m=!1,_=!1;return r.type==="json"&&c.headers.set("Accept","application/json"),((w,A,I)=>{if(_)return;const B=Date.now();fetch(c).then(U=>U.ok?((G,K,te)=>{(r.type==="arrayBuffer"?G.arrayBuffer():r.type==="json"?G.json():G.text()).then(ie=>{_||(K&&te&&function(ye,me,Me){if(Ti(),!dt)return;const Ve={status:me.status,statusText:me.statusText,headers:new Headers};me.headers.forEach((Be,tt)=>Ve.headers.set(tt,Be));const ke=wt(me.headers.get("Cache-Control")||"");ke["no-store"]||(ke["max-age"]&&Ve.headers.set("Expires",new Date(Me+1e3*ke["max-age"]).toUTCString()),new Date(Ve.headers.get("Expires")).getTime()-Me<42e4||function(Be,tt){if(Ot===void 0)try{new Response(new ReadableStream),Ot=!0}catch{Ot=!1}Ot?tt(Be.body):Be.blob().then(tt)}(me,Be=>{const tt=new Response(Be,Ve);Ti(),dt&&dt.then(et=>et.put(function(Pt){const Dt=Pt.indexOf("?");return Dt<0?Pt:Pt.slice(0,Dt)}(ye.url),tt)).catch(et=>xe(et.message))}))}(c,K,te),m=!0,i(null,ie,G.headers.get("Cache-Control"),G.headers.get("Expires")))}).catch(ie=>{_||i(new Error(ie.message))})})(U,null,B):U.blob().then(G=>i(new on(U.status,U.statusText,r.url,G)))).catch(U=>{U.code!==20&&i(new Error(U.message))})})(),{cancel:()=>{_=!0,m||o.abort()}}}const Lt=function(r,i){if(/:\/\//.test(r.url)&&!/^https?:|^file:/.test(r.url)){if(qe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,i);if(!qe()){const c=r.url.substring(0,r.url.indexOf("://"));return(He.REGISTERED_PROTOCOLS[c]||hn)(r,i)}}if(!(/^file:/.test(o=r.url)||/^file:/.test(Nn())&&!/^\w+:/.test(o))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return hn(r,i);if(qe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,i,void 0,!0)}var o;return function(c,m){const _=new XMLHttpRequest;_.open(c.method||"GET",c.url,!0),c.type==="arrayBuffer"&&(_.responseType="arraybuffer");for(const w in c.headers)_.setRequestHeader(w,c.headers[w]);return c.type==="json"&&(_.responseType="text",_.setRequestHeader("Accept","application/json")),_.withCredentials=c.credentials==="include",_.onerror=()=>{m(new Error(_.statusText))},_.onload=()=>{if((_.status>=200&&_.status<300||_.status===0)&&_.response!==null){let w=_.response;if(c.type==="json")try{w=JSON.parse(_.response)}catch(A){return m(A)}m(null,w,_.getResponseHeader("Cache-Control"),_.getResponseHeader("Expires"))}else{const w=new Blob([_.response],{type:_.getResponseHeader("Content-Type")});m(new on(_.status,_.statusText,c.url,w))}},_.send(c.body),{cancel:()=>_.abort()}}(r,i)},mn=function(r,i){return Lt(se(r,{type:"arrayBuffer"}),i)};function st(r){const i=window.document.createElement("a");return i.href=r,i.protocol===window.document.location.protocol&&i.host===window.document.location.host}const Je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let pt,Mt;pt=[],Mt=0;const Yt=function(r,i){if(gi.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),Mt>=He.MAX_PARALLEL_IMAGE_REQUESTS){const _={requestParameters:r,callback:i,cancelled:!1,cancel(){this.cancelled=!0}};return pt.push(_),_}Mt++;let o=!1;const c=()=>{if(!o)for(o=!0,Mt--;pt.length&&Mt<He.MAX_PARALLEL_IMAGE_REQUESTS;){const _=pt.shift(),{requestParameters:w,callback:A,cancelled:I}=_;I||(_.cancel=Yt(w,A).cancel)}},m=mn(r,(_,w,A,I)=>{c(),_?i(_):w&&function(B,U){typeof createImageBitmap=="function"?function(G,K){const te=new Blob([new Uint8Array(G)],{type:"image/png"});createImageBitmap(te).then(ie=>{K(null,ie)}).catch(ie=>{K(new Error(`Could not load image because of ${ie.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(B,U):function(G,K){const te=new Image;te.onload=()=>{K(null,te),URL.revokeObjectURL(te.src),te.onload=null,window.requestAnimationFrame(()=>{te.src=Je})},te.onerror=()=>K(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const ie=new Blob([new Uint8Array(G)],{type:"image/png"});te.src=G.byteLength?URL.createObjectURL(ie):Je}(B,U)}(w,(B,U)=>{B!=null?i(B):U!=null&&i(null,U,{cacheControl:A,expires:I})})});return{cancel:()=>{m.cancel(),c()}}};function yi(r,i,o){o[r]&&o[r].indexOf(i)!==-1||(o[r]=o[r]||[],o[r].push(i))}function oi(r,i,o){if(o&&o[r]){const c=o[r].indexOf(i);c!==-1&&o[r].splice(c,1)}}class di{constructor(i,o={}){se(this,o),this.type=i}}class bi extends di{constructor(i,o={}){super("error",se({error:i},o))}}class ki{on(i,o){return this._listeners=this._listeners||{},yi(i,o,this._listeners),this}off(i,o){return oi(i,o,this._listeners),oi(i,o,this._oneTimeListeners),this}once(i,o){return this._oneTimeListeners=this._oneTimeListeners||{},yi(i,o,this._oneTimeListeners),this}fire(i,o){typeof i=="string"&&(i=new di(i,o||{}));const c=i.type;if(this.listens(c)){i.target=this;const m=this._listeners&&this._listeners[c]?this._listeners[c].slice():[];for(const A of m)A.call(this,i);const _=this._oneTimeListeners&&this._oneTimeListeners[c]?this._oneTimeListeners[c].slice():[];for(const A of _)oi(c,A,this._oneTimeListeners),A.call(this,i);const w=this._eventedParent;w&&(se(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),w.fire(i))}else i instanceof bi&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,o){return this._eventedParent=i,this._eventedParentData=o,this}}var Le={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class ct{constructor(i,o,c,m){this.message=(i?`${i}: `:"")+c,m&&(this.identifier=m),o!=null&&o.__line__&&(this.line=o.__line__)}}function Hn(r){const i=r.value;return i?[new ct(r.key,i,"constants have been deprecated as of v8")]:[]}function dn(r,...i){for(const o of i)for(const c in o)r[c]=o[c];return r}function it(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function Ft(r){if(Array.isArray(r))return r.map(Ft);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const i={};for(const o in r)i[o]=Ft(r[o]);return i}return it(r)}class hi extends Error{constructor(i,o){super(o),this.message=o,this.key=i}}class Si{constructor(i,o=[]){this.parent=i,this.bindings={};for(const[c,m]of o)this.bindings[c]=m}concat(i){return new Si(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const Qt={kind:"null"},Ke={kind:"number"},Ut={kind:"string"},Vt={kind:"boolean"},Hi={kind:"color"},Cn={kind:"object"},Bt={kind:"value"},_n={kind:"collator"},vi={kind:"formatted"},rr={kind:"padding"},gn={kind:"resolvedImage"};function zn(r,i){return{kind:"array",itemType:r,N:i}}function Zi(r){if(r.kind==="array"){const i=Zi(r.itemType);return typeof r.N=="number"?`array<${i}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${i}>`}return r.kind}const Do=[Qt,Ke,Ut,Vt,Hi,vi,Cn,zn(Bt),rr,gn];function ms(r,i){if(i.kind==="error")return null;if(r.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!ms(r.itemType,i.itemType))&&(typeof r.N!="number"||r.N===i.N))return null}else{if(r.kind===i.kind)return null;if(r.kind==="value"){for(const o of Do)if(!ms(o,i))return null}}return`Expected ${Zi(r)} but found ${Zi(i)} instead.`}function Us(r,i){return i.some(o=>o.kind===r.kind)}function oo(r,i){return i.some(o=>o==="null"?r===null:o==="array"?Array.isArray(r):o==="object"?r&&!Array.isArray(r)&&typeof r=="object":o===typeof r)}var Lo,js={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ue(r){return(r=Math.round(r))<0?0:r>255?255:r}function V(r){return ue(r[r.length-1]==="%"?parseFloat(r)/100*255:parseInt(r))}function H(r){return(i=r[r.length-1]==="%"?parseFloat(r)/100:parseFloat(r))<0?0:i>1?1:i;var i}function re(r,i,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?r+(i-r)*o*6:2*o<1?i:3*o<2?r+(i-r)*(2/3-o)*6:r}try{Lo={}.parseCSSColor=function(r){var i,o=r.replace(/ /g,"").toLowerCase();if(o in js)return js[o].slice();if(o[0]==="#")return o.length===4?(i=parseInt(o.substr(1),16))>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null:o.length===7&&(i=parseInt(o.substr(1),16))>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null;var c=o.indexOf("("),m=o.indexOf(")");if(c!==-1&&m+1===o.length){var _=o.substr(0,c),w=o.substr(c+1,m-(c+1)).split(","),A=1;switch(_){case"rgba":if(w.length!==4)return null;A=H(w.pop());case"rgb":return w.length!==3?null:[V(w[0]),V(w[1]),V(w[2]),A];case"hsla":if(w.length!==4)return null;A=H(w.pop());case"hsl":if(w.length!==3)return null;var I=(parseFloat(w[0])%360+360)%360/360,B=H(w[1]),U=H(w[2]),G=U<=.5?U*(B+1):U+B-U*B,K=2*U-G;return[ue(255*re(K,G,I+1/3)),ue(255*re(K,G,I)),ue(255*re(K,G,I-1/3)),A];default:return null}}return null}}catch{}class ae{constructor(i,o,c,m=1){this.r=i,this.g=o,this.b=c,this.a=m}static parse(i){if(!i)return;if(i instanceof ae)return i;if(typeof i!="string")return;const o=Lo(i);return o?new ae(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[i,o,c,m]=this.toArray();return`rgba(${Math.round(i)},${Math.round(o)},${Math.round(c)},${m})`}toArray(){const{r:i,g:o,b:c,a:m}=this;return m===0?[0,0,0,0]:[255*i/m,255*o/m,255*c/m,m]}}ae.black=new ae(0,0,0,1),ae.white=new ae(1,1,1,1),ae.transparent=new ae(0,0,0,0),ae.red=new ae(1,0,0,1);class ge{constructor(i,o,c){this.sensitivity=i?o?"variant":"case":o?"accent":"base",this.locale=c,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,o){return this.collator.compare(i,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Te{constructor(i,o,c,m,_){this.text=i,this.image=o,this.scale=c,this.fontStack=m,this.textColor=_}}class we{constructor(i){this.sections=i}static fromString(i){return new we([new Te(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof we?i:we.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}}class ve{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof ve)return i;if(typeof i=="number")return new ve([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const o of i)if(typeof o!="number")return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new ve(i)}}toString(){return JSON.stringify(this.values)}}class Ce{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new Ce({name:i,available:!1}):null}}function Ue(r,i,o,c){return typeof r=="number"&&r>=0&&r<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof o=="number"&&o>=0&&o<=255?c===void 0||typeof c=="number"&&c>=0&&c<=1?null:`Invalid rgba value [${[r,i,o,c].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof c=="number"?[r,i,o,c]:[r,i,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ot(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof ae||r instanceof ge||r instanceof we||r instanceof ve||r instanceof Ce)return!0;if(Array.isArray(r)){for(const i of r)if(!ot(i))return!1;return!0}if(typeof r=="object"){for(const i in r)if(!ot(r[i]))return!1;return!0}return!1}function je(r){if(r===null)return Qt;if(typeof r=="string")return Ut;if(typeof r=="boolean")return Vt;if(typeof r=="number")return Ke;if(r instanceof ae)return Hi;if(r instanceof ge)return _n;if(r instanceof we)return vi;if(r instanceof ve)return rr;if(r instanceof Ce)return gn;if(Array.isArray(r)){const i=r.length;let o;for(const c of r){const m=je(c);if(o){if(o===m)continue;o=Bt;break}o=m}return zn(o||Bt,i)}return Cn}function It(r){const i=typeof r;return r===null?"":i==="string"||i==="number"||i==="boolean"?String(r):r instanceof ae||r instanceof we||r instanceof ve||r instanceof Ce?r.toString():JSON.stringify(r)}class zt{constructor(i,o){this.type=i,this.value=o}static parse(i,o){if(i.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!ot(i[1]))return o.error("invalid value");const c=i[1];let m=je(c);const _=o.expectedType;return m.kind!=="array"||m.N!==0||!_||_.kind!=="array"||typeof _.N=="number"&&_.N!==0||(m=_),new zt(m,c)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class xt{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const Gt={string:Ut,number:Ke,boolean:Vt,object:Cn};class Jt{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");let c,m=1;const _=i[0];if(_==="array"){let A,I;if(i.length>2){const B=i[1];if(typeof B!="string"||!(B in Gt)||B==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);A=Gt[B],m++}else A=Bt;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return o.error('The length argument to "array" must be a positive integer literal',2);I=i[2],m++}c=zn(A,I)}else{if(!Gt[_])throw new Error(`Types doesn't contain name = ${_}`);c=Gt[_]}const w=[];for(;m<i.length;m++){const A=o.parse(i[m],m,Bt);if(!A)return null;w.push(A)}return new Jt(c,w)}evaluate(i){for(let o=0;o<this.args.length;o++){const c=this.args[o].evaluate(i);if(!ms(this.type,je(c)))return c;if(o===this.args.length-1)throw new xt(`Expected value to be of type ${Zi(this.type)}, but found ${Zi(je(c))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const Li={"to-boolean":Vt,"to-color":Hi,"to-number":Ke,"to-string":Ut};class ii{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const c=i[0];if(!Li[c])throw new Error(`Can't parse ${c} as it is not part of the known types`);if((c==="to-boolean"||c==="to-string")&&i.length!==2)return o.error("Expected one argument.");const m=Li[c],_=[];for(let w=1;w<i.length;w++){const A=o.parse(i[w],w,Bt);if(!A)return null;_.push(A)}return new ii(m,_)}evaluate(i){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(i));if(this.type.kind==="color"){let o,c;for(const m of this.args){if(o=m.evaluate(i),c=null,o instanceof ae)return o;if(typeof o=="string"){const _=i.parseColor(o);if(_)return _}else if(Array.isArray(o)&&(c=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:Ue(o[0],o[1],o[2],o[3]),!c))return new ae(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new xt(c||`Could not parse color from value '${typeof o=="string"?o:JSON.stringify(o)}'`)}if(this.type.kind==="padding"){let o;for(const c of this.args){o=c.evaluate(i);const m=ve.parse(o);if(m)return m}throw new xt(`Could not parse padding from value '${typeof o=="string"?o:JSON.stringify(o)}'`)}if(this.type.kind==="number"){let o=null;for(const c of this.args){if(o=c.evaluate(i),o===null)return 0;const m=Number(o);if(!isNaN(m))return m}throw new xt(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?we.fromString(It(this.args[0].evaluate(i))):this.type.kind==="resolvedImage"?Ce.fromString(It(this.args[0].evaluate(i))):It(this.args[0].evaluate(i))}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const mi=["Unknown","Point","LineString","Polygon"];class Pi{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?mi[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let o=this._parseColorCache[i];return o||(o=this._parseColorCache[i]=ae.parse(i)),o}}class $i{constructor(i,o,c,m){this.name=i,this.type=o,this._evaluate=c,this.args=m}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,o){const c=i[0],m=$i.definitions[c];if(!m)return o.error(`Unknown expression "${c}". If you wanted a literal array, use ["literal", [...]].`,0);const _=Array.isArray(m)?m[0]:m.type,w=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,A=w.filter(([B])=>!Array.isArray(B)||B.length===i.length-1);let I=null;for(const[B,U]of A){I=new gs(o.registry,o.path,null,o.scope);const G=[];let K=!1;for(let te=1;te<i.length;te++){const ie=i[te],ye=Array.isArray(B)?B[te-1]:B.type,me=I.parse(ie,1+G.length,ye);if(!me){K=!0;break}G.push(me)}if(!K)if(Array.isArray(B)&&B.length!==G.length)I.error(`Expected ${B.length} arguments, but found ${G.length} instead.`);else{for(let te=0;te<G.length;te++){const ie=Array.isArray(B)?B[te]:B.type,ye=G[te];I.concat(te+1).checkSubtype(ie,ye.type)}if(I.errors.length===0)return new $i(c,_,U,G)}}if(A.length===1)o.errors.push(...I.errors);else{const B=(A.length?A:w).map(([G])=>{return K=G,Array.isArray(K)?`(${K.map(Zi).join(", ")})`:`(${Zi(K.type)}...)`;var K}).join(" | "),U=[];for(let G=1;G<i.length;G++){const K=o.parse(i[G],1+U.length);if(!K)return null;U.push(Zi(K.type))}o.error(`Expected arguments of type ${B}, but found (${U.join(", ")}) instead.`)}return null}static register(i,o){$i.definitions=o;for(const c in o)i[c]=$i}}class Gi{constructor(i,o,c){this.type=_n,this.locale=c,this.caseSensitive=i,this.diacriticSensitive=o}static parse(i,o){if(i.length!==2)return o.error("Expected one argument.");const c=i[1];if(typeof c!="object"||Array.isArray(c))return o.error("Collator options argument must be an object.");const m=o.parse(c["case-sensitive"]!==void 0&&c["case-sensitive"],1,Vt);if(!m)return null;const _=o.parse(c["diacritic-sensitive"]!==void 0&&c["diacritic-sensitive"],1,Vt);if(!_)return null;let w=null;return c.locale&&(w=o.parse(c.locale,1,Ut),!w)?null:new Gi(m,_,w)}evaluate(i){return new ge(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}const Xi=8192;function On(r,i){r[0]=Math.min(r[0],i[0]),r[1]=Math.min(r[1],i[1]),r[2]=Math.max(r[2],i[0]),r[3]=Math.max(r[3],i[1])}function Ro(r,i){return!(r[0]<=i[0]||r[2]>=i[2]||r[1]<=i[1]||r[3]>=i[3])}function sa(r,i){const o=(180+r[0])/360,c=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,m=Math.pow(2,i.z);return[Math.round(o*m*Xi),Math.round(c*m*Xi)]}function Wi(r,i,o){const c=r[0]-i[0],m=r[1]-i[1],_=r[0]-o[0],w=r[1]-o[1];return c*w-_*m==0&&c*_<=0&&m*w<=0}function Za(r,i){let o=!1;for(let w=0,A=i.length;w<A;w++){const I=i[w];for(let B=0,U=I.length;B<U-1;B++){if(Wi(r,I[B],I[B+1]))return!1;(m=I[B])[1]>(c=r)[1]!=(_=I[B+1])[1]>c[1]&&c[0]<(_[0]-m[0])*(c[1]-m[1])/(_[1]-m[1])+m[0]&&(o=!o)}}var c,m,_;return o}function Bo(r,i){for(let o=0;o<i.length;o++)if(Za(r,i[o]))return!0;return!1}function Ol(r,i,o,c){const m=c[0]-o[0],_=c[1]-o[1],w=(r[0]-o[0])*_-m*(r[1]-o[1]),A=(i[0]-o[0])*_-m*(i[1]-o[1]);return w>0&&A<0||w<0&&A>0}function ku(r,i,o){for(const B of o)for(let U=0;U<B.length-1;++U)if((A=[(w=B[U+1])[0]-(_=B[U])[0],w[1]-_[1]])[0]*(I=[(m=i)[0]-(c=r)[0],m[1]-c[1]])[1]-A[1]*I[0]!=0&&Ol(c,m,_,w)&&Ol(_,w,c,m))return!0;var c,m,_,w,A,I;return!1}function Fl(r,i){for(let o=0;o<r.length;++o)if(!Za(r[o],i))return!1;for(let o=0;o<r.length-1;++o)if(ku(r[o],r[o+1],i))return!1;return!0}function ts(r,i){for(let o=0;o<i.length;o++)if(Fl(r,i[o]))return!0;return!1}function oa(r,i,o){const c=[];for(let m=0;m<r.length;m++){const _=[];for(let w=0;w<r[m].length;w++){const A=sa(r[m][w],o);On(i,A),_.push(A)}c.push(_)}return c}function ao(r,i,o){const c=[];for(let m=0;m<r.length;m++){const _=oa(r[m],i,o);c.push(_)}return c}function Pu(r,i,o,c){if(r[0]<o[0]||r[0]>o[2]){const m=.5*c;let _=r[0]-o[0]>m?-c:o[0]-r[0]>m?c:0;_===0&&(_=r[0]-o[2]>m?-c:o[2]-r[0]>m?c:0),r[0]+=_}On(i,r)}function Iu(r,i,o,c){const m=Math.pow(2,c.z)*Xi,_=[c.x*Xi,c.y*Xi],w=[];for(const A of r)for(const I of A){const B=[I.x+_[0],I.y+_[1]];Pu(B,i,o,m),w.push(B)}return w}function qs(r,i,o,c){const m=Math.pow(2,c.z)*Xi,_=[c.x*Xi,c.y*Xi],w=[];for(const I of r){const B=[];for(const U of I){const G=[U.x+_[0],U.y+_[1]];On(i,G),B.push(G)}w.push(B)}if(i[2]-i[0]<=m/2){(A=i)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const I of w)for(const B of I)Pu(B,i,o,m)}var A;return w}class Ir{constructor(i,o){this.type=Vt,this.geojson=i,this.geometries=o}static parse(i,o){if(i.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(ot(i[1])){const c=i[1];if(c.type==="FeatureCollection")for(let m=0;m<c.features.length;++m){const _=c.features[m].geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Ir(c,c.features[m].geometry)}else if(c.type==="Feature"){const m=c.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new Ir(c,c.geometry)}else if(c.type==="Polygon"||c.type==="MultiPolygon")return new Ir(c,c)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(o,c){const m=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],w=o.canonicalID();if(c.type==="Polygon"){const A=oa(c.coordinates,_,w),I=Iu(o.geometry(),m,_,w);if(!Ro(m,_))return!1;for(const B of I)if(!Za(B,A))return!1}if(c.type==="MultiPolygon"){const A=ao(c.coordinates,_,w),I=Iu(o.geometry(),m,_,w);if(!Ro(m,_))return!1;for(const B of I)if(!Bo(B,A))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(o,c){const m=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],w=o.canonicalID();if(c.type==="Polygon"){const A=oa(c.coordinates,_,w),I=qs(o.geometry(),m,_,w);if(!Ro(m,_))return!1;for(const B of I)if(!Fl(B,A))return!1}if(c.type==="MultiPolygon"){const A=ao(c.coordinates,_,w),I=qs(o.geometry(),m,_,w);if(!Ro(m,_))return!1;for(const B of I)if(!ts(B,A))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function lo(r){if(r instanceof $i&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof Ir)return!1;let i=!0;return r.eachChild(o=>{i&&!lo(o)&&(i=!1)}),i}function No(r){if(r instanceof $i&&r.name==="feature-state")return!1;let i=!0;return r.eachChild(o=>{i&&!No(o)&&(i=!1)}),i}function aa(r,i){if(r instanceof $i&&i.indexOf(r.name)>=0)return!1;let o=!0;return r.eachChild(c=>{o&&!aa(c,i)&&(o=!1)}),o}class la{constructor(i,o){this.type=o.type,this.name=i,this.boundExpression=o}static parse(i,o){if(i.length!==2||typeof i[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const c=i[1];return o.scope.has(c)?new la(c,o.scope.get(c)):o.error(`Unknown variable "${c}". Make sure "${c}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class gs{constructor(i,o=[],c,m=new Si,_=[]){this.registry=i,this.path=o,this.key=o.map(w=>`[${w}]`).join(""),this.scope=m,this.errors=_,this.expectedType=c}parse(i,o,c,m,_={}){return o?this.concat(o,c,m)._parse(i,_):this._parse(i,_)}_parse(i,o){function c(m,_,w){return w==="assert"?new Jt(_,[m]):w==="coerce"?new ii(_,[m]):m}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=i[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const _=this.registry[m];if(_){let w=_.parse(i,this);if(!w)return null;if(this.expectedType){const A=this.expectedType,I=w.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||I.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||I.kind!=="value"&&I.kind!=="string")if(A.kind!=="padding"||I.kind!=="value"&&I.kind!=="number"&&I.kind!=="array"){if(this.checkSubtype(A,I))return null}else w=c(w,A,o.typeAnnotation||"coerce");else w=c(w,A,o.typeAnnotation||"coerce");else w=c(w,A,o.typeAnnotation||"assert")}if(!(w instanceof zt)&&w.type.kind!=="resolvedImage"&&$a(w)){const A=new Pi;try{w=new zt(w.type,w.evaluate(A))}catch(I){return this.error(I.message),null}}return w}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,o,c){const m=typeof i=="number"?this.path.concat(i):this.path,_=c?this.scope.concat(c):this.scope;return new gs(this.registry,m,o||null,_,this.errors)}error(i,...o){const c=`${this.key}${o.map(m=>`[${m}]`).join("")}`;this.errors.push(new hi(c,i))}checkSubtype(i,o){const c=ms(i,o);return c&&this.error(c),c}}function $a(r){if(r instanceof la)return $a(r.boundExpression);if(r instanceof $i&&r.name==="error"||r instanceof Gi||r instanceof Ir)return!1;const i=r instanceof ii||r instanceof Jt;let o=!0;return r.eachChild(c=>{o=i?o&&$a(c):o&&c instanceof zt}),!!o&&lo(r)&&aa(r,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Oo(r,i){const o=r.length-1;let c,m,_=0,w=o,A=0;for(;_<=w;)if(A=Math.floor((_+w)/2),c=r[A],m=r[A+1],c<=i){if(A===o||i<m)return A;_=A+1}else{if(!(c>i))throw new xt("Input is not a number.");w=A-1}return 0}class ua{constructor(i,o,c){this.type=i,this.input=o,this.labels=[],this.outputs=[];for(const[m,_]of c)this.labels.push(m),this.outputs.push(_)}static parse(i,o){if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");const c=o.parse(i[1],1,Ke);if(!c)return null;const m=[];let _=null;o.expectedType&&o.expectedType.kind!=="value"&&(_=o.expectedType);for(let w=1;w<i.length;w+=2){const A=w===1?-1/0:i[w],I=i[w+1],B=w,U=w+1;if(typeof A!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',B);if(m.length&&m[m.length-1][0]>=A)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',B);const G=o.parse(I,U,_);if(!G)return null;_=_||G.type,m.push([A,G])}return new ua(_,c,m)}evaluate(i){const o=this.labels,c=this.outputs;if(o.length===1)return c[0].evaluate(i);const m=this.input.evaluate(i);if(m<=o[0])return c[0].evaluate(i);const _=o.length;return m>=o[_-1]?c[_-1].evaluate(i):c[Oo(o,m)].evaluate(i)}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function pn(r,i,o){return r*(1-o)+i*o}var ca=Object.freeze({__proto__:null,number:pn,color:function(r,i,o){return new ae(pn(r.r,i.r,o),pn(r.g,i.g,o),pn(r.b,i.b,o),pn(r.a,i.a,o))},array:function(r,i,o){return r.map((c,m)=>pn(c,i[m],o))},padding:function(r,i,o){const c=r.values,m=i.values;return new ve([pn(c[0],m[0],o),pn(c[1],m[1],o),pn(c[2],m[2],o),pn(c[3],m[3],o)])}});const Mu=.95047,Xa=1.08883,Vl=4/29,Ka=6/29,zu=3*Ka*Ka,Nc=Math.PI/180,Oc=180/Math.PI;function Ul(r){return r>.008856451679035631?Math.pow(r,1/3):r/zu+Vl}function jl(r){return r>Ka?r*r*r:zu*(r-Vl)}function Ya(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function ha(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Ni(r){const i=ha(r.r),o=ha(r.g),c=ha(r.b),m=Ul((.4124564*i+.3575761*o+.1804375*c)/Mu),_=Ul((.2126729*i+.7151522*o+.072175*c)/1);return{l:116*_-16,a:500*(m-_),b:200*(_-Ul((.0193339*i+.119192*o+.9503041*c)/Xa)),alpha:r.a}}function Qa(r){let i=(r.l+16)/116,o=isNaN(r.a)?i:i+r.a/500,c=isNaN(r.b)?i:i-r.b/200;return i=1*jl(i),o=Mu*jl(o),c=Xa*jl(c),new ae(Ya(3.2404542*o-1.5371385*i-.4985314*c),Ya(-.969266*o+1.8760108*i+.041556*c),Ya(.0556434*o-.2040259*i+1.0572252*c),r.alpha)}function Du(r,i,o){const c=i-r;return r+o*(c>180||c<-180?c-360*Math.round(c/360):c)}const Fo={forward:Ni,reverse:Qa,interpolate:function(r,i,o){return{l:pn(r.l,i.l,o),a:pn(r.a,i.a,o),b:pn(r.b,i.b,o),alpha:pn(r.alpha,i.alpha,o)}}},uo={forward:function(r){const{l:i,a:o,b:c}=Ni(r),m=Math.atan2(c,o)*Oc;return{h:m<0?m+360:m,c:Math.sqrt(o*o+c*c),l:i,alpha:r.a}},reverse:function(r){const i=r.h*Nc,o=r.c;return Qa({l:r.l,a:Math.cos(i)*o,b:Math.sin(i)*o,alpha:r.alpha})},interpolate:function(r,i,o){return{h:Du(r.h,i.h,o),c:pn(r.c,i.c,o),l:pn(r.l,i.l,o),alpha:pn(r.alpha,i.alpha,o)}}};var Lu=Object.freeze({__proto__:null,lab:Fo,hcl:uo});class Mr{constructor(i,o,c,m,_){this.type=i,this.operator=o,this.interpolation=c,this.input=m,this.labels=[],this.outputs=[];for(const[w,A]of _)this.labels.push(w),this.outputs.push(A)}static interpolationFactor(i,o,c,m){let _=0;if(i.name==="exponential")_=ql(o,i.base,c,m);else if(i.name==="linear")_=ql(o,1,c,m);else if(i.name==="cubic-bezier"){const w=i.controlPoints;_=new T(w[0],w[1],w[2],w[3]).solve(ql(o,1,c,m))}return _}static parse(i,o){let[c,m,_,...w]=i;if(!Array.isArray(m)||m.length===0)return o.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const B=m[1];if(typeof B!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:B}}else{if(m[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const B=m.slice(1);if(B.length!==4||B.some(U=>typeof U!="number"||U<0||U>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:B}}}if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(_=o.parse(_,2,Ke),!_)return null;const A=[];let I=null;c==="interpolate-hcl"||c==="interpolate-lab"?I=Hi:o.expectedType&&o.expectedType.kind!=="value"&&(I=o.expectedType);for(let B=0;B<w.length;B+=2){const U=w[B],G=w[B+1],K=B+3,te=B+4;if(typeof U!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',K);if(A.length&&A[A.length-1][0]>=U)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',K);const ie=o.parse(G,te,I);if(!ie)return null;I=I||ie.type,A.push([U,ie])}return I.kind==="number"||I.kind==="color"||I.kind==="padding"||I.kind==="array"&&I.itemType.kind==="number"&&typeof I.N=="number"?new Mr(I,c,m,_,A):o.error(`Type ${Zi(I)} is not interpolatable.`)}evaluate(i){const o=this.labels,c=this.outputs;if(o.length===1)return c[0].evaluate(i);const m=this.input.evaluate(i);if(m<=o[0])return c[0].evaluate(i);const _=o.length;if(m>=o[_-1])return c[_-1].evaluate(i);const w=Oo(o,m),A=Mr.interpolationFactor(this.interpolation,m,o[w],o[w+1]),I=c[w].evaluate(i),B=c[w+1].evaluate(i);return this.operator==="interpolate"?ca[this.type.kind.toLowerCase()](I,B,A):this.operator==="interpolate-hcl"?uo.reverse(uo.interpolate(uo.forward(I),uo.forward(B),A)):Fo.reverse(Fo.interpolate(Fo.forward(I),Fo.forward(B),A))}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function ql(r,i,o,c){const m=c-o,_=r-o;return m===0?0:i===1?_/m:(Math.pow(i,_)-1)/(Math.pow(i,m)-1)}class Gs{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expectected at least one argument.");let c=null;const m=o.expectedType;m&&m.kind!=="value"&&(c=m);const _=[];for(const A of i.slice(1)){const I=o.parse(A,1+_.length,c,void 0,{typeAnnotation:"omit"});if(!I)return null;c=c||I.type,_.push(I)}if(!c)throw new Error("No output type");const w=m&&_.some(A=>ms(m,A.type));return new Gs(w?Bt:c,_)}evaluate(i){let o,c=null,m=0;for(const _ of this.args)if(m++,c=_.evaluate(i),c&&c instanceof Ce&&!c.available&&(o||(o=c.name),c=null,m===this.args.length&&(c=o)),c!==null)break;return c}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}class da{constructor(i,o){this.type=o.type,this.bindings=[].concat(i),this.result=o}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const o of this.bindings)i(o[1]);i(this.result)}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const c=[];for(let _=1;_<i.length-1;_+=2){const w=i[_];if(typeof w!="string")return o.error(`Expected string, but found ${typeof w} instead.`,_);if(/[^a-zA-Z0-9_]/.test(w))return o.error("Variable names must contain only alphanumeric characters or '_'.",_);const A=o.parse(i[_+1],_+1);if(!A)return null;c.push([w,A])}const m=o.parse(i[i.length-1],i.length-1,o.expectedType,c);return m?new da(c,m):null}outputDefined(){return this.result.outputDefined()}}class pa{constructor(i,o,c){this.type=i,this.index=o,this.input=c}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const c=o.parse(i[1],1,Ke),m=o.parse(i[2],2,zn(o.expectedType||Bt));return c&&m?new pa(m.type.itemType,c,m):null}evaluate(i){const o=this.index.evaluate(i),c=this.input.evaluate(i);if(o<0)throw new xt(`Array index out of bounds: ${o} < 0.`);if(o>=c.length)throw new xt(`Array index out of bounds: ${o} > ${c.length-1}.`);if(o!==Math.floor(o))throw new xt(`Array index must be an integer, but found ${o} instead.`);return c[o]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class Gl{constructor(i,o){this.type=Vt,this.needle=i,this.haystack=o}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const c=o.parse(i[1],1,Bt),m=o.parse(i[2],2,Bt);return c&&m?Us(c.type,[Vt,Ut,Ke,Qt,Bt])?new Gl(c,m):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Zi(c.type)} instead`):null}evaluate(i){const o=this.needle.evaluate(i),c=this.haystack.evaluate(i);if(!c)return!1;if(!oo(o,["boolean","string","number","null"]))throw new xt(`Expected first argument to be of type boolean, string, number or null, but found ${Zi(je(o))} instead.`);if(!oo(c,["string","array"]))throw new xt(`Expected second argument to be of type array or string, but found ${Zi(je(c))} instead.`);return c.indexOf(o)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class Ja{constructor(i,o,c){this.type=Ke,this.needle=i,this.haystack=o,this.fromIndex=c}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const c=o.parse(i[1],1,Bt),m=o.parse(i[2],2,Bt);if(!c||!m)return null;if(!Us(c.type,[Vt,Ut,Ke,Qt,Bt]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Zi(c.type)} instead`);if(i.length===4){const _=o.parse(i[3],3,Ke);return _?new Ja(c,m,_):null}return new Ja(c,m)}evaluate(i){const o=this.needle.evaluate(i),c=this.haystack.evaluate(i);if(!oo(o,["boolean","string","number","null"]))throw new xt(`Expected first argument to be of type boolean, string, number or null, but found ${Zi(je(o))} instead.`);if(!oo(c,["string","array"]))throw new xt(`Expected second argument to be of type array or string, but found ${Zi(je(c))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(i);return c.indexOf(o,m)}return c.indexOf(o)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class Wl{constructor(i,o,c,m,_,w){this.inputType=i,this.type=o,this.input=c,this.cases=m,this.outputs=_,this.otherwise=w}static parse(i,o){if(i.length<5)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return o.error("Expected an even number of arguments.");let c,m;o.expectedType&&o.expectedType.kind!=="value"&&(m=o.expectedType);const _={},w=[];for(let B=2;B<i.length-1;B+=2){let U=i[B];const G=i[B+1];Array.isArray(U)||(U=[U]);const K=o.concat(B);if(U.length===0)return K.error("Expected at least one branch label.");for(const ie of U){if(typeof ie!="number"&&typeof ie!="string")return K.error("Branch labels must be numbers or strings.");if(typeof ie=="number"&&Math.abs(ie)>Number.MAX_SAFE_INTEGER)return K.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ie=="number"&&Math.floor(ie)!==ie)return K.error("Numeric branch labels must be integer values.");if(c){if(K.checkSubtype(c,je(ie)))return null}else c=je(ie);if(_[String(ie)]!==void 0)return K.error("Branch labels must be unique.");_[String(ie)]=w.length}const te=o.parse(G,B,m);if(!te)return null;m=m||te.type,w.push(te)}const A=o.parse(i[1],1,Bt);if(!A)return null;const I=o.parse(i[i.length-1],i.length-1,m);return I?A.type.kind!=="value"&&o.concat(1).checkSubtype(c,A.type)?null:new Wl(c,m,A,_,w,I):null}evaluate(i){const o=this.input.evaluate(i);return(je(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class v{constructor(i,o,c){this.type=i,this.branches=o,this.otherwise=c}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return o.error("Expected an odd number of arguments.");let c;o.expectedType&&o.expectedType.kind!=="value"&&(c=o.expectedType);const m=[];for(let w=1;w<i.length-1;w+=2){const A=o.parse(i[w],w,Vt);if(!A)return null;const I=o.parse(i[w+1],w+1,c);if(!I)return null;m.push([A,I]),c=c||I.type}const _=o.parse(i[i.length-1],i.length-1,c);if(!_)return null;if(!c)throw new Error("Can't infer output type");return new v(c,m,_)}evaluate(i){for(const[o,c]of this.branches)if(o.evaluate(i))return c.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[o,c]of this.branches)i(o),i(c);i(this.otherwise)}outputDefined(){return this.branches.every(([i,o])=>o.outputDefined())&&this.otherwise.outputDefined()}}class b{constructor(i,o,c,m){this.type=i,this.input=o,this.beginIndex=c,this.endIndex=m}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const c=o.parse(i[1],1,Bt),m=o.parse(i[2],2,Ke);if(!c||!m)return null;if(!Us(c.type,[zn(Bt),Ut,Bt]))return o.error(`Expected first argument to be of type array or string, but found ${Zi(c.type)} instead`);if(i.length===4){const _=o.parse(i[3],3,Ke);return _?new b(c.type,c,m,_):null}return new b(c.type,c,m)}evaluate(i){const o=this.input.evaluate(i),c=this.beginIndex.evaluate(i);if(!oo(o,["string","array"]))throw new xt(`Expected first argument to be of type array or string, but found ${Zi(je(o))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(i);return o.slice(c,m)}return o.slice(c)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function P(r,i){return r==="=="||r==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function R(r,i,o,c){return c.compare(i,o)===0}function W(r,i,o){const c=r!=="=="&&r!=="!=";return class BT{constructor(_,w,A){this.type=Vt,this.lhs=_,this.rhs=w,this.collator=A,this.hasUntypedArgument=_.type.kind==="value"||w.type.kind==="value"}static parse(_,w){if(_.length!==3&&_.length!==4)return w.error("Expected two or three arguments.");const A=_[0];let I=w.parse(_[1],1,Bt);if(!I)return null;if(!P(A,I.type))return w.concat(1).error(`"${A}" comparisons are not supported for type '${Zi(I.type)}'.`);let B=w.parse(_[2],2,Bt);if(!B)return null;if(!P(A,B.type))return w.concat(2).error(`"${A}" comparisons are not supported for type '${Zi(B.type)}'.`);if(I.type.kind!==B.type.kind&&I.type.kind!=="value"&&B.type.kind!=="value")return w.error(`Cannot compare types '${Zi(I.type)}' and '${Zi(B.type)}'.`);c&&(I.type.kind==="value"&&B.type.kind!=="value"?I=new Jt(B.type,[I]):I.type.kind!=="value"&&B.type.kind==="value"&&(B=new Jt(I.type,[B])));let U=null;if(_.length===4){if(I.type.kind!=="string"&&B.type.kind!=="string"&&I.type.kind!=="value"&&B.type.kind!=="value")return w.error("Cannot use collator to compare non-string types.");if(U=w.parse(_[3],3,_n),!U)return null}return new BT(I,B,U)}evaluate(_){const w=this.lhs.evaluate(_),A=this.rhs.evaluate(_);if(c&&this.hasUntypedArgument){const I=je(w),B=je(A);if(I.kind!==B.kind||I.kind!=="string"&&I.kind!=="number")throw new xt(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${I.kind}, ${B.kind}) instead.`)}if(this.collator&&!c&&this.hasUntypedArgument){const I=je(w),B=je(A);if(I.kind!=="string"||B.kind!=="string")return i(_,w,A)}return this.collator?o(_,w,A,this.collator.evaluate(_)):i(_,w,A)}eachChild(_){_(this.lhs),_(this.rhs),this.collator&&_(this.collator)}outputDefined(){return!0}}}const Z=W("==",function(r,i,o){return i===o},R),ee=W("!=",function(r,i,o){return i!==o},function(r,i,o,c){return!R(0,i,o,c)}),be=W("<",function(r,i,o){return i<o},function(r,i,o,c){return c.compare(i,o)<0}),_e=W(">",function(r,i,o){return i>o},function(r,i,o,c){return c.compare(i,o)>0}),ze=W("<=",function(r,i,o){return i<=o},function(r,i,o,c){return c.compare(i,o)<=0}),We=W(">=",function(r,i,o){return i>=o},function(r,i,o,c){return c.compare(i,o)>=0});class ut{constructor(i,o,c,m,_){this.type=Ut,this.number=i,this.locale=o,this.currency=c,this.minFractionDigits=m,this.maxFractionDigits=_}static parse(i,o){if(i.length!==3)return o.error("Expected two arguments.");const c=o.parse(i[1],1,Ke);if(!c)return null;const m=i[2];if(typeof m!="object"||Array.isArray(m))return o.error("NumberFormat options argument must be an object.");let _=null;if(m.locale&&(_=o.parse(m.locale,1,Ut),!_))return null;let w=null;if(m.currency&&(w=o.parse(m.currency,1,Ut),!w))return null;let A=null;if(m["min-fraction-digits"]&&(A=o.parse(m["min-fraction-digits"],1,Ke),!A))return null;let I=null;return m["max-fraction-digits"]&&(I=o.parse(m["max-fraction-digits"],1,Ke),!I)?null:new ut(c,_,w,A,I)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class Fe{constructor(i){this.type=vi,this.sections=i}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const c=i[1];if(!Array.isArray(c)&&typeof c=="object")return o.error("First argument must be an image or text section.");const m=[];let _=!1;for(let w=1;w<=i.length-1;++w){const A=i[w];if(_&&typeof A=="object"&&!Array.isArray(A)){_=!1;let I=null;if(A["font-scale"]&&(I=o.parse(A["font-scale"],1,Ke),!I))return null;let B=null;if(A["text-font"]&&(B=o.parse(A["text-font"],1,zn(Ut)),!B))return null;let U=null;if(A["text-color"]&&(U=o.parse(A["text-color"],1,Hi),!U))return null;const G=m[m.length-1];G.scale=I,G.font=B,G.textColor=U}else{const I=o.parse(i[w],1,Bt);if(!I)return null;const B=I.type.kind;if(B!=="string"&&B!=="value"&&B!=="null"&&B!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");_=!0,m.push({content:I,scale:null,font:null,textColor:null})}}return new Fe(m)}evaluate(i){return new we(this.sections.map(o=>{const c=o.content.evaluate(i);return je(c)===gn?new Te("",c,null,null,null):new Te(It(c),null,o.scale?o.scale.evaluate(i):null,o.font?o.font.evaluate(i).join(","):null,o.textColor?o.textColor.evaluate(i):null)}))}eachChild(i){for(const o of this.sections)i(o.content),o.scale&&i(o.scale),o.font&&i(o.font),o.textColor&&i(o.textColor)}outputDefined(){return!1}}class Ye{constructor(i){this.type=gn,this.input=i}static parse(i,o){if(i.length!==2)return o.error("Expected two arguments.");const c=o.parse(i[1],1,Ut);return c?new Ye(c):o.error("No image name provided.")}evaluate(i){const o=this.input.evaluate(i),c=Ce.fromString(o);return c&&i.availableImages&&(c.available=i.availableImages.indexOf(o)>-1),c}eachChild(i){i(this.input)}outputDefined(){return!1}}class Wt{constructor(i){this.type=Ke,this.input=i}static parse(i,o){if(i.length!==2)return o.error(`Expected 1 argument, but found ${i.length-1} instead.`);const c=o.parse(i[1],1);return c?c.type.kind!=="array"&&c.type.kind!=="string"&&c.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${Zi(c.type)} instead.`):new Wt(c):null}evaluate(i){const o=this.input.evaluate(i);if(typeof o=="string"||Array.isArray(o))return o.length;throw new xt(`Expected value to be of type string or array, but found ${Zi(je(o))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const li={"==":Z,"!=":ee,">":_e,"<":be,">=":We,"<=":ze,array:Jt,at:pa,boolean:Jt,case:v,coalesce:Gs,collator:Gi,format:Fe,image:Ye,in:Gl,"index-of":Ja,interpolate:Mr,"interpolate-hcl":Mr,"interpolate-lab":Mr,length:Wt,let:da,literal:zt,match:Wl,number:Jt,"number-format":ut,object:Jt,slice:b,step:ua,string:Jt,"to-boolean":ii,"to-color":ii,"to-number":ii,"to-string":ii,var:la,within:Ir};function $t(r,[i,o,c,m]){i=i.evaluate(r),o=o.evaluate(r),c=c.evaluate(r);const _=m?m.evaluate(r):1,w=Ue(i,o,c,_);if(w)throw new xt(w);return new ae(i/255*_,o/255*_,c/255*_,_)}function Dn(r,i){return r in i}function xn(r,i){const o=i[r];return o===void 0?null:o}function Fn(r){return{type:r}}function Qi(r){return{result:"success",value:r}}function ai(r){return{result:"error",value:r}}function Ci(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function Oi(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function qt(r){return!!r.expression&&r.expression.interpolated}function Mi(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Ki(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function zi(r){return r}function is(r,i){const o=i.type==="color",c=r.stops&&typeof r.stops[0][0]=="object",m=c||!(c||r.property!==void 0),_=r.type||(qt(i)?"exponential":"interval");if(o||i.type==="padding"){const B=o?ae.parse:ve.parse;(r=dn({},r)).stops&&(r.stops=r.stops.map(U=>[U[0],B(U[1])])),r.default=B(r.default?r.default:i.default)}if(r.colorSpace&&r.colorSpace!=="rgb"&&!Lu[r.colorSpace])throw new Error(`Unknown color space: ${r.colorSpace}`);let w,A,I;if(_==="exponential")w=zr;else if(_==="interval")w=Ws;else if(_==="categorical"){w=_r,A=Object.create(null);for(const B of r.stops)A[B[0]]=B[1];I=typeof r.stops[0][0]}else{if(_!=="identity")throw new Error(`Unknown function type "${_}"`);w=Hs}if(c){const B={},U=[];for(let te=0;te<r.stops.length;te++){const ie=r.stops[te],ye=ie[0].zoom;B[ye]===void 0&&(B[ye]={zoom:ye,type:r.type,property:r.property,default:r.default,stops:[]},U.push(ye)),B[ye].stops.push([ie[0].value,ie[1]])}const G=[];for(const te of U)G.push([B[te].zoom,is(B[te],i)]);const K={name:"linear"};return{kind:"composite",interpolationType:K,interpolationFactor:Mr.interpolationFactor.bind(void 0,K),zoomStops:G.map(te=>te[0]),evaluate:({zoom:te},ie)=>zr({stops:G,base:r.base},i,te).evaluate(te,ie)}}if(m){const B=_==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:B,interpolationFactor:Mr.interpolationFactor.bind(void 0,B),zoomStops:r.stops.map(U=>U[0]),evaluate:({zoom:U})=>w(r,i,U,A,I)}}return{kind:"source",evaluate(B,U){const G=U&&U.properties?U.properties[r.property]:void 0;return G===void 0?jr(r.default,i.default):w(r,i,G,A,I)}}}function jr(r,i,o){return r!==void 0?r:i!==void 0?i:o!==void 0?o:void 0}function _r(r,i,o,c,m){return jr(typeof o===m?c[o]:void 0,r.default,i.default)}function Ws(r,i,o){if(Mi(o)!=="number")return jr(r.default,i.default);const c=r.stops.length;if(c===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[c-1][0])return r.stops[c-1][1];const m=Oo(r.stops.map(_=>_[0]),o);return r.stops[m][1]}function zr(r,i,o){const c=r.base!==void 0?r.base:1;if(Mi(o)!=="number")return jr(r.default,i.default);const m=r.stops.length;if(m===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[m-1][0])return r.stops[m-1][1];const _=Oo(r.stops.map(U=>U[0]),o),w=function(U,G,K,te){const ie=te-K,ye=U-K;return ie===0?0:G===1?ye/ie:(Math.pow(G,ye)-1)/(Math.pow(G,ie)-1)}(o,c,r.stops[_][0],r.stops[_+1][0]),A=r.stops[_][1],I=r.stops[_+1][1];let B=ca[i.type]||zi;if(r.colorSpace&&r.colorSpace!=="rgb"){const U=Lu[r.colorSpace];B=(G,K)=>U.reverse(U.interpolate(U.forward(G),U.forward(K),w))}return typeof A.evaluate=="function"?{evaluate(...U){const G=A.evaluate.apply(void 0,U),K=I.evaluate.apply(void 0,U);if(G!==void 0&&K!==void 0)return B(G,K,w)}}:B(A,I,w)}function Hs(r,i,o){switch(i.type){case"color":o=ae.parse(o);break;case"formatted":o=we.fromString(o.toString());break;case"resolvedImage":o=Ce.fromString(o.toString());break;case"padding":o=ve.parse(o);break;default:Mi(o)===i.type||i.type==="enum"&&i.values[o]||(o=void 0)}return jr(o,r.default,i.default)}$i.register(li,{error:[{kind:"error"},[Ut],(r,[i])=>{throw new xt(i.evaluate(r))}],typeof:[Ut,[Bt],(r,[i])=>Zi(je(i.evaluate(r)))],"to-rgba":[zn(Ke,4),[Hi],(r,[i])=>i.evaluate(r).toArray()],rgb:[Hi,[Ke,Ke,Ke],$t],rgba:[Hi,[Ke,Ke,Ke,Ke],$t],has:{type:Vt,overloads:[[[Ut],(r,[i])=>Dn(i.evaluate(r),r.properties())],[[Ut,Cn],(r,[i,o])=>Dn(i.evaluate(r),o.evaluate(r))]]},get:{type:Bt,overloads:[[[Ut],(r,[i])=>xn(i.evaluate(r),r.properties())],[[Ut,Cn],(r,[i,o])=>xn(i.evaluate(r),o.evaluate(r))]]},"feature-state":[Bt,[Ut],(r,[i])=>xn(i.evaluate(r),r.featureState||{})],properties:[Cn,[],r=>r.properties()],"geometry-type":[Ut,[],r=>r.geometryType()],id:[Bt,[],r=>r.id()],zoom:[Ke,[],r=>r.globals.zoom],"heatmap-density":[Ke,[],r=>r.globals.heatmapDensity||0],"line-progress":[Ke,[],r=>r.globals.lineProgress||0],accumulated:[Bt,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[Ke,Fn(Ke),(r,i)=>{let o=0;for(const c of i)o+=c.evaluate(r);return o}],"*":[Ke,Fn(Ke),(r,i)=>{let o=1;for(const c of i)o*=c.evaluate(r);return o}],"-":{type:Ke,overloads:[[[Ke,Ke],(r,[i,o])=>i.evaluate(r)-o.evaluate(r)],[[Ke],(r,[i])=>-i.evaluate(r)]]},"/":[Ke,[Ke,Ke],(r,[i,o])=>i.evaluate(r)/o.evaluate(r)],"%":[Ke,[Ke,Ke],(r,[i,o])=>i.evaluate(r)%o.evaluate(r)],ln2:[Ke,[],()=>Math.LN2],pi:[Ke,[],()=>Math.PI],e:[Ke,[],()=>Math.E],"^":[Ke,[Ke,Ke],(r,[i,o])=>Math.pow(i.evaluate(r),o.evaluate(r))],sqrt:[Ke,[Ke],(r,[i])=>Math.sqrt(i.evaluate(r))],log10:[Ke,[Ke],(r,[i])=>Math.log(i.evaluate(r))/Math.LN10],ln:[Ke,[Ke],(r,[i])=>Math.log(i.evaluate(r))],log2:[Ke,[Ke],(r,[i])=>Math.log(i.evaluate(r))/Math.LN2],sin:[Ke,[Ke],(r,[i])=>Math.sin(i.evaluate(r))],cos:[Ke,[Ke],(r,[i])=>Math.cos(i.evaluate(r))],tan:[Ke,[Ke],(r,[i])=>Math.tan(i.evaluate(r))],asin:[Ke,[Ke],(r,[i])=>Math.asin(i.evaluate(r))],acos:[Ke,[Ke],(r,[i])=>Math.acos(i.evaluate(r))],atan:[Ke,[Ke],(r,[i])=>Math.atan(i.evaluate(r))],min:[Ke,Fn(Ke),(r,i)=>Math.min(...i.map(o=>o.evaluate(r)))],max:[Ke,Fn(Ke),(r,i)=>Math.max(...i.map(o=>o.evaluate(r)))],abs:[Ke,[Ke],(r,[i])=>Math.abs(i.evaluate(r))],round:[Ke,[Ke],(r,[i])=>{const o=i.evaluate(r);return o<0?-Math.round(-o):Math.round(o)}],floor:[Ke,[Ke],(r,[i])=>Math.floor(i.evaluate(r))],ceil:[Ke,[Ke],(r,[i])=>Math.ceil(i.evaluate(r))],"filter-==":[Vt,[Ut,Bt],(r,[i,o])=>r.properties()[i.value]===o.value],"filter-id-==":[Vt,[Bt],(r,[i])=>r.id()===i.value],"filter-type-==":[Vt,[Ut],(r,[i])=>r.geometryType()===i.value],"filter-<":[Vt,[Ut,Bt],(r,[i,o])=>{const c=r.properties()[i.value],m=o.value;return typeof c==typeof m&&c<m}],"filter-id-<":[Vt,[Bt],(r,[i])=>{const o=r.id(),c=i.value;return typeof o==typeof c&&o<c}],"filter->":[Vt,[Ut,Bt],(r,[i,o])=>{const c=r.properties()[i.value],m=o.value;return typeof c==typeof m&&c>m}],"filter-id->":[Vt,[Bt],(r,[i])=>{const o=r.id(),c=i.value;return typeof o==typeof c&&o>c}],"filter-<=":[Vt,[Ut,Bt],(r,[i,o])=>{const c=r.properties()[i.value],m=o.value;return typeof c==typeof m&&c<=m}],"filter-id-<=":[Vt,[Bt],(r,[i])=>{const o=r.id(),c=i.value;return typeof o==typeof c&&o<=c}],"filter->=":[Vt,[Ut,Bt],(r,[i,o])=>{const c=r.properties()[i.value],m=o.value;return typeof c==typeof m&&c>=m}],"filter-id->=":[Vt,[Bt],(r,[i])=>{const o=r.id(),c=i.value;return typeof o==typeof c&&o>=c}],"filter-has":[Vt,[Bt],(r,[i])=>i.value in r.properties()],"filter-has-id":[Vt,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Vt,[zn(Ut)],(r,[i])=>i.value.indexOf(r.geometryType())>=0],"filter-id-in":[Vt,[zn(Bt)],(r,[i])=>i.value.indexOf(r.id())>=0],"filter-in-small":[Vt,[Ut,zn(Bt)],(r,[i,o])=>o.value.indexOf(r.properties()[i.value])>=0],"filter-in-large":[Vt,[Ut,zn(Bt)],(r,[i,o])=>function(c,m,_,w){for(;_<=w;){const A=_+w>>1;if(m[A]===c)return!0;m[A]>c?w=A-1:_=A+1}return!1}(r.properties()[i.value],o.value,0,o.value.length-1)],all:{type:Vt,overloads:[[[Vt,Vt],(r,[i,o])=>i.evaluate(r)&&o.evaluate(r)],[Fn(Vt),(r,i)=>{for(const o of i)if(!o.evaluate(r))return!1;return!0}]]},any:{type:Vt,overloads:[[[Vt,Vt],(r,[i,o])=>i.evaluate(r)||o.evaluate(r)],[Fn(Vt),(r,i)=>{for(const o of i)if(o.evaluate(r))return!0;return!1}]]},"!":[Vt,[Vt],(r,[i])=>!i.evaluate(r)],"is-supported-script":[Vt,[Ut],(r,[i])=>{const o=r.globals&&r.globals.isSupportedScript;return!o||o(i.evaluate(r))}],upcase:[Ut,[Ut],(r,[i])=>i.evaluate(r).toUpperCase()],downcase:[Ut,[Ut],(r,[i])=>i.evaluate(r).toLowerCase()],concat:[Ut,Fn(Bt),(r,i)=>i.map(o=>It(o.evaluate(r))).join("")],"resolved-locale":[Ut,[_n],(r,[i])=>i.evaluate(r).resolvedLocale()]});class fa{constructor(i,o){this.expression=i,this._warningHistory={},this._evaluator=new Pi,this._defaultValue=o?function(c){return c.type==="color"&&Ki(c.default)?new ae(0,0,0,0):c.type==="color"?ae.parse(c.default)||null:c.type==="padding"?ve.parse(c.default)||null:c.default===void 0?null:c.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null}evaluateWithoutErrorHandling(i,o,c,m,_,w){return this._evaluator.globals=i,this._evaluator.feature=o,this._evaluator.featureState=c,this._evaluator.canonical=m,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=w,this.expression.evaluate(this._evaluator)}evaluate(i,o,c,m,_,w){this._evaluator.globals=i,this._evaluator.feature=o||null,this._evaluator.featureState=c||null,this._evaluator.canonical=m,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=w||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new xt(`Expected value to be one of ${Object.keys(this._enumValues).map(I=>JSON.stringify(I)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function ns(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in li}function co(r,i){const o=new gs(li,[],i?function(m){const _={color:Hi,string:Ut,number:Ke,enum:Ut,boolean:Vt,formatted:vi,padding:rr,resolvedImage:gn};return m.type==="array"?zn(_[m.value]||Bt,m.length):_[m.type]}(i):void 0),c=o.parse(r,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return c?Qi(new fa(c,i)):ai(o.errors)}class Fi{constructor(i,o){this.kind=i,this._styleExpression=o,this.isStateDependent=i!=="constant"&&!No(o.expression)}evaluateWithoutErrorHandling(i,o,c,m,_,w){return this._styleExpression.evaluateWithoutErrorHandling(i,o,c,m,_,w)}evaluate(i,o,c,m,_,w){return this._styleExpression.evaluate(i,o,c,m,_,w)}}class As{constructor(i,o,c,m){this.kind=i,this.zoomStops=c,this._styleExpression=o,this.isStateDependent=i!=="camera"&&!No(o.expression),this.interpolationType=m}evaluateWithoutErrorHandling(i,o,c,m,_,w){return this._styleExpression.evaluateWithoutErrorHandling(i,o,c,m,_,w)}evaluate(i,o,c,m,_,w){return this._styleExpression.evaluate(i,o,c,m,_,w)}interpolationFactor(i,o,c){return this.interpolationType?Mr.interpolationFactor(this.interpolationType,i,o,c):0}}function Hl(r,i){const o=co(r,i);if(o.result==="error")return o;const c=o.value.expression,m=lo(c);if(!m&&!Ci(i))return ai([new hi("","data expressions not supported")]);const _=aa(c,["zoom"]);if(!_&&!Oi(i))return ai([new hi("","zoom expressions not supported")]);const w=el(c);return w||_?w instanceof hi?ai([w]):w instanceof Mr&&!qt(i)?ai([new hi("",'"interpolate" expressions cannot be used with this property')]):Qi(w?new As(m?"camera":"composite",o.value,w.labels,w instanceof Mr?w.interpolation:void 0):new Fi(m?"constant":"source",o.value)):ai([new hi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Vo{constructor(i,o){this._parameters=i,this._specification=o,dn(this,is(this._parameters,this._specification))}static deserialize(i){return new Vo(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function el(r){let i=null;if(r instanceof da)i=el(r.result);else if(r instanceof Gs){for(const o of r.args)if(i=el(o),i)break}else(r instanceof ua||r instanceof Mr)&&r.input instanceof $i&&r.input.name==="zoom"&&(i=r);return i instanceof hi||r.eachChild(o=>{const c=el(o);c instanceof hi?i=c:!i&&c?i=new hi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&c&&i!==c&&(i=new hi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function xr(r){const i=r.key,o=r.value,c=r.valueSpec||{},m=r.objectElementValidators||{},_=r.style,w=r.styleSpec;let A=[];const I=Mi(o);if(I!=="object")return[new ct(i,o,`object expected, ${I} found`)];for(const B in o){const U=B.split(".")[0],G=c[U]||c["*"];let K;if(m[U])K=m[U];else if(c[U])K=Vn;else if(m["*"])K=m["*"];else{if(!c["*"]){A.push(new ct(i,o[B],`unknown property "${B}"`));continue}K=Vn}A=A.concat(K({key:(i&&`${i}.`)+B,value:o[B],valueSpec:G,style:_,styleSpec:w,object:o,objectKey:B},o))}for(const B in c)m[B]||c[B].required&&c[B].default===void 0&&o[B]===void 0&&A.push(new ct(i,o,`missing required property "${B}"`));return A}function Ru(r){const i=r.value,o=r.valueSpec,c=r.style,m=r.styleSpec,_=r.key,w=r.arrayElementValidator||Vn;if(Mi(i)!=="array")return[new ct(_,i,`array expected, ${Mi(i)} found`)];if(o.length&&i.length!==o.length)return[new ct(_,i,`array length ${o.length} expected, length ${i.length} found`)];if(o["min-length"]&&i.length<o["min-length"])return[new ct(_,i,`array length at least ${o["min-length"]} expected, length ${i.length} found`)];let A={type:o.value,values:o.values};m.$version<7&&(A.function=o.function),Mi(o.value)==="object"&&(A=o.value);let I=[];for(let B=0;B<i.length;B++)I=I.concat(w({array:i,arrayIndex:B,value:i[B],valueSpec:A,style:c,styleSpec:m,key:`${_}[${B}]`}));return I}function tl(r){const i=r.key,o=r.value,c=r.valueSpec;let m=Mi(o);return m==="number"&&o!=o&&(m="NaN"),m!=="number"?[new ct(i,o,`number expected, ${m} found`)]:"minimum"in c&&o<c.minimum?[new ct(i,o,`${o} is less than the minimum value ${c.minimum}`)]:"maximum"in c&&o>c.maximum?[new ct(i,o,`${o} is greater than the maximum value ${c.maximum}`)]:[]}function Bu(r){const i=r.valueSpec,o=it(r.value.type);let c,m,_,w={};const A=o!=="categorical"&&r.value.property===void 0,I=!A,B=Mi(r.value.stops)==="array"&&Mi(r.value.stops[0])==="array"&&Mi(r.value.stops[0][0])==="object",U=xr({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(te){if(o==="identity")return[new ct(te.key,te.value,'identity function may not have a "stops" property')];let ie=[];const ye=te.value;return ie=ie.concat(Ru({key:te.key,value:ye,valueSpec:te.valueSpec,style:te.style,styleSpec:te.styleSpec,arrayElementValidator:G})),Mi(ye)==="array"&&ye.length===0&&ie.push(new ct(te.key,ye,"array must have at least one stop")),ie},default:function(te){return Vn({key:te.key,value:te.value,valueSpec:i,style:te.style,styleSpec:te.styleSpec})}}});return o==="identity"&&A&&U.push(new ct(r.key,r.value,'missing required property "property"')),o==="identity"||r.value.stops||U.push(new ct(r.key,r.value,'missing required property "stops"')),o==="exponential"&&r.valueSpec.expression&&!qt(r.valueSpec)&&U.push(new ct(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(I&&!Ci(r.valueSpec)?U.push(new ct(r.key,r.value,"property functions not supported")):A&&!Oi(r.valueSpec)&&U.push(new ct(r.key,r.value,"zoom functions not supported"))),o!=="categorical"&&!B||r.value.property!==void 0||U.push(new ct(r.key,r.value,'"property" property is required')),U;function G(te){let ie=[];const ye=te.value,me=te.key;if(Mi(ye)!=="array")return[new ct(me,ye,`array expected, ${Mi(ye)} found`)];if(ye.length!==2)return[new ct(me,ye,`array length 2 expected, length ${ye.length} found`)];if(B){if(Mi(ye[0])!=="object")return[new ct(me,ye,`object expected, ${Mi(ye[0])} found`)];if(ye[0].zoom===void 0)return[new ct(me,ye,"object stop key must have zoom")];if(ye[0].value===void 0)return[new ct(me,ye,"object stop key must have value")];if(_&&_>it(ye[0].zoom))return[new ct(me,ye[0].zoom,"stop zoom values must appear in ascending order")];it(ye[0].zoom)!==_&&(_=it(ye[0].zoom),m=void 0,w={}),ie=ie.concat(xr({key:`${me}[0]`,value:ye[0],valueSpec:{zoom:{}},style:te.style,styleSpec:te.styleSpec,objectElementValidators:{zoom:tl,value:K}}))}else ie=ie.concat(K({key:`${me}[0]`,value:ye[0],valueSpec:{},style:te.style,styleSpec:te.styleSpec},ye));return ns(Ft(ye[1]))?ie.concat([new ct(`${me}[1]`,ye[1],"expressions are not allowed in function stops.")]):ie.concat(Vn({key:`${me}[1]`,value:ye[1],valueSpec:i,style:te.style,styleSpec:te.styleSpec}))}function K(te,ie){const ye=Mi(te.value),me=it(te.value),Me=te.value!==null?te.value:ie;if(c){if(ye!==c)return[new ct(te.key,Me,`${ye} stop domain type must match previous stop domain type ${c}`)]}else c=ye;if(ye!=="number"&&ye!=="string"&&ye!=="boolean")return[new ct(te.key,Me,"stop domain value must be a number, string, or boolean")];if(ye!=="number"&&o!=="categorical"){let Ve=`number expected, ${ye} found`;return Ci(i)&&o===void 0&&(Ve+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ct(te.key,Me,Ve)]}return o!=="categorical"||ye!=="number"||isFinite(me)&&Math.floor(me)===me?o!=="categorical"&&ye==="number"&&m!==void 0&&me<m?[new ct(te.key,Me,"stop domain values must appear in ascending order")]:(m=me,o==="categorical"&&me in w?[new ct(te.key,Me,"stop domain values must be unique")]:(w[me]=!0,[])):[new ct(te.key,Me,`integer expected, found ${me}`)]}}function ho(r){const i=(r.expressionContext==="property"?Hl:co)(Ft(r.value),r.valueSpec);if(i.result==="error")return i.value.map(c=>new ct(`${r.key}${c.key}`,r.value,c.message));const o=i.value.expression||i.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!o.outputDefined())return[new ct(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!No(o))return[new ct(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter"&&!No(o))return[new ct(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!aa(o,["zoom","feature-state"]))return[new ct(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!lo(o))return[new ct(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ma(r){const i=r.key,o=r.value,c=r.valueSpec,m=[];return Array.isArray(c.values)?c.values.indexOf(it(o))===-1&&m.push(new ct(i,o,`expected one of [${c.values.join(", ")}], ${JSON.stringify(o)} found`)):Object.keys(c.values).indexOf(it(o))===-1&&m.push(new ct(i,o,`expected one of [${Object.keys(c.values).join(", ")}], ${JSON.stringify(o)} found`)),m}function Es(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const i of r.slice(1))if(!Es(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}const Fc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function il(r){if(r==null)return{filter:()=>!0,needGeometry:!1};Es(r)||(r=ga(r));const i=co(r,Fc);if(i.result==="error")throw new Error(i.value.map(o=>`${o.key}: ${o.message}`).join(", "));return{filter:(o,c,m)=>i.value.evaluate(o,c,{},m),needGeometry:Uo(r)}}function Nu(r,i){return r<i?-1:r>i?1:0}function Uo(r){if(!Array.isArray(r))return!1;if(r[0]==="within")return!0;for(let i=1;i<r.length;i++)if(Uo(r[i]))return!0;return!1}function ga(r){if(!r)return!0;const i=r[0];return r.length<=1?i!=="any":i==="=="?ya(r[1],r[2],"=="):i==="!="?po(ya(r[1],r[2],"==")):i==="<"||i===">"||i==="<="||i===">="?ya(r[1],r[2],i):i==="any"?(o=r.slice(1),["any"].concat(o.map(ga))):i==="all"?["all"].concat(r.slice(1).map(ga)):i==="none"?["all"].concat(r.slice(1).map(ga).map(po)):i==="in"?qr(r[1],r.slice(2)):i==="!in"?po(qr(r[1],r.slice(2))):i==="has"?Dr(r[1]):i==="!has"?po(Dr(r[1])):i!=="within"||r;var o}function ya(r,i,o){switch(r){case"$type":return[`filter-type-${o}`,i];case"$id":return[`filter-id-${o}`,i];default:return[`filter-${o}`,r,i]}}function qr(r,i){if(i.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(o=>typeof o!=typeof i[0])?["filter-in-large",r,["literal",i.sort(Nu)]]:["filter-in-small",r,["literal",i]]}}function Dr(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function po(r){return["!",r]}function jo(r){return Es(Ft(r.value))?ho(dn({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Zl(r)}function Zl(r){const i=r.value,o=r.key;if(Mi(i)!=="array")return[new ct(o,i,`array expected, ${Mi(i)} found`)];const c=r.styleSpec;let m,_=[];if(i.length<1)return[new ct(o,i,"filter array must have at least 1 element")];switch(_=_.concat(ma({key:`${o}[0]`,value:i[0],valueSpec:c.filter_operator,style:r.style,styleSpec:r.styleSpec})),it(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&it(i[1])==="$type"&&_.push(new ct(o,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&_.push(new ct(o,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(m=Mi(i[1]),m!=="string"&&_.push(new ct(`${o}[1]`,i[1],`string expected, ${m} found`)));for(let w=2;w<i.length;w++)m=Mi(i[w]),it(i[1])==="$type"?_=_.concat(ma({key:`${o}[${w}]`,value:i[w],valueSpec:c.geometry_type,style:r.style,styleSpec:r.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&_.push(new ct(`${o}[${w}]`,i[w],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let w=1;w<i.length;w++)_=_.concat(Zl({key:`${o}[${w}]`,value:i[w],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":m=Mi(i[1]),i.length!==2?_.push(new ct(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):m!=="string"&&_.push(new ct(`${o}[1]`,i[1],`string expected, ${m} found`));break;case"within":m=Mi(i[1]),i.length!==2?_.push(new ct(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):m!=="object"&&_.push(new ct(`${o}[1]`,i[1],`object expected, ${m} found`))}return _}function va(r,i){const o=r.key,c=r.style,m=r.styleSpec,_=r.value,w=r.objectKey,A=m[`${i}_${r.layerType}`];if(!A)return[];const I=w.match(/^(.*)-transition$/);if(i==="paint"&&I&&A[I[1]]&&A[I[1]].transition)return Vn({key:o,value:_,valueSpec:m.transition,style:c,styleSpec:m});const B=r.valueSpec||A[w];if(!B)return[new ct(o,_,`unknown property "${w}"`)];let U;if(Mi(_)==="string"&&Ci(B)&&!B.tokens&&(U=/^{([^}]+)}$/.exec(_)))return[new ct(o,_,`"${w}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(U[1])} }\`.`)];const G=[];return r.layerType==="symbol"&&(w==="text-field"&&c&&!c.glyphs&&G.push(new ct(o,_,'use of "text-field" requires a style "glyphs" property')),w==="text-font"&&Ki(Ft(_))&&it(_.type)==="identity"&&G.push(new ct(o,_,'"text-font" does not support identity functions'))),G.concat(Vn({key:r.key,value:_,valueSpec:B,style:c,styleSpec:m,expressionContext:"property",propertyType:i,propertyKey:w}))}function nn(r){return va(r,"paint")}function _a(r){return va(r,"layout")}function Gr(r){let i=[];const o=r.value,c=r.key,m=r.style,_=r.styleSpec;o.type||o.ref||i.push(new ct(c,o,'either "type" or "ref" is required'));let w=it(o.type);const A=it(o.ref);if(o.id){const I=it(o.id);for(let B=0;B<r.arrayIndex;B++){const U=m.layers[B];it(U.id)===I&&i.push(new ct(c,o.id,`duplicate layer id "${o.id}", previously used at line ${U.id.__line__}`))}}if("ref"in o){let I;["type","source","source-layer","filter","layout"].forEach(B=>{B in o&&i.push(new ct(c,o[B],`"${B}" is prohibited for ref layers`))}),m.layers.forEach(B=>{it(B.id)===A&&(I=B)}),I?I.ref?i.push(new ct(c,o.ref,"ref cannot reference another ref layer")):w=it(I.type):i.push(new ct(c,o.ref,`ref layer "${A}" not found`))}else if(w!=="background")if(o.source){const I=m.sources&&m.sources[o.source],B=I&&it(I.type);I?B==="vector"&&w==="raster"?i.push(new ct(c,o.source,`layer "${o.id}" requires a raster source`)):B==="raster"&&w!=="raster"?i.push(new ct(c,o.source,`layer "${o.id}" requires a vector source`)):B!=="vector"||o["source-layer"]?B==="raster-dem"&&w!=="hillshade"?i.push(new ct(c,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):w!=="line"||!o.paint||!o.paint["line-gradient"]||B==="geojson"&&I.lineMetrics||i.push(new ct(c,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new ct(c,o,`layer "${o.id}" must specify a "source-layer"`)):i.push(new ct(c,o.source,`source "${o.source}" not found`))}else i.push(new ct(c,o,'missing required property "source"'));return i=i.concat(xr({key:c,value:o,valueSpec:_.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Vn({key:`${c}.type`,value:o.type,valueSpec:_.layer.type,style:r.style,styleSpec:r.styleSpec,object:o,objectKey:"type"}),filter:jo,layout:I=>xr({layer:o,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":B=>_a(dn({layerType:w},B))}}),paint:I=>xr({layer:o,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":B=>nn(dn({layerType:w},B))}})}})),i}function sr(r){const i=r.value,o=r.key,c=Mi(i);return c!=="string"?[new ct(o,i,`string expected, ${c} found`)]:[]}const nl={promoteId:function({key:r,value:i}){if(Mi(i)==="string")return sr({key:r,value:i});{const o=[];for(const c in i)o.push(...sr({key:`${r}.${c}`,value:i[c]}));return o}}};function qo(r){const i=r.value,o=r.key,c=r.styleSpec,m=r.style;if(!i.type)return[new ct(o,i,'"type" is required')];const _=it(i.type);let w;switch(_){case"vector":case"raster":case"raster-dem":return w=xr({key:o,value:i,valueSpec:c[`source_${_.replace("-","_")}`],style:r.style,styleSpec:c,objectElementValidators:nl}),w;case"geojson":if(w=xr({key:o,value:i,valueSpec:c.source_geojson,style:m,styleSpec:c,objectElementValidators:nl}),i.cluster)for(const A in i.clusterProperties){const[I,B]=i.clusterProperties[A],U=typeof I=="string"?[I,["accumulated"],["get",A]]:I;w.push(...ho({key:`${o}.${A}.map`,value:B,expressionContext:"cluster-map"})),w.push(...ho({key:`${o}.${A}.reduce`,value:U,expressionContext:"cluster-reduce"}))}return w;case"video":return xr({key:o,value:i,valueSpec:c.source_video,style:m,styleSpec:c});case"image":return xr({key:o,value:i,valueSpec:c.source_image,style:m,styleSpec:c});case"canvas":return[new ct(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ma({key:`${o}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,styleSpec:c})}}function xa(r){const i=r.value,o=r.styleSpec,c=o.light,m=r.style;let _=[];const w=Mi(i);if(i===void 0)return _;if(w!=="object")return _=_.concat([new ct("light",i,`object expected, ${w} found`)]),_;for(const A in i){const I=A.match(/^(.*)-transition$/);_=_.concat(I&&c[I[1]]&&c[I[1]].transition?Vn({key:A,value:i[A],valueSpec:o.transition,style:m,styleSpec:o}):c[A]?Vn({key:A,value:i[A],valueSpec:c[A],style:m,styleSpec:o}):[new ct(A,i[A],`unknown property "${A}"`)])}return _}function Lr(r){const i=r.value,o=r.styleSpec,c=o.terrain,m=r.style;let _=[];const w=Mi(i);if(i===void 0)return _;if(w!=="object")return _=_.concat([new ct("terrain",i,`object expected, ${w} found`)]),_;for(const A in i)_=_.concat(c[A]?Vn({key:A,value:i[A],valueSpec:c[A],style:m,styleSpec:o}):[new ct(A,i[A],`unknown property "${A}"`)]);return _}const Go={"*":()=>[],array:Ru,boolean:function(r){const i=r.value,o=r.key,c=Mi(i);return c!=="boolean"?[new ct(o,i,`boolean expected, ${c} found`)]:[]},number:tl,color:function(r){const i=r.key,o=r.value,c=Mi(o);return c!=="string"?[new ct(i,o,`color expected, ${c} found`)]:Lo(o)===null?[new ct(i,o,`color expected, "${o}" found`)]:[]},constants:Hn,enum:ma,filter:jo,function:Bu,layer:Gr,object:xr,source:qo,light:xa,terrain:Lr,string:sr,formatted:function(r){return sr(r).length===0?[]:ho(r)},resolvedImage:function(r){return sr(r).length===0?[]:ho(r)},padding:function(r){const i=r.key,o=r.value;if(Mi(o)==="array"){if(o.length<1||o.length>4)return[new ct(i,o,`padding requires 1 to 4 values; ${o.length} values found`)];const c={type:"number"};let m=[];for(let _=0;_<o.length;_++)m=m.concat(Vn({key:`${i}[${_}]`,value:o[_],valueSpec:c}));return m}return tl({key:i,value:o,valueSpec:{}})}};function Vn(r){const i=r.value,o=r.valueSpec,c=r.styleSpec;return o.expression&&Ki(it(i))?Bu(r):o.expression&&ns(Ft(i))?ho(r):o.type&&Go[o.type]?Go[o.type](r):xr(dn({},r,{valueSpec:o.type?c[o.type]:o}))}function $l(r){const i=r.value,o=r.key,c=sr(r);return c.length||(i.indexOf("{fontstack}")===-1&&c.push(new ct(o,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&c.push(new ct(o,i,'"glyphs" url must include a "{range}" token'))),c}function ks(r,i=Le){let o=[];return o=o.concat(Vn({key:"",value:r,valueSpec:i.$root,styleSpec:i,style:r,objectElementValidators:{glyphs:$l,"*":()=>[]}})),r.constants&&(o=o.concat(Hn({key:"constants",value:r.constants,style:r,styleSpec:i}))),wa(o)}function wa(r){return[].concat(r).sort((i,o)=>i.line-o.line)}function Wr(r){return function(...i){return wa(r.apply(this,i))}}ks.source=Wr(qo),ks.light=Wr(xa),ks.terrain=Wr(Lr),ks.layer=Wr(Gr),ks.filter=Wr(jo),ks.paintProperty=Wr(nn),ks.layoutProperty=Wr(_a);const fo=ks,Xl=fo.light,rl=fo.paintProperty,Kl=fo.layoutProperty;function Wo(r,i){let o=!1;if(i&&i.length)for(const c of i)r.fire(new bi(new Error(c.message))),o=!0;return o}class ba{constructor(i,o,c){const m=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const w=new Int32Array(this.arrayBuffer);i=w[0],this.d=(o=w[1])+2*(c=w[2]);for(let I=0;I<this.d*this.d;I++){const B=w[3+I],U=w[3+I+1];m.push(B===U?null:w.subarray(B,U))}const A=w[3+m.length+1];this.keys=w.subarray(w[3+m.length],A),this.bboxes=w.subarray(A),this.insert=this._insertReadonly}else{this.d=o+2*c;for(let w=0;w<this.d*this.d;w++)m.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=i,this.padding=c,this.scale=o/i,this.uid=0;const _=c/o*i;this.min=-_,this.max=i+_}insert(i,o,c,m,_){this._forEachCell(o,c,m,_,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(o),this.bboxes.push(c),this.bboxes.push(m),this.bboxes.push(_)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,o,c,m,_,w){this.cells[_].push(w)}query(i,o,c,m,_){const w=this.min,A=this.max;if(i<=w&&o<=w&&A<=c&&A<=m&&!_)return Array.prototype.slice.call(this.keys);{const I=[];return this._forEachCell(i,o,c,m,this._queryCell,I,{},_),I}}_queryCell(i,o,c,m,_,w,A,I){const B=this.cells[_];if(B!==null){const U=this.keys,G=this.bboxes;for(let K=0;K<B.length;K++){const te=B[K];if(A[te]===void 0){const ie=4*te;(I?I(G[ie+0],G[ie+1],G[ie+2],G[ie+3]):i<=G[ie+2]&&o<=G[ie+3]&&c>=G[ie+0]&&m>=G[ie+1])?(A[te]=!0,w.push(U[te])):A[te]=!1}}}}_forEachCell(i,o,c,m,_,w,A,I){const B=this._convertToCellCoord(i),U=this._convertToCellCoord(o),G=this._convertToCellCoord(c),K=this._convertToCellCoord(m);for(let te=B;te<=G;te++)for(let ie=U;ie<=K;ie++){const ye=this.d*ie+te;if((!I||I(this._convertFromCellCoord(te),this._convertFromCellCoord(ie),this._convertFromCellCoord(te+1),this._convertFromCellCoord(ie+1)))&&_.call(this,i,o,c,m,ye,w,A,I))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,o=3+this.cells.length+1+1;let c=0;for(let w=0;w<this.cells.length;w++)c+=this.cells[w].length;const m=new Int32Array(o+c+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let _=o;for(let w=0;w<i.length;w++){const A=i[w];m[3+w]=_,m.set(A,_),_+=A.length}return m[3+i.length]=_,m.set(this.keys,_),_+=this.keys.length,m[3+i.length+1]=_,m.set(this.bboxes,_),_+=this.bboxes.length,m.buffer}static serialize(i,o){const c=i.toArrayBuffer();return o&&o.push(c),{buffer:c}}static deserialize(i){return new ba(i.buffer)}}const ne={};function le(r,i,o={}){if(ne[r])throw new Error(`${r} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:r,writeable:!1}),ne[r]={klass:i,omit:o.omit||[],shallow:o.shallow||[]}}le("Object",Object),le("TransferableGridIndex",ba),le("Color",ae),le("Error",Error),le("AJAXError",on),le("ResolvedImage",Ce),le("StylePropertyFunction",Vo),le("StyleExpression",fa,{omit:["_evaluator"]}),le("ZoomDependentExpression",As),le("ZoomConstantExpression",Fi),le("CompoundExpression",$i,{omit:["_evaluate"]});for(const r in li)li[r]._classRegistryKey||le(`Expression_${r}`,li[r]);function Ae(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Qe(r,i){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof Blob)return r;if(Ae(r)||Di(r))return i&&i.push(r),r;if(ArrayBuffer.isView(r)){const o=r;return i&&i.push(o.buffer),o}if(r instanceof ImageData)return i&&i.push(r.data.buffer),r;if(Array.isArray(r)){const o=[];for(const c of r)o.push(Qe(c,i));return o}if(typeof r=="object"){const o=r.constructor,c=o._classRegistryKey;if(!c)throw new Error("can't serialize object of unregistered class");if(!ne[c])throw new Error(`${c} is not registered.`);const m=o.serialize?o.serialize(r,i):{};if(o.serialize){if(i&&m===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const _ in r){if(!r.hasOwnProperty(_)||ne[c].omit.indexOf(_)>=0)continue;const w=r[_];m[_]=ne[c].shallow.indexOf(_)>=0?w:Qe(w,i)}r instanceof Error&&(m.message=r.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(m.$name=c),m}throw new Error("can't serialize object of type "+typeof r)}function Ie(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof Blob||Ae(r)||Di(r)||ArrayBuffer.isView(r)||r instanceof ImageData)return r;if(Array.isArray(r))return r.map(Ie);if(typeof r=="object"){const i=r.$name||"Object";if(!ne[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:o}=ne[i];if(!o)throw new Error(`can't deserialize unregistered class ${i}`);if(o.deserialize)return o.deserialize(r);const c=Object.create(o.prototype);for(const m of Object.keys(r)){if(m==="$name")continue;const _=r[m];c[m]=ne[i].shallow.indexOf(m)>=0?_:Ie(_)}return c}throw new Error("can't deserialize object of type "+typeof r)}class nt{constructor(){this.first=!0}update(i,o){const c=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=c,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=c,!0):(this.lastFloorZoom>c?(this.lastIntegerZoom=c+1,this.lastIntegerZoomTime=o):this.lastFloorZoom<c&&(this.lastIntegerZoom=c,this.lastIntegerZoomTime=o),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=c,!0))}}const Pe={"Latin-1 Supplement":r=>r>=128&&r<=255,Arabic:r=>r>=1536&&r<=1791,"Arabic Supplement":r=>r>=1872&&r<=1919,"Arabic Extended-A":r=>r>=2208&&r<=2303,"Hangul Jamo":r=>r>=4352&&r<=4607,"Unified Canadian Aboriginal Syllabics":r=>r>=5120&&r<=5759,Khmer:r=>r>=6016&&r<=6143,"Unified Canadian Aboriginal Syllabics Extended":r=>r>=6320&&r<=6399,"General Punctuation":r=>r>=8192&&r<=8303,"Letterlike Symbols":r=>r>=8448&&r<=8527,"Number Forms":r=>r>=8528&&r<=8591,"Miscellaneous Technical":r=>r>=8960&&r<=9215,"Control Pictures":r=>r>=9216&&r<=9279,"Optical Character Recognition":r=>r>=9280&&r<=9311,"Enclosed Alphanumerics":r=>r>=9312&&r<=9471,"Geometric Shapes":r=>r>=9632&&r<=9727,"Miscellaneous Symbols":r=>r>=9728&&r<=9983,"Miscellaneous Symbols and Arrows":r=>r>=11008&&r<=11263,"CJK Radicals Supplement":r=>r>=11904&&r<=12031,"Kangxi Radicals":r=>r>=12032&&r<=12255,"Ideographic Description Characters":r=>r>=12272&&r<=12287,"CJK Symbols and Punctuation":r=>r>=12288&&r<=12351,Hiragana:r=>r>=12352&&r<=12447,Katakana:r=>r>=12448&&r<=12543,Bopomofo:r=>r>=12544&&r<=12591,"Hangul Compatibility Jamo":r=>r>=12592&&r<=12687,Kanbun:r=>r>=12688&&r<=12703,"Bopomofo Extended":r=>r>=12704&&r<=12735,"CJK Strokes":r=>r>=12736&&r<=12783,"Katakana Phonetic Extensions":r=>r>=12784&&r<=12799,"Enclosed CJK Letters and Months":r=>r>=12800&&r<=13055,"CJK Compatibility":r=>r>=13056&&r<=13311,"CJK Unified Ideographs Extension A":r=>r>=13312&&r<=19903,"Yijing Hexagram Symbols":r=>r>=19904&&r<=19967,"CJK Unified Ideographs":r=>r>=19968&&r<=40959,"Yi Syllables":r=>r>=40960&&r<=42127,"Yi Radicals":r=>r>=42128&&r<=42191,"Hangul Jamo Extended-A":r=>r>=43360&&r<=43391,"Hangul Syllables":r=>r>=44032&&r<=55215,"Hangul Jamo Extended-B":r=>r>=55216&&r<=55295,"Private Use Area":r=>r>=57344&&r<=63743,"CJK Compatibility Ideographs":r=>r>=63744&&r<=64255,"Arabic Presentation Forms-A":r=>r>=64336&&r<=65023,"Vertical Forms":r=>r>=65040&&r<=65055,"CJK Compatibility Forms":r=>r>=65072&&r<=65103,"Small Form Variants":r=>r>=65104&&r<=65135,"Arabic Presentation Forms-B":r=>r>=65136&&r<=65279,"Halfwidth and Fullwidth Forms":r=>r>=65280&&r<=65519};function gt(r){for(const i of r)if(Xt(i.charCodeAt(0)))return!0;return!1}function Et(r){for(const i of r)if(!ei(i.charCodeAt(0)))return!1;return!0}function ei(r){return!(Pe.Arabic(r)||Pe["Arabic Supplement"](r)||Pe["Arabic Extended-A"](r)||Pe["Arabic Presentation Forms-A"](r)||Pe["Arabic Presentation Forms-B"](r))}function Xt(r){return!(r!==746&&r!==747&&(r<4352||!(Pe["Bopomofo Extended"](r)||Pe.Bopomofo(r)||Pe["CJK Compatibility Forms"](r)&&!(r>=65097&&r<=65103)||Pe["CJK Compatibility Ideographs"](r)||Pe["CJK Compatibility"](r)||Pe["CJK Radicals Supplement"](r)||Pe["CJK Strokes"](r)||!(!Pe["CJK Symbols and Punctuation"](r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||Pe["CJK Unified Ideographs Extension A"](r)||Pe["CJK Unified Ideographs"](r)||Pe["Enclosed CJK Letters and Months"](r)||Pe["Hangul Compatibility Jamo"](r)||Pe["Hangul Jamo Extended-A"](r)||Pe["Hangul Jamo Extended-B"](r)||Pe["Hangul Jamo"](r)||Pe["Hangul Syllables"](r)||Pe.Hiragana(r)||Pe["Ideographic Description Characters"](r)||Pe.Kanbun(r)||Pe["Kangxi Radicals"](r)||Pe["Katakana Phonetic Extensions"](r)||Pe.Katakana(r)&&r!==12540||!(!Pe["Halfwidth and Fullwidth Forms"](r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!Pe["Small Form Variants"](r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||Pe["Unified Canadian Aboriginal Syllabics"](r)||Pe["Unified Canadian Aboriginal Syllabics Extended"](r)||Pe["Vertical Forms"](r)||Pe["Yijing Hexagram Symbols"](r)||Pe["Yi Syllables"](r)||Pe["Yi Radicals"](r))))}function ni(r){return!(Xt(r)||function(i){return!!(Pe["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||Pe["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||Pe["Letterlike Symbols"](i)||Pe["Number Forms"](i)||Pe["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||Pe["Control Pictures"](i)&&i!==9251||Pe["Optical Character Recognition"](i)||Pe["Enclosed Alphanumerics"](i)||Pe["Geometric Shapes"](i)||Pe["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||Pe["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Pe["CJK Symbols and Punctuation"](i)||Pe.Katakana(i)||Pe["Private Use Area"](i)||Pe["CJK Compatibility Forms"](i)||Pe["Small Form Variants"](i)||Pe["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(r))}function Ai(r){return r>=1424&&r<=2303||Pe["Arabic Presentation Forms-A"](r)||Pe["Arabic Presentation Forms-B"](r)}function an(r,i){return!(!i&&Ai(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||Pe.Khmer(r))}function ti(r){for(const i of r)if(Ai(i.charCodeAt(0)))return!0;return!1}const Pn="deferred",Zn="loading",dr="loaded";let fn=null,$n="unavailable",Hr=null;const wr=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&($n="error"),fn&&fn(r)};function sl(){Vc.fire(new di("pluginStateChange",{pluginStatus:$n,pluginURL:Hr}))}const Vc=new ki,Yl=function(){return $n},kd=function(){if($n!==Pn||!Hr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$n=Zn,sl(),Hr&&mn({url:Hr},r=>{r?wr(r):($n=dr,sl())})},ys={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>$n===dr||ys.applyArabicShaping!=null,isLoading:()=>$n===Zn,setState(r){if(!qe())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");$n=r.pluginStatus,Hr=r.pluginURL},isParsed(){if(!qe())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return ys.applyArabicShaping!=null&&ys.processBidirectionalText!=null&&ys.processStyledBidirectionalText!=null},getPluginURL(){if(!qe())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Hr}};class wn{constructor(i,o){this.zoom=i,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.zoomHistory=o.zoomHistory,this.transition=o.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new nt,this.transition={})}isSupportedScript(i){return function(o,c){for(const m of o)if(!an(m.charCodeAt(0),c))return!1;return!0}(i,ys.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,o=i-Math.floor(i),c=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:o+(1-o)*c}:{fromScale:.5,toScale:1,t:1-(1-c)*o}}}class Ql{constructor(i,o){this.property=i,this.value=o,this.expression=function(c,m){if(Ki(c))return new Vo(c,m);if(ns(c)){const _=Hl(c,m);if(_.result==="error")throw new Error(_.value.map(w=>`${w.key}: ${w.message}`).join(", "));return _.value}{let _=c;return m.type==="color"&&typeof c=="string"?_=ae.parse(c):m.type!=="padding"||typeof c!="number"&&!Array.isArray(c)||(_=ve.parse(c)),{kind:"constant",evaluate:()=>_}}}(o===void 0?i.specification.default:o,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,o,c){return this.property.possiblyEvaluate(this,i,o,c)}}class Ou{constructor(i){this.property=i,this.value=new Ql(i,void 0)}transitioned(i,o){return new Id(this.property,this.value,o,se({},i.transition,this.transition),i.now)}untransitioned(){return new Id(this.property,this.value,null,{},0)}}class Pd{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return F(this._values[i].value.value)}setValue(i,o){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Ou(this._values[i].property)),this._values[i].value=new Ql(this._values[i].property,o===null?void 0:F(o))}getTransition(i){return F(this._values[i].transition)}setTransition(i,o){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Ou(this._values[i].property)),this._values[i].transition=F(o)||void 0}serialize(){const i={};for(const o of Object.keys(this._values)){const c=this.getValue(o);c!==void 0&&(i[o]=c);const m=this.getTransition(o);m!==void 0&&(i[`${o}-transition`]=m)}return i}transitioned(i,o){const c=new Md(this._properties);for(const m of Object.keys(this._values))c._values[m]=this._values[m].transitioned(i,o._values[m]);return c}untransitioned(){const i=new Md(this._properties);for(const o of Object.keys(this._values))i._values[o]=this._values[o].untransitioned();return i}}class Id{constructor(i,o,c,m,_){this.property=i,this.value=o,this.begin=_+m.delay||0,this.end=this.begin+m.duration||0,i.specification.transition&&(m.delay||m.duration)&&(this.prior=c)}possiblyEvaluate(i,o,c){const m=i.now||0,_=this.value.possiblyEvaluate(i,o,c),w=this.prior;if(w){if(m>this.end)return this.prior=null,_;if(this.value.isDataDriven())return this.prior=null,_;if(m<this.begin)return w.possiblyEvaluate(i,o,c);{const A=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(w.possiblyEvaluate(i,o,c),_,function(I){if(I<=0)return 0;if(I>=1)return 1;const B=I*I,U=B*I;return 4*(I<.5?U:3*(I-B)+U-.75)}(A))}}return _}}class Md{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,o,c){const m=new Jl(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].possiblyEvaluate(i,o,c);return m}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class nm{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}getValue(i){return F(this._values[i].value)}setValue(i,o){this._values[i]=new Ql(this._values[i].property,o===null?void 0:F(o))}serialize(){const i={};for(const o of Object.keys(this._values)){const c=this.getValue(o);c!==void 0&&(i[o]=c)}return i}possiblyEvaluate(i,o,c){const m=new Jl(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].possiblyEvaluate(i,o,c);return m}}class Zs{constructor(i,o,c){this.property=i,this.value=o,this.parameters=c}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,o,c,m){return this.property.evaluate(this.value,this.parameters,i,o,c,m)}}class Jl{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Rt{constructor(i){this.specification=i}possiblyEvaluate(i,o){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(o)}interpolate(i,o,c){const m=ca[this.specification.type];return m?m(i,o,c):i}}class Kt{constructor(i,o){this.specification=i,this.overrides=o}possiblyEvaluate(i,o,c,m){return new Zs(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(o,null,{},c,m)}:i.expression,o)}interpolate(i,o,c){if(i.value.kind!=="constant"||o.value.kind!=="constant")return i;if(i.value.value===void 0||o.value.value===void 0)return new Zs(this,{kind:"constant",value:void 0},i.parameters);const m=ca[this.specification.type];return m?new Zs(this,{kind:"constant",value:m(i.value.value,o.value.value,c)},i.parameters):i}evaluate(i,o,c,m,_,w){return i.kind==="constant"?i.value:i.evaluate(o,c,m,_,w)}}class ol extends Kt{possiblyEvaluate(i,o,c,m){if(i.value===void 0)return new Zs(this,{kind:"constant",value:void 0},o);if(i.expression.kind==="constant"){const _=i.expression.evaluate(o,null,{},c,m),w=i.property.specification.type==="resolvedImage"&&typeof _!="string"?_.name:_,A=this._calculate(w,w,w,o);return new Zs(this,{kind:"constant",value:A},o)}if(i.expression.kind==="camera"){const _=this._calculate(i.expression.evaluate({zoom:o.zoom-1}),i.expression.evaluate({zoom:o.zoom}),i.expression.evaluate({zoom:o.zoom+1}),o);return new Zs(this,{kind:"constant",value:_},o)}return new Zs(this,i.expression,o)}evaluate(i,o,c,m,_,w){if(i.kind==="source"){const A=i.evaluate(o,c,m,_,w);return this._calculate(A,A,A,o)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(o.zoom)-1},c,m),i.evaluate({zoom:Math.floor(o.zoom)},c,m),i.evaluate({zoom:Math.floor(o.zoom)+1},c,m),o):i.value}_calculate(i,o,c,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:i,to:o}:{from:c,to:o}}interpolate(i){return i}}class Uc{constructor(i){this.specification=i}possiblyEvaluate(i,o,c,m){if(i.value!==void 0){if(i.expression.kind==="constant"){const _=i.expression.evaluate(o,null,{},c,m);return this._calculate(_,_,_,o)}return this._calculate(i.expression.evaluate(new wn(Math.floor(o.zoom-1),o)),i.expression.evaluate(new wn(Math.floor(o.zoom),o)),i.expression.evaluate(new wn(Math.floor(o.zoom+1),o)),o)}}_calculate(i,o,c,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:i,to:o}:{from:c,to:o}}interpolate(i){return i}}class Ho{constructor(i){this.specification=i}possiblyEvaluate(i,o,c,m){return!!i.expression.evaluate(o,null,{},c,m)}interpolate(){return!1}}class pr{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const o in i){const c=i[o];c.specification.overridable&&this.overridableProperties.push(o);const m=this.defaultPropertyValues[o]=new Ql(c,void 0),_=this.defaultTransitionablePropertyValues[o]=new Ou(c);this.defaultTransitioningPropertyValues[o]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[o]=m.possiblyEvaluate({})}}}le("DataDrivenProperty",Kt),le("DataConstantProperty",Rt),le("CrossFadedDataDrivenProperty",ol),le("CrossFadedProperty",Uc),le("ColorRampProperty",Ho);const Zo="-transition";class $s extends ki{constructor(i,o){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),o.layout&&(this._unevaluatedLayout=new nm(o.layout)),o.paint)){this._transitionablePaint=new Pd(o.paint);for(const c in i.paint)this.setPaintProperty(c,i.paint[c],{validate:!1});for(const c in i.layout)this.setLayoutProperty(c,i.layout[c],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Jl(o.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,o,c={}){o!=null&&this._validate(Kl,`layers.${this.id}.layout.${i}`,i,o,c)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,o):this.visibility=o)}getPaintProperty(i){return i.endsWith(Zo)?this._transitionablePaint.getTransition(i.slice(0,-Zo.length)):this._transitionablePaint.getValue(i)}setPaintProperty(i,o,c={}){if(o!=null&&this._validate(rl,`layers.${this.id}.paint.${i}`,i,o,c))return!1;if(i.endsWith(Zo))return this._transitionablePaint.setTransition(i.slice(0,-Zo.length),o||void 0),!1;{const m=this._transitionablePaint._values[i],_=m.property.specification["property-type"]==="cross-faded-data-driven",w=m.value.isDataDriven(),A=m.value;this._transitionablePaint.setValue(i,o),this._handleSpecialPaintPropertyUpdate(i);const I=this._transitionablePaint._values[i].value;return I.isDataDriven()||w||_||this._handleOverridablePaintPropertyUpdate(i,A,I)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,o,c){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,o){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,o)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),D(i,(o,c)=>!(o===void 0||c==="layout"&&!Object.keys(o).length||c==="paint"&&!Object.keys(o).length))}_validate(i,o,c,m,_={}){return(!_||_.validate!==!1)&&Wo(this,i.call(fo,{key:o,layerType:this.type,objectKey:c,value:m,styleSpec:Le,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const o=this.paint.get(i);if(o instanceof Zs&&Ci(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}}const zd={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class $o{constructor(i,o){this._structArray=i,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ln{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,o){return i._trim(),o&&(i.isTransferred=!0,o.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const o=Object.create(this.prototype);return o.arrayBuffer=i.arrayBuffer,o.length=i.length,o.capacity=i.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Xn(r,i=1){let o=0,c=0;return{members:r.map(m=>{const _=zd[m.type].BYTES_PER_ELEMENT,w=o=jc(o,Math.max(i,_)),A=m.components||1;return c=Math.max(c,_),o+=_*A,{name:m.name,type:m.type,components:A,offset:w}}),size:jc(o,Math.max(c,i)),alignment:i}}function jc(r,i){return Math.ceil(r/i)*i}class Sa extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o){const c=this.length;return this.resize(c+1),this.emplace(c,i,o)}emplace(i,o,c){const m=2*i;return this.int16[m+0]=o,this.int16[m+1]=c,i}}Sa.prototype.bytesPerElement=4,le("StructArrayLayout2i4",Sa);class f extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,c,m){const _=this.length;return this.resize(_+1),this.emplace(_,i,o,c,m)}emplace(i,o,c,m,_){const w=4*i;return this.int16[w+0]=o,this.int16[w+1]=c,this.int16[w+2]=m,this.int16[w+3]=_,i}}f.prototype.bytesPerElement=8,le("StructArrayLayout4i8",f);class n extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_,w){const A=this.length;return this.resize(A+1),this.emplace(A,i,o,c,m,_,w)}emplace(i,o,c,m,_,w,A){const I=6*i;return this.int16[I+0]=o,this.int16[I+1]=c,this.int16[I+2]=m,this.int16[I+3]=_,this.int16[I+4]=w,this.int16[I+5]=A,i}}n.prototype.bytesPerElement=12,le("StructArrayLayout2i4i12",n);class l extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_,w){const A=this.length;return this.resize(A+1),this.emplace(A,i,o,c,m,_,w)}emplace(i,o,c,m,_,w,A){const I=4*i,B=8*i;return this.int16[I+0]=o,this.int16[I+1]=c,this.uint8[B+4]=m,this.uint8[B+5]=_,this.uint8[B+6]=w,this.uint8[B+7]=A,i}}l.prototype.bytesPerElement=8,le("StructArrayLayout2i4ub8",l);class d extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o){const c=this.length;return this.resize(c+1),this.emplace(c,i,o)}emplace(i,o,c){const m=2*i;return this.float32[m+0]=o,this.float32[m+1]=c,i}}d.prototype.bytesPerElement=8,le("StructArrayLayout2f8",d);class g extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_,w,A,I,B,U){const G=this.length;return this.resize(G+1),this.emplace(G,i,o,c,m,_,w,A,I,B,U)}emplace(i,o,c,m,_,w,A,I,B,U,G){const K=10*i;return this.uint16[K+0]=o,this.uint16[K+1]=c,this.uint16[K+2]=m,this.uint16[K+3]=_,this.uint16[K+4]=w,this.uint16[K+5]=A,this.uint16[K+6]=I,this.uint16[K+7]=B,this.uint16[K+8]=U,this.uint16[K+9]=G,i}}g.prototype.bytesPerElement=20,le("StructArrayLayout10ui20",g);class x extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_,w,A,I,B,U,G,K){const te=this.length;return this.resize(te+1),this.emplace(te,i,o,c,m,_,w,A,I,B,U,G,K)}emplace(i,o,c,m,_,w,A,I,B,U,G,K,te){const ie=12*i;return this.int16[ie+0]=o,this.int16[ie+1]=c,this.int16[ie+2]=m,this.int16[ie+3]=_,this.uint16[ie+4]=w,this.uint16[ie+5]=A,this.uint16[ie+6]=I,this.uint16[ie+7]=B,this.int16[ie+8]=U,this.int16[ie+9]=G,this.int16[ie+10]=K,this.int16[ie+11]=te,i}}x.prototype.bytesPerElement=24,le("StructArrayLayout4i4ui4i24",x);class C extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,c){const m=this.length;return this.resize(m+1),this.emplace(m,i,o,c)}emplace(i,o,c,m){const _=3*i;return this.float32[_+0]=o,this.float32[_+1]=c,this.float32[_+2]=m,i}}C.prototype.bytesPerElement=12,le("StructArrayLayout3f12",C);class M extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint32[1*i+0]=o,i}}M.prototype.bytesPerElement=4,le("StructArrayLayout1ul4",M);class L extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_,w,A,I,B){const U=this.length;return this.resize(U+1),this.emplace(U,i,o,c,m,_,w,A,I,B)}emplace(i,o,c,m,_,w,A,I,B,U){const G=10*i,K=5*i;return this.int16[G+0]=o,this.int16[G+1]=c,this.int16[G+2]=m,this.int16[G+3]=_,this.int16[G+4]=w,this.int16[G+5]=A,this.uint32[K+3]=I,this.uint16[G+8]=B,this.uint16[G+9]=U,i}}L.prototype.bytesPerElement=20,le("StructArrayLayout6i1ul2ui20",L);class N extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_,w){const A=this.length;return this.resize(A+1),this.emplace(A,i,o,c,m,_,w)}emplace(i,o,c,m,_,w,A){const I=6*i;return this.int16[I+0]=o,this.int16[I+1]=c,this.int16[I+2]=m,this.int16[I+3]=_,this.int16[I+4]=w,this.int16[I+5]=A,i}}N.prototype.bytesPerElement=12,le("StructArrayLayout2i2i2i12",N);class q extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_){const w=this.length;return this.resize(w+1),this.emplace(w,i,o,c,m,_)}emplace(i,o,c,m,_,w){const A=4*i,I=8*i;return this.float32[A+0]=o,this.float32[A+1]=c,this.float32[A+2]=m,this.int16[I+6]=_,this.int16[I+7]=w,i}}q.prototype.bytesPerElement=16,le("StructArrayLayout2f1f2i16",q);class $ extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,c,m){const _=this.length;return this.resize(_+1),this.emplace(_,i,o,c,m)}emplace(i,o,c,m,_){const w=12*i,A=3*i;return this.uint8[w+0]=o,this.uint8[w+1]=c,this.float32[A+1]=m,this.float32[A+2]=_,i}}$.prototype.bytesPerElement=12,le("StructArrayLayout2ub2f12",$);class J extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,c){const m=this.length;return this.resize(m+1),this.emplace(m,i,o,c)}emplace(i,o,c,m){const _=3*i;return this.uint16[_+0]=o,this.uint16[_+1]=c,this.uint16[_+2]=m,i}}J.prototype.bytesPerElement=6,le("StructArrayLayout3ui6",J);class pe extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_,w,A,I,B,U,G,K,te,ie,ye,me,Me){const Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,i,o,c,m,_,w,A,I,B,U,G,K,te,ie,ye,me,Me)}emplace(i,o,c,m,_,w,A,I,B,U,G,K,te,ie,ye,me,Me,Ve){const ke=24*i,Be=12*i,tt=48*i;return this.int16[ke+0]=o,this.int16[ke+1]=c,this.uint16[ke+2]=m,this.uint16[ke+3]=_,this.uint32[Be+2]=w,this.uint32[Be+3]=A,this.uint32[Be+4]=I,this.uint16[ke+10]=B,this.uint16[ke+11]=U,this.uint16[ke+12]=G,this.float32[Be+7]=K,this.float32[Be+8]=te,this.uint8[tt+36]=ie,this.uint8[tt+37]=ye,this.uint8[tt+38]=me,this.uint32[Be+10]=Me,this.int16[ke+22]=Ve,i}}pe.prototype.bytesPerElement=48,le("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",pe);class ce extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,c,m,_,w,A,I,B,U,G,K,te,ie,ye,me,Me,Ve,ke,Be,tt,et,Pt,Dt,bt,vt,mt,St){const _t=this.length;return this.resize(_t+1),this.emplace(_t,i,o,c,m,_,w,A,I,B,U,G,K,te,ie,ye,me,Me,Ve,ke,Be,tt,et,Pt,Dt,bt,vt,mt,St)}emplace(i,o,c,m,_,w,A,I,B,U,G,K,te,ie,ye,me,Me,Ve,ke,Be,tt,et,Pt,Dt,bt,vt,mt,St,_t){const ht=34*i,Zt=17*i;return this.int16[ht+0]=o,this.int16[ht+1]=c,this.int16[ht+2]=m,this.int16[ht+3]=_,this.int16[ht+4]=w,this.int16[ht+5]=A,this.int16[ht+6]=I,this.int16[ht+7]=B,this.uint16[ht+8]=U,this.uint16[ht+9]=G,this.uint16[ht+10]=K,this.uint16[ht+11]=te,this.uint16[ht+12]=ie,this.uint16[ht+13]=ye,this.uint16[ht+14]=me,this.uint16[ht+15]=Me,this.uint16[ht+16]=Ve,this.uint16[ht+17]=ke,this.uint16[ht+18]=Be,this.uint16[ht+19]=tt,this.uint16[ht+20]=et,this.uint16[ht+21]=Pt,this.uint16[ht+22]=Dt,this.uint32[Zt+12]=bt,this.float32[Zt+13]=vt,this.float32[Zt+14]=mt,this.float32[Zt+15]=St,this.float32[Zt+16]=_t,i}}ce.prototype.bytesPerElement=68,le("StructArrayLayout8i15ui1ul4f68",ce);class de extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.float32[1*i+0]=o,i}}de.prototype.bytesPerElement=4,le("StructArrayLayout1f4",de);class Se extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,c){const m=this.length;return this.resize(m+1),this.emplace(m,i,o,c)}emplace(i,o,c,m){const _=3*i;return this.int16[_+0]=o,this.int16[_+1]=c,this.int16[_+2]=m,i}}Se.prototype.bytesPerElement=6,le("StructArrayLayout3i6",Se);class Ee extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,c){const m=this.length;return this.resize(m+1),this.emplace(m,i,o,c)}emplace(i,o,c,m){const _=4*i;return this.uint32[2*i+0]=o,this.uint16[_+2]=c,this.uint16[_+3]=m,i}}Ee.prototype.bytesPerElement=8,le("StructArrayLayout1ul2ui8",Ee);class De extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o){const c=this.length;return this.resize(c+1),this.emplace(c,i,o)}emplace(i,o,c){const m=2*i;return this.uint16[m+0]=o,this.uint16[m+1]=c,i}}De.prototype.bytesPerElement=4,le("StructArrayLayout2ui4",De);class fe extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint16[1*i+0]=o,i}}fe.prototype.bytesPerElement=2,le("StructArrayLayout1ui2",fe);class Oe extends Ln{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,c,m){const _=this.length;return this.resize(_+1),this.emplace(_,i,o,c,m)}emplace(i,o,c,m,_){const w=4*i;return this.float32[w+0]=o,this.float32[w+1]=c,this.float32[w+2]=m,this.float32[w+3]=_,i}}Oe.prototype.bytesPerElement=16,le("StructArrayLayout4f16",Oe);class Re extends $o{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Tt(this.anchorPointX,this.anchorPointY)}}Re.prototype.size=20;class Ze extends L{get(i){return new Re(this,i)}}le("CollisionBoxArray",Ze);class Xe extends $o{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Xe.prototype.size=48;class lt extends pe{get(i){return new Xe(this,i)}}le("PlacedSymbolArray",lt);class Ge extends $o{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Ge.prototype.size=68;class Ct extends ce{get(i){return new Ge(this,i)}}le("SymbolInstanceArray",Ct);class yt extends de{getoffsetX(i){return this.float32[1*i+0]}}le("GlyphOffsetArray",yt);class kt extends Se{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}le("SymbolLineVertexArray",kt);class pi extends $o{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}pi.prototype.size=8;class xi extends Ee{get(i){return new pi(this,i)}}le("FeatureIndexArray",xi);class Ht extends Sa{}class Ji extends Sa{}class en extends Sa{}class Ri extends n{}class Vi extends l{}class rn extends d{}class or extends g{}class Xs extends x{}class Ps extends C{}class Ks extends M{}class Xo extends N{}class vs extends ${}class Zr extends J{}class mo extends De{}const Fu=Xn([{name:"a_pos",components:2,type:"Int16"}],4),{members:er}=Fu;class Ei{constructor(i=[]){this.segments=i}prepareSegment(i,o,c,m){let _=this.segments[this.segments.length-1];return i>Ei.MAX_VERTEX_ARRAY_LENGTH&&xe(`Max vertices per segment is ${Ei.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!_||_.vertexLength+i>Ei.MAX_VERTEX_ARRAY_LENGTH||_.sortKey!==m)&&(_={vertexOffset:o.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0},m!==void 0&&(_.sortKey=m),this.segments.push(_)),_}get(){return this.segments}destroy(){for(const i of this.segments)for(const o in i.vaos)i.vaos[o].destroy()}static simpleSegment(i,o,c,m){return new Ei([{vertexOffset:i,primitiveOffset:o,vertexLength:c,primitiveLength:m,vaos:{},sortKey:0}])}}function Yi(r,i){return 256*(r=S(Math.floor(r),0,255))+S(Math.floor(i),0,255)}Ei.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,le("SegmentVector",Ei);const ar=Xn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var lr={exports:{}},bn={exports:{}};bn.exports=function(r,i){var o,c,m,_,w,A,I,B;for(c=r.length-(o=3&r.length),m=i,w=3432918353,A=461845907,B=0;B<c;)I=255&r.charCodeAt(B)|(255&r.charCodeAt(++B))<<8|(255&r.charCodeAt(++B))<<16|(255&r.charCodeAt(++B))<<24,++B,m=27492+(65535&(_=5*(65535&(m=(m^=I=(65535&(I=(I=(65535&I)*w+(((I>>>16)*w&65535)<<16)&4294967295)<<15|I>>>17))*A+(((I>>>16)*A&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(_>>>16)&65535)<<16);switch(I=0,o){case 3:I^=(255&r.charCodeAt(B+2))<<16;case 2:I^=(255&r.charCodeAt(B+1))<<8;case 1:m^=I=(65535&(I=(I=(65535&(I^=255&r.charCodeAt(B)))*w+(((I>>>16)*w&65535)<<16)&4294967295)<<15|I>>>17))*A+(((I>>>16)*A&65535)<<16)&4294967295}return m^=r.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var _s={exports:{}};_s.exports=function(r,i){for(var o,c=r.length,m=i^c,_=0;c>=4;)o=1540483477*(65535&(o=255&r.charCodeAt(_)|(255&r.charCodeAt(++_))<<8|(255&r.charCodeAt(++_))<<16|(255&r.charCodeAt(++_))<<24))+((1540483477*(o>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),c-=4,++_;switch(c){case 3:m^=(255&r.charCodeAt(_+2))<<16;case 2:m^=(255&r.charCodeAt(_+1))<<8;case 1:m=1540483477*(65535&(m^=255&r.charCodeAt(_)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var Ta=bn.exports,qc=_s.exports;lr.exports=Ta,lr.exports.murmur3=Ta,lr.exports.murmur2=qc;class al{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,o,c,m){this.ids.push(Dd(i)),this.positions.push(o,c,m)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const o=Dd(i);let c=0,m=this.ids.length-1;for(;c<m;){const w=c+m>>1;this.ids[w]>=o?m=w:c=w+1}const _=[];for(;this.ids[c]===o;)_.push({index:this.positions[3*c],start:this.positions[3*c+1],end:this.positions[3*c+2]}),c++;return _}static serialize(i,o){const c=new Float64Array(i.ids),m=new Uint32Array(i.positions);return Gc(c,m,0,c.length-1),o&&o.push(c.buffer,m.buffer),{ids:c,positions:m}}static deserialize(i){const o=new al;return o.ids=i.ids,o.positions=i.positions,o.indexed=!0,o}}function Dd(r){const i=+r;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:lr.exports(String(r))}function Gc(r,i,o,c){for(;o<c;){const m=r[o+c>>1];let _=o-1,w=c+1;for(;;){do _++;while(r[_]<m);do w--;while(r[w]>m);if(_>=w)break;Ko(r,_,w),Ko(i,3*_,3*w),Ko(i,3*_+1,3*w+1),Ko(i,3*_+2,3*w+2)}w-o<c-w?(Gc(r,i,o,w),o=w+1):(Gc(r,i,w+1,c),c=w)}}function Ko(r,i,o){const c=r[i];r[i]=r[o],r[o]=c}le("FeaturePositionMap",al);class Ca{constructor(i,o){this.gl=i.gl,this.location=o}}class Aa extends Ca{constructor(i,o){super(i,o),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class Vu extends Ca{constructor(i,o){super(i,o),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class w_ extends Ca{constructor(i,o){super(i,o),this.current=ae.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const OT=new Float32Array(16);function rm(r){return[Yi(255*r.r,255*r.g),Yi(255*r.b,255*r.a)]}class Wc{constructor(i,o,c){this.value=i,this.uniformNames=o.map(m=>`u_${m}`),this.type=c}setUniform(i,o,c){i.set(c.constantOr(this.value))}getBinding(i,o,c){return this.type==="color"?new w_(i,o):new Aa(i,o)}}class Uu{constructor(i,o){this.uniformNames=o.map(c=>`u_${c}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,o){this.pixelRatioFrom=o.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=o.tlbr,this.patternTo=i.tlbr}setUniform(i,o,c,m){const _=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;_&&i.set(_)}getBinding(i,o,c){return c.substr(0,9)==="u_pattern"?new Vu(i,o):new Aa(i,o)}}class Ea{constructor(i,o,c,m){this.expression=i,this.type=c,this.maxValue=0,this.paintVertexAttributes=o.map(_=>({name:`a_${_}`,type:"Float32",components:c==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(i,o,c,m,_){const w=this.paintVertexArray.length,A=this.expression.evaluate(new wn(0),o,{},m,[],_);this.paintVertexArray.resize(i),this._setPaintValue(w,i,A)}updatePaintArray(i,o,c,m){const _=this.expression.evaluate({zoom:0},c,m);this._setPaintValue(i,o,_)}_setPaintValue(i,o,c){if(this.type==="color"){const m=rm(c);for(let _=i;_<o;_++)this.paintVertexArray.emplace(_,m[0],m[1])}else{for(let m=i;m<o;m++)this.paintVertexArray.emplace(m,c);this.maxValue=Math.max(this.maxValue,Math.abs(c))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class go{constructor(i,o,c,m,_,w){this.expression=i,this.uniformNames=o.map(A=>`u_${A}_t`),this.type=c,this.useIntegerZoom=m,this.zoom=_,this.maxValue=0,this.paintVertexAttributes=o.map(A=>({name:`a_${A}`,type:"Float32",components:c==="color"?4:2,offset:0})),this.paintVertexArray=new w}populatePaintArray(i,o,c,m,_){const w=this.expression.evaluate(new wn(this.zoom),o,{},m,[],_),A=this.expression.evaluate(new wn(this.zoom+1),o,{},m,[],_),I=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(I,i,w,A)}updatePaintArray(i,o,c,m){const _=this.expression.evaluate({zoom:this.zoom},c,m),w=this.expression.evaluate({zoom:this.zoom+1},c,m);this._setPaintValue(i,o,_,w)}_setPaintValue(i,o,c,m){if(this.type==="color"){const _=rm(c),w=rm(m);for(let A=i;A<o;A++)this.paintVertexArray.emplace(A,_[0],_[1],w[0],w[1])}else{for(let _=i;_<o;_++)this.paintVertexArray.emplace(_,c,m);this.maxValue=Math.max(this.maxValue,Math.abs(c),Math.abs(m))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,o){const c=this.useIntegerZoom?Math.floor(o.zoom):o.zoom,m=S(this.expression.interpolationFactor(c,this.zoom,this.zoom+1),0,1);i.set(m)}getBinding(i,o,c){return new Aa(i,o)}}class ll{constructor(i,o,c,m,_,w){this.expression=i,this.type=o,this.useIntegerZoom=c,this.zoom=m,this.layerId=w,this.zoomInPaintVertexArray=new _,this.zoomOutPaintVertexArray=new _}populatePaintArray(i,o,c){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(m,i,o.patterns&&o.patterns[this.layerId],c)}updatePaintArray(i,o,c,m,_){this._setPaintValues(i,o,c.patterns&&c.patterns[this.layerId],_)}_setPaintValues(i,o,c,m){if(!m||!c)return;const{min:_,mid:w,max:A}=c,I=m[_],B=m[w],U=m[A];if(I&&B&&U)for(let G=i;G<o;G++)this.zoomInPaintVertexArray.emplace(G,B.tl[0],B.tl[1],B.br[0],B.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],B.pixelRatio,I.pixelRatio),this.zoomOutPaintVertexArray.emplace(G,B.tl[0],B.tl[1],B.br[0],B.br[1],U.tl[0],U.tl[1],U.br[0],U.br[1],B.pixelRatio,U.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,ar.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,ar.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class b_{constructor(i,o,c){this.binders={},this._buffers=[];const m=[];for(const _ in i.paint._values){if(!c(_))continue;const w=i.paint.get(_);if(!(w instanceof Zs&&Ci(w.property.specification)))continue;const A=FT(_,i.type),I=w.value,B=w.property.specification.type,U=w.property.useIntegerZoom,G=w.property.specification["property-type"],K=G==="cross-faded"||G==="cross-faded-data-driven";if(I.kind==="constant")this.binders[_]=K?new Uu(I.value,A):new Wc(I.value,A,B),m.push(`/u_${_}`);else if(I.kind==="source"||K){const te=S_(_,B,"source");this.binders[_]=K?new ll(I,B,U,o,te,i.id):new Ea(I,A,B,te),m.push(`/a_${_}`)}else{const te=S_(_,B,"composite");this.binders[_]=new go(I,A,B,U,o,te),m.push(`/z_${_}`)}}this.cacheKey=m.sort().join("")}getMaxValue(i){const o=this.binders[i];return o instanceof Ea||o instanceof go?o.maxValue:0}populatePaintArrays(i,o,c,m,_){for(const w in this.binders){const A=this.binders[w];(A instanceof Ea||A instanceof go||A instanceof ll)&&A.populatePaintArray(i,o,c,m,_)}}setConstantPatternPositions(i,o){for(const c in this.binders){const m=this.binders[c];m instanceof Uu&&m.setConstantPatternPositions(i,o)}}updatePaintArrays(i,o,c,m,_){let w=!1;for(const A in i){const I=o.getPositions(A);for(const B of I){const U=c.feature(B.index);for(const G in this.binders){const K=this.binders[G];if((K instanceof Ea||K instanceof go||K instanceof ll)&&K.expression.isStateDependent===!0){const te=m.paint.get(G);K.expression=te.value,K.updatePaintArray(B.start,B.end,U,i[A],_),w=!0}}}}return w}defines(){const i=[];for(const o in this.binders){const c=this.binders[o];(c instanceof Wc||c instanceof Uu)&&i.push(...c.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return i}getBinderAttributes(){const i=[];for(const o in this.binders){const c=this.binders[o];if(c instanceof Ea||c instanceof go)for(let m=0;m<c.paintVertexAttributes.length;m++)i.push(c.paintVertexAttributes[m].name);else if(c instanceof ll)for(let m=0;m<ar.members.length;m++)i.push(ar.members[m].name)}return i}getBinderUniforms(){const i=[];for(const o in this.binders){const c=this.binders[o];if(c instanceof Wc||c instanceof Uu||c instanceof go)for(const m of c.uniformNames)i.push(m)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,o){const c=[];for(const m in this.binders){const _=this.binders[m];if(_ instanceof Wc||_ instanceof Uu||_ instanceof go){for(const w of _.uniformNames)if(o[w]){const A=_.getBinding(i,o[w],w);c.push({name:w,property:m,binding:A})}}}return c}setUniforms(i,o,c,m){for(const{name:_,property:w,binding:A}of o)this.binders[w].setUniform(A,m,c.get(w),_)}updatePaintBuffers(i){this._buffers=[];for(const o in this.binders){const c=this.binders[o];if(i&&c instanceof ll){const m=i.fromScale===2?c.zoomInPaintVertexBuffer:c.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(c instanceof Ea||c instanceof go)&&c.paintVertexBuffer&&this._buffers.push(c.paintVertexBuffer)}}upload(i){for(const o in this.binders){const c=this.binders[o];(c instanceof Ea||c instanceof go||c instanceof ll)&&c.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const o=this.binders[i];(o instanceof Ea||o instanceof go||o instanceof ll)&&o.destroy()}}}class eu{constructor(i,o,c=()=>!0){this.programConfigurations={};for(const m of i)this.programConfigurations[m.id]=new b_(m,o,c);this.needsUpload=!1,this._featureMap=new al,this._bufferOffset=0}populatePaintArrays(i,o,c,m,_,w){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(i,o,m,_,w);o.id!==void 0&&this._featureMap.add(o.id,c,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,o,c,m){for(const _ of c)this.needsUpload=this.programConfigurations[_.id].updatePaintArrays(i,this._featureMap,o,_,m)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function FT(r,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[r]||[r.replace(`${i}-`,"").replace(/-/g,"_")]}function S_(r,i,o){const c={color:{source:d,composite:Oe},number:{source:de,composite:d}},m=function(_){return{"line-pattern":{source:or,composite:or},"fill-pattern":{source:or,composite:or},"fill-extrusion-pattern":{source:or,composite:or}}[_]}(r);return m&&m[o]||c[i][o]}le("ConstantBinder",Wc),le("CrossFadedConstantBinder",Uu),le("SourceExpressionBinder",Ea),le("CrossFadedCompositeBinder",ll),le("CompositeExpressionBinder",go),le("ProgramConfiguration",b_,{omit:["_buffers"]}),le("ProgramConfigurationSet",eu);var tr=8192;const sm=Math.pow(2,14)-1,T_=-sm-1;function tu(r){const i=tr/r.extent,o=r.loadGeometry();for(let c=0;c<o.length;c++){const m=o[c];for(let _=0;_<m.length;_++){const w=m[_],A=Math.round(w.x*i),I=Math.round(w.y*i);w.x=S(A,T_,sm),w.y=S(I,T_,sm),(A<w.x||A>w.x+1||I<w.y||I>w.y+1)&&xe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return o}function iu(r,i){return{type:r.type,id:r.id,properties:r.properties,geometry:i?tu(r):[]}}function Ld(r,i,o,c,m){r.emplaceBack(2*i+(c+1)/2,2*o+(m+1)/2)}class om{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Ji,this.indexArray=new Zr,this.segments=new Ei,this.programConfigurations=new eu(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,c){const m=this.layers[0],_=[];let w=null,A=!1;m.type==="circle"&&(w=m.layout.get("circle-sort-key"),A=!w.isConstant());for(const{feature:I,id:B,index:U,sourceLayerIndex:G}of i){const K=this.layers[0]._featureFilter.needGeometry,te=iu(I,K);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),te,c))continue;const ie=A?w.evaluate(te,{},c):void 0,ye={id:B,properties:I.properties,type:I.type,sourceLayerIndex:G,index:U,geometry:K?te.geometry:tu(I),patterns:{},sortKey:ie};_.push(ye)}A&&_.sort((I,B)=>I.sortKey-B.sortKey);for(const I of _){const{geometry:B,index:U,sourceLayerIndex:G}=I,K=i[U].feature;this.addFeature(I,B,U,c),o.featureIndex.insert(K,B,U,G,this.index)}}update(i,o,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,c)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,er),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,o,c,m){for(const _ of o)for(const w of _){const A=w.x,I=w.y;if(A<0||A>=tr||I<0||I>=tr)continue;const B=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),U=B.vertexLength;Ld(this.layoutVertexArray,A,I,-1,-1),Ld(this.layoutVertexArray,A,I,1,-1),Ld(this.layoutVertexArray,A,I,1,1),Ld(this.layoutVertexArray,A,I,-1,1),this.indexArray.emplaceBack(U,U+1,U+2),this.indexArray.emplaceBack(U,U+3,U+2),B.vertexLength+=4,B.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,c,{},m)}}function C_(r,i){for(let o=0;o<r.length;o++)if(ju(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(ju(r,i[o]))return!0;return!!am(r,i)}function VT(r,i,o){return!!ju(r,i)||!!lm(i,r,o)}function A_(r,i){if(r.length===1)return k_(i,r[0]);for(let o=0;o<i.length;o++){const c=i[o];for(let m=0;m<c.length;m++)if(ju(r,c[m]))return!0}for(let o=0;o<r.length;o++)if(k_(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(am(r,i[o]))return!0;return!1}function UT(r,i,o){if(r.length>1){if(am(r,i))return!0;for(let c=0;c<i.length;c++)if(lm(i[c],r,o))return!0}for(let c=0;c<r.length;c++)if(lm(r[c],i,o))return!0;return!1}function am(r,i){if(r.length===0||i.length===0)return!1;for(let o=0;o<r.length-1;o++){const c=r[o],m=r[o+1];for(let _=0;_<i.length-1;_++)if(jT(c,m,i[_],i[_+1]))return!0}return!1}function jT(r,i,o,c){return E(r,o,c)!==E(i,o,c)&&E(r,i,o)!==E(r,i,c)}function lm(r,i,o){const c=o*o;if(i.length===1)return r.distSqr(i[0])<c;for(let m=1;m<i.length;m++)if(E_(r,i[m-1],i[m])<c)return!0;return!1}function E_(r,i,o){const c=i.distSqr(o);if(c===0)return r.distSqr(i);const m=((r.x-i.x)*(o.x-i.x)+(r.y-i.y)*(o.y-i.y))/c;return r.distSqr(m<0?i:m>1?o:o.sub(i)._mult(m)._add(i))}function k_(r,i){let o,c,m,_=!1;for(let w=0;w<r.length;w++){o=r[w];for(let A=0,I=o.length-1;A<o.length;I=A++)c=o[A],m=o[I],c.y>i.y!=m.y>i.y&&i.x<(m.x-c.x)*(i.y-c.y)/(m.y-c.y)+c.x&&(_=!_)}return _}function ju(r,i){let o=!1;for(let c=0,m=r.length-1;c<r.length;m=c++){const _=r[c],w=r[m];_.y>i.y!=w.y>i.y&&i.x<(w.x-_.x)*(i.y-_.y)/(w.y-_.y)+_.x&&(o=!o)}return o}function qT(r,i,o){const c=o[0],m=o[2];if(r.x<c.x&&i.x<c.x||r.x>m.x&&i.x>m.x||r.y<c.y&&i.y<c.y||r.y>m.y&&i.y>m.y)return!1;const _=E(r,i,o[0]);return _!==E(r,i,o[1])||_!==E(r,i,o[2])||_!==E(r,i,o[3])}function Hc(r,i,o){const c=i.paint.get(r).value;return c.kind==="constant"?c.value:o.programConfigurations.get(i.id).getMaxValue(r)}function Rd(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Bd(r,i,o,c,m){if(!i[0]&&!i[1])return r;const _=Tt.convert(i)._mult(m);o==="viewport"&&_._rotate(-c);const w=[];for(let A=0;A<r.length;A++)w.push(r[A].sub(_));return w}le("CircleBucket",om,{omit:["layers"]});const GT=new pr({"circle-sort-key":new Kt(Le.layout_circle["circle-sort-key"])});var WT={paint:new pr({"circle-radius":new Kt(Le.paint_circle["circle-radius"]),"circle-color":new Kt(Le.paint_circle["circle-color"]),"circle-blur":new Kt(Le.paint_circle["circle-blur"]),"circle-opacity":new Kt(Le.paint_circle["circle-opacity"]),"circle-translate":new Rt(Le.paint_circle["circle-translate"]),"circle-translate-anchor":new Rt(Le.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Rt(Le.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Rt(Le.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Kt(Le.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Kt(Le.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Kt(Le.paint_circle["circle-stroke-opacity"])}),layout:GT},$r=1e-6,Xr=typeof Float32Array<"u"?Float32Array:Array;function P_(){var r=new Xr(9);return Xr!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function um(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function I_(r,i,o){var c=i[0],m=i[1],_=i[2],w=i[3],A=i[4],I=i[5],B=i[6],U=i[7],G=i[8],K=i[9],te=i[10],ie=i[11],ye=i[12],me=i[13],Me=i[14],Ve=i[15],ke=o[0],Be=o[1],tt=o[2],et=o[3];return r[0]=ke*c+Be*A+tt*G+et*ye,r[1]=ke*m+Be*I+tt*K+et*me,r[2]=ke*_+Be*B+tt*te+et*Me,r[3]=ke*w+Be*U+tt*ie+et*Ve,r[4]=(ke=o[4])*c+(Be=o[5])*A+(tt=o[6])*G+(et=o[7])*ye,r[5]=ke*m+Be*I+tt*K+et*me,r[6]=ke*_+Be*B+tt*te+et*Me,r[7]=ke*w+Be*U+tt*ie+et*Ve,r[8]=(ke=o[8])*c+(Be=o[9])*A+(tt=o[10])*G+(et=o[11])*ye,r[9]=ke*m+Be*I+tt*K+et*me,r[10]=ke*_+Be*B+tt*te+et*Me,r[11]=ke*w+Be*U+tt*ie+et*Ve,r[12]=(ke=o[12])*c+(Be=o[13])*A+(tt=o[14])*G+(et=o[15])*ye,r[13]=ke*m+Be*I+tt*K+et*me,r[14]=ke*_+Be*B+tt*te+et*Me,r[15]=ke*w+Be*U+tt*ie+et*Ve,r}Math.hypot||(Math.hypot=function(){for(var r=0,i=arguments.length;i--;)r+=arguments[i]*arguments[i];return Math.sqrt(r)});var Zc,HT=I_;function M_(){var r=new Xr(3);return Xr!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function z_(r,i,o){var c=new Xr(3);return c[0]=r,c[1]=i,c[2]=o,c}function Nd(r,i,o){var c=i[0],m=i[1],_=i[2],w=i[3];return r[0]=o[0]*c+o[4]*m+o[8]*_+o[12]*w,r[1]=o[1]*c+o[5]*m+o[9]*_+o[13]*w,r[2]=o[2]*c+o[6]*m+o[10]*_+o[14]*w,r[3]=o[3]*c+o[7]*m+o[11]*_+o[15]*w,r}function D_(){var r=new Xr(4);return Xr!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function L_(r,i){const o=Nd([],[r.x,r.y,0,1],i);return new Tt(o[0]/o[3],o[1]/o[3])}M_(),Zc=new Xr(4),Xr!=Float32Array&&(Zc[0]=0,Zc[1]=0,Zc[2]=0,Zc[3]=0),M_(),z_(1,0,0),z_(0,1,0),D_(),D_(),P_(),function(){var r;r=new Xr(2),Xr!=Float32Array&&(r[0]=0,r[1]=0)}();class R_ extends om{}le("HeatmapBucket",R_,{omit:["layers"]});var ZT={paint:new pr({"heatmap-radius":new Kt(Le.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Kt(Le.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Rt(Le.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ho(Le.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Rt(Le.paint_heatmap["heatmap-opacity"])})};function cm(r,{width:i,height:o},c,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==i*o*c)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${i*o*c}`)}else m=new Uint8Array(i*o*c);return r.width=i,r.height=o,r.data=m,r}function B_(r,{width:i,height:o},c){if(i===r.width&&o===r.height)return;const m=cm({},{width:i,height:o},c);hm(r,m,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,i),height:Math.min(r.height,o)},c),r.width=i,r.height=o,r.data=m.data}function hm(r,i,o,c,m,_){if(m.width===0||m.height===0)return i;if(m.width>r.width||m.height>r.height||o.x>r.width-m.width||o.y>r.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>i.width||m.height>i.height||c.x>i.width-m.width||c.y>i.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const w=r.data,A=i.data;if(w===A)throw new Error("srcData equals dstData, so image is already copied");for(let I=0;I<m.height;I++){const B=((o.y+I)*r.width+o.x)*_,U=((c.y+I)*i.width+c.x)*_;for(let G=0;G<m.width*_;G++)A[U+G]=w[B+G]}return i}class $c{constructor(i,o){cm(this,i,1,o)}resize(i){B_(this,i,1)}clone(){return new $c({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,c,m,_){hm(i,o,c,m,_,1)}}class Is{constructor(i,o){cm(this,i,4,o)}resize(i){B_(this,i,4)}replace(i,o){o?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Is({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,c,m,_){hm(i,o,c,m,_,4)}}function N_(r){const i={},o=r.resolution||256,c=r.clips?r.clips.length:1,m=r.image||new Is({width:o,height:c});if(Math.log(o)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${o}`);const _=(w,A,I)=>{i[r.evaluationKey]=I;const B=r.expression.evaluate(i);m.data[w+A+0]=Math.floor(255*B.r/B.a),m.data[w+A+1]=Math.floor(255*B.g/B.a),m.data[w+A+2]=Math.floor(255*B.b/B.a),m.data[w+A+3]=Math.floor(255*B.a)};if(r.clips)for(let w=0,A=0;w<c;++w,A+=4*o)for(let I=0,B=0;I<o;I++,B+=4){const U=I/(o-1),{start:G,end:K}=r.clips[w];_(A,B,G*(1-U)+K*U)}else for(let w=0,A=0;w<o;w++,A+=4)_(0,A,w/(o-1));return m}le("AlphaImage",$c),le("RGBAImage",Is);var $T={paint:new pr({"hillshade-illumination-direction":new Rt(Le.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Rt(Le.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Rt(Le.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Rt(Le.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Rt(Le.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Rt(Le.paint_hillshade["hillshade-accent-color"])})};const XT=Xn([{name:"a_pos",components:2,type:"Int16"}],4),{members:KT}=XT;var Od={exports:{}};function Fd(r,i,o){o=o||2;var c,m,_,w,A,I,B,U=i&&i.length,G=U?i[0]*o:r.length,K=O_(r,0,G,o,!0),te=[];if(!K||K.next===K.prev)return te;if(U&&(K=function(ye,me,Me,Ve){var ke,Be,tt,et=[];for(ke=0,Be=me.length;ke<Be;ke++)(tt=O_(ye,me[ke]*Ve,ke<Be-1?me[ke+1]*Ve:ye.length,Ve,!1))===tt.next&&(tt.steiner=!0),et.push(rC(tt));for(et.sort(tC),ke=0;ke<et.length;ke++)Me=iC(et[ke],Me);return Me}(r,i,K,o)),r.length>80*o){c=_=r[0],m=w=r[1];for(var ie=o;ie<G;ie+=o)(A=r[ie])<c&&(c=A),(I=r[ie+1])<m&&(m=I),A>_&&(_=A),I>w&&(w=I);B=(B=Math.max(_-c,w-m))!==0?32767/B:0}return Xc(K,te,o,c,m,B,0),te}function O_(r,i,o,c,m){var _,w;if(m===fm(r,i,o,c)>0)for(_=i;_<o;_+=c)w=U_(_,r[_],r[_+1],w);else for(_=o-c;_>=i;_-=c)w=U_(_,r[_],r[_+1],w);return w&&Vd(w,w.next)&&(Yc(w),w=w.next),w}function nu(r,i){if(!r)return r;i||(i=r);var o,c=r;do if(o=!1,c.steiner||!Vd(c,c.next)&&Un(c.prev,c,c.next)!==0)c=c.next;else{if(Yc(c),(c=i=c.prev)===c.next)break;o=!0}while(o||c!==i);return i}function Xc(r,i,o,c,m,_,w){if(r){!w&&_&&function(U,G,K,te){var ie=U;do ie.z===0&&(ie.z=dm(ie.x,ie.y,G,K,te)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next;while(ie!==U);ie.prevZ.nextZ=null,ie.prevZ=null,function(ye){var me,Me,Ve,ke,Be,tt,et,Pt,Dt=1;do{for(Me=ye,ye=null,Be=null,tt=0;Me;){for(tt++,Ve=Me,et=0,me=0;me<Dt&&(et++,Ve=Ve.nextZ);me++);for(Pt=Dt;et>0||Pt>0&&Ve;)et!==0&&(Pt===0||!Ve||Me.z<=Ve.z)?(ke=Me,Me=Me.nextZ,et--):(ke=Ve,Ve=Ve.nextZ,Pt--),Be?Be.nextZ=ke:ye=ke,ke.prevZ=Be,Be=ke;Me=Ve}Be.nextZ=null,Dt*=2}while(tt>1)}(ie)}(r,c,m,_);for(var A,I,B=r;r.prev!==r.next;)if(A=r.prev,I=r.next,_?QT(r,c,m,_):YT(r))i.push(A.i/o|0),i.push(r.i/o|0),i.push(I.i/o|0),Yc(r),r=I.next,B=I.next;else if((r=I)===B){w?w===1?Xc(r=JT(nu(r),i,o),i,o,c,m,_,2):w===2&&eC(r,i,o,c,m,_):Xc(nu(r),i,o,c,m,_,1);break}}}function YT(r){var i=r.prev,o=r,c=r.next;if(Un(i,o,c)>=0)return!1;for(var m=i.x,_=o.x,w=c.x,A=i.y,I=o.y,B=c.y,U=m<_?m<w?m:w:_<w?_:w,G=A<I?A<B?A:B:I<B?I:B,K=m>_?m>w?m:w:_>w?_:w,te=A>I?A>B?A:B:I>B?I:B,ie=c.next;ie!==i;){if(ie.x>=U&&ie.x<=K&&ie.y>=G&&ie.y<=te&&qu(m,A,_,I,w,B,ie.x,ie.y)&&Un(ie.prev,ie,ie.next)>=0)return!1;ie=ie.next}return!0}function QT(r,i,o,c){var m=r.prev,_=r,w=r.next;if(Un(m,_,w)>=0)return!1;for(var A=m.x,I=_.x,B=w.x,U=m.y,G=_.y,K=w.y,te=A<I?A<B?A:B:I<B?I:B,ie=U<G?U<K?U:K:G<K?G:K,ye=A>I?A>B?A:B:I>B?I:B,me=U>G?U>K?U:K:G>K?G:K,Me=dm(te,ie,i,o,c),Ve=dm(ye,me,i,o,c),ke=r.prevZ,Be=r.nextZ;ke&&ke.z>=Me&&Be&&Be.z<=Ve;){if(ke.x>=te&&ke.x<=ye&&ke.y>=ie&&ke.y<=me&&ke!==m&&ke!==w&&qu(A,U,I,G,B,K,ke.x,ke.y)&&Un(ke.prev,ke,ke.next)>=0||(ke=ke.prevZ,Be.x>=te&&Be.x<=ye&&Be.y>=ie&&Be.y<=me&&Be!==m&&Be!==w&&qu(A,U,I,G,B,K,Be.x,Be.y)&&Un(Be.prev,Be,Be.next)>=0))return!1;Be=Be.nextZ}for(;ke&&ke.z>=Me;){if(ke.x>=te&&ke.x<=ye&&ke.y>=ie&&ke.y<=me&&ke!==m&&ke!==w&&qu(A,U,I,G,B,K,ke.x,ke.y)&&Un(ke.prev,ke,ke.next)>=0)return!1;ke=ke.prevZ}for(;Be&&Be.z<=Ve;){if(Be.x>=te&&Be.x<=ye&&Be.y>=ie&&Be.y<=me&&Be!==m&&Be!==w&&qu(A,U,I,G,B,K,Be.x,Be.y)&&Un(Be.prev,Be,Be.next)>=0)return!1;Be=Be.nextZ}return!0}function JT(r,i,o){var c=r;do{var m=c.prev,_=c.next.next;!Vd(m,_)&&F_(m,c,c.next,_)&&Kc(m,_)&&Kc(_,m)&&(i.push(m.i/o|0),i.push(c.i/o|0),i.push(_.i/o|0),Yc(c),Yc(c.next),c=r=_),c=c.next}while(c!==r);return nu(c)}function eC(r,i,o,c,m,_){var w=r;do{for(var A=w.next.next;A!==w.prev;){if(w.i!==A.i&&sC(w,A)){var I=V_(w,A);return w=nu(w,w.next),I=nu(I,I.next),Xc(w,i,o,c,m,_,0),void Xc(I,i,o,c,m,_,0)}A=A.next}w=w.next}while(w!==r)}function tC(r,i){return r.x-i.x}function iC(r,i){var o=function(m,_){var w,A=_,I=m.x,B=m.y,U=-1/0;do{if(B<=A.y&&B>=A.next.y&&A.next.y!==A.y){var G=A.x+(B-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(G<=I&&G>U&&(U=G,w=A.x<A.next.x?A:A.next,G===I))return w}A=A.next}while(A!==_);if(!w)return null;var K,te=w,ie=w.x,ye=w.y,me=1/0;A=w;do I>=A.x&&A.x>=ie&&I!==A.x&&qu(B<ye?I:U,B,ie,ye,B<ye?U:I,B,A.x,A.y)&&(K=Math.abs(B-A.y)/(I-A.x),Kc(A,m)&&(K<me||K===me&&(A.x>w.x||A.x===w.x&&nC(w,A)))&&(w=A,me=K)),A=A.next;while(A!==te);return w}(r,i);if(!o)return i;var c=V_(o,r);return nu(c,c.next),nu(o,o.next)}function nC(r,i){return Un(r.prev,r,i.prev)<0&&Un(i.next,r,r.next)<0}function dm(r,i,o,c,m){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-o)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-c)*m|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function rC(r){var i=r,o=r;do(i.x<o.x||i.x===o.x&&i.y<o.y)&&(o=i),i=i.next;while(i!==r);return o}function qu(r,i,o,c,m,_,w,A){return(m-w)*(i-A)>=(r-w)*(_-A)&&(r-w)*(c-A)>=(o-w)*(i-A)&&(o-w)*(_-A)>=(m-w)*(c-A)}function sC(r,i){return r.next.i!==i.i&&r.prev.i!==i.i&&!function(o,c){var m=o;do{if(m.i!==o.i&&m.next.i!==o.i&&m.i!==c.i&&m.next.i!==c.i&&F_(m,m.next,o,c))return!0;m=m.next}while(m!==o);return!1}(r,i)&&(Kc(r,i)&&Kc(i,r)&&function(o,c){var m=o,_=!1,w=(o.x+c.x)/2,A=(o.y+c.y)/2;do m.y>A!=m.next.y>A&&m.next.y!==m.y&&w<(m.next.x-m.x)*(A-m.y)/(m.next.y-m.y)+m.x&&(_=!_),m=m.next;while(m!==o);return _}(r,i)&&(Un(r.prev,r,i.prev)||Un(r,i.prev,i))||Vd(r,i)&&Un(r.prev,r,r.next)>0&&Un(i.prev,i,i.next)>0)}function Un(r,i,o){return(i.y-r.y)*(o.x-i.x)-(i.x-r.x)*(o.y-i.y)}function Vd(r,i){return r.x===i.x&&r.y===i.y}function F_(r,i,o,c){var m=jd(Un(r,i,o)),_=jd(Un(r,i,c)),w=jd(Un(o,c,r)),A=jd(Un(o,c,i));return m!==_&&w!==A||!(m!==0||!Ud(r,o,i))||!(_!==0||!Ud(r,c,i))||!(w!==0||!Ud(o,r,c))||!(A!==0||!Ud(o,i,c))}function Ud(r,i,o){return i.x<=Math.max(r.x,o.x)&&i.x>=Math.min(r.x,o.x)&&i.y<=Math.max(r.y,o.y)&&i.y>=Math.min(r.y,o.y)}function jd(r){return r>0?1:r<0?-1:0}function Kc(r,i){return Un(r.prev,r,r.next)<0?Un(r,i,r.next)>=0&&Un(r,r.prev,i)>=0:Un(r,i,r.prev)<0||Un(r,r.next,i)<0}function V_(r,i){var o=new pm(r.i,r.x,r.y),c=new pm(i.i,i.x,i.y),m=r.next,_=i.prev;return r.next=i,i.prev=r,o.next=m,m.prev=o,c.next=o,o.prev=c,_.next=c,c.prev=_,c}function U_(r,i,o,c){var m=new pm(r,i,o);return c?(m.next=c.next,m.prev=c,c.next.prev=m,c.next=m):(m.prev=m,m.next=m),m}function Yc(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function pm(r,i,o){this.i=r,this.x=i,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fm(r,i,o,c){for(var m=0,_=i,w=o-c;_<o;_+=c)m+=(r[w]-r[_])*(r[_+1]+r[w+1]),w=_;return m}function oC(r,i,o,c,m){j_(r,i,o||0,c||r.length-1,m||aC)}function j_(r,i,o,c,m){for(;c>o;){if(c-o>600){var _=c-o+1,w=i-o+1,A=Math.log(_),I=.5*Math.exp(2*A/3),B=.5*Math.sqrt(A*I*(_-I)/_)*(w-_/2<0?-1:1);j_(r,i,Math.max(o,Math.floor(i-w*I/_+B)),Math.min(c,Math.floor(i+(_-w)*I/_+B)),m)}var U=r[i],G=o,K=c;for(Qc(r,o,i),m(r[c],U)>0&&Qc(r,o,c);G<K;){for(Qc(r,G,K),G++,K--;m(r[G],U)<0;)G++;for(;m(r[K],U)>0;)K--}m(r[o],U)===0?Qc(r,o,K):Qc(r,++K,c),K<=i&&(o=K+1),i<=K&&(c=K-1)}}function Qc(r,i,o){var c=r[i];r[i]=r[o],r[o]=c}function aC(r,i){return r<i?-1:r>i?1:0}function mm(r,i){const o=r.length;if(o<=1)return[r];const c=[];let m,_;for(let w=0;w<o;w++){const A=Ne(r[w]);A!==0&&(r[w].area=Math.abs(A),_===void 0&&(_=A<0),_===A<0?(m&&c.push(m),m=[r[w]]):m.push(r[w]))}if(m&&c.push(m),i>1)for(let w=0;w<c.length;w++)c[w].length<=i||(oC(c[w],i,1,c[w].length-1,lC),c[w]=c[w].slice(0,i));return c}function lC(r,i){return i.area-r.area}function gm(r,i,o){const c=o.patternDependencies;let m=!1;for(const _ of i){const w=_.paint.get(`${r}-pattern`);w.isConstant()||(m=!0);const A=w.constantOr(null);A&&(m=!0,c[A.to]=!0,c[A.from]=!0)}return m}function ym(r,i,o,c,m){const _=m.patternDependencies;for(const w of i){const A=w.paint.get(`${r}-pattern`).value;if(A.kind!=="constant"){let I=A.evaluate({zoom:c-1},o,{},m.availableImages),B=A.evaluate({zoom:c},o,{},m.availableImages),U=A.evaluate({zoom:c+1},o,{},m.availableImages);I=I&&I.name?I.name:I,B=B&&B.name?B.name:B,U=U&&U.name?U.name:U,_[I]=!0,_[B]=!0,_[U]=!0,o.patterns[w.id]={min:I,mid:B,max:U}}}return o}Od.exports=Fd,Od.exports.default=Fd,Fd.deviation=function(r,i,o,c){var m=i&&i.length,_=Math.abs(fm(r,0,m?i[0]*o:r.length,o));if(m)for(var w=0,A=i.length;w<A;w++)_-=Math.abs(fm(r,i[w]*o,w<A-1?i[w+1]*o:r.length,o));var I=0;for(w=0;w<c.length;w+=3){var B=c[w]*o,U=c[w+1]*o,G=c[w+2]*o;I+=Math.abs((r[B]-r[G])*(r[U+1]-r[B+1])-(r[B]-r[U])*(r[G+1]-r[B+1]))}return _===0&&I===0?0:Math.abs((I-_)/_)},Fd.flatten=function(r){for(var i=r[0][0].length,o={vertices:[],holes:[],dimensions:i},c=0,m=0;m<r.length;m++){for(var _=0;_<r[m].length;_++)for(var w=0;w<i;w++)o.vertices.push(r[m][_][w]);m>0&&o.holes.push(c+=r[m-1].length)}return o};class vm{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new en,this.indexArray=new Zr,this.indexArray2=new mo,this.programConfigurations=new eu(i.layers,i.zoom),this.segments=new Ei,this.segments2=new Ei,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,c){this.hasPattern=gm("fill",this.layers,o);const m=this.layers[0].layout.get("fill-sort-key"),_=!m.isConstant(),w=[];for(const{feature:A,id:I,index:B,sourceLayerIndex:U}of i){const G=this.layers[0]._featureFilter.needGeometry,K=iu(A,G);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),K,c))continue;const te=_?m.evaluate(K,{},c,o.availableImages):void 0,ie={id:I,properties:A.properties,type:A.type,sourceLayerIndex:U,index:B,geometry:G?K.geometry:tu(A),patterns:{},sortKey:te};w.push(ie)}_&&w.sort((A,I)=>A.sortKey-I.sortKey);for(const A of w){const{geometry:I,index:B,sourceLayerIndex:U}=A;if(this.hasPattern){const G=ym("fill",this.layers,A,this.zoom,o);this.patternFeatures.push(G)}else this.addFeature(A,I,B,c,{});o.featureIndex.insert(i[B].feature,I,B,U,this.index)}}update(i,o,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,c)}addFeatures(i,o,c){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,o,c)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,KT),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,o,c,m,_){for(const w of mm(o,500)){let A=0;for(const te of w)A+=te.length;const I=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),B=I.vertexLength,U=[],G=[];for(const te of w){if(te.length===0)continue;te!==w[0]&&G.push(U.length/2);const ie=this.segments2.prepareSegment(te.length,this.layoutVertexArray,this.indexArray2),ye=ie.vertexLength;this.layoutVertexArray.emplaceBack(te[0].x,te[0].y),this.indexArray2.emplaceBack(ye+te.length-1,ye),U.push(te[0].x),U.push(te[0].y);for(let me=1;me<te.length;me++)this.layoutVertexArray.emplaceBack(te[me].x,te[me].y),this.indexArray2.emplaceBack(ye+me-1,ye+me),U.push(te[me].x),U.push(te[me].y);ie.vertexLength+=te.length,ie.primitiveLength+=te.length}const K=Od.exports(U,G);for(let te=0;te<K.length;te+=3)this.indexArray.emplaceBack(B+K[te],B+K[te+1],B+K[te+2]);I.vertexLength+=A,I.primitiveLength+=K.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,c,_,m)}}le("FillBucket",vm,{omit:["layers","patternFeatures"]});const uC=new pr({"fill-sort-key":new Kt(Le.layout_fill["fill-sort-key"])});var cC={paint:new pr({"fill-antialias":new Rt(Le.paint_fill["fill-antialias"]),"fill-opacity":new Kt(Le.paint_fill["fill-opacity"]),"fill-color":new Kt(Le.paint_fill["fill-color"]),"fill-outline-color":new Kt(Le.paint_fill["fill-outline-color"]),"fill-translate":new Rt(Le.paint_fill["fill-translate"]),"fill-translate-anchor":new Rt(Le.paint_fill["fill-translate-anchor"]),"fill-pattern":new ol(Le.paint_fill["fill-pattern"])}),layout:uC};const hC=Xn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),dC=Xn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:pC}=hC;var ul={},fC=Tt,q_=Gu;function Gu(r,i,o,c,m){this.properties={},this.extent=o,this.type=0,this._pbf=r,this._geometry=-1,this._keys=c,this._values=m,r.readFields(mC,this,i)}function mC(r,i,o){r==1?i.id=o.readVarint():r==2?function(c,m){for(var _=c.readVarint()+c.pos;c.pos<_;){var w=m._keys[c.readVarint()],A=m._values[c.readVarint()];m.properties[w]=A}}(o,i):r==3?i.type=o.readVarint():r==4&&(i._geometry=o.pos)}function gC(r){for(var i,o,c=0,m=0,_=r.length,w=_-1;m<_;w=m++)c+=((o=r[w]).x-(i=r[m]).x)*(i.y+o.y);return c}Gu.types=["Unknown","Point","LineString","Polygon"],Gu.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var i,o=r.readVarint()+r.pos,c=1,m=0,_=0,w=0,A=[];r.pos<o;){if(m<=0){var I=r.readVarint();c=7&I,m=I>>3}if(m--,c===1||c===2)_+=r.readSVarint(),w+=r.readSVarint(),c===1&&(i&&A.push(i),i=[]),i.push(new fC(_,w));else{if(c!==7)throw new Error("unknown command "+c);i&&i.push(i[0].clone())}}return i&&A.push(i),A},Gu.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var i=r.readVarint()+r.pos,o=1,c=0,m=0,_=0,w=1/0,A=-1/0,I=1/0,B=-1/0;r.pos<i;){if(c<=0){var U=r.readVarint();o=7&U,c=U>>3}if(c--,o===1||o===2)(m+=r.readSVarint())<w&&(w=m),m>A&&(A=m),(_+=r.readSVarint())<I&&(I=_),_>B&&(B=_);else if(o!==7)throw new Error("unknown command "+o)}return[w,I,A,B]},Gu.prototype.toGeoJSON=function(r,i,o){var c,m,_=this.extent*Math.pow(2,o),w=this.extent*r,A=this.extent*i,I=this.loadGeometry(),B=Gu.types[this.type];function U(te){for(var ie=0;ie<te.length;ie++){var ye=te[ie];te[ie]=[360*(ye.x+w)/_-180,360/Math.PI*Math.atan(Math.exp((180-360*(ye.y+A)/_)*Math.PI/180))-90]}}switch(this.type){case 1:var G=[];for(c=0;c<I.length;c++)G[c]=I[c][0];U(I=G);break;case 2:for(c=0;c<I.length;c++)U(I[c]);break;case 3:for(I=function(te){var ie=te.length;if(ie<=1)return[te];for(var ye,me,Me=[],Ve=0;Ve<ie;Ve++){var ke=gC(te[Ve]);ke!==0&&(me===void 0&&(me=ke<0),me===ke<0?(ye&&Me.push(ye),ye=[te[Ve]]):ye.push(te[Ve]))}return ye&&Me.push(ye),Me}(I),c=0;c<I.length;c++)for(m=0;m<I[c].length;m++)U(I[c][m])}I.length===1?I=I[0]:B="Multi"+B;var K={type:"Feature",geometry:{type:B,coordinates:I},properties:this.properties};return"id"in this&&(K.id=this.id),K};var yC=q_,G_=W_;function W_(r,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(vC,this,i),this.length=this._features.length}function vC(r,i,o){r===15?i.version=o.readVarint():r===1?i.name=o.readString():r===5?i.extent=o.readVarint():r===2?i._features.push(o.pos):r===3?i._keys.push(o.readString()):r===4&&i._values.push(function(c){for(var m=null,_=c.readVarint()+c.pos;c.pos<_;){var w=c.readVarint()>>3;m=w===1?c.readString():w===2?c.readFloat():w===3?c.readDouble():w===4?c.readVarint64():w===5?c.readVarint():w===6?c.readSVarint():w===7?c.readBoolean():null}return m}(o))}W_.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var i=this._pbf.readVarint()+this._pbf.pos;return new yC(this._pbf,i,this.extent,this._keys,this._values)};var _C=G_;function xC(r,i,o){if(r===3){var c=new _C(o,o.readVarint()+o.pos);c.length&&(i[c.name]=c)}}ul.VectorTile=function(r,i){this.layers=r.readFields(xC,{},i)},ul.VectorTileFeature=q_,ul.VectorTileLayer=G_;const wC=ul.VectorTileFeature.types,_m=Math.pow(2,13);function Jc(r,i,o,c,m,_,w,A){r.emplaceBack(i,o,2*Math.floor(c*_m)+w,m*_m*2,_*_m*2,Math.round(A))}class xm{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Ri,this.centroidVertexArray=new Ht,this.indexArray=new Zr,this.programConfigurations=new eu(i.layers,i.zoom),this.segments=new Ei,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,c){this.features=[],this.hasPattern=gm("fill-extrusion",this.layers,o);for(const{feature:m,id:_,index:w,sourceLayerIndex:A}of i){const I=this.layers[0]._featureFilter.needGeometry,B=iu(m,I);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),B,c))continue;const U={id:_,sourceLayerIndex:A,index:w,geometry:I?B.geometry:tu(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(ym("fill-extrusion",this.layers,U,this.zoom,o)):this.addFeature(U,U.geometry,w,c,{}),o.featureIndex.insert(m,U.geometry,w,A,this.index,!0)}}addFeatures(i,o,c){for(const m of this.features){const{geometry:_}=m;this.addFeature(m,_,m.index,o,c)}}update(i,o,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,c)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,pC),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,dC.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,o,c,m,_){const w={x:0,y:0,vertexCount:0};for(const A of mm(o,500)){let I=0;for(const ie of A)I+=ie.length;let B=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ie of A){if(ie.length===0||SC(ie))continue;let ye=0;for(let me=0;me<ie.length;me++){const Me=ie[me];if(me>=1){const Ve=ie[me-1];if(!bC(Me,Ve)){B.vertexLength+4>Ei.MAX_VERTEX_ARRAY_LENGTH&&(B=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ke=Me.sub(Ve)._perp()._unit(),Be=Ve.dist(Me);ye+Be>32768&&(ye=0),Jc(this.layoutVertexArray,Me.x,Me.y,ke.x,ke.y,0,0,ye),Jc(this.layoutVertexArray,Me.x,Me.y,ke.x,ke.y,0,1,ye),w.x+=2*Me.x,w.y+=2*Me.y,w.vertexCount+=2,ye+=Be,Jc(this.layoutVertexArray,Ve.x,Ve.y,ke.x,ke.y,0,0,ye),Jc(this.layoutVertexArray,Ve.x,Ve.y,ke.x,ke.y,0,1,ye),w.x+=2*Ve.x,w.y+=2*Ve.y,w.vertexCount+=2;const tt=B.vertexLength;this.indexArray.emplaceBack(tt,tt+2,tt+1),this.indexArray.emplaceBack(tt+1,tt+2,tt+3),B.vertexLength+=4,B.primitiveLength+=2}}}}if(B.vertexLength+I>Ei.MAX_VERTEX_ARRAY_LENGTH&&(B=this.segments.prepareSegment(I,this.layoutVertexArray,this.indexArray)),wC[i.type]!=="Polygon")continue;const U=[],G=[],K=B.vertexLength;for(const ie of A)if(ie.length!==0){ie!==A[0]&&G.push(U.length/2);for(let ye=0;ye<ie.length;ye++){const me=ie[ye];Jc(this.layoutVertexArray,me.x,me.y,0,0,1,1,0),w.x+=me.x,w.y+=me.y,w.vertexCount+=1,U.push(me.x),U.push(me.y)}}const te=Od.exports(U,G);for(let ie=0;ie<te.length;ie+=3)this.indexArray.emplaceBack(K+te[ie],K+te[ie+2],K+te[ie+1]);B.primitiveLength+=te.length/3,B.vertexLength+=I}for(let A=0;A<w.vertexCount;A++)this.centroidVertexArray.emplaceBack(Math.floor(w.x/w.vertexCount),Math.floor(w.y/w.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,c,_,m)}}function bC(r,i){return r.x===i.x&&(r.x<0||r.x>tr)||r.y===i.y&&(r.y<0||r.y>tr)}function SC(r){return r.every(i=>i.x<0)||r.every(i=>i.x>tr)||r.every(i=>i.y<0)||r.every(i=>i.y>tr)}le("FillExtrusionBucket",xm,{omit:["layers","features"]});var TC={paint:new pr({"fill-extrusion-opacity":new Rt(Le["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Kt(Le["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Rt(Le["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Rt(Le["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ol(Le["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Kt(Le["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Kt(Le["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Rt(Le["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function eh(r,i){return r.x*i.x+r.y*i.y}function H_(r,i){if(r.length===1){let o=0;const c=i[o++];let m;for(;!m||c.equals(m);)if(m=i[o++],!m)return 1/0;for(;o<i.length;o++){const _=i[o],w=r[0],A=m.sub(c),I=_.sub(c),B=w.sub(c),U=eh(A,A),G=eh(A,I),K=eh(I,I),te=eh(B,A),ie=eh(B,I),ye=U*K-G*G,me=(K*te-G*ie)/ye,Me=(U*ie-G*te)/ye,Ve=c.z*(1-me-Me)+m.z*me+_.z*Me;if(isFinite(Ve))return Ve}return 1/0}{let o=1/0;for(const c of i)o=Math.min(o,c.z);return o}}const CC=Xn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:AC}=CC,EC=Xn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:kC}=EC,PC=ul.VectorTileFeature.types,IC=Math.cos(Math.PI/180*37.5),Z_=Math.pow(2,14)/.5;class wm{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new Vi,this.layoutVertexArray2=new rn,this.indexArray=new Zr,this.programConfigurations=new eu(i.layers,i.zoom),this.segments=new Ei,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,c){this.hasPattern=gm("line",this.layers,o);const m=this.layers[0].layout.get("line-sort-key"),_=!m.isConstant(),w=[];for(const{feature:A,id:I,index:B,sourceLayerIndex:U}of i){const G=this.layers[0]._featureFilter.needGeometry,K=iu(A,G);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),K,c))continue;const te=_?m.evaluate(K,{},c):void 0,ie={id:I,properties:A.properties,type:A.type,sourceLayerIndex:U,index:B,geometry:G?K.geometry:tu(A),patterns:{},sortKey:te};w.push(ie)}_&&w.sort((A,I)=>A.sortKey-I.sortKey);for(const A of w){const{geometry:I,index:B,sourceLayerIndex:U}=A;if(this.hasPattern){const G=ym("line",this.layers,A,this.zoom,o);this.patternFeatures.push(G)}else this.addFeature(A,I,B,c,{});o.featureIndex.insert(i[B].feature,I,B,U,this.index)}}update(i,o,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,c)}addFeatures(i,o,c){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,o,c)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,kC)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,AC),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,o,c,m,_){const w=this.layers[0].layout,A=w.get("line-join").evaluate(i,{}),I=w.get("line-cap"),B=w.get("line-miter-limit"),U=w.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const G of o)this.addLine(G,i,A,I,B,U);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,c,_,m)}addLine(i,o,c,m,_,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Me=0;Me<i.length-1;Me++)this.totalDistance+=i[Me].dist(i[Me+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=PC[o.type]==="Polygon";let I=i.length;for(;I>=2&&i[I-1].equals(i[I-2]);)I--;let B=0;for(;B<I-1&&i[B].equals(i[B+1]);)B++;if(I<(A?3:2))return;c==="bevel"&&(_=1.05);const U=this.overscaling<=16?122880/(512*this.overscaling):0,G=this.segments.prepareSegment(10*I,this.layoutVertexArray,this.indexArray);let K,te,ie,ye,me;this.e1=this.e2=-1,A&&(K=i[I-2],me=i[B].sub(K)._unit()._perp());for(let Me=B;Me<I;Me++){if(ie=Me===I-1?A?i[B+1]:void 0:i[Me+1],ie&&i[Me].equals(ie))continue;me&&(ye=me),K&&(te=K),K=i[Me],me=ie?ie.sub(K)._unit()._perp():ye,ye=ye||me;let Ve=ye.add(me);Ve.x===0&&Ve.y===0||Ve._unit();const ke=ye.x*me.x+ye.y*me.y,Be=Ve.x*me.x+Ve.y*me.y,tt=Be!==0?1/Be:1/0,et=2*Math.sqrt(2-2*Be),Pt=Be<IC&&te&&ie,Dt=ye.x*me.y-ye.y*me.x>0;if(Pt&&Me>B){const mt=K.dist(te);if(mt>2*U){const St=K.sub(K.sub(te)._mult(U/mt)._round());this.updateDistance(te,St),this.addCurrentVertex(St,ye,0,0,G),te=St}}const bt=te&&ie;let vt=bt?c:A?"butt":m;if(bt&&vt==="round"&&(tt<w?vt="miter":tt<=2&&(vt="fakeround")),vt==="miter"&&tt>_&&(vt="bevel"),vt==="bevel"&&(tt>2&&(vt="flipbevel"),tt<_&&(vt="miter")),te&&this.updateDistance(te,K),vt==="miter")Ve._mult(tt),this.addCurrentVertex(K,Ve,0,0,G);else if(vt==="flipbevel"){if(tt>100)Ve=me.mult(-1);else{const mt=tt*ye.add(me).mag()/ye.sub(me).mag();Ve._perp()._mult(mt*(Dt?-1:1))}this.addCurrentVertex(K,Ve,0,0,G),this.addCurrentVertex(K,Ve.mult(-1),0,0,G)}else if(vt==="bevel"||vt==="fakeround"){const mt=-Math.sqrt(tt*tt-1),St=Dt?mt:0,_t=Dt?0:mt;if(te&&this.addCurrentVertex(K,ye,St,_t,G),vt==="fakeround"){const ht=Math.round(180*et/Math.PI/20);for(let Zt=1;Zt<ht;Zt++){let Nt=Zt/ht;if(Nt!==.5){const vn=Nt-.5;Nt+=Nt*vn*(Nt-1)*((1.0904+ke*(ke*(3.55645-1.43519*ke)-3.2452))*vn*vn+(.848013+ke*(.215638*ke-1.06021)))}const wi=me.sub(ye)._mult(Nt)._add(ye)._unit()._mult(Dt?-1:1);this.addHalfVertex(K,wi.x,wi.y,!1,Dt,0,G)}}ie&&this.addCurrentVertex(K,me,-St,-_t,G)}else if(vt==="butt")this.addCurrentVertex(K,Ve,0,0,G);else if(vt==="square"){const mt=te?1:-1;this.addCurrentVertex(K,Ve,mt,mt,G)}else vt==="round"&&(te&&(this.addCurrentVertex(K,ye,0,0,G),this.addCurrentVertex(K,ye,1,1,G,!0)),ie&&(this.addCurrentVertex(K,me,-1,-1,G,!0),this.addCurrentVertex(K,me,0,0,G)));if(Pt&&Me<I-1){const mt=K.dist(ie);if(mt>2*U){const St=K.add(ie.sub(K)._mult(U/mt)._round());this.updateDistance(K,St),this.addCurrentVertex(St,me,0,0,G),K=St}}}}addCurrentVertex(i,o,c,m,_,w=!1){const A=o.y*m-o.x,I=-o.y-o.x*m;this.addHalfVertex(i,o.x+o.y*c,o.y-o.x*c,w,!1,c,_),this.addHalfVertex(i,A,I,w,!0,-m,_),this.distance>Z_/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(i,o,c,m,_,w))}addHalfVertex({x:i,y:o},c,m,_,w,A,I){const B=.5*(this.lineClips?this.scaledDistance*(Z_-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(_?1:0),(o<<1)+(w?1:0),Math.round(63*c)+128,Math.round(63*m)+128,1+(A===0?0:A<0?-1:1)|(63&B)<<2,B>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const U=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,U),I.primitiveLength++),w?this.e2=U:this.e1=U}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,o){this.distance+=i.dist(o),this.updateScaledDistance()}}le("LineBucket",wm,{omit:["layers","patternFeatures"]});const MC=new pr({"line-cap":new Rt(Le.layout_line["line-cap"]),"line-join":new Kt(Le.layout_line["line-join"]),"line-miter-limit":new Rt(Le.layout_line["line-miter-limit"]),"line-round-limit":new Rt(Le.layout_line["line-round-limit"]),"line-sort-key":new Kt(Le.layout_line["line-sort-key"])});var $_={paint:new pr({"line-opacity":new Kt(Le.paint_line["line-opacity"]),"line-color":new Kt(Le.paint_line["line-color"]),"line-translate":new Rt(Le.paint_line["line-translate"]),"line-translate-anchor":new Rt(Le.paint_line["line-translate-anchor"]),"line-width":new Kt(Le.paint_line["line-width"]),"line-gap-width":new Kt(Le.paint_line["line-gap-width"]),"line-offset":new Kt(Le.paint_line["line-offset"]),"line-blur":new Kt(Le.paint_line["line-blur"]),"line-dasharray":new Uc(Le.paint_line["line-dasharray"]),"line-pattern":new ol(Le.paint_line["line-pattern"]),"line-gradient":new Ho(Le.paint_line["line-gradient"])}),layout:MC};const X_=new class extends Kt{possiblyEvaluate(r,i){return i=new wn(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,zoomHistory:i.zoomHistory,transition:i.transition}),super.possiblyEvaluate(r,i)}evaluate(r,i,o,c){return i=se({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(r,i,o,c)}}($_.paint.properties["line-width"].specification);function K_(r,i){return i>0?i+2*r:r}X_.useIntegerZoom=!0;const zC=Xn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),DC=Xn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Xn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const LC=Xn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Xn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Y_=Xn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),RC=Xn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function BC(r,i,o){return r.sections.forEach(c=>{c.text=function(m,_,w){const A=_.layout.get("text-transform").evaluate(w,{});return A==="uppercase"?m=m.toLocaleUpperCase():A==="lowercase"&&(m=m.toLocaleLowerCase()),ys.applyArabicShaping&&(m=ys.applyArabicShaping(m)),m}(c.text,i,o)}),r}Xn([{name:"triangle",components:3,type:"Uint16"}]),Xn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Xn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Xn([{type:"Float32",name:"offsetX"}]),Xn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const th={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var fr=24,bm=ln,Q_=function(r,i,o,c,m){var _,w,A=8*m-c-1,I=(1<<A)-1,B=I>>1,U=-7,G=o?m-1:0,K=o?-1:1,te=r[i+G];for(G+=K,_=te&(1<<-U)-1,te>>=-U,U+=A;U>0;_=256*_+r[i+G],G+=K,U-=8);for(w=_&(1<<-U)-1,_>>=-U,U+=c;U>0;w=256*w+r[i+G],G+=K,U-=8);if(_===0)_=1-B;else{if(_===I)return w?NaN:1/0*(te?-1:1);w+=Math.pow(2,c),_-=B}return(te?-1:1)*w*Math.pow(2,_-c)},J_=function(r,i,o,c,m,_){var w,A,I,B=8*_-m-1,U=(1<<B)-1,G=U>>1,K=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,te=c?0:_-1,ie=c?1:-1,ye=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(A=isNaN(i)?1:0,w=U):(w=Math.floor(Math.log(i)/Math.LN2),i*(I=Math.pow(2,-w))<1&&(w--,I*=2),(i+=w+G>=1?K/I:K*Math.pow(2,1-G))*I>=2&&(w++,I/=2),w+G>=U?(A=0,w=U):w+G>=1?(A=(i*I-1)*Math.pow(2,m),w+=G):(A=i*Math.pow(2,G-1)*Math.pow(2,m),w=0));m>=8;r[o+te]=255&A,te+=ie,A/=256,m-=8);for(w=w<<m|A,B+=m;B>0;r[o+te]=255&w,te+=ie,w/=256,B-=8);r[o+te-ie]|=128*ye};function ln(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}ln.Varint=0,ln.Fixed64=1,ln.Bytes=2,ln.Fixed32=5;var cl,Sm=4294967296,ex=1/Sm,tx=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function ka(r){return r.type===ln.Bytes?r.readVarint()+r.pos:r.pos+1}function Wu(r,i,o){return o?4294967296*i+(r>>>0):4294967296*(i>>>0)+(r>>>0)}function ix(r,i,o){var c=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));o.realloc(c);for(var m=o.pos-1;m>=r;m--)o.buf[m+c]=o.buf[m]}function NC(r,i){for(var o=0;o<r.length;o++)i.writeVarint(r[o])}function OC(r,i){for(var o=0;o<r.length;o++)i.writeSVarint(r[o])}function FC(r,i){for(var o=0;o<r.length;o++)i.writeFloat(r[o])}function VC(r,i){for(var o=0;o<r.length;o++)i.writeDouble(r[o])}function UC(r,i){for(var o=0;o<r.length;o++)i.writeBoolean(r[o])}function jC(r,i){for(var o=0;o<r.length;o++)i.writeFixed32(r[o])}function qC(r,i){for(var o=0;o<r.length;o++)i.writeSFixed32(r[o])}function GC(r,i){for(var o=0;o<r.length;o++)i.writeFixed64(r[o])}function WC(r,i){for(var o=0;o<r.length;o++)i.writeSFixed64(r[o])}function qd(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+16777216*r[i+3]}function Hu(r,i,o){r[o]=i,r[o+1]=i>>>8,r[o+2]=i>>>16,r[o+3]=i>>>24}function nx(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+(r[i+3]<<24)}function HC(r,i,o){r===1&&o.readMessage(ZC,i)}function ZC(r,i,o){if(r===3){const{id:c,bitmap:m,width:_,height:w,left:A,top:I,advance:B}=o.readMessage($C,{});i.push({id:c,bitmap:new $c({width:_+6,height:w+6},m),metrics:{width:_,height:w,left:A,top:I,advance:B}})}}function $C(r,i,o){r===1?i.id=o.readVarint():r===2?i.bitmap=o.readBytes():r===3?i.width=o.readVarint():r===4?i.height=o.readVarint():r===5?i.left=o.readSVarint():r===6?i.top=o.readSVarint():r===7&&(i.advance=o.readVarint())}function rx(r){let i=0,o=0;for(const w of r)i+=w.w*w.h,o=Math.max(o,w.w);r.sort((w,A)=>A.h-w.h);const c=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),o),h:1/0}];let m=0,_=0;for(const w of r)for(let A=c.length-1;A>=0;A--){const I=c[A];if(!(w.w>I.w||w.h>I.h)){if(w.x=I.x,w.y=I.y,_=Math.max(_,w.y+w.h),m=Math.max(m,w.x+w.w),w.w===I.w&&w.h===I.h){const B=c.pop();A<c.length&&(c[A]=B)}else w.h===I.h?(I.x+=w.w,I.w-=w.w):w.w===I.w?(I.y+=w.h,I.h-=w.h):(c.push({x:I.x+w.w,y:I.y,w:I.w-w.w,h:w.h}),I.y+=w.h,I.h-=w.h);break}}return{w:m,h:_,fill:i/(m*_)||0}}ln.prototype={destroy:function(){this.buf=null},readFields:function(r,i,o){for(o=o||this.length;this.pos<o;){var c=this.readVarint(),m=c>>3,_=this.pos;this.type=7&c,r(m,i,this),this.pos===_&&this.skip(c)}return i},readMessage:function(r,i){return this.readFields(r,i,this.readVarint()+this.pos)},readFixed32:function(){var r=qd(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=nx(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=qd(this.buf,this.pos)+qd(this.buf,this.pos+4)*Sm;return this.pos+=8,r},readSFixed64:function(){var r=qd(this.buf,this.pos)+nx(this.buf,this.pos+4)*Sm;return this.pos+=8,r},readFloat:function(){var r=Q_(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=Q_(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var i,o,c=this.buf;return i=127&(o=c[this.pos++]),o<128?i:(i|=(127&(o=c[this.pos++]))<<7,o<128?i:(i|=(127&(o=c[this.pos++]))<<14,o<128?i:(i|=(127&(o=c[this.pos++]))<<21,o<128?i:function(m,_,w){var A,I,B=w.buf;if(A=(112&(I=B[w.pos++]))>>4,I<128||(A|=(127&(I=B[w.pos++]))<<3,I<128)||(A|=(127&(I=B[w.pos++]))<<10,I<128)||(A|=(127&(I=B[w.pos++]))<<17,I<128)||(A|=(127&(I=B[w.pos++]))<<24,I<128)||(A|=(1&(I=B[w.pos++]))<<31,I<128))return Wu(m,A,_);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(o=c[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var r=this.readVarint()+this.pos,i=this.pos;return this.pos=r,r-i>=12&&tx?function(o,c,m){return tx.decode(o.subarray(c,m))}(this.buf,i,r):function(o,c,m){for(var _="",w=c;w<m;){var A,I,B,U=o[w],G=null,K=U>239?4:U>223?3:U>191?2:1;if(w+K>m)break;K===1?U<128&&(G=U):K===2?(192&(A=o[w+1]))==128&&(G=(31&U)<<6|63&A)<=127&&(G=null):K===3?(I=o[w+2],(192&(A=o[w+1]))==128&&(192&I)==128&&((G=(15&U)<<12|(63&A)<<6|63&I)<=2047||G>=55296&&G<=57343)&&(G=null)):K===4&&(I=o[w+2],B=o[w+3],(192&(A=o[w+1]))==128&&(192&I)==128&&(192&B)==128&&((G=(15&U)<<18|(63&A)<<12|(63&I)<<6|63&B)<=65535||G>=1114112)&&(G=null)),G===null?(G=65533,K=1):G>65535&&(G-=65536,_+=String.fromCharCode(G>>>10&1023|55296),G=56320|1023&G),_+=String.fromCharCode(G),w+=K}return _}(this.buf,i,r)},readBytes:function(){var r=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,r);return this.pos=r,i},readPackedVarint:function(r,i){if(this.type!==ln.Bytes)return r.push(this.readVarint(i));var o=ka(this);for(r=r||[];this.pos<o;)r.push(this.readVarint(i));return r},readPackedSVarint:function(r){if(this.type!==ln.Bytes)return r.push(this.readSVarint());var i=ka(this);for(r=r||[];this.pos<i;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==ln.Bytes)return r.push(this.readBoolean());var i=ka(this);for(r=r||[];this.pos<i;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==ln.Bytes)return r.push(this.readFloat());var i=ka(this);for(r=r||[];this.pos<i;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==ln.Bytes)return r.push(this.readDouble());var i=ka(this);for(r=r||[];this.pos<i;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==ln.Bytes)return r.push(this.readFixed32());var i=ka(this);for(r=r||[];this.pos<i;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==ln.Bytes)return r.push(this.readSFixed32());var i=ka(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==ln.Bytes)return r.push(this.readFixed64());var i=ka(this);for(r=r||[];this.pos<i;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==ln.Bytes)return r.push(this.readSFixed64());var i=ka(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed64());return r},skip:function(r){var i=7&r;if(i===ln.Varint)for(;this.buf[this.pos++]>127;);else if(i===ln.Bytes)this.pos=this.readVarint()+this.pos;else if(i===ln.Fixed32)this.pos+=4;else{if(i!==ln.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(r,i){this.writeVarint(r<<3|i)},realloc:function(r){for(var i=this.length||16;i<this.pos+r;)i*=2;if(i!==this.length){var o=new Uint8Array(i);o.set(this.buf),this.buf=o,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),Hu(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),Hu(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),Hu(this.buf,-1&r,this.pos),Hu(this.buf,Math.floor(r*ex),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),Hu(this.buf,-1&r,this.pos),Hu(this.buf,Math.floor(r*ex),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(i,o){var c,m;if(i>=0?(c=i%4294967296|0,m=i/4294967296|0):(m=~(-i/4294967296),4294967295^(c=~(-i%4294967296))?c=c+1|0:(c=0,m=m+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(_,w,A){A.buf[A.pos++]=127&_|128,_>>>=7,A.buf[A.pos++]=127&_|128,_>>>=7,A.buf[A.pos++]=127&_|128,_>>>=7,A.buf[A.pos++]=127&_|128,A.buf[A.pos]=127&(_>>>=7)}(c,0,o),function(_,w){var A=(7&_)<<4;w.buf[w.pos++]|=A|((_>>>=3)?128:0),_&&(w.buf[w.pos++]=127&_|((_>>>=7)?128:0),_&&(w.buf[w.pos++]=127&_|((_>>>=7)?128:0),_&&(w.buf[w.pos++]=127&_|((_>>>=7)?128:0),_&&(w.buf[w.pos++]=127&_|((_>>>=7)?128:0),_&&(w.buf[w.pos++]=127&_)))))}(m,o)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(Boolean(r))},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var i=this.pos;this.pos=function(c,m,_){for(var w,A,I=0;I<m.length;I++){if((w=m.charCodeAt(I))>55295&&w<57344){if(!A){w>56319||I+1===m.length?(c[_++]=239,c[_++]=191,c[_++]=189):A=w;continue}if(w<56320){c[_++]=239,c[_++]=191,c[_++]=189,A=w;continue}w=A-55296<<10|w-56320|65536,A=null}else A&&(c[_++]=239,c[_++]=191,c[_++]=189,A=null);w<128?c[_++]=w:(w<2048?c[_++]=w>>6|192:(w<65536?c[_++]=w>>12|224:(c[_++]=w>>18|240,c[_++]=w>>12&63|128),c[_++]=w>>6&63|128),c[_++]=63&w|128)}return _}(this.buf,r,this.pos);var o=this.pos-i;o>=128&&ix(i,o,this),this.pos=i-1,this.writeVarint(o),this.pos+=o},writeFloat:function(r){this.realloc(4),J_(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),J_(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var i=r.length;this.writeVarint(i),this.realloc(i);for(var o=0;o<i;o++)this.buf[this.pos++]=r[o]},writeRawMessage:function(r,i){this.pos++;var o=this.pos;r(i,this);var c=this.pos-o;c>=128&&ix(o,c,this),this.pos=o-1,this.writeVarint(c),this.pos+=c},writeMessage:function(r,i,o){this.writeTag(r,ln.Bytes),this.writeRawMessage(i,o)},writePackedVarint:function(r,i){i.length&&this.writeMessage(r,NC,i)},writePackedSVarint:function(r,i){i.length&&this.writeMessage(r,OC,i)},writePackedBoolean:function(r,i){i.length&&this.writeMessage(r,UC,i)},writePackedFloat:function(r,i){i.length&&this.writeMessage(r,FC,i)},writePackedDouble:function(r,i){i.length&&this.writeMessage(r,VC,i)},writePackedFixed32:function(r,i){i.length&&this.writeMessage(r,jC,i)},writePackedSFixed32:function(r,i){i.length&&this.writeMessage(r,qC,i)},writePackedFixed64:function(r,i){i.length&&this.writeMessage(r,GC,i)},writePackedSFixed64:function(r,i){i.length&&this.writeMessage(r,WC,i)},writeBytesField:function(r,i){this.writeTag(r,ln.Bytes),this.writeBytes(i)},writeFixed32Field:function(r,i){this.writeTag(r,ln.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(r,i){this.writeTag(r,ln.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(r,i){this.writeTag(r,ln.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(r,i){this.writeTag(r,ln.Fixed64),this.writeSFixed64(i)},writeVarintField:function(r,i){this.writeTag(r,ln.Varint),this.writeVarint(i)},writeSVarintField:function(r,i){this.writeTag(r,ln.Varint),this.writeSVarint(i)},writeStringField:function(r,i){this.writeTag(r,ln.Bytes),this.writeString(i)},writeFloatField:function(r,i){this.writeTag(r,ln.Fixed32),this.writeFloat(i)},writeDoubleField:function(r,i){this.writeTag(r,ln.Fixed64),this.writeDouble(i)},writeBooleanField:function(r,i){this.writeVarintField(r,Boolean(i))}};class Tm{constructor(i,{pixelRatio:o,version:c,stretchX:m,stretchY:_,content:w}){this.paddedRect=i,this.pixelRatio=o,this.stretchX=m,this.stretchY=_,this.content=w,this.version=c}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class sx{constructor(i,o){const c={},m={};this.haveRenderCallbacks=[];const _=[];this.addImages(i,c,_),this.addImages(o,m,_);const{w,h:A}=rx(_),I=new Is({width:w||1,height:A||1});for(const B in i){const U=i[B],G=c[B].paddedRect;Is.copy(U.data,I,{x:0,y:0},{x:G.x+1,y:G.y+1},U.data)}for(const B in o){const U=o[B],G=m[B].paddedRect,K=G.x+1,te=G.y+1,ie=U.data.width,ye=U.data.height;Is.copy(U.data,I,{x:0,y:0},{x:K,y:te},U.data),Is.copy(U.data,I,{x:0,y:ye-1},{x:K,y:te-1},{width:ie,height:1}),Is.copy(U.data,I,{x:0,y:0},{x:K,y:te+ye},{width:ie,height:1}),Is.copy(U.data,I,{x:ie-1,y:0},{x:K-1,y:te},{width:1,height:ye}),Is.copy(U.data,I,{x:0,y:0},{x:K+ie,y:te},{width:1,height:ye})}this.image=I,this.iconPositions=c,this.patternPositions=m}addImages(i,o,c){for(const m in i){const _=i[m],w={x:0,y:0,w:_.data.width+2,h:_.data.height+2};c.push(w),o[m]=new Tm(w,_),_.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(i,o){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const c in i.updatedImages)this.patchUpdatedImage(this.iconPositions[c],i.getImage(c),o),this.patchUpdatedImage(this.patternPositions[c],i.getImage(c),o)}patchUpdatedImage(i,o,c){if(!i||!o||i.version===o.version)return;i.version=o.version;const[m,_]=i.tl;c.update(o.data,void 0,{x:m,y:_})}}le("ImagePosition",Tm),le("ImageAtlas",sx),a.WritingMode=void 0,(cl=a.WritingMode||(a.WritingMode={}))[cl.none=0]="none",cl[cl.horizontal=1]="horizontal",cl[cl.vertical=2]="vertical",cl[cl.horizontalOnly=3]="horizontalOnly";const Gd=-17;class ih{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,o){const c=new ih;return c.scale=i||1,c.fontStack=o,c}static forImage(i){const o=new ih;return o.imageName=i,o}}class Zu{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,o){const c=new Zu;for(let m=0;m<i.sections.length;m++){const _=i.sections[m];_.image?c.addImageSection(_):c.addTextSection(_,o)}return c}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let o="";for(let c=0;c<i.length;c++){const m=i.charCodeAt(c+1)||null,_=i.charCodeAt(c-1)||null;o+=m&&ni(m)&&!th[i[c+1]]||_&&ni(_)&&!th[i[c-1]]||!th[i[c]]?i[c]:th[i[c]]}return o}(this.text)}trim(){let i=0;for(let c=0;c<this.text.length&&Hd[this.text.charCodeAt(c)];c++)i++;let o=this.text.length;for(let c=this.text.length-1;c>=0&&c>=i&&Hd[this.text.charCodeAt(c)];c--)o--;this.text=this.text.substring(i,o),this.sectionIndex=this.sectionIndex.slice(i,o)}substring(i,o){const c=new Zu;return c.text=this.text.substring(i,o),c.sectionIndex=this.sectionIndex.slice(i,o),c.sections=this.sections,c}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,o)=>Math.max(i,this.sections[o].scale),0)}addTextSection(i,o){this.text+=i.text,this.sections.push(ih.forText(i.scale,i.fontStack||o));const c=this.sections.length-1;for(let m=0;m<i.text.length;++m)this.sectionIndex.push(c)}addImageSection(i){const o=i.image?i.image.name:"";if(o.length===0)return void xe("Can't add FormattedSection with an empty image.");const c=this.getNextImageSectionCharCode();c?(this.text+=String.fromCharCode(c),this.sections.push(ih.forImage(o)),this.sectionIndex.push(this.sections.length-1)):xe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Wd(r,i,o,c,m,_,w,A,I,B,U,G,K,te,ie,ye){const me=Zu.fromFeature(r,m);let Me;G===a.WritingMode.vertical&&me.verticalizePunctuation();const{processBidirectionalText:Ve,processStyledBidirectionalText:ke}=ys;if(Ve&&me.sections.length===1){Me=[];const et=Ve(me.toString(),Cm(me,B,_,i,c,te,ie));for(const Pt of et){const Dt=new Zu;Dt.text=Pt,Dt.sections=me.sections;for(let bt=0;bt<Pt.length;bt++)Dt.sectionIndex.push(0);Me.push(Dt)}}else if(ke){Me=[];const et=ke(me.text,me.sectionIndex,Cm(me,B,_,i,c,te,ie));for(const Pt of et){const Dt=new Zu;Dt.text=Pt[0],Dt.sectionIndex=Pt[1],Dt.sections=me.sections,Me.push(Dt)}}else Me=function(et,Pt){const Dt=[],bt=et.text;let vt=0;for(const mt of Pt)Dt.push(et.substring(vt,mt)),vt=mt;return vt<bt.length&&Dt.push(et.substring(vt,bt.length)),Dt}(me,Cm(me,B,_,i,c,te,ie));const Be=[],tt={positionedLines:Be,text:me.toString(),top:U[1],bottom:U[1],left:U[0],right:U[0],writingMode:G,iconsInText:!1,verticalizable:!1};return function(et,Pt,Dt,bt,vt,mt,St,_t,ht,Zt,Nt,wi){let vn=0,Sn=Gd,ir=0,zs=0;const br=_t==="right"?1:_t==="left"?0:.5;let Kn=0;for(const Yn of vt){Yn.trim();const Tr=Yn.getMaxScale(),Br=(Tr-1)*fr,Kr={positionedGlyphs:[],lineOffset:0};et.positionedLines[Kn]=Kr;const ss=Kr.positionedGlyphs;let os=0;if(!Yn.length()){Sn+=mt,++Kn;continue}for(let cr=0;cr<Yn.length();cr++){const Ii=Yn.getSection(cr),xs=Yn.getSectionIndex(cr),Cr=Yn.getCharCode(cr);let Nr=0,Ys=null,yo=null,vo=null,Ia=fr;const Qs=!(ht===a.WritingMode.horizontal||!Nt&&!Xt(Cr)||Nt&&(Hd[Cr]||(ur=Cr,Pe.Arabic(ur)||Pe["Arabic Supplement"](ur)||Pe["Arabic Extended-A"](ur)||Pe["Arabic Presentation Forms-A"](ur)||Pe["Arabic Presentation Forms-B"](ur))));if(Ii.imageName){const Ds=bt[Ii.imageName];if(!Ds)continue;vo=Ii.imageName,et.iconsInText=et.iconsInText||!0,yo=Ds.paddedRect;const as=Ds.displaySize;Ii.scale=Ii.scale*fr/wi,Ys={width:as[0],height:as[1],left:1,top:-3,advance:Qs?as[1]:as[0]},Nr=Br+(fr-as[1]*Ii.scale),Ia=Ys.advance;const Ma=Qs?as[0]*Ii.scale-fr*Tr:as[1]*Ii.scale-fr*Tr;Ma>0&&Ma>os&&(os=Ma)}else{const Ds=Dt[Ii.fontStack],as=Ds&&Ds[Cr];if(as&&as.rect)yo=as.rect,Ys=as.metrics;else{const Ma=Pt[Ii.fontStack],sh=Ma&&Ma[Cr];if(!sh)continue;Ys=sh.metrics}Nr=(Tr-Ii.scale)*fr}Qs?(et.verticalizable=!0,ss.push({glyph:Cr,imageName:vo,x:vn,y:Sn+Nr,vertical:Qs,scale:Ii.scale,fontStack:Ii.fontStack,sectionIndex:xs,metrics:Ys,rect:yo}),vn+=Ia*Ii.scale+Zt):(ss.push({glyph:Cr,imageName:vo,x:vn,y:Sn+Nr,vertical:Qs,scale:Ii.scale,fontStack:Ii.fontStack,sectionIndex:xs,metrics:Ys,rect:yo}),vn+=Ys.advance*Ii.scale+Zt)}ss.length!==0&&(ir=Math.max(vn-Zt,ir),YC(ss,0,ss.length-1,br,os)),vn=0;const An=mt*Tr+os;Kr.lineOffset=Math.max(os,Br),Sn+=An,zs=Math.max(An,zs),++Kn}var ur;const Sr=Sn-Gd,{horizontalAlign:Rr,verticalAlign:rs}=Am(St);(function(Yn,Tr,Br,Kr,ss,os,An,cr,Ii){const xs=(Tr-Br)*ss;let Cr=0;Cr=os!==An?-cr*Kr-Gd:(-Kr*Ii+.5)*An;for(const Nr of Yn)for(const Ys of Nr.positionedGlyphs)Ys.x+=xs,Ys.y+=Cr})(et.positionedLines,br,Rr,rs,ir,zs,mt,Sr,vt.length),et.top+=-rs*Sr,et.bottom=et.top+Sr,et.left+=-Rr*ir,et.right=et.left+ir}(tt,i,o,c,Me,w,A,I,G,B,K,ye),!function(et){for(const Pt of et)if(Pt.positionedGlyphs.length!==0)return!1;return!0}(Be)&&tt}const Hd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},XC={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ox(r,i,o,c,m,_){if(i.imageName){const w=c[i.imageName];return w?w.displaySize[0]*i.scale*fr/_+m:0}{const w=o[i.fontStack],A=w&&w[r];return A?A.metrics.advance*i.scale+m:0}}function ax(r,i,o,c){const m=Math.pow(r-i,2);return c?r<i?m/2:2*m:m+Math.abs(o)*o}function KC(r,i,o){let c=0;return r===10&&(c-=1e4),o&&(c+=150),r!==40&&r!==65288||(c+=50),i!==41&&i!==65289||(c+=50),c}function lx(r,i,o,c,m,_){let w=null,A=ax(i,o,m,_);for(const I of c){const B=ax(i-I.x,o,m,_)+I.badness;B<=A&&(w=I,A=B)}return{index:r,x:i,priorBreak:w,badness:A}}function ux(r){return r?ux(r.priorBreak).concat(r.index):[]}function Cm(r,i,o,c,m,_,w){if(_!=="point")return[];if(!r)return[];const A=[],I=function(K,te,ie,ye,me,Me){let Ve=0;for(let ke=0;ke<K.length();ke++){const Be=K.getSection(ke);Ve+=ox(K.getCharCode(ke),Be,ye,me,te,Me)}return Ve/Math.max(1,Math.ceil(Ve/ie))}(r,i,o,c,m,w),B=r.text.indexOf("\u200B")>=0;let U=0;for(let K=0;K<r.length();K++){const te=r.getSection(K),ie=r.getCharCode(K);if(Hd[ie]||(U+=ox(ie,te,c,m,i,w)),K<r.length()-1){const ye=!((G=ie)<11904||!(Pe["Bopomofo Extended"](G)||Pe.Bopomofo(G)||Pe["CJK Compatibility Forms"](G)||Pe["CJK Compatibility Ideographs"](G)||Pe["CJK Compatibility"](G)||Pe["CJK Radicals Supplement"](G)||Pe["CJK Strokes"](G)||Pe["CJK Symbols and Punctuation"](G)||Pe["CJK Unified Ideographs Extension A"](G)||Pe["CJK Unified Ideographs"](G)||Pe["Enclosed CJK Letters and Months"](G)||Pe["Halfwidth and Fullwidth Forms"](G)||Pe.Hiragana(G)||Pe["Ideographic Description Characters"](G)||Pe["Kangxi Radicals"](G)||Pe["Katakana Phonetic Extensions"](G)||Pe.Katakana(G)||Pe["Vertical Forms"](G)||Pe["Yi Radicals"](G)||Pe["Yi Syllables"](G)));(XC[ie]||ye||te.imageName)&&A.push(lx(K+1,U,I,A,KC(ie,r.getCharCode(K+1),ye&&B),!1))}}var G;return ux(lx(r.length(),U,I,A,0,!0))}function Am(r){let i=.5,o=.5;switch(r){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:i,verticalAlign:o}}function YC(r,i,o,c,m){if(!c&&!m)return;const _=r[o],w=(r[o].x+_.metrics.advance*_.scale)*c;for(let A=i;A<=o;A++)r[A].x-=w,r[A].y+=m}function QC(r,i,o){const{horizontalAlign:c,verticalAlign:m}=Am(o),_=i[0]-r.displaySize[0]*c,w=i[1]-r.displaySize[1]*m;return{image:r,top:w,bottom:w+r.displaySize[1],left:_,right:_+r.displaySize[0]}}function cx(r,i,o,c,m,_){const w=r.image;let A;if(w.content){const me=w.content,Me=w.pixelRatio||1;A=[me[0]/Me,me[1]/Me,w.displaySize[0]-me[2]/Me,w.displaySize[1]-me[3]/Me]}const I=i.left*_,B=i.right*_;let U,G,K,te;o==="width"||o==="both"?(te=m[0]+I-c[3],G=m[0]+B+c[1]):(te=m[0]+(I+B-w.displaySize[0])/2,G=te+w.displaySize[0]);const ie=i.top*_,ye=i.bottom*_;return o==="height"||o==="both"?(U=m[1]+ie-c[0],K=m[1]+ye+c[2]):(U=m[1]+(ie+ye-w.displaySize[1])/2,K=U+w.displaySize[1]),{image:w,top:U,right:G,bottom:K,left:te,collisionPadding:A}}const Pa=128;function hx(r,i){const{expression:o}=i;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new wn(r+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:c,interpolationType:m}=o;let _=0;for(;_<c.length&&c[_]<=r;)_++;_=Math.max(0,_-1);let w=_;for(;w<c.length&&c[w]<r+1;)w++;w=Math.min(c.length-1,w);const A=c[_],I=c[w];return o.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:I,interpolationType:m}:{kind:"camera",minZoom:A,maxZoom:I,minSize:o.evaluate(new wn(A)),maxSize:o.evaluate(new wn(I)),interpolationType:m}}}class hl extends Tt{constructor(i,o,c,m){super(i,o),this.angle=c,m!==void 0&&(this.segment=m)}clone(){return new hl(this.x,this.y,this.angle,this.segment)}}function dx(r,i,o,c,m){if(i.segment===void 0)return!0;let _=i,w=i.segment+1,A=0;for(;A>-o/2;){if(w--,w<0)return!1;A-=r[w].dist(_),_=r[w]}A+=r[w].dist(r[w+1]),w++;const I=[];let B=0;for(;A<o/2;){const U=r[w],G=r[w+1];if(!G)return!1;let K=r[w-1].angleTo(U)-U.angleTo(G);for(K=Math.abs((K+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:A,angleDelta:K}),B+=K;A-I[0].distance>c;)B-=I.shift().angleDelta;if(B>m)return!1;w++,A+=U.dist(G)}return!0}function px(r){let i=0;for(let o=0;o<r.length-1;o++)i+=r[o].dist(r[o+1]);return i}function fx(r,i,o){return r?.6*i*o:0}function mx(r,i){return Math.max(r?r.right-r.left:0,i?i.right-i.left:0)}function JC(r,i,o,c,m,_){const w=fx(o,m,_),A=mx(o,c)*_;let I=0;const B=px(r)/2;for(let U=0;U<r.length-1;U++){const G=r[U],K=r[U+1],te=G.dist(K);if(I+te>B){const ie=(B-I)/te,ye=pn(G.x,K.x,ie),me=pn(G.y,K.y,ie),Me=new hl(ye,me,K.angleTo(G),U);return Me._round(),!w||dx(r,Me,A,w,i)?Me:void 0}I+=te}}function eA(r,i,o,c,m,_,w,A,I){const B=fx(c,_,w),U=mx(c,m),G=U*w,K=r[0].x===0||r[0].x===I||r[0].y===0||r[0].y===I;return i-G<i/4&&(i=G+i/4),gx(r,K?i/2*A%i:(U/2+2*_)*w*A%i,i,B,o,G,K,!1,I)}function gx(r,i,o,c,m,_,w,A,I){const B=_/2,U=px(r);let G=0,K=i-o,te=[];for(let ie=0;ie<r.length-1;ie++){const ye=r[ie],me=r[ie+1],Me=ye.dist(me),Ve=me.angleTo(ye);for(;K+o<G+Me;){K+=o;const ke=(K-G)/Me,Be=pn(ye.x,me.x,ke),tt=pn(ye.y,me.y,ke);if(Be>=0&&Be<I&&tt>=0&&tt<I&&K-B>=0&&K+B<=U){const et=new hl(Be,tt,Ve,ie);et._round(),c&&!dx(r,et,_,c,m)||te.push(et)}}G+=Me}return A||te.length||w||(te=gx(r,G/2,o,c,m,_,w,!0,I)),te}function yx(r,i,o,c,m){const _=[];for(let w=0;w<r.length;w++){const A=r[w];let I;for(let B=0;B<A.length-1;B++){let U=A[B],G=A[B+1];U.x<i&&G.x<i||(U.x<i?U=new Tt(i,U.y+(i-U.x)/(G.x-U.x)*(G.y-U.y))._round():G.x<i&&(G=new Tt(i,U.y+(i-U.x)/(G.x-U.x)*(G.y-U.y))._round()),U.y<o&&G.y<o||(U.y<o?U=new Tt(U.x+(o-U.y)/(G.y-U.y)*(G.x-U.x),o)._round():G.y<o&&(G=new Tt(U.x+(o-U.y)/(G.y-U.y)*(G.x-U.x),o)._round()),U.x>=c&&G.x>=c||(U.x>=c?U=new Tt(c,U.y+(c-U.x)/(G.x-U.x)*(G.y-U.y))._round():G.x>=c&&(G=new Tt(c,U.y+(c-U.x)/(G.x-U.x)*(G.y-U.y))._round()),U.y>=m&&G.y>=m||(U.y>=m?U=new Tt(U.x+(m-U.y)/(G.y-U.y)*(G.x-U.x),m)._round():G.y>=m&&(G=new Tt(U.x+(m-U.y)/(G.y-U.y)*(G.x-U.x),m)._round()),I&&U.equals(I[I.length-1])||(I=[U],_.push(I)),I.push(G)))))}}return _}function vx(r,i,o,c){const m=[],_=r.image,w=_.pixelRatio,A=_.paddedRect.w-2,I=_.paddedRect.h-2,B=r.right-r.left,U=r.bottom-r.top,G=_.stretchX||[[0,A]],K=_.stretchY||[[0,I]],te=(mt,St)=>mt+St[1]-St[0],ie=G.reduce(te,0),ye=K.reduce(te,0),me=A-ie,Me=I-ye;let Ve=0,ke=ie,Be=0,tt=ye,et=0,Pt=me,Dt=0,bt=Me;if(_.content&&c){const mt=_.content;Ve=Zd(G,0,mt[0]),Be=Zd(K,0,mt[1]),ke=Zd(G,mt[0],mt[2]),tt=Zd(K,mt[1],mt[3]),et=mt[0]-Ve,Dt=mt[1]-Be,Pt=mt[2]-mt[0]-ke,bt=mt[3]-mt[1]-tt}const vt=(mt,St,_t,ht)=>{const Zt=$d(mt.stretch-Ve,ke,B,r.left),Nt=Xd(mt.fixed-et,Pt,mt.stretch,ie),wi=$d(St.stretch-Be,tt,U,r.top),vn=Xd(St.fixed-Dt,bt,St.stretch,ye),Sn=$d(_t.stretch-Ve,ke,B,r.left),ir=Xd(_t.fixed-et,Pt,_t.stretch,ie),zs=$d(ht.stretch-Be,tt,U,r.top),br=Xd(ht.fixed-Dt,bt,ht.stretch,ye),Kn=new Tt(Zt,wi),ur=new Tt(Sn,wi),Sr=new Tt(Sn,zs),Rr=new Tt(Zt,zs),rs=new Tt(Nt/w,vn/w),Yn=new Tt(ir/w,br/w),Tr=i*Math.PI/180;if(Tr){const ss=Math.sin(Tr),os=Math.cos(Tr),An=[os,-ss,ss,os];Kn._matMult(An),ur._matMult(An),Rr._matMult(An),Sr._matMult(An)}const Br=mt.stretch+mt.fixed,Kr=St.stretch+St.fixed;return{tl:Kn,tr:ur,bl:Rr,br:Sr,tex:{x:_.paddedRect.x+1+Br,y:_.paddedRect.y+1+Kr,w:_t.stretch+_t.fixed-Br,h:ht.stretch+ht.fixed-Kr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:rs,pixelOffsetBR:Yn,minFontScaleX:Pt/w/B,minFontScaleY:bt/w/U,isSDF:o}};if(c&&(_.stretchX||_.stretchY)){const mt=_x(G,me,ie),St=_x(K,Me,ye);for(let _t=0;_t<mt.length-1;_t++){const ht=mt[_t],Zt=mt[_t+1];for(let Nt=0;Nt<St.length-1;Nt++)m.push(vt(ht,St[Nt],Zt,St[Nt+1]))}}else m.push(vt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:I+1}));return m}function Zd(r,i,o){let c=0;for(const m of r)c+=Math.max(i,Math.min(o,m[1]))-Math.max(i,Math.min(o,m[0]));return c}function _x(r,i,o){const c=[{fixed:-1,stretch:0}];for(const[m,_]of r){const w=c[c.length-1];c.push({fixed:m-w.stretch,stretch:w.stretch}),c.push({fixed:m-w.stretch,stretch:w.stretch+(_-m)})}return c.push({fixed:i+1,stretch:o}),c}function $d(r,i,o,c){return r/i*o+c}function Xd(r,i,o,c){return r-i*o/c}le("Anchor",hl);class Kd{constructor(i,o,c,m,_,w,A,I,B,U){if(this.boxStartIndex=i.length,B){let G=w.top,K=w.bottom;const te=w.collisionPadding;te&&(G-=te[1],K+=te[3]);let ie=K-G;ie>0&&(ie=Math.max(10,ie),this.circleDiameter=ie)}else{let G=w.top*A-I[0],K=w.bottom*A+I[2],te=w.left*A-I[3],ie=w.right*A+I[1];const ye=w.collisionPadding;if(ye&&(te-=ye[0]*A,G-=ye[1]*A,ie+=ye[2]*A,K+=ye[3]*A),U){const me=new Tt(te,G),Me=new Tt(ie,G),Ve=new Tt(te,K),ke=new Tt(ie,K),Be=U*Math.PI/180;me._rotate(Be),Me._rotate(Be),Ve._rotate(Be),ke._rotate(Be),te=Math.min(me.x,Me.x,Ve.x,ke.x),ie=Math.max(me.x,Me.x,Ve.x,ke.x),G=Math.min(me.y,Me.y,Ve.y,ke.y),K=Math.max(me.y,Me.y,Ve.y,ke.y)}i.emplaceBack(o.x,o.y,te,G,ie,K,c,m,_)}this.boxEndIndex=i.length}}class tA{constructor(i=[],o=iA){if(this.data=i,this.length=this.data.length,this.compare=o,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:o,compare:c}=this,m=o[i];for(;i>0;){const _=i-1>>1,w=o[_];if(c(m,w)>=0)break;o[i]=w,i=_}o[i]=m}_down(i){const{data:o,compare:c}=this,m=this.length>>1,_=o[i];for(;i<m;){let w=1+(i<<1),A=o[w];const I=w+1;if(I<this.length&&c(o[I],A)<0&&(w=I,A=o[I]),c(A,_)>=0)break;o[i]=A,i=w}o[i]=_}}function iA(r,i){return r<i?-1:r>i?1:0}function nA(r,i=1,o=!1){let c=1/0,m=1/0,_=-1/0,w=-1/0;const A=r[0];for(let te=0;te<A.length;te++){const ie=A[te];(!te||ie.x<c)&&(c=ie.x),(!te||ie.y<m)&&(m=ie.y),(!te||ie.x>_)&&(_=ie.x),(!te||ie.y>w)&&(w=ie.y)}const I=Math.min(_-c,w-m);let B=I/2;const U=new tA([],rA);if(I===0)return new Tt(c,m);for(let te=c;te<_;te+=I)for(let ie=m;ie<w;ie+=I)U.push(new $u(te+B,ie+B,B,r));let G=function(te){let ie=0,ye=0,me=0;const Me=te[0];for(let Ve=0,ke=Me.length,Be=ke-1;Ve<ke;Be=Ve++){const tt=Me[Ve],et=Me[Be],Pt=tt.x*et.y-et.x*tt.y;ye+=(tt.x+et.x)*Pt,me+=(tt.y+et.y)*Pt,ie+=3*Pt}return new $u(ye/ie,me/ie,0,te)}(r),K=U.length;for(;U.length;){const te=U.pop();(te.d>G.d||!G.d)&&(G=te,o&&console.log("found best %d after %d probes",Math.round(1e4*te.d)/1e4,K)),te.max-G.d<=i||(B=te.h/2,U.push(new $u(te.p.x-B,te.p.y-B,B,r)),U.push(new $u(te.p.x+B,te.p.y-B,B,r)),U.push(new $u(te.p.x-B,te.p.y+B,B,r)),U.push(new $u(te.p.x+B,te.p.y+B,B,r)),K+=4)}return o&&(console.log(`num probes: ${K}`),console.log(`best distance: ${G.d}`)),G.p}function rA(r,i){return i.max-r.max}function $u(r,i,o,c){this.p=new Tt(r,i),this.h=o,this.d=function(m,_){let w=!1,A=1/0;for(let I=0;I<_.length;I++){const B=_[I];for(let U=0,G=B.length,K=G-1;U<G;K=U++){const te=B[U],ie=B[K];te.y>m.y!=ie.y>m.y&&m.x<(ie.x-te.x)*(m.y-te.y)/(ie.y-te.y)+te.x&&(w=!w),A=Math.min(A,E_(m,te,ie))}}return(w?1:-1)*Math.sqrt(A)}(this.p,c),this.max=this.d+this.h*Math.SQRT2}const Em=Number.POSITIVE_INFINITY;function xx(r,i){return i[1]!==Em?function(o,c,m){let _=0,w=0;switch(c=Math.abs(c),m=Math.abs(m),o){case"top-right":case"top-left":case"top":w=m-7;break;case"bottom-right":case"bottom-left":case"bottom":w=7-m}switch(o){case"top-right":case"bottom-right":case"right":_=-c;break;case"top-left":case"bottom-left":case"left":_=c}return[_,w]}(r,i[0],i[1]):function(o,c){let m=0,_=0;c<0&&(c=0);const w=c/Math.sqrt(2);switch(o){case"top-right":case"top-left":_=w-7;break;case"bottom-right":case"bottom-left":_=7-w;break;case"bottom":_=7-c;break;case"top":_=c-7}switch(o){case"top-right":case"bottom-right":m=-w;break;case"top-left":case"bottom-left":m=w;break;case"left":m=c;break;case"right":m=-c}return[m,_]}(r,i[0])}function km(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sA(r,i,o,c,m,_,w,A,I,B,U){let G=_.textMaxSize.evaluate(i,{});G===void 0&&(G=w);const K=r.layers[0].layout,te=K.get("icon-offset").evaluate(i,{},U),ie=bx(o.horizontal),ye=w/24,me=r.tilePixelRatio*ye,Me=r.tilePixelRatio*G/24,Ve=r.tilePixelRatio*A,ke=r.tilePixelRatio*K.get("symbol-spacing"),Be=K.get("text-padding")*r.tilePixelRatio,tt=function(ht,Zt,Nt,wi=1){const vn=ht.get("icon-padding").evaluate(Zt,{},Nt),Sn=vn&&vn.values;return[Sn[0]*wi,Sn[1]*wi,Sn[2]*wi,Sn[3]*wi]}(K,i,U,r.tilePixelRatio),et=K.get("text-max-angle")/180*Math.PI,Pt=K.get("text-rotation-alignment")!=="viewport"&&K.get("symbol-placement")!=="point",Dt=K.get("icon-rotation-alignment")==="map"&&K.get("symbol-placement")!=="point",bt=K.get("symbol-placement"),vt=ke/2,mt=K.get("icon-text-fit");let St;c&&mt!=="none"&&(r.allowVerticalPlacement&&o.vertical&&(St=cx(c,o.vertical,mt,K.get("icon-text-fit-padding"),te,ye)),ie&&(c=cx(c,ie,mt,K.get("icon-text-fit-padding"),te,ye)));const _t=(ht,Zt)=>{Zt.x<0||Zt.x>=tr||Zt.y<0||Zt.y>=tr||function(Nt,wi,vn,Sn,ir,zs,br,Kn,ur,Sr,Rr,rs,Yn,Tr,Br,Kr,ss,os,An,cr,Ii,xs,Cr,Nr,Ys){const yo=Nt.addToLineVertexArray(wi,vn);let vo,Ia,Qs,Ds,as=0,Ma=0,sh=0,Ox=0,Om=-1,Fm=-1;const za={};let Fx=lr.exports(""),Vm=0,Um=0;if(Kn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Vm,Um]=Kn.layout.get("text-offset").evaluate(Ii,{},Nr).map(ls=>ls*fr):(Vm=Kn.layout.get("text-radial-offset").evaluate(Ii,{},Nr)*fr,Um=Em),Nt.allowVerticalPlacement&&Sn.vertical){const ls=Kn.layout.get("text-rotate").evaluate(Ii,{},Nr)+90;Qs=new Kd(ur,wi,Sr,Rr,rs,Sn.vertical,Yn,Tr,Br,ls),br&&(Ds=new Kd(ur,wi,Sr,Rr,rs,br,ss,os,Br,ls))}if(ir){const ls=Kn.layout.get("icon-rotate").evaluate(Ii,{}),Yo=Kn.layout.get("icon-text-fit")!=="none",oh=vx(ir,ls,Cr,Yo),ah=br?vx(br,ls,Cr,Yo):void 0;Ia=new Kd(ur,wi,Sr,Rr,rs,ir,ss,os,!1,ls),as=4*oh.length;const jx=Nt.iconSizeData;let su=null;jx.kind==="source"?(su=[Pa*Kn.layout.get("icon-size").evaluate(Ii,{})],su[0]>dl&&xe(`${Nt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):jx.kind==="composite"&&(su=[Pa*xs.compositeIconSizes[0].evaluate(Ii,{},Nr),Pa*xs.compositeIconSizes[1].evaluate(Ii,{},Nr)],(su[0]>dl||su[1]>dl)&&xe(`${Nt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Nt.addSymbols(Nt.icon,oh,su,cr,An,Ii,a.WritingMode.none,wi,yo.lineStartIndex,yo.lineLength,-1,Nr),Om=Nt.icon.placedSymbolArray.length-1,ah&&(Ma=4*ah.length,Nt.addSymbols(Nt.icon,ah,su,cr,An,Ii,a.WritingMode.vertical,wi,yo.lineStartIndex,yo.lineLength,-1,Nr),Fm=Nt.icon.placedSymbolArray.length-1)}const Vx=Object.keys(Sn.horizontal);for(const ls of Vx){const Yo=Sn.horizontal[ls];if(!vo){Fx=lr.exports(Yo.text);const ah=Kn.layout.get("text-rotate").evaluate(Ii,{},Nr);vo=new Kd(ur,wi,Sr,Rr,rs,Yo,Yn,Tr,Br,ah)}const oh=Yo.positionedLines.length===1;if(sh+=wx(Nt,wi,Yo,zs,Kn,Br,Ii,Kr,yo,Sn.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,oh?Vx:[ls],za,Om,xs,Nr),oh)break}Sn.vertical&&(Ox+=wx(Nt,wi,Sn.vertical,zs,Kn,Br,Ii,Kr,yo,a.WritingMode.vertical,["vertical"],za,Fm,xs,Nr));const vA=vo?vo.boxStartIndex:Nt.collisionBoxArray.length,_A=vo?vo.boxEndIndex:Nt.collisionBoxArray.length,xA=Qs?Qs.boxStartIndex:Nt.collisionBoxArray.length,wA=Qs?Qs.boxEndIndex:Nt.collisionBoxArray.length,bA=Ia?Ia.boxStartIndex:Nt.collisionBoxArray.length,SA=Ia?Ia.boxEndIndex:Nt.collisionBoxArray.length,TA=Ds?Ds.boxStartIndex:Nt.collisionBoxArray.length,CA=Ds?Ds.boxEndIndex:Nt.collisionBoxArray.length;let _o=-1;const tp=(ls,Yo)=>ls&&ls.circleDiameter?Math.max(ls.circleDiameter,Yo):Yo;_o=tp(vo,_o),_o=tp(Qs,_o),_o=tp(Ia,_o),_o=tp(Ds,_o);const Ux=_o>-1?1:0;Ux&&(_o*=Ys/fr),Nt.glyphOffsetArray.length>=Xu.MAX_GLYPHS&&xe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ii.sortKey!==void 0&&Nt.addToSortKeyRanges(Nt.symbolInstances.length,Ii.sortKey),Nt.symbolInstances.emplaceBack(wi.x,wi.y,za.right>=0?za.right:-1,za.center>=0?za.center:-1,za.left>=0?za.left:-1,za.vertical||-1,Om,Fm,Fx,vA,_A,xA,wA,bA,SA,TA,CA,Sr,sh,Ox,as,Ma,Ux,0,Yn,Vm,Um,_o)}(r,Zt,ht,o,c,m,St,r.layers[0],r.collisionBoxArray,i.index,i.sourceLayerIndex,r.index,me,[Be,Be,Be,Be],Pt,I,Ve,tt,Dt,te,i,_,B,U,w)};if(bt==="line")for(const ht of yx(i.geometry,0,0,tr,tr)){const Zt=eA(ht,ke,et,o.vertical||ie,c,24,Me,r.overscaling,tr);for(const Nt of Zt){const wi=ie;wi&&oA(r,wi.text,vt,Nt)||_t(ht,Nt)}}else if(bt==="line-center"){for(const ht of i.geometry)if(ht.length>1){const Zt=JC(ht,et,o.vertical||ie,c,24,Me);Zt&&_t(ht,Zt)}}else if(i.type==="Polygon")for(const ht of mm(i.geometry,0)){const Zt=nA(ht,16);_t(ht[0],new hl(Zt.x,Zt.y,0))}else if(i.type==="LineString")for(const ht of i.geometry)_t(ht,new hl(ht[0].x,ht[0].y,0));else if(i.type==="Point")for(const ht of i.geometry)for(const Zt of ht)_t([Zt],new hl(Zt.x,Zt.y,0))}const dl=32640;function wx(r,i,o,c,m,_,w,A,I,B,U,G,K,te,ie){const ye=function(Ve,ke,Be,tt,et,Pt,Dt,bt){const vt=tt.layout.get("text-rotate").evaluate(Pt,{})*Math.PI/180,mt=[];for(const St of ke.positionedLines)for(const _t of St.positionedGlyphs){if(!_t.rect)continue;const ht=_t.rect||{};let Zt=4,Nt=!0,wi=1,vn=0;const Sn=(et||bt)&&_t.vertical,ir=_t.metrics.advance*_t.scale/2;if(bt&&ke.verticalizable){const An=(_t.scale-1)*fr,cr=(fr-_t.metrics.width*_t.scale)/2;vn=St.lineOffset/2-(_t.imageName?-cr:An)}if(_t.imageName){const An=Dt[_t.imageName];Nt=An.sdf,wi=An.pixelRatio,Zt=1/wi}const zs=et?[_t.x+ir,_t.y]:[0,0];let br=et?[0,0]:[_t.x+ir+Be[0],_t.y+Be[1]-vn],Kn=[0,0];Sn&&(Kn=br,br=[0,0]);const ur=(_t.metrics.left-Zt)*_t.scale-ir+br[0],Sr=(-_t.metrics.top-Zt)*_t.scale+br[1],Rr=ur+ht.w*_t.scale/wi,rs=Sr+ht.h*_t.scale/wi,Yn=new Tt(ur,Sr),Tr=new Tt(Rr,Sr),Br=new Tt(ur,rs),Kr=new Tt(Rr,rs);if(Sn){const An=new Tt(-ir,ir-Gd),cr=-Math.PI/2,Ii=12-ir,xs=new Tt(22-Ii,-(_t.imageName?Ii:0)),Cr=new Tt(...Kn);Yn._rotateAround(cr,An)._add(xs)._add(Cr),Tr._rotateAround(cr,An)._add(xs)._add(Cr),Br._rotateAround(cr,An)._add(xs)._add(Cr),Kr._rotateAround(cr,An)._add(xs)._add(Cr)}if(vt){const An=Math.sin(vt),cr=Math.cos(vt),Ii=[cr,-An,An,cr];Yn._matMult(Ii),Tr._matMult(Ii),Br._matMult(Ii),Kr._matMult(Ii)}const ss=new Tt(0,0),os=new Tt(0,0);mt.push({tl:Yn,tr:Tr,bl:Br,br:Kr,tex:ht,writingMode:ke.writingMode,glyphOffset:zs,sectionIndex:_t.sectionIndex,isSDF:Nt,pixelOffsetTL:ss,pixelOffsetBR:os,minFontScaleX:0,minFontScaleY:0})}return mt}(0,o,A,m,_,w,c,r.allowVerticalPlacement),me=r.textSizeData;let Me=null;me.kind==="source"?(Me=[Pa*m.layout.get("text-size").evaluate(w,{})],Me[0]>dl&&xe(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):me.kind==="composite"&&(Me=[Pa*te.compositeTextSizes[0].evaluate(w,{},ie),Pa*te.compositeTextSizes[1].evaluate(w,{},ie)],(Me[0]>dl||Me[1]>dl)&&xe(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),r.addSymbols(r.text,ye,Me,A,_,w,B,i,I.lineStartIndex,I.lineLength,K,ie);for(const Ve of U)G[Ve]=r.text.placedSymbolArray.length-1;return 4*ye.length}function bx(r){for(const i in r)return r[i];return null}function oA(r,i,o,c){const m=r.compareText;if(i in m){const _=m[i];for(let w=_.length-1;w>=0;w--)if(c.dist(_[w])<o)return!0}else m[i]=[];return m[i].push(c),!1}const aA=ul.VectorTileFeature.types,lA=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Yd(r,i,o,c,m,_,w,A,I,B,U,G,K){const te=A?Math.min(dl,Math.round(A[0])):0,ie=A?Math.min(dl,Math.round(A[1])):0;r.emplaceBack(i,o,Math.round(32*c),Math.round(32*m),_,w,(te<<1)+(I?1:0),ie,16*B,16*U,256*G,256*K)}function Pm(r,i,o){r.emplaceBack(i.x,i.y,o),r.emplaceBack(i.x,i.y,o),r.emplaceBack(i.x,i.y,o),r.emplaceBack(i.x,i.y,o)}function uA(r){for(const i of r.sections)if(ti(i.text))return!0;return!1}class Im{constructor(i){this.layoutVertexArray=new Xs,this.indexArray=new Zr,this.programConfigurations=i,this.segments=new Ei,this.dynamicLayoutVertexArray=new Ps,this.opacityVertexArray=new Ks,this.placedSymbolArray=new lt}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,o,c,m){this.isEmpty()||(c&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,zC.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,DC.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,lA,!0),this.opacityVertexBuffer.itemSize=1),(c||m)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}le("SymbolBuffers",Im);class Mm{constructor(i,o,c){this.layoutVertexArray=new i,this.layoutAttributes=o,this.indexArray=new c,this.segments=new Ei,this.collisionVertexArray=new vs}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,LC.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}le("CollisionBuffers",Mm);class Xu{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(w=>w.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=um([]),this.placementViewportMatrix=um([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=hx(this.zoom,o["text-size"]),this.iconSizeData=hx(this.zoom,o["icon-size"]);const c=this.layers[0].layout,m=c.get("symbol-sort-key"),_=c.get("symbol-z-order");this.canOverlap=Dm(c,"text-overlap","text-allow-overlap")!=="never"||Dm(c,"icon-overlap","icon-allow-overlap")!=="never"||c.get("text-ignore-placement")||c.get("icon-ignore-placement"),this.sortFeaturesByKey=_!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(_==="viewport-y"||_==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,c.get("symbol-placement")==="point"&&(this.writingModes=c.get("text-writing-mode").map(w=>a.WritingMode[w])),this.stateDependentLayerIds=this.layers.filter(w=>w.isStateDependent()).map(w=>w.id),this.sourceID=i.sourceID}createArrays(){this.text=new Im(new eu(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new Im(new eu(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new yt,this.lineVertexArray=new kt,this.symbolInstances=new Ct}calculateGlyphDependencies(i,o,c,m,_){for(let w=0;w<i.length;w++)if(o[i.charCodeAt(w)]=!0,(c||m)&&_){const A=th[i.charAt(w)];A&&(o[A.charCodeAt(0)]=!0)}}populate(i,o,c){const m=this.layers[0],_=m.layout,w=_.get("text-font"),A=_.get("text-field"),I=_.get("icon-image"),B=(A.value.kind!=="constant"||A.value.value instanceof we&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(w.value.kind!=="constant"||w.value.value.length>0),U=I.value.kind!=="constant"||!!I.value.value||Object.keys(I.parameters).length>0,G=_.get("symbol-sort-key");if(this.features=[],!B&&!U)return;const K=o.iconDependencies,te=o.glyphDependencies,ie=o.availableImages,ye=new wn(this.zoom);for(const{feature:me,id:Me,index:Ve,sourceLayerIndex:ke}of i){const Be=m._featureFilter.needGeometry,tt=iu(me,Be);if(!m._featureFilter.filter(ye,tt,c))continue;let et,Pt;if(Be||(tt.geometry=tu(me)),B){const bt=m.getValueAndResolveTokens("text-field",tt,c,ie),vt=we.factory(bt);uA(vt)&&(this.hasRTLText=!0),(!this.hasRTLText||Yl()==="unavailable"||this.hasRTLText&&ys.isParsed())&&(et=BC(vt,m,tt))}if(U){const bt=m.getValueAndResolveTokens("icon-image",tt,c,ie);Pt=bt instanceof Ce?bt:Ce.fromString(bt)}if(!et&&!Pt)continue;const Dt=this.sortFeaturesByKey?G.evaluate(tt,{},c):void 0;if(this.features.push({id:Me,text:et,icon:Pt,index:Ve,sourceLayerIndex:ke,geometry:tt.geometry,properties:me.properties,type:aA[me.type],sortKey:Dt}),Pt&&(K[Pt.name]=!0),et){const bt=w.evaluate(tt,{},c).join(","),vt=_.get("text-rotation-alignment")!=="viewport"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const mt of et.sections)if(mt.image)K[mt.image.name]=!0;else{const St=gt(et.toString()),_t=mt.fontStack||bt,ht=te[_t]=te[_t]||{};this.calculateGlyphDependencies(mt.text,ht,vt,this.allowVerticalPlacement,St)}}}_.get("symbol-placement")==="line"&&(this.features=function(me){const Me={},Ve={},ke=[];let Be=0;function tt(bt){ke.push(me[bt]),Be++}function et(bt,vt,mt){const St=Ve[bt];return delete Ve[bt],Ve[vt]=St,ke[St].geometry[0].pop(),ke[St].geometry[0]=ke[St].geometry[0].concat(mt[0]),St}function Pt(bt,vt,mt){const St=Me[vt];return delete Me[vt],Me[bt]=St,ke[St].geometry[0].shift(),ke[St].geometry[0]=mt[0].concat(ke[St].geometry[0]),St}function Dt(bt,vt,mt){const St=mt?vt[0][vt[0].length-1]:vt[0][0];return`${bt}:${St.x}:${St.y}`}for(let bt=0;bt<me.length;bt++){const vt=me[bt],mt=vt.geometry,St=vt.text?vt.text.toString():null;if(!St){tt(bt);continue}const _t=Dt(St,mt),ht=Dt(St,mt,!0);if(_t in Ve&&ht in Me&&Ve[_t]!==Me[ht]){const Zt=Pt(_t,ht,mt),Nt=et(_t,ht,ke[Zt].geometry);delete Me[_t],delete Ve[ht],Ve[Dt(St,ke[Nt].geometry,!0)]=Nt,ke[Zt].geometry=null}else _t in Ve?et(_t,ht,mt):ht in Me?Pt(_t,ht,mt):(tt(bt),Me[_t]=Be-1,Ve[ht]=Be-1)}return ke.filter(bt=>bt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((me,Me)=>me.sortKey-Me.sortKey)}update(i,o,c){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,o,this.layers,c),this.icon.programConfigurations.updatePaintArrays(i,o,this.layers,c))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,o){const c=this.lineVertexArray.length;if(i.segment!==void 0){let m=i.dist(o[i.segment+1]),_=i.dist(o[i.segment]);const w={};for(let A=i.segment+1;A<o.length;A++)w[A]={x:o[A].x,y:o[A].y,tileUnitDistanceFromAnchor:m},A<o.length-1&&(m+=o[A+1].dist(o[A]));for(let A=i.segment||0;A>=0;A--)w[A]={x:o[A].x,y:o[A].y,tileUnitDistanceFromAnchor:_},A>0&&(_+=o[A-1].dist(o[A]));for(let A=0;A<o.length;A++){const I=w[A];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:c,lineLength:this.lineVertexArray.length-c}}addSymbols(i,o,c,m,_,w,A,I,B,U,G,K){const te=i.indexArray,ie=i.layoutVertexArray,ye=i.segments.prepareSegment(4*o.length,ie,te,this.canOverlap?w.sortKey:void 0),me=this.glyphOffsetArray.length,Me=ye.vertexLength,Ve=this.allowVerticalPlacement&&A===a.WritingMode.vertical?Math.PI/2:0,ke=w.text&&w.text.sections;for(let Be=0;Be<o.length;Be++){const{tl:tt,tr:et,bl:Pt,br:Dt,tex:bt,pixelOffsetTL:vt,pixelOffsetBR:mt,minFontScaleX:St,minFontScaleY:_t,glyphOffset:ht,isSDF:Zt,sectionIndex:Nt}=o[Be],wi=ye.vertexLength,vn=ht[1];Yd(ie,I.x,I.y,tt.x,vn+tt.y,bt.x,bt.y,c,Zt,vt.x,vt.y,St,_t),Yd(ie,I.x,I.y,et.x,vn+et.y,bt.x+bt.w,bt.y,c,Zt,mt.x,vt.y,St,_t),Yd(ie,I.x,I.y,Pt.x,vn+Pt.y,bt.x,bt.y+bt.h,c,Zt,vt.x,mt.y,St,_t),Yd(ie,I.x,I.y,Dt.x,vn+Dt.y,bt.x+bt.w,bt.y+bt.h,c,Zt,mt.x,mt.y,St,_t),Pm(i.dynamicLayoutVertexArray,I,Ve),te.emplaceBack(wi,wi+1,wi+2),te.emplaceBack(wi+1,wi+2,wi+3),ye.vertexLength+=4,ye.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ht[0]),Be!==o.length-1&&Nt===o[Be+1].sectionIndex||i.programConfigurations.populatePaintArrays(ie.length,w,w.index,{},K,ke&&ke[Nt])}i.placedSymbolArray.emplaceBack(I.x,I.y,me,this.glyphOffsetArray.length-me,Me,B,U,I.segment,c?c[0]:0,c?c[1]:0,m[0],m[1],A,0,!1,0,G)}_addCollisionDebugVertex(i,o,c,m,_,w){return o.emplaceBack(0,0),i.emplaceBack(c.x,c.y,m,_,Math.round(w.x),Math.round(w.y))}addCollisionDebugVertices(i,o,c,m,_,w,A){const I=_.segments.prepareSegment(4,_.layoutVertexArray,_.indexArray),B=I.vertexLength,U=_.layoutVertexArray,G=_.collisionVertexArray,K=A.anchorX,te=A.anchorY;this._addCollisionDebugVertex(U,G,w,K,te,new Tt(i,o)),this._addCollisionDebugVertex(U,G,w,K,te,new Tt(c,o)),this._addCollisionDebugVertex(U,G,w,K,te,new Tt(c,m)),this._addCollisionDebugVertex(U,G,w,K,te,new Tt(i,m)),I.vertexLength+=4;const ie=_.indexArray;ie.emplaceBack(B,B+1),ie.emplaceBack(B+1,B+2),ie.emplaceBack(B+2,B+3),ie.emplaceBack(B+3,B),I.primitiveLength+=4}addDebugCollisionBoxes(i,o,c,m){for(let _=i;_<o;_++){const w=this.collisionBoxArray.get(_);this.addCollisionDebugVertices(w.x1,w.y1,w.x2,w.y2,m?this.textCollisionBox:this.iconCollisionBox,w.anchorPoint,c)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Mm(Xo,Y_.members,mo),this.iconCollisionBox=new Mm(Xo,Y_.members,mo);for(let i=0;i<this.symbolInstances.length;i++){const o=this.symbolInstances.get(i);this.addDebugCollisionBoxes(o.textBoxStartIndex,o.textBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.iconBoxStartIndex,o.iconBoxEndIndex,o,!1),this.addDebugCollisionBoxes(o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o,!1)}}_deserializeCollisionBoxesForSymbol(i,o,c,m,_,w,A,I,B){const U={};for(let G=o;G<c;G++){const K=i.get(G);U.textBox={x1:K.x1,y1:K.y1,x2:K.x2,y2:K.y2,anchorPointX:K.anchorPointX,anchorPointY:K.anchorPointY},U.textFeatureIndex=K.featureIndex;break}for(let G=m;G<_;G++){const K=i.get(G);U.verticalTextBox={x1:K.x1,y1:K.y1,x2:K.x2,y2:K.y2,anchorPointX:K.anchorPointX,anchorPointY:K.anchorPointY},U.verticalTextFeatureIndex=K.featureIndex;break}for(let G=w;G<A;G++){const K=i.get(G);U.iconBox={x1:K.x1,y1:K.y1,x2:K.x2,y2:K.y2,anchorPointX:K.anchorPointX,anchorPointY:K.anchorPointY},U.iconFeatureIndex=K.featureIndex;break}for(let G=I;G<B;G++){const K=i.get(G);U.verticalIconBox={x1:K.x1,y1:K.y1,x2:K.x2,y2:K.y2,anchorPointX:K.anchorPointX,anchorPointY:K.anchorPointY},U.verticalIconFeatureIndex=K.featureIndex;break}return U}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const c=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,c.textBoxStartIndex,c.textBoxEndIndex,c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c.iconBoxStartIndex,c.iconBoxEndIndex,c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,o){const c=i.placedSymbolArray.get(o),m=c.vertexStartIndex+4*c.numGlyphs;for(let _=c.vertexStartIndex;_<m;_+=4)i.indexArray.emplaceBack(_,_+1,_+2),i.indexArray.emplaceBack(_+1,_+2,_+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(i),c=Math.cos(i),m=[],_=[],w=[];for(let A=0;A<this.symbolInstances.length;++A){w.push(A);const I=this.symbolInstances.get(A);m.push(0|Math.round(o*I.anchorX+c*I.anchorY)),_.push(I.featureIndex)}return w.sort((A,I)=>m[A]-m[I]||_[I]-_[A]),w}addToSortKeyRanges(i,o){const c=this.sortKeyRanges[this.sortKeyRanges.length-1];c&&c.sortKey===o?c.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const c=this.symbolInstances.get(o);this.featureSortOrder.push(c.featureIndex),[c.rightJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.leftJustifiedTextSymbolIndex].forEach((m,_,w)=>{m>=0&&w.indexOf(m)===_&&this.addIndicesForPlacedSymbol(this.text,m)}),c.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,c.verticalPlacedTextSymbolIndex),c.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,c.placedIconSymbolIndex),c.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,c.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}le("SymbolBucket",Xu,{omit:["layers","collisionBoxArray","features","compareText"]}),Xu.MAX_GLYPHS=65535,Xu.addDynamicAttributes=Pm;const cA=new pr({"symbol-placement":new Rt(Le.layout_symbol["symbol-placement"]),"symbol-spacing":new Rt(Le.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Rt(Le.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Kt(Le.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Rt(Le.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Rt(Le.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Rt(Le.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Rt(Le.layout_symbol["icon-ignore-placement"]),"icon-optional":new Rt(Le.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Rt(Le.layout_symbol["icon-rotation-alignment"]),"icon-size":new Kt(Le.layout_symbol["icon-size"]),"icon-text-fit":new Rt(Le.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Rt(Le.layout_symbol["icon-text-fit-padding"]),"icon-image":new Kt(Le.layout_symbol["icon-image"]),"icon-rotate":new Kt(Le.layout_symbol["icon-rotate"]),"icon-padding":new Kt(Le.layout_symbol["icon-padding"]),"icon-keep-upright":new Rt(Le.layout_symbol["icon-keep-upright"]),"icon-offset":new Kt(Le.layout_symbol["icon-offset"]),"icon-anchor":new Kt(Le.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Rt(Le.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Rt(Le.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Rt(Le.layout_symbol["text-rotation-alignment"]),"text-field":new Kt(Le.layout_symbol["text-field"]),"text-font":new Kt(Le.layout_symbol["text-font"]),"text-size":new Kt(Le.layout_symbol["text-size"]),"text-max-width":new Kt(Le.layout_symbol["text-max-width"]),"text-line-height":new Rt(Le.layout_symbol["text-line-height"]),"text-letter-spacing":new Kt(Le.layout_symbol["text-letter-spacing"]),"text-justify":new Kt(Le.layout_symbol["text-justify"]),"text-radial-offset":new Kt(Le.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Rt(Le.layout_symbol["text-variable-anchor"]),"text-anchor":new Kt(Le.layout_symbol["text-anchor"]),"text-max-angle":new Rt(Le.layout_symbol["text-max-angle"]),"text-writing-mode":new Rt(Le.layout_symbol["text-writing-mode"]),"text-rotate":new Kt(Le.layout_symbol["text-rotate"]),"text-padding":new Rt(Le.layout_symbol["text-padding"]),"text-keep-upright":new Rt(Le.layout_symbol["text-keep-upright"]),"text-transform":new Kt(Le.layout_symbol["text-transform"]),"text-offset":new Kt(Le.layout_symbol["text-offset"]),"text-allow-overlap":new Rt(Le.layout_symbol["text-allow-overlap"]),"text-overlap":new Rt(Le.layout_symbol["text-overlap"]),"text-ignore-placement":new Rt(Le.layout_symbol["text-ignore-placement"]),"text-optional":new Rt(Le.layout_symbol["text-optional"])});var zm={paint:new pr({"icon-opacity":new Kt(Le.paint_symbol["icon-opacity"]),"icon-color":new Kt(Le.paint_symbol["icon-color"]),"icon-halo-color":new Kt(Le.paint_symbol["icon-halo-color"]),"icon-halo-width":new Kt(Le.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Kt(Le.paint_symbol["icon-halo-blur"]),"icon-translate":new Rt(Le.paint_symbol["icon-translate"]),"icon-translate-anchor":new Rt(Le.paint_symbol["icon-translate-anchor"]),"text-opacity":new Kt(Le.paint_symbol["text-opacity"]),"text-color":new Kt(Le.paint_symbol["text-color"],{runtimeType:Hi,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new Kt(Le.paint_symbol["text-halo-color"]),"text-halo-width":new Kt(Le.paint_symbol["text-halo-width"]),"text-halo-blur":new Kt(Le.paint_symbol["text-halo-blur"]),"text-translate":new Rt(Le.paint_symbol["text-translate"]),"text-translate-anchor":new Rt(Le.paint_symbol["text-translate-anchor"])}),layout:cA};class Sx{constructor(i){if(i.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:Qt,this.defaultValue=i}evaluate(i){if(i.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(i.formattedSection))return o.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}le("FormatSectionOverride",Sx,{omit:["defaultValue"]});class Qd extends $s{constructor(i){super(i,zm)}recalculate(i,o){if(super.recalculate(i,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const c=this.layout.get("text-writing-mode");if(c){const m=[];for(const _ of c)m.indexOf(_)<0&&m.push(_);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,o,c,m){const _=this.layout.get(i).evaluate(o,{},c,m),w=this._unevaluatedLayout._values[i];return w.isDataDriven()||ns(w.value)||!_?_:function(A,I){return I.replace(/{([^{}]+)}/g,(B,U)=>U in A?String(A[U]):"")}(o.properties,_)}createBucket(i){return new Xu(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of zm.paint.overridableProperties){if(!Qd.hasPaintOverride(this.layout,i))continue;const o=this.paint.get(i),c=new Sx(o),m=new fa(c,o.property.specification);let _=null;_=o.value.kind==="constant"||o.value.kind==="source"?new Fi("source",m):new As("composite",m,o.value.zoomStops),this.paint._values[i]=new Zs(o.property,_,o.parameters)}}_handleOverridablePaintPropertyUpdate(i,o,c){return!(!this.layout||o.isDataDriven()||c.isDataDriven())&&Qd.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,o){const c=i.get("text-field"),m=zm.paint.properties[o];let _=!1;const w=A=>{for(const I of A)if(m.overrides&&m.overrides.hasOverride(I))return void(_=!0)};if(c.value.kind==="constant"&&c.value.value instanceof we)w(c.value.value.sections);else if(c.value.kind==="source"){const A=B=>{_||(B instanceof zt&&je(B.value)===vi?w(B.value.sections):B instanceof Fe?w(B.sections):B.eachChild(A))},I=c.value;I._styleExpression&&A(I._styleExpression.expression)}return _}}function Dm(r,i,o){let c="never";const m=r.get(i);return m?c=m:r.get(o)&&(c="always"),c}var hA={paint:new pr({"background-color":new Rt(Le.paint_background["background-color"]),"background-pattern":new Uc(Le.paint_background["background-pattern"]),"background-opacity":new Rt(Le.paint_background["background-opacity"])})},dA={paint:new pr({"raster-opacity":new Rt(Le.paint_raster["raster-opacity"]),"raster-hue-rotate":new Rt(Le.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Rt(Le.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Rt(Le.paint_raster["raster-brightness-max"]),"raster-saturation":new Rt(Le.paint_raster["raster-saturation"]),"raster-contrast":new Rt(Le.paint_raster["raster-contrast"]),"raster-resampling":new Rt(Le.paint_raster["raster-resampling"]),"raster-fade-duration":new Rt(Le.paint_raster["raster-fade-duration"])})};class pA extends $s{constructor(i){super(i,{}),this.onAdd=o=>{this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)},this.onRemove=o=>{this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)},this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const fA={circle:class extends $s{constructor(r){super(r,WT)}createBucket(r){return new om(r)}queryRadius(r){const i=r;return Hc("circle-radius",this,i)+Hc("circle-stroke-width",this,i)+Rd(this.paint.get("circle-translate"))}queryIntersectsFeature(r,i,o,c,m,_,w,A){const I=Bd(r,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),_.angle,w),B=this.paint.get("circle-radius").evaluate(i,o)+this.paint.get("circle-stroke-width").evaluate(i,o),U=this.paint.get("circle-pitch-alignment")==="map",G=U?I:function(te,ie){return te.map(ye=>L_(ye,ie))}(I,A),K=U?B*w:B;for(const te of c)for(const ie of te){const ye=U?ie:L_(ie,A);let me=K;const Me=Nd([],[ie.x,ie.y,0,1],A);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?me*=Me[3]/_.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(me*=_.cameraToCenterDistance/Me[3]),VT(G,ye,me))return!0}return!1}},heatmap:class extends $s{constructor(r){super(r,ZT),this._updateColorRamp()}createBucket(r){return new R_(r)}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=N_({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends $s{constructor(r){super(r,$T)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends $s{constructor(r){super(r,cC)}recalculate(r,i){super.recalculate(r,i);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new vm(r)}queryRadius(){return Rd(this.paint.get("fill-translate"))}queryIntersectsFeature(r,i,o,c,m,_,w){return A_(Bd(r,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),_.angle,w),c)}isTileClipped(){return!0}},"fill-extrusion":class extends $s{constructor(r){super(r,TC)}createBucket(r){return new xm(r)}queryRadius(){return Rd(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(r,i,o,c,m,_,w,A){const I=Bd(r,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),_.angle,w),B=this.paint.get("fill-extrusion-height").evaluate(i,o),U=this.paint.get("fill-extrusion-base").evaluate(i,o),G=function(te,ie,ye,me){const Me=[];for(const Ve of te){const ke=[Ve.x,Ve.y,0,1];Nd(ke,ke,ie),Me.push(new Tt(ke[0]/ke[3],ke[1]/ke[3]))}return Me}(I,A),K=function(te,ie,ye,me){const Me=[],Ve=[],ke=me[8]*ie,Be=me[9]*ie,tt=me[10]*ie,et=me[11]*ie,Pt=me[8]*ye,Dt=me[9]*ye,bt=me[10]*ye,vt=me[11]*ye;for(const mt of te){const St=[],_t=[];for(const ht of mt){const Zt=ht.x,Nt=ht.y,wi=me[0]*Zt+me[4]*Nt+me[12],vn=me[1]*Zt+me[5]*Nt+me[13],Sn=me[2]*Zt+me[6]*Nt+me[14],ir=me[3]*Zt+me[7]*Nt+me[15],zs=Sn+tt,br=ir+et,Kn=wi+Pt,ur=vn+Dt,Sr=Sn+bt,Rr=ir+vt,rs=new Tt((wi+ke)/br,(vn+Be)/br);rs.z=zs/br,St.push(rs);const Yn=new Tt(Kn/Rr,ur/Rr);Yn.z=Sr/Rr,_t.push(Yn)}Me.push(St),Ve.push(_t)}return[Me,Ve]}(c,U,B,A);return function(te,ie,ye){let me=1/0;A_(ye,ie)&&(me=H_(ye,ie[0]));for(let Me=0;Me<ie.length;Me++){const Ve=ie[Me],ke=te[Me];for(let Be=0;Be<Ve.length-1;Be++){const tt=Ve[Be],et=[tt,Ve[Be+1],ke[Be+1],ke[Be],tt];C_(ye,et)&&(me=Math.min(me,H_(ye,et)))}}return me!==1/0&&me}(K[0],K[1],G)}},line:class extends $s{constructor(r){super(r,$_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(r){r==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof ua,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,i){super.recalculate(r,i),this.paint._values["line-floorwidth"]=X_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new wm(r)}queryRadius(r){const i=r,o=K_(Hc("line-width",this,i),Hc("line-gap-width",this,i)),c=Hc("line-offset",this,i);return o/2+Math.abs(c)+Rd(this.paint.get("line-translate"))}queryIntersectsFeature(r,i,o,c,m,_,w){const A=Bd(r,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),_.angle,w),I=w/2*K_(this.paint.get("line-width").evaluate(i,o),this.paint.get("line-gap-width").evaluate(i,o)),B=this.paint.get("line-offset").evaluate(i,o);return B&&(c=function(U,G){const K=[];for(let te=0;te<U.length;te++){const ie=U[te],ye=[];for(let me=0;me<ie.length;me++){const Me=ie[me-1],Ve=ie[me],ke=ie[me+1],Be=me===0?new Tt(0,0):Ve.sub(Me)._unit()._perp(),tt=me===ie.length-1?new Tt(0,0):ke.sub(Ve)._unit()._perp(),et=Be._add(tt)._unit(),Pt=et.x*tt.x+et.y*tt.y;Pt!==0&&et._mult(1/Pt),ye.push(et._mult(G)._add(Ve))}K.push(ye)}return K}(c,B*w)),function(U,G,K){for(let te=0;te<G.length;te++){const ie=G[te];if(U.length>=3){for(let ye=0;ye<ie.length;ye++)if(ju(U,ie[ye]))return!0}if(UT(U,ie,K))return!0}return!1}(A,c,I)}isTileClipped(){return!0}},symbol:Qd,background:class extends $s{constructor(r){super(r,hA)}},raster:class extends $s{constructor(r){super(r,dA)}}};class mA{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Tx=63710088e-1;class Rn{constructor(i,o){if(isNaN(i)||isNaN(o))throw new Error(`Invalid LngLat object: (${i}, ${o})`);if(this.lng=+i,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Rn(Q(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const o=Math.PI/180,c=this.lat*o,m=i.lat*o,_=Math.sin(c)*Math.sin(m)+Math.cos(c)*Math.cos(m)*Math.cos((i.lng-this.lng)*o);return Tx*Math.acos(Math.min(_,1))}toBounds(i=0){const o=360*i/40075017,c=o/Math.cos(Math.PI/180*this.lat);return new ru(new Rn(this.lng-c,this.lat-o),new Rn(this.lng+c,this.lat+o))}static convert(i){if(i instanceof Rn)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Rn(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Rn(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class ru{constructor(i,o){i&&(o?this.setSouthWest(i).setNorthEast(o):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}setNorthEast(i){return this._ne=i instanceof Rn?new Rn(i.lng,i.lat):Rn.convert(i),this}setSouthWest(i){return this._sw=i instanceof Rn?new Rn(i.lng,i.lat):Rn.convert(i),this}extend(i){const o=this._sw,c=this._ne;let m,_;if(i instanceof Rn)m=i,_=i;else{if(!(i instanceof ru))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(ru.convert(i)):this.extend(Rn.convert(i)):this;if(m=i._sw,_=i._ne,!m||!_)return this}return o||c?(o.lng=Math.min(m.lng,o.lng),o.lat=Math.min(m.lat,o.lat),c.lng=Math.max(_.lng,c.lng),c.lat=Math.max(_.lat,c.lat)):(this._sw=new Rn(m.lng,m.lat),this._ne=new Rn(_.lng,_.lat)),this}getCenter(){return new Rn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Rn(this.getWest(),this.getNorth())}getSouthEast(){return new Rn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:o,lat:c}=Rn.convert(i);let m=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=c&&c<=this._ne.lat&&m}static convert(i){return i instanceof ru?i:i&&new ru(i)}}const Cx=2*Math.PI*Tx;function Ax(r){return Cx*Math.cos(r*Math.PI/180)}function Ex(r){return(180+r)/360}function kx(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function Px(r,i){return r/Ax(i)}function Lm(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}class Jd{constructor(i,o,c=0){this.x=+i,this.y=+o,this.z=+c}static fromLngLat(i,o=0){const c=Rn.convert(i);return new Jd(Ex(c.lng),kx(c.lat),Px(o,c.lat))}toLngLat(){return new Rn(360*this.x-180,Lm(this.y))}toAltitude(){return this.z*Ax(Lm(this.y))}meterInMercatorCoordinateUnits(){return 1/Cx*(i=Lm(this.y),1/Math.cos(i*Math.PI/180));var i}}function Ix(r,i,o){var c=2*Math.PI*6378137/256/Math.pow(2,o);return[r*c-2*Math.PI*6378137/2,i*c-2*Math.PI*6378137/2]}class Rm{constructor(i,o,c){if(i<0||i>25||c<0||c>=Math.pow(2,i)||o<0||o>=Math.pow(2,i))throw new Error(`x=${o}, y=${c}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=o,this.y=c,this.key=nh(0,i,i,o,c)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,o,c){const m=(w=this.y,A=this.z,I=Ix(256*(_=this.x),256*(w=Math.pow(2,A)-w-1),A),B=Ix(256*(_+1),256*(w+1),A),I[0]+","+I[1]+","+B[0]+","+B[1]);var _,w,A,I,B;const U=function(G,K,te){let ie,ye="";for(let me=G;me>0;me--)ie=1<<me-1,ye+=(K&ie?1:0)+(te&ie?2:0);return ye}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(c==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,o>1?"@2x":"").replace(/{quadkey}/g,U).replace(/{bbox-epsg-3857}/g,m)}isChildOf(i){const o=this.z-i.z;return o>0&&i.x===this.x>>o&&i.y===this.y>>o}getTilePoint(i){const o=Math.pow(2,this.z);return new Tt((i.x*o-this.x)*tr,(i.y*o-this.y)*tr)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Mx{constructor(i,o){this.wrap=i,this.canonical=o,this.key=nh(i,o.z,o.z,o.x,o.y)}}class Ms{constructor(i,o,c,m,_){if(i<c)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${c}`);this.overscaledZ=i,this.wrap=o,this.canonical=new Rm(c,+m,+_),this.key=nh(o,i,c,m,_)}clone(){return new Ms(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const o=this.canonical.z-i;return i>this.canonical.z?new Ms(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ms(i,this.wrap,i,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(i,o){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-i;return i>this.canonical.z?nh(this.wrap*+o,i,this.canonical.z,this.canonical.x,this.canonical.y):nh(this.wrap*+o,i,i,this.canonical.x>>c,this.canonical.y>>c)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const o=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>o&&i.canonical.y===this.canonical.y>>o}children(i){if(this.overscaledZ>=i)return[new Ms(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,c=2*this.canonical.x,m=2*this.canonical.y;return[new Ms(o,this.wrap,o,c,m),new Ms(o,this.wrap,o,c+1,m),new Ms(o,this.wrap,o,c,m+1),new Ms(o,this.wrap,o,c+1,m+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new Ms(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new Ms(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Mx(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new Jd(i.x-this.wrap,i.y))}}function nh(r,i,o,c,m){(r*=2)<0&&(r=-1*r-1);const _=1<<o;return(_*_*r+_*m+c).toString(36)+o.toString(36)+i.toString(36)}le("CanonicalTileID",Rm),le("OverscaledTileID",Ms,{omit:["posMatrix"]});class zx{constructor(i,o,c){if(this.uid=i,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(c&&c!=="mapbox"&&c!=="terrarium")return void xe(`"${c}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const m=this.dim=o.height-2;this.data=new Uint32Array(o.data.buffer),this.encoding=c||"mapbox";for(let _=0;_<m;_++)this.data[this._idx(-1,_)]=this.data[this._idx(0,_)],this.data[this._idx(m,_)]=this.data[this._idx(m-1,_)],this.data[this._idx(_,-1)]=this.data[this._idx(_,0)],this.data[this._idx(_,m)]=this.data[this._idx(_,m-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(m,-1)]=this.data[this._idx(m-1,0)],this.data[this._idx(-1,m)]=this.data[this._idx(0,m-1)],this.data[this._idx(m,m)]=this.data[this._idx(m-1,m-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let _=0;_<m;_++)for(let w=0;w<m;w++){const A=this.get(_,w);A>this.max&&(this.max=A),A<this.min&&(this.min=A)}}get(i,o){const c=new Uint8Array(this.data.buffer),m=4*this._idx(i,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(c[m],c[m+1],c[m+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(i,o){if(i<-1||i>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(i+1)}_unpackMapbox(i,o,c){return(256*i*256+256*o+c)/10-1e4}_unpackTerrarium(i,o,c){return 256*i+o+c/256-32768}getPixels(){return new Is({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,o,c){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let m=o*this.dim,_=o*this.dim+this.dim,w=c*this.dim,A=c*this.dim+this.dim;switch(o){case-1:m=_-1;break;case 1:_=m+1}switch(c){case-1:w=A-1;break;case 1:A=w+1}const I=-o*this.dim,B=-c*this.dim;for(let U=w;U<A;U++)for(let G=m;G<_;G++)this.data[this._idx(G,U)]=i.data[this._idx(G+I,U+B)]}}le("DEMData",zx);class Dx{constructor(i){this._stringToNumber={},this._numberToString=[];for(let o=0;o<i.length;o++){const c=i[o];this._stringToNumber[c]=o,this._numberToString[o]=c}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class Lx{constructor(i,o,c,m,_){this.type="Feature",this._vectorTileFeature=i,i._z=o,i._x=c,i._y=m,this.properties=i.properties,this.id=_}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const o in this)o!=="_geometry"&&o!=="_vectorTileFeature"&&(i[o]=this[o]);return i}}class Rx{constructor(i,o){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new ba(tr,16,0),this.grid3D=new ba(tr,16,0),this.featureIndexArray=new xi,this.promoteId=o}insert(i,o,c,m,_,w){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(c,m,_);const I=w?this.grid3D:this.grid;for(let B=0;B<o.length;B++){const U=o[B],G=[1/0,1/0,-1/0,-1/0];for(let K=0;K<U.length;K++){const te=U[K];G[0]=Math.min(G[0],te.x),G[1]=Math.min(G[1],te.y),G[2]=Math.max(G[2],te.x),G[3]=Math.max(G[3],te.y)}G[0]<tr&&G[1]<tr&&G[2]>=0&&G[3]>=0&&I.insert(A,G[0],G[1],G[2],G[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ul.VectorTile(new bm(this.rawTileData)).layers,this.sourceLayerCoder=new Dx(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,o,c,m){this.loadVTLayers();const _=i.params||{},w=tr/i.tileSize/i.scale,A=il(_.filter),I=i.queryGeometry,B=i.queryPadding*w,U=Nx(I),G=this.grid.query(U.minX-B,U.minY-B,U.maxX+B,U.maxY+B),K=Nx(i.cameraQueryGeometry),te=this.grid3D.query(K.minX-B,K.minY-B,K.maxX+B,K.maxY+B,(me,Me,Ve,ke)=>function(Be,tt,et,Pt,Dt){for(const vt of Be)if(tt<=vt.x&&et<=vt.y&&Pt>=vt.x&&Dt>=vt.y)return!0;const bt=[new Tt(tt,et),new Tt(tt,Dt),new Tt(Pt,Dt),new Tt(Pt,et)];if(Be.length>2){for(const vt of bt)if(ju(Be,vt))return!0}for(let vt=0;vt<Be.length-1;vt++)if(qT(Be[vt],Be[vt+1],bt))return!0;return!1}(i.cameraQueryGeometry,me-B,Me-B,Ve+B,ke+B));for(const me of te)G.push(me);G.sort(gA);const ie={};let ye;for(let me=0;me<G.length;me++){const Me=G[me];if(Me===ye)continue;ye=Me;const Ve=this.featureIndexArray.get(Me);let ke=null;this.loadMatchingFeature(ie,Ve.bucketIndex,Ve.sourceLayerIndex,Ve.featureIndex,A,_.layers,_.availableImages,o,c,m,(Be,tt,et)=>(ke||(ke=tu(Be)),tt.queryIntersectsFeature(I,Be,et,ke,this.z,i.transform,w,i.pixelPosMatrix)))}return ie}loadMatchingFeature(i,o,c,m,_,w,A,I,B,U,G){const K=this.bucketLayerIDs[o];if(w&&!function(me,Me){for(let Ve=0;Ve<me.length;Ve++)if(Me.indexOf(me[Ve])>=0)return!0;return!1}(w,K))return;const te=this.sourceLayerCoder.decode(c),ie=this.vtLayers[te].feature(m);if(_.needGeometry){const me=iu(ie,!0);if(!_.filter(new wn(this.tileID.overscaledZ),me,this.tileID.canonical))return}else if(!_.filter(new wn(this.tileID.overscaledZ),ie))return;const ye=this.getId(ie,te);for(let me=0;me<K.length;me++){const Me=K[me];if(w&&w.indexOf(Me)<0)continue;const Ve=I[Me];if(!Ve)continue;let ke={};ye&&U&&(ke=U.getState(Ve.sourceLayer||"_geojsonTileLayer",ye));const Be=se({},B[Me]);Be.paint=Bx(Be.paint,Ve.paint,ie,ke,A),Be.layout=Bx(Be.layout,Ve.layout,ie,ke,A);const tt=!G||G(ie,Ve,ke);if(!tt)continue;const et=new Lx(ie,this.z,this.x,this.y,ye);et.layer=Be;let Pt=i[Me];Pt===void 0&&(Pt=i[Me]=[]),Pt.push({featureIndex:m,feature:et,intersectionZ:tt})}}lookupSymbolFeatures(i,o,c,m,_,w,A,I){const B={};this.loadVTLayers();const U=il(_);for(const G of i)this.loadMatchingFeature(B,c,m,G,U,w,A,I,o);return B}hasLayer(i){for(const o of this.bucketLayerIDs)for(const c of o)if(i===c)return!0;return!1}getId(i,o){let c=i.id;return this.promoteId&&(c=i.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[o]],typeof c=="boolean"&&(c=Number(c))),c}}function Bx(r,i,o,c,m){return k(r,(_,w)=>{const A=i instanceof Jl?i.get(w):null;return A&&A.evaluate?A.evaluate(o,c,m):A})}function Nx(r){let i=1/0,o=1/0,c=-1/0,m=-1/0;for(const _ of r)i=Math.min(i,_.x),o=Math.min(o,_.y),c=Math.max(c,_.x),m=Math.max(m,_.y);return{minX:i,minY:o,maxX:c,maxY:m}}function gA(r,i){return i-r}var Bm;le("FeatureIndex",Rx,{omit:["rawTileData","sourceLayerCoder"]}),a.PerformanceMarkers=void 0,(Bm=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",Bm.load="load",Bm.fullLoad="fullLoad";let ep=null,rh=[];const Nm=1e3/30,yA={mark(r){performance.mark(r)},frame(r){const i=r;ep!=null&&rh.push(i-ep),ep=i},clearMetrics(){ep=null,rh=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const r in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[r])},getPerformanceMetrics(){performance.measure("loadTime",a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure("fullLoadTime",a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const r=performance.getEntriesByName("loadTime")[0].duration,i=performance.getEntriesByName("fullLoadTime")[0].duration,o=rh.length,c=1/(rh.reduce((_,w)=>_+w,0)/o/1e3),m=rh.filter(_=>_>Nm).reduce((_,w)=>_+(w-Nm)/Nm,0);return{loadTime:r,fullLoadTime:i,fps:c,percentDroppedFrames:m/(o+m)*100}}};a.AJAXError=on,a.ARRAY_TYPE=Xr,a.Actor=class{constructor(r,i,o){this.target=r,this.parent=i,this.mapId=o,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},he(["receive","process"],this),this.invoker=new mA(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=qe()?r:window}send(r,i,o,c,m=!1){const _=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(this.callbacks[_]=o);const w=Tn(this.globalScope)?void 0:[];return this.target.postMessage({id:_,type:r,hasCallback:!!o,targetMapId:c,mustQueue:m,sourceMapId:this.mapId,data:Qe(i,w)},w),{cancel:()=>{o&&delete this.callbacks[_],this.target.postMessage({id:_,type:"<cancel>",targetMapId:c,sourceMapId:this.mapId})}}}receive(r){const i=r.data,o=i.id;if(o&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){delete this.tasks[o];const c=this.cancelCallbacks[o];delete this.cancelCallbacks[o],c&&c()}else qe()||i.mustQueue?(this.tasks[o]=i,this.taskQueue.push(o),this.invoker.trigger()):this.processTask(o,i)}process(){if(!this.taskQueue.length)return;const r=this.taskQueue.shift(),i=this.tasks[r];delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),i&&this.processTask(r,i)}processTask(r,i){if(i.type==="<response>"){const o=this.callbacks[r];delete this.callbacks[r],o&&(i.error?o(Ie(i.error)):o(null,Ie(i.data)))}else{let o=!1;const c=Tn(this.globalScope)?void 0:[],m=i.hasCallback?(A,I)=>{o=!0,delete this.cancelCallbacks[r],this.target.postMessage({id:r,type:"<response>",sourceMapId:this.mapId,error:A?Qe(A):null,data:Qe(I,c)},c)}:A=>{o=!0};let _=null;const w=Ie(i.data);if(this.parent[i.type])_=this.parent[i.type](i.sourceMapId,w,m);else if(this.parent.getWorkerSource){const A=i.type.split(".");_=this.parent.getWorkerSource(i.sourceMapId,A[0],w.source)[A[1]](w,m)}else m(new Error(`Could not find function ${i.type}`));!o&&_&&_.cancel&&(this.cancelCallbacks[r]=_.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=$c,a.CanonicalTileID=Rm,a.CollisionBoxArray=Ze,a.CollisionCircleLayoutArray=class extends q{},a.Color=ae,a.DEMData=zx,a.DataConstantProperty=Rt,a.DictionaryCoder=Dx,a.EXTENT=tr,a.ErrorEvent=bi,a.EvaluationParameters=wn,a.Event=di,a.Evented=ki,a.FeatureIndex=Rx,a.FillBucket=vm,a.FillExtrusionBucket=xm,a.GeoJSONFeature=Lx,a.ImageAtlas=sx,a.ImagePosition=Tm,a.LineBucket=wm,a.LineStripIndexArray=class extends fe{},a.LngLat=Rn,a.LngLatBounds=ru,a.MercatorCoordinate=Jd,a.ONE_EM=fr,a.OverscaledTileID=Ms,a.PerformanceUtils=yA,a.PosArray=Ht,a.Properties=pr,a.QuadTriangleArray=class extends J{},a.RGBAImage=Is,a.RasterBoundsArray=class extends f{},a.RequestPerformance=class{constructor(r){this._marks={start:[r.url,"start"].join("#"),end:[r.url,"end"].join("#"),measure:r.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let r=performance.getEntriesByName(this._marks.measure);return r.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),r=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),r}},a.ResourceType=Pr,a.SegmentVector=Ei,a.SymbolBucket=Xu,a.Transitionable=Pd,a.TriangleIndexArray=Zr,a.Uniform1f=Aa,a.Uniform1i=class extends Ca{constructor(r,i){super(r,i),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))}},a.Uniform2f=class extends Ca{constructor(r,i){super(r,i),this.current=[0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1]))}},a.Uniform3f=class extends Ca{constructor(r,i){super(r,i),this.current=[0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2]))}},a.Uniform4f=Vu,a.UniformColor=w_,a.UniformMatrix4f=class extends Ca{constructor(r,i){super(r,i),this.current=OT}set(r){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let i=1;i<16;i++)if(r[i]!==this.current[i]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}},a.UnwrappedTileID=Mx,a.ValidationError=ct,a.ZoomHistory=nt,a.add=function(r,i,o){return r[0]=i[0]+o[0],r[1]=i[1]+o[1],r[2]=i[2]+o[2],r},a.addDynamicAttributes=Pm,a.asyncAll=function(r,i,o){if(!r.length)return o(null,[]);let c=r.length;const m=new Array(r.length);let _=null;r.forEach((w,A)=>{i(w,(I,B)=>{I&&(_=I),m[A]=B,--c==0&&o(_,m)})})},a.bezier=O,a.bindAll=he,a.cacheEntryPossiblyAdded=function(r){ci++,ci>si&&(r.getActor().send("enforceCacheSizeLimit",ri),ci=0)},a.clamp=S,a.clearTileCache=function(r){const i=caches.delete(at);r&&i.catch(r).then(()=>r())},a.clipLine=yx,a.clone=function(r){var i=new Xr(16);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],i},a.clone$1=F,a.clone$2=function(r){var i=new Xr(3);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i},a.collisionCircleLayout=RC,a.config=He,a.copy=function(r,i){return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],r},a.create=function(){var r=new Xr(16);return Xr!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},a.create$1=P_,a.createExpression=co,a.createFilter=il,a.createLayout=Xn,a.createStyleLayer=function(r){return r.type==="custom"?new pA(r):new fA[r.type](r)},a.cross=function(r,i,o){var c=i[0],m=i[1],_=i[2],w=o[0],A=o[1],I=o[2];return r[0]=m*I-_*A,r[1]=_*w-c*I,r[2]=c*A-m*w,r},a.dot=function(r,i){return r[0]*i[0]+r[1]*i[1]+r[2]*i[2]},a.dot$1=function(r,i){return r[0]*i[0]+r[1]*i[1]+r[2]*i[2]+r[3]*i[3]},a.ease=j,a.emitValidationErrors=Wo,a.enforceCacheSizeLimit=function(r){Ti(),dt&&dt.then(i=>{i.keys().then(o=>{for(let c=0;c<o.length-r;c++)i.delete(o[c])})})},a.equals=function(r,i){var o=r[0],c=r[1],m=r[2],_=r[3],w=r[4],A=r[5],I=r[6],B=r[7],U=r[8],G=r[9],K=r[10],te=r[11],ie=r[12],ye=r[13],me=r[14],Me=r[15],Ve=i[0],ke=i[1],Be=i[2],tt=i[3],et=i[4],Pt=i[5],Dt=i[6],bt=i[7],vt=i[8],mt=i[9],St=i[10],_t=i[11],ht=i[12],Zt=i[13],Nt=i[14],wi=i[15];return Math.abs(o-Ve)<=$r*Math.max(1,Math.abs(o),Math.abs(Ve))&&Math.abs(c-ke)<=$r*Math.max(1,Math.abs(c),Math.abs(ke))&&Math.abs(m-Be)<=$r*Math.max(1,Math.abs(m),Math.abs(Be))&&Math.abs(_-tt)<=$r*Math.max(1,Math.abs(_),Math.abs(tt))&&Math.abs(w-et)<=$r*Math.max(1,Math.abs(w),Math.abs(et))&&Math.abs(A-Pt)<=$r*Math.max(1,Math.abs(A),Math.abs(Pt))&&Math.abs(I-Dt)<=$r*Math.max(1,Math.abs(I),Math.abs(Dt))&&Math.abs(B-bt)<=$r*Math.max(1,Math.abs(B),Math.abs(bt))&&Math.abs(U-vt)<=$r*Math.max(1,Math.abs(U),Math.abs(vt))&&Math.abs(G-mt)<=$r*Math.max(1,Math.abs(G),Math.abs(mt))&&Math.abs(K-St)<=$r*Math.max(1,Math.abs(K),Math.abs(St))&&Math.abs(te-_t)<=$r*Math.max(1,Math.abs(te),Math.abs(_t))&&Math.abs(ie-ht)<=$r*Math.max(1,Math.abs(ie),Math.abs(ht))&&Math.abs(ye-Zt)<=$r*Math.max(1,Math.abs(ye),Math.abs(Zt))&&Math.abs(me-Nt)<=$r*Math.max(1,Math.abs(me),Math.abs(Nt))&&Math.abs(Me-wi)<=$r*Math.max(1,Math.abs(Me),Math.abs(wi))},a.evaluateSizeForFeature=function(r,{uSize:i,uSizeT:o},{lowerSize:c,upperSize:m}){return r.kind==="source"?c/Pa:r.kind==="composite"?pn(c/Pa,m/Pa,o):i},a.evaluateSizeForZoom=function(r,i){let o=0,c=0;if(r.kind==="constant")c=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:m,minZoom:_,maxZoom:w}=r,A=m?S(Mr.interpolationFactor(m,i,_,w),0,1):0;r.kind==="camera"?c=pn(r.minSize,r.maxSize,A):o=A}return{uSizeT:o,uSize:c}},a.evaluateVariableOffset=xx,a.evented=Vc,a.exported=sn,a.exported$1=gi,a.extend=se,a.filterObject=D,a.fromRotation=function(r,i){var o=Math.sin(i),c=Math.cos(i);return r[0]=c,r[1]=o,r[2]=0,r[3]=-o,r[4]=c,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},a.fromScaling=function(r,i){return r[0]=i[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=i[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.getAnchorAlignment=Am,a.getAnchorJustification=km,a.getArrayBuffer=mn,a.getImage=Yt,a.getJSON=function(r,i){return Lt(se(r,{type:"json"}),i)},a.getOverlapMode=Dm,a.getRTLTextPluginStatus=Yl,a.getReferrer=Nn,a.getVideo=function(r,i){const o=window.document.createElement("video");o.muted=!0,o.onloadstart=function(){i(null,o)};for(let c=0;c<r.length;c++){const m=window.document.createElement("source");st(r[c])||(o.crossOrigin="Anonymous"),m.src=r[c],o.appendChild(m)}return{cancel:()=>{}}},a.identity=um,a.invert=function(r,i){var o=i[0],c=i[1],m=i[2],_=i[3],w=i[4],A=i[5],I=i[6],B=i[7],U=i[8],G=i[9],K=i[10],te=i[11],ie=i[12],ye=i[13],me=i[14],Me=i[15],Ve=o*A-c*w,ke=o*I-m*w,Be=o*B-_*w,tt=c*I-m*A,et=c*B-_*A,Pt=m*B-_*I,Dt=U*ye-G*ie,bt=U*me-K*ie,vt=U*Me-te*ie,mt=G*me-K*ye,St=G*Me-te*ye,_t=K*Me-te*me,ht=Ve*_t-ke*St+Be*mt+tt*vt-et*bt+Pt*Dt;return ht?(r[0]=(A*_t-I*St+B*mt)*(ht=1/ht),r[1]=(m*St-c*_t-_*mt)*ht,r[2]=(ye*Pt-me*et+Me*tt)*ht,r[3]=(K*et-G*Pt-te*tt)*ht,r[4]=(I*vt-w*_t-B*bt)*ht,r[5]=(o*_t-m*vt+_*bt)*ht,r[6]=(me*Be-ie*Pt-Me*ke)*ht,r[7]=(U*Pt-K*Be+te*ke)*ht,r[8]=(w*St-A*vt+B*Dt)*ht,r[9]=(c*vt-o*St-_*Dt)*ht,r[10]=(ie*et-ye*Be+Me*Ve)*ht,r[11]=(G*Be-U*et-te*Ve)*ht,r[12]=(A*bt-w*mt-I*Dt)*ht,r[13]=(o*mt-c*bt+m*Dt)*ht,r[14]=(ye*ke-ie*tt-me*Ve)*ht,r[15]=(U*tt-G*ke+K*Ve)*ht,r):null},a.isImageBitmap=Di,a.isSafari=Tn,a.isWorker=qe,a.keysDifference=function(r,i){const o=[];for(const c in r)c in i||o.push(c);return o},a.lazyLoadRTLTextPlugin=function(){ys.isLoading()||ys.isLoaded()||Yl()!=="deferred"||kd()},a.makeRequest=Lt,a.mapObject=k,a.mercatorXfromLng=Ex,a.mercatorYfromLat=kx,a.mercatorZfromAltitude=Px,a.mul=HT,a.mul$1=function(r,i,o){return r[0]=i[0]*o[0],r[1]=i[1]*o[1],r[2]=i[2]*o[2],r[3]=i[3]*o[3],r},a.multiply=I_,a.nextPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))},a.normalize=function(r,i){var o=i[0],c=i[1],m=i[2],_=o*o+c*c+m*m;return _>0&&(_=1/Math.sqrt(_)),r[0]=i[0]*_,r[1]=i[1]*_,r[2]=i[2]*_,r},a.number=pn,a.ortho=function(r,i,o,c,m,_,w){var A=1/(i-o),I=1/(c-m),B=1/(_-w);return r[0]=-2*A,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*I,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*B,r[11]=0,r[12]=(i+o)*A,r[13]=(m+c)*I,r[14]=(w+_)*B,r[15]=1,r},a.parseCacheControl=wt,a.parseGlyphPbf=function(r){return new bm(r).readFields(HC,[])},a.pbf=bm,a.performSymbolLayout=function(r){r.bucket.createArrays(),r.bucket.tilePixelRatio=tr/(512*r.bucket.overscaling),r.bucket.compareText={},r.bucket.iconsNeedLinear=!1;const i=r.bucket.layers[0].layout,o=r.bucket.layers[0]._unevaluatedLayout._values,c={layoutIconSize:o["icon-size"].possiblyEvaluate(new wn(r.bucket.zoom+1),r.canonical),layoutTextSize:o["text-size"].possiblyEvaluate(new wn(r.bucket.zoom+1),r.canonical),textMaxSize:o["text-size"].possiblyEvaluate(new wn(18))};if(r.bucket.textSizeData.kind==="composite"){const{minZoom:I,maxZoom:B}=r.bucket.textSizeData;c.compositeTextSizes=[o["text-size"].possiblyEvaluate(new wn(I),r.canonical),o["text-size"].possiblyEvaluate(new wn(B),r.canonical)]}if(r.bucket.iconSizeData.kind==="composite"){const{minZoom:I,maxZoom:B}=r.bucket.iconSizeData;c.compositeIconSizes=[o["icon-size"].possiblyEvaluate(new wn(I),r.canonical),o["icon-size"].possiblyEvaluate(new wn(B),r.canonical)]}const m=i.get("text-line-height")*fr,_=i.get("text-rotation-alignment")!=="viewport"&&i.get("symbol-placement")!=="point",w=i.get("text-keep-upright"),A=i.get("text-size");for(const I of r.bucket.features){const B=i.get("text-font").evaluate(I,{},r.canonical).join(","),U=A.evaluate(I,{},r.canonical),G=c.layoutTextSize.evaluate(I,{},r.canonical),K=c.layoutIconSize.evaluate(I,{},r.canonical),te={horizontal:{},vertical:void 0},ie=I.text;let ye,me=[0,0];if(ie){const ke=ie.toString(),Be=i.get("text-letter-spacing").evaluate(I,{},r.canonical)*fr,tt=Et(ke)?Be:0,et=i.get("text-anchor").evaluate(I,{},r.canonical),Pt=i.get("text-variable-anchor");if(!Pt){const St=i.get("text-radial-offset").evaluate(I,{},r.canonical);me=St?xx(et,[St*fr,Em]):i.get("text-offset").evaluate(I,{},r.canonical).map(_t=>_t*fr)}let Dt=_?"center":i.get("text-justify").evaluate(I,{},r.canonical);const bt=i.get("symbol-placement"),vt=bt==="point"?i.get("text-max-width").evaluate(I,{},r.canonical)*fr:0,mt=()=>{r.bucket.allowVerticalPlacement&&gt(ke)&&(te.vertical=Wd(ie,r.glyphMap,r.glyphPositions,r.imagePositions,B,vt,m,et,"left",tt,me,a.WritingMode.vertical,!0,bt,G,U))};if(!_&&Pt){const St=Dt==="auto"?Pt.map(ht=>km(ht)):[Dt];let _t=!1;for(let ht=0;ht<St.length;ht++){const Zt=St[ht];if(!te.horizontal[Zt])if(_t)te.horizontal[Zt]=te.horizontal[0];else{const Nt=Wd(ie,r.glyphMap,r.glyphPositions,r.imagePositions,B,vt,m,"center",Zt,tt,me,a.WritingMode.horizontal,!1,bt,G,U);Nt&&(te.horizontal[Zt]=Nt,_t=Nt.positionedLines.length===1)}}mt()}else{Dt==="auto"&&(Dt=km(et));const St=Wd(ie,r.glyphMap,r.glyphPositions,r.imagePositions,B,vt,m,et,Dt,tt,me,a.WritingMode.horizontal,!1,bt,G,U);St&&(te.horizontal[Dt]=St),mt(),gt(ke)&&_&&w&&(te.vertical=Wd(ie,r.glyphMap,r.glyphPositions,r.imagePositions,B,vt,m,et,Dt,tt,me,a.WritingMode.vertical,!1,bt,G,U))}}let Me=!1;if(I.icon&&I.icon.name){const ke=r.imageMap[I.icon.name];ke&&(ye=QC(r.imagePositions[I.icon.name],i.get("icon-offset").evaluate(I,{},r.canonical),i.get("icon-anchor").evaluate(I,{},r.canonical)),Me=!!ke.sdf,r.bucket.sdfIcons===void 0?r.bucket.sdfIcons=Me:r.bucket.sdfIcons!==Me&&xe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ke.pixelRatio!==r.bucket.pixelRatio||i.get("icon-rotate").constantOr(1)!==0)&&(r.bucket.iconsNeedLinear=!0))}const Ve=bx(te.horizontal)||te.vertical;r.bucket.iconsInText=!!Ve&&Ve.iconsInText,(Ve||ye)&&sA(r.bucket,I,te,ye,r.imageMap,c,G,K,me,Me,r.canonical)}r.showCollisionBoxes&&r.bucket.generateCollisionDebugBuffers()},a.perspective=function(r,i,o,c,m){var _,w=1/Math.tan(i/2);return r[0]=w/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=w,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,m!=null&&m!==1/0?(r[10]=(m+c)*(_=1/(c-m)),r[14]=2*m*c*_):(r[10]=-1,r[14]=-2*c),r},a.pick=function(r,i){const o={};for(let c=0;c<i.length;c++){const m=i[c];m in r&&(o[m]=r[m])}return o},a.plugin=ys,a.pointGeometry=Tt,a.polygonIntersectsPolygon=C_,a.potpack=rx,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=le,a.registerForPluginStateChange=function(r){return r({pluginStatus:$n,pluginURL:Hr}),Vc.on("pluginStateChange",r),r},a.renderColorRamp=N_,a.rotateX=function(r,i,o){var c=Math.sin(o),m=Math.cos(o),_=i[4],w=i[5],A=i[6],I=i[7],B=i[8],U=i[9],G=i[10],K=i[11];return i!==r&&(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[4]=_*m+B*c,r[5]=w*m+U*c,r[6]=A*m+G*c,r[7]=I*m+K*c,r[8]=B*m-_*c,r[9]=U*m-w*c,r[10]=G*m-A*c,r[11]=K*m-I*c,r},a.rotateZ=function(r,i,o){var c=Math.sin(o),m=Math.cos(o),_=i[0],w=i[1],A=i[2],I=i[3],B=i[4],U=i[5],G=i[6],K=i[7];return i!==r&&(r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=_*m+B*c,r[1]=w*m+U*c,r[2]=A*m+G*c,r[3]=I*m+K*c,r[4]=B*m-_*c,r[5]=U*m-w*c,r[6]=G*m-A*c,r[7]=K*m-I*c,r},a.scale=function(r,i,o){var c=o[0],m=o[1],_=o[2];return r[0]=i[0]*c,r[1]=i[1]*c,r[2]=i[2]*c,r[3]=i[3]*c,r[4]=i[4]*m,r[5]=i[5]*m,r[6]=i[6]*m,r[7]=i[7]*m,r[8]=i[8]*_,r[9]=i[9]*_,r[10]=i[10]*_,r[11]=i[11]*_,r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],r},a.scale$1=function(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r},a.setCacheLimits=function(r,i){ri=r,si=i},a.setRTLTextPlugin=function(r,i,o=!1){if($n===Pn||$n===Zn||$n===dr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Hr=sn.resolveURL(r),$n=Pn,fn=i,sl(),o||kd()},a.spec=Le,a.sphericalToCartesian=function([r,i,o]){return i+=90,i*=Math.PI/180,o*=Math.PI/180,{x:r*Math.cos(i)*Math.sin(o),y:r*Math.sin(i)*Math.sin(o),z:r*Math.cos(o)}},a.sqrLen=function(r){var i=r[0],o=r[1];return i*i+o*o},a.sub=function(r,i,o){return r[0]=i[0]-o[0],r[1]=i[1]-o[1],r[2]=i[2]-o[2],r},a.toEvaluationFeature=iu,a.transformMat3=function(r,i,o){var c=i[0],m=i[1],_=i[2];return r[0]=c*o[0]+m*o[3]+_*o[6],r[1]=c*o[1]+m*o[4]+_*o[7],r[2]=c*o[2]+m*o[5]+_*o[8],r},a.transformMat4=Nd,a.transformMat4$1=function(r,i,o){var c=i[0],m=i[1];return r[0]=o[0]*c+o[4]*m+o[12],r[1]=o[1]*c+o[5]*m+o[13],r},a.translate=function(r,i,o){var c,m,_,w,A,I,B,U,G,K,te,ie,ye=o[0],me=o[1],Me=o[2];return i===r?(r[12]=i[0]*ye+i[4]*me+i[8]*Me+i[12],r[13]=i[1]*ye+i[5]*me+i[9]*Me+i[13],r[14]=i[2]*ye+i[6]*me+i[10]*Me+i[14],r[15]=i[3]*ye+i[7]*me+i[11]*Me+i[15]):(m=i[1],_=i[2],w=i[3],A=i[4],I=i[5],B=i[6],U=i[7],G=i[8],K=i[9],te=i[10],ie=i[11],r[0]=c=i[0],r[1]=m,r[2]=_,r[3]=w,r[4]=A,r[5]=I,r[6]=B,r[7]=U,r[8]=G,r[9]=K,r[10]=te,r[11]=ie,r[12]=c*ye+A*me+G*Me+i[12],r[13]=m*ye+I*me+K*Me+i[13],r[14]=_*ye+B*me+te*Me+i[14],r[15]=w*ye+U*me+ie*Me+i[15]),r},a.triggerPluginCompletionEvent=wr,a.unicodeBlockLookup=Pe,a.uniqueId=function(){return oe++},a.validateCustomStyleLayer=function(r){const i=[],o=r.id;return o===void 0&&i.push({message:`layers.${o}: missing required property "id"`}),r.render===void 0&&i.push({message:`layers.${o}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&i.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),i},a.validateLight=Xl,a.validateStyle=fo,a.vectorTile=ul,a.warnOnce=xe,a.wrap=Q}),p(["./shared"],function(a){function T(ue){const V=typeof ue;if(V==="number"||V==="boolean"||V==="string"||ue==null)return JSON.stringify(ue);if(Array.isArray(ue)){let ae="[";for(const ge of ue)ae+=`${T(ge)},`;return`${ae}]`}const H=Object.keys(ue).sort();let re="{";for(let ae=0;ae<H.length;ae++)re+=`${JSON.stringify(H[ae])}:${T(ue[H[ae]])},`;return`${re}}`}function z(ue){let V="";for(const H of a.refProperties)V+=`/${T(ue[H])}`;return V}class O{constructor(V){this.keyCache={},V&&this.replace(V)}replace(V){this._layerConfigs={},this._layers={},this.update(V,[])}update(V,H){for(const ae of V){this._layerConfigs[ae.id]=ae;const ge=this._layers[ae.id]=a.createStyleLayer(ae);ge._featureFilter=a.createFilter(ge.filter),this.keyCache[ae.id]&&delete this.keyCache[ae.id]}for(const ae of H)delete this.keyCache[ae],delete this._layerConfigs[ae],delete this._layers[ae];this.familiesBySource={};const re=function(ae,ge){const Te={};for(let ve=0;ve<ae.length;ve++){const Ce=ge&&ge[ae[ve].id]||z(ae[ve]);ge&&(ge[ae[ve].id]=Ce);let Ue=Te[Ce];Ue||(Ue=Te[Ce]=[]),Ue.push(ae[ve])}const we=[];for(const ve in Te)we.push(Te[ve]);return we}(Object.values(this._layerConfigs),this.keyCache);for(const ae of re){const ge=ae.map(ot=>this._layers[ot.id]),Te=ge[0];if(Te.visibility==="none")continue;const we=Te.source||"";let ve=this.familiesBySource[we];ve||(ve=this.familiesBySource[we]={});const Ce=Te.sourceLayer||"_geojsonTileLayer";let Ue=ve[Ce];Ue||(Ue=ve[Ce]=[]),Ue.push(ge)}}}class j{constructor(V){const H={},re=[];for(const we in V){const ve=V[we],Ce=H[we]={};for(const Ue in ve){const ot=ve[+Ue];if(!ot||ot.bitmap.width===0||ot.bitmap.height===0)continue;const je={x:0,y:0,w:ot.bitmap.width+2,h:ot.bitmap.height+2};re.push(je),Ce[Ue]={rect:je,metrics:ot.metrics}}}const{w:ae,h:ge}=a.potpack(re),Te=new a.AlphaImage({width:ae||1,height:ge||1});for(const we in V){const ve=V[we];for(const Ce in ve){const Ue=ve[+Ce];if(!Ue||Ue.bitmap.width===0||Ue.bitmap.height===0)continue;const ot=H[we][Ce].rect;a.AlphaImage.copy(Ue.bitmap,Te,{x:0,y:0},{x:ot.x+1,y:ot.y+1},Ue.bitmap)}}this.image=Te,this.positions=H}}a.register("GlyphAtlas",j);class S{constructor(V){this.tileID=new a.OverscaledTileID(V.tileID.overscaledZ,V.tileID.wrap,V.tileID.canonical.z,V.tileID.canonical.x,V.tileID.canonical.y),this.uid=V.uid,this.zoom=V.zoom,this.pixelRatio=V.pixelRatio,this.tileSize=V.tileSize,this.source=V.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=V.showCollisionBoxes,this.collectResourceTiming=!!V.collectResourceTiming,this.returnDependencies=!!V.returnDependencies,this.promoteId=V.promoteId}parse(V,H,re,ae,ge){this.status="parsing",this.data=V,this.collisionBoxArray=new a.CollisionBoxArray;const Te=new a.DictionaryCoder(Object.keys(V.layers).sort()),we=new a.FeatureIndex(this.tileID,this.promoteId);we.bucketLayerIDs=[];const ve={},Ce={featureIndex:we,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:re},Ue=H.familiesBySource[this.source];for(const ii in Ue){const mi=V.layers[ii];if(!mi)continue;mi.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${ii}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Pi=Te.encode(ii),$i=[];for(let Gi=0;Gi<mi.length;Gi++){const Xi=mi.feature(Gi),On=we.getId(Xi,ii);$i.push({feature:Xi,id:On,index:Gi,sourceLayerIndex:Pi})}for(const Gi of Ue[ii]){const Xi=Gi[0];Xi.source!==this.source&&a.warnOnce(`layer.source = ${Xi.source} does not equal this.source = ${this.source}`),Xi.minzoom&&this.zoom<Math.floor(Xi.minzoom)||Xi.maxzoom&&this.zoom>=Xi.maxzoom||Xi.visibility!=="none"&&(Q(Gi,this.zoom,re),(ve[Xi.id]=Xi.createBucket({index:we.bucketLayerIDs.length,layers:Gi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pi,sourceID:this.source})).populate($i,Ce,this.tileID.canonical),we.bucketLayerIDs.push(Gi.map(On=>On.id)))}}let ot,je,It,zt;const xt=a.mapObject(Ce.glyphDependencies,ii=>Object.keys(ii).map(Number));Object.keys(xt).length?ae.send("getGlyphs",{uid:this.uid,stacks:xt},(ii,mi)=>{ot||(ot=ii,je=mi,Li.call(this))}):je={};const Gt=Object.keys(Ce.iconDependencies);Gt.length?ae.send("getImages",{icons:Gt,source:this.source,tileID:this.tileID,type:"icons"},(ii,mi)=>{ot||(ot=ii,It=mi,Li.call(this))}):It={};const Jt=Object.keys(Ce.patternDependencies);function Li(){if(ot)return ge(ot);if(je&&It&&zt){const ii=new j(je),mi=new a.ImageAtlas(It,zt);for(const Pi in ve){const $i=ve[Pi];$i instanceof a.SymbolBucket?(Q($i.layers,this.zoom,re),a.performSymbolLayout({bucket:$i,glyphMap:je,glyphPositions:ii.positions,imageMap:It,imagePositions:mi.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):$i.hasPattern&&($i instanceof a.LineBucket||$i instanceof a.FillBucket||$i instanceof a.FillExtrusionBucket)&&(Q($i.layers,this.zoom,re),$i.addFeatures(Ce,this.tileID.canonical,mi.patternPositions))}this.status="done",ge(null,{buckets:Object.values(ve).filter(Pi=>!Pi.isEmpty()),featureIndex:we,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ii.image,imageAtlas:mi,glyphMap:this.returnDependencies?je:null,iconMap:this.returnDependencies?It:null,glyphPositions:this.returnDependencies?ii.positions:null})}}Jt.length?ae.send("getImages",{icons:Jt,source:this.source,tileID:this.tileID,type:"patterns"},(ii,mi)=>{ot||(ot=ii,zt=mi,Li.call(this))}):zt={},Li.call(this)}}function Q(ue,V,H){const re=new a.EvaluationParameters(V);for(const ae of ue)ae.recalculate(re,H)}function se(ue,V){const H=a.getArrayBuffer(ue.request,(re,ae,ge,Te)=>{re?V(re):ae&&V(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(ae)),rawData:ae,cacheControl:ge,expires:Te})});return()=>{H.cancel(),V()}}class oe{constructor(V,H,re,ae){this.actor=V,this.layerIndex=H,this.availableImages=re,this.loadVectorData=ae||se,this.loading={},this.loaded={}}loadTile(V,H){const re=V.uid;this.loading||(this.loading={});const ae=!!(V&&V.request&&V.request.collectResourceTiming)&&new a.RequestPerformance(V.request),ge=this.loading[re]=new S(V);ge.abort=this.loadVectorData(V,(Te,we)=>{if(delete this.loading[re],Te||!we)return ge.status="done",this.loaded[re]=ge,H(Te);const ve=we.rawData,Ce={};we.expires&&(Ce.expires=we.expires),we.cacheControl&&(Ce.cacheControl=we.cacheControl);const Ue={};if(ae){const ot=ae.finish();ot&&(Ue.resourceTiming=JSON.parse(JSON.stringify(ot)))}ge.vectorTile=we.vectorTile,ge.parse(we.vectorTile,this.layerIndex,this.availableImages,this.actor,(ot,je)=>{if(ot||!je)return H(ot);H(null,a.extend({rawTileData:ve.slice(0)},je,Ce,Ue))}),this.loaded=this.loaded||{},this.loaded[re]=ge})}reloadTile(V,H){const re=this.loaded,ae=V.uid,ge=this;if(re&&re[ae]){const Te=re[ae];Te.showCollisionBoxes=V.showCollisionBoxes;const we=(ve,Ce)=>{const Ue=Te.reloadCallback;Ue&&(delete Te.reloadCallback,Te.parse(Te.vectorTile,ge.layerIndex,this.availableImages,ge.actor,Ue)),H(ve,Ce)};Te.status==="parsing"?Te.reloadCallback=we:Te.status==="done"&&(Te.vectorTile?Te.parse(Te.vectorTile,this.layerIndex,this.availableImages,this.actor,we):we())}}abortTile(V,H){const re=this.loading,ae=V.uid;re&&re[ae]&&re[ae].abort&&(re[ae].abort(),delete re[ae]),H()}removeTile(V,H){const re=this.loaded,ae=V.uid;re&&re[ae]&&delete re[ae],H()}}class he{constructor(){this.loaded={}}loadTile(V,H){const{uid:re,encoding:ae,rawImageData:ge}=V,Te=a.isImageBitmap(ge)?this.getImageData(ge):ge,we=new a.DEMData(re,Te,ae);this.loaded=this.loaded||{},this.loaded[re]=we,H(null,we)}getImageData(V){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(V.width,V.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=V.width,this.offscreenCanvas.height=V.height,this.offscreenCanvasContext.drawImage(V,0,0,V.width,V.height);const H=this.offscreenCanvasContext.getImageData(-1,-1,V.width+2,V.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:H.width,height:H.height},H.data)}removeTile(V){const H=this.loaded,re=V.uid;H&&H[re]&&delete H[re]}}var k=function ue(V,H){var re,ae=V&&V.type;if(ae==="FeatureCollection")for(re=0;re<V.features.length;re++)ue(V.features[re],H);else if(ae==="GeometryCollection")for(re=0;re<V.geometries.length;re++)ue(V.geometries[re],H);else if(ae==="Feature")ue(V.geometry,H);else if(ae==="Polygon")D(V.coordinates,H);else if(ae==="MultiPolygon")for(re=0;re<V.coordinates.length;re++)D(V.coordinates[re],H);return V};function D(ue,V){if(ue.length!==0){F(ue[0],V);for(var H=1;H<ue.length;H++)F(ue[H],!V)}}function F(ue,V){for(var H=0,re=0,ae=0,ge=ue.length,Te=ge-1;ae<ge;Te=ae++){var we=(ue[ae][0]-ue[Te][0])*(ue[Te][1]+ue[ae][1]),ve=H+we;re+=Math.abs(H)>=Math.abs(we)?H-ve+we:we-ve+H,H=ve}H+re>=0!=!!V&&ue.reverse()}const Y=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;class xe{constructor(V){this._feature=V,this.extent=a.EXTENT,this.type=V.type,this.properties=V.tags,"id"in V&&!isNaN(V.id)&&(this.id=parseInt(V.id,10))}loadGeometry(){if(this._feature.type===1){const V=[];for(const H of this._feature.geometry)V.push([new a.pointGeometry(H[0],H[1])]);return V}{const V=[];for(const H of this._feature.geometry){const re=[];for(const ae of H)re.push(new a.pointGeometry(ae[0],ae[1]));V.push(re)}return V}}toGeoJSON(V,H,re){return Y.call(this,V,H,re)}}class E{constructor(V){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=V.length,this._features=V}feature(V){return new xe(this._features[V])}}var Ne={exports:{}},qe=a.pointGeometry,wt=a.vectorTile.VectorTileFeature,At=_i;function _i(ue,V){this.options=V||{},this.features=ue,this.length=ue.length}function ui(ue,V){this.id=typeof ue.id=="number"?ue.id:void 0,this.type=ue.type,this.rawGeometry=ue.type===1?[ue.geometry]:ue.geometry,this.properties=ue.tags,this.extent=V||4096}_i.prototype.feature=function(ue){return new ui(this.features[ue],this.options.extent)},ui.prototype.loadGeometry=function(){var ue=this.rawGeometry;this.geometry=[];for(var V=0;V<ue.length;V++){for(var H=ue[V],re=[],ae=0;ae<H.length;ae++)re.push(new qe(H[ae][0],H[ae][1]));this.geometry.push(re)}return this.geometry},ui.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ue=this.geometry,V=1/0,H=-1/0,re=1/0,ae=-1/0,ge=0;ge<ue.length;ge++)for(var Te=ue[ge],we=0;we<Te.length;we++){var ve=Te[we];V=Math.min(V,ve.x),H=Math.max(H,ve.x),re=Math.min(re,ve.y),ae=Math.max(ae,ve.y)}return[V,re,H,ae]},ui.prototype.toGeoJSON=wt.prototype.toGeoJSON;var Tn=a.pbf,Di=At;function sn(ue){var V=new Tn;return function(H,re){for(var ae in H.layers)re.writeMessage(3,Tt,H.layers[ae])}(ue,V),V.finish()}function Tt(ue,V){var H;V.writeVarintField(15,ue.version||1),V.writeStringField(1,ue.name||""),V.writeVarintField(5,ue.extent||4096);var re={keys:[],values:[],keycache:{},valuecache:{}};for(H=0;H<ue.length;H++)re.feature=ue.feature(H),V.writeMessage(2,un,re);var ae=re.keys;for(H=0;H<ae.length;H++)V.writeStringField(3,ae[H]);var ge=re.values;for(H=0;H<ge.length;H++)V.writeMessage(4,ri,ge[H])}function un(ue,V){var H=ue.feature;H.id!==void 0&&V.writeVarintField(1,H.id),V.writeMessage(2,He,ue),V.writeVarintField(3,H.type),V.writeMessage(4,Ot,H)}function He(ue,V){var H=ue.feature,re=ue.keys,ae=ue.values,ge=ue.keycache,Te=ue.valuecache;for(var we in H.properties){var ve=H.properties[we],Ce=ge[we];if(ve!==null){Ce===void 0&&(re.push(we),ge[we]=Ce=re.length-1),V.writeVarint(Ce);var Ue=typeof ve;Ue!=="string"&&Ue!=="boolean"&&Ue!=="number"&&(ve=JSON.stringify(ve));var ot=Ue+":"+ve,je=Te[ot];je===void 0&&(ae.push(ve),Te[ot]=je=ae.length-1),V.writeVarint(je)}}}function at(ue,V){return(V<<3)+(7&ue)}function dt(ue){return ue<<1^ue>>31}function Ot(ue,V){for(var H=ue.loadGeometry(),re=ue.type,ae=0,ge=0,Te=H.length,we=0;we<Te;we++){var ve=H[we],Ce=1;re===1&&(Ce=ve.length),V.writeVarint(at(1,Ce));for(var Ue=re===3?ve.length-1:ve.length,ot=0;ot<Ue;ot++){ot===1&&re!==1&&V.writeVarint(at(2,Ue-1));var je=ve[ot].x-ae,It=ve[ot].y-ge;V.writeVarint(dt(je)),V.writeVarint(dt(It)),ae+=je,ge+=It}re===3&&V.writeVarint(at(7,1))}}function ri(ue,V){var H=typeof ue;H==="string"?V.writeStringField(1,ue):H==="boolean"?V.writeBooleanField(7,ue):H==="number"&&(ue%1!=0?V.writeDoubleField(3,ue):ue<0?V.writeSVarintField(6,ue):V.writeVarintField(5,ue))}function si(ue,V,H,re,ae,ge){if(ae-re<=H)return;const Te=re+ae>>1;Ti(ue,V,Te,re,ae,ge%2),si(ue,V,H,re,Te-1,ge+1),si(ue,V,H,Te+1,ae,ge+1)}function Ti(ue,V,H,re,ae,ge){for(;ae>re;){if(ae-re>600){const Ce=ae-re+1,Ue=H-re+1,ot=Math.log(Ce),je=.5*Math.exp(2*ot/3),It=.5*Math.sqrt(ot*je*(Ce-je)/Ce)*(Ue-Ce/2<0?-1:1);Ti(ue,V,H,Math.max(re,Math.floor(H-Ue*je/Ce+It)),Math.min(ae,Math.floor(H+(Ce-Ue)*je/Ce+It)),ge)}const Te=V[2*H+ge];let we=re,ve=ae;for(ci(ue,V,re,H),V[2*ae+ge]>Te&&ci(ue,V,re,ae);we<ve;){for(ci(ue,V,we,ve),we++,ve--;V[2*we+ge]<Te;)we++;for(;V[2*ve+ge]>Te;)ve--}V[2*re+ge]===Te?ci(ue,V,re,ve):(ve++,ci(ue,V,ve,ae)),ve<=H&&(re=ve+1),H<=ve&&(ae=ve-1)}}function ci(ue,V,H,re){gi(ue,H,re),gi(V,2*H,2*re),gi(V,2*H+1,2*re+1)}function gi(ue,V,H){const re=ue[V];ue[V]=ue[H],ue[H]=re}function Ui(ue,V,H,re){const ae=ue-H,ge=V-re;return ae*ae+ge*ge}Ne.exports=sn,Ne.exports.fromVectorTileJs=sn,Ne.exports.fromGeojsonVt=function(ue,V){V=V||{};var H={};for(var re in ue)H[re]=new Di(ue[re].features,V),H[re].name=re,H[re].version=V.version,H[re].extent=V.extent;return sn({layers:H})},Ne.exports.GeoJSONWrapper=Di;const cn=ue=>ue[0],Bi=ue=>ue[1];class kr{constructor(V,H=cn,re=Bi,ae=64,ge=Float64Array){this.nodeSize=ae,this.points=V;const Te=V.length<65536?Uint16Array:Uint32Array,we=this.ids=new Te(V.length),ve=this.coords=new ge(2*V.length);for(let Ce=0;Ce<V.length;Ce++)we[Ce]=Ce,ve[2*Ce]=H(V[Ce]),ve[2*Ce+1]=re(V[Ce]);si(we,ve,ae,0,we.length-1,0)}range(V,H,re,ae){return function(ge,Te,we,ve,Ce,Ue,ot){const je=[0,ge.length-1,0],It=[];let zt,xt;for(;je.length;){const Gt=je.pop(),Jt=je.pop(),Li=je.pop();if(Jt-Li<=ot){for(let Pi=Li;Pi<=Jt;Pi++)zt=Te[2*Pi],xt=Te[2*Pi+1],zt>=we&&zt<=Ce&&xt>=ve&&xt<=Ue&&It.push(ge[Pi]);continue}const ii=Math.floor((Li+Jt)/2);zt=Te[2*ii],xt=Te[2*ii+1],zt>=we&&zt<=Ce&&xt>=ve&&xt<=Ue&&It.push(ge[ii]);const mi=(Gt+1)%2;(Gt===0?we<=zt:ve<=xt)&&(je.push(Li),je.push(ii-1),je.push(mi)),(Gt===0?Ce>=zt:Ue>=xt)&&(je.push(ii+1),je.push(Jt),je.push(mi))}return It}(this.ids,this.coords,V,H,re,ae,this.nodeSize)}within(V,H,re){return function(ae,ge,Te,we,ve,Ce){const Ue=[0,ae.length-1,0],ot=[],je=ve*ve;for(;Ue.length;){const It=Ue.pop(),zt=Ue.pop(),xt=Ue.pop();if(zt-xt<=Ce){for(let mi=xt;mi<=zt;mi++)Ui(ge[2*mi],ge[2*mi+1],Te,we)<=je&&ot.push(ae[mi]);continue}const Gt=Math.floor((xt+zt)/2),Jt=ge[2*Gt],Li=ge[2*Gt+1];Ui(Jt,Li,Te,we)<=je&&ot.push(ae[Gt]);const ii=(It+1)%2;(It===0?Te-ve<=Jt:we-ve<=Li)&&(Ue.push(xt),Ue.push(Gt-1),Ue.push(ii)),(It===0?Te+ve>=Jt:we+ve>=Li)&&(Ue.push(Gt+1),Ue.push(zt),Ue.push(ii))}return ot}(this.ids,this.coords,V,H,re,this.nodeSize)}}const fs={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ue=>ue},Pr=Math.fround||(on=new Float32Array(1),ue=>(on[0]=+ue,on[0]));var on;class Nn{constructor(V){this.options=Yt(Object.create(fs),V),this.trees=new Array(this.options.maxZoom+1)}load(V){const{log:H,minZoom:re,maxZoom:ae,nodeSize:ge}=this.options;H&&console.time("total time");const Te=`prepare ${V.length} points`;H&&console.time(Te),this.points=V;let we=[];for(let ve=0;ve<V.length;ve++)V[ve].geometry&&we.push(Lt(V[ve],ve));this.trees[ae+1]=new kr(we,yi,oi,ge,Float32Array),H&&console.timeEnd(Te);for(let ve=ae;ve>=re;ve--){const Ce=+Date.now();we=this._cluster(we,ve),this.trees[ve]=new kr(we,yi,oi,ge,Float32Array),H&&console.log("z%d: %d clusters in %dms",ve,we.length,+Date.now()-Ce)}return H&&console.timeEnd("total time"),this}getClusters(V,H){let re=((V[0]+180)%360+360)%360-180;const ae=Math.max(-90,Math.min(90,V[1]));let ge=V[2]===180?180:((V[2]+180)%360+360)%360-180;const Te=Math.max(-90,Math.min(90,V[3]));if(V[2]-V[0]>=360)re=-180,ge=180;else if(re>ge){const Ue=this.getClusters([re,ae,180,Te],H),ot=this.getClusters([-180,ae,ge,Te],H);return Ue.concat(ot)}const we=this.trees[this._limitZoom(H)],ve=we.range(Je(re),pt(Te),Je(ge),pt(ae)),Ce=[];for(const Ue of ve){const ot=we.points[Ue];Ce.push(ot.numPoints?mn(ot):this.points[ot.index])}return Ce}getChildren(V){const H=this._getOriginId(V),re=this._getOriginZoom(V),ae="No cluster with the specified id.",ge=this.trees[re];if(!ge)throw new Error(ae);const Te=ge.points[H];if(!Te)throw new Error(ae);const we=this.options.radius/(this.options.extent*Math.pow(2,re-1)),ve=ge.within(Te.x,Te.y,we),Ce=[];for(const Ue of ve){const ot=ge.points[Ue];ot.parentId===V&&Ce.push(ot.numPoints?mn(ot):this.points[ot.index])}if(Ce.length===0)throw new Error(ae);return Ce}getLeaves(V,H,re){const ae=[];return this._appendLeaves(ae,V,H=H||10,re=re||0,0),ae}getTile(V,H,re){const ae=this.trees[this._limitZoom(V)],ge=Math.pow(2,V),{extent:Te,radius:we}=this.options,ve=we/Te,Ce=(re-ve)/ge,Ue=(re+1+ve)/ge,ot={features:[]};return this._addTileFeatures(ae.range((H-ve)/ge,Ce,(H+1+ve)/ge,Ue),ae.points,H,re,ge,ot),H===0&&this._addTileFeatures(ae.range(1-ve/ge,Ce,1,Ue),ae.points,ge,re,ge,ot),H===ge-1&&this._addTileFeatures(ae.range(0,Ce,ve/ge,Ue),ae.points,-1,re,ge,ot),ot.features.length?ot:null}getClusterExpansionZoom(V){let H=this._getOriginZoom(V)-1;for(;H<=this.options.maxZoom;){const re=this.getChildren(V);if(H++,re.length!==1)break;V=re[0].properties.cluster_id}return H}_appendLeaves(V,H,re,ae,ge){const Te=this.getChildren(H);for(const we of Te){const ve=we.properties;if(ve&&ve.cluster?ge+ve.point_count<=ae?ge+=ve.point_count:ge=this._appendLeaves(V,ve.cluster_id,re,ae,ge):ge<ae?ge++:V.push(we),V.length===re)break}return ge}_addTileFeatures(V,H,re,ae,ge,Te){for(const we of V){const ve=H[we],Ce=ve.numPoints;let Ue,ot,je;if(Ce)Ue=st(ve),ot=ve.x,je=ve.y;else{const xt=this.points[ve.index];Ue=xt.properties,ot=Je(xt.geometry.coordinates[0]),je=pt(xt.geometry.coordinates[1])}const It={type:1,geometry:[[Math.round(this.options.extent*(ot*ge-re)),Math.round(this.options.extent*(je*ge-ae))]],tags:Ue};let zt;Ce?zt=ve.id:this.options.generateId?zt=ve.index:this.points[ve.index].id&&(zt=this.points[ve.index].id),zt!==void 0&&(It.id=zt),Te.features.push(It)}}_limitZoom(V){return Math.max(this.options.minZoom,Math.min(Math.floor(+V),this.options.maxZoom+1))}_cluster(V,H){const re=[],{radius:ae,extent:ge,reduce:Te,minPoints:we}=this.options,ve=ae/(ge*Math.pow(2,H));for(let Ce=0;Ce<V.length;Ce++){const Ue=V[Ce];if(Ue.zoom<=H)continue;Ue.zoom=H;const ot=this.trees[H+1],je=ot.within(Ue.x,Ue.y,ve),It=Ue.numPoints||1;let zt=It;for(const xt of je){const Gt=ot.points[xt];Gt.zoom>H&&(zt+=Gt.numPoints||1)}if(zt>It&&zt>=we){let xt=Ue.x*It,Gt=Ue.y*It,Jt=Te&&It>1?this._map(Ue,!0):null;const Li=(Ce<<5)+(H+1)+this.points.length;for(const ii of je){const mi=ot.points[ii];if(mi.zoom<=H)continue;mi.zoom=H;const Pi=mi.numPoints||1;xt+=mi.x*Pi,Gt+=mi.y*Pi,mi.parentId=Li,Te&&(Jt||(Jt=this._map(Ue,!0)),Te(Jt,this._map(mi)))}Ue.parentId=Li,re.push(hn(xt/zt,Gt/zt,Li,zt,Jt))}else if(re.push(Ue),zt>1)for(const xt of je){const Gt=ot.points[xt];Gt.zoom<=H||(Gt.zoom=H,re.push(Gt))}}return re}_getOriginId(V){return V-this.points.length>>5}_getOriginZoom(V){return(V-this.points.length)%32}_map(V,H){if(V.numPoints)return H?Yt({},V.properties):V.properties;const re=this.points[V.index].properties,ae=this.options.map(re);return H&&ae===re?Yt({},ae):ae}}function hn(ue,V,H,re,ae){return{x:Pr(ue),y:Pr(V),zoom:1/0,id:H,parentId:-1,numPoints:re,properties:ae}}function Lt(ue,V){const[H,re]=ue.geometry.coordinates;return{x:Pr(Je(H)),y:Pr(pt(re)),zoom:1/0,index:V,parentId:-1}}function mn(ue){return{type:"Feature",id:ue.id,properties:st(ue),geometry:{type:"Point",coordinates:[(V=ue.x,360*(V-.5)),Mt(ue.y)]}};var V}function st(ue){const V=ue.numPoints,H=V>=1e4?`${Math.round(V/1e3)}k`:V>=1e3?Math.round(V/100)/10+"k":V;return Yt(Yt({},ue.properties),{cluster:!0,cluster_id:ue.id,point_count:V,point_count_abbreviated:H})}function Je(ue){return ue/360+.5}function pt(ue){const V=Math.sin(ue*Math.PI/180),H=.5-.25*Math.log((1+V)/(1-V))/Math.PI;return H<0?0:H>1?1:H}function Mt(ue){const V=(180-360*ue)*Math.PI/180;return 360*Math.atan(Math.exp(V))/Math.PI-90}function Yt(ue,V){for(const H in V)ue[H]=V[H];return ue}function yi(ue){return ue.x}function oi(ue){return ue.y}function di(ue,V,H,re){for(var ae,ge=re,Te=H-V>>1,we=H-V,ve=ue[V],Ce=ue[V+1],Ue=ue[H],ot=ue[H+1],je=V+3;je<H;je+=3){var It=bi(ue[je],ue[je+1],ve,Ce,Ue,ot);if(It>ge)ae=je,ge=It;else if(It===ge){var zt=Math.abs(je-Te);zt<we&&(ae=je,we=zt)}}ge>re&&(ae-V>3&&di(ue,V,ae,re),ue[ae+2]=ge,H-ae>3&&di(ue,ae,H,re))}function bi(ue,V,H,re,ae,ge){var Te=ae-H,we=ge-re;if(Te!==0||we!==0){var ve=((ue-H)*Te+(V-re)*we)/(Te*Te+we*we);ve>1?(H=ae,re=ge):ve>0&&(H+=Te*ve,re+=we*ve)}return(Te=ue-H)*Te+(we=V-re)*we}function ki(ue,V,H,re){var ae={id:ue===void 0?null:ue,type:V,geometry:H,tags:re,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ge){var Te=ge.geometry,we=ge.type;if(we==="Point"||we==="MultiPoint"||we==="LineString")Le(ge,Te);else if(we==="Polygon"||we==="MultiLineString")for(var ve=0;ve<Te.length;ve++)Le(ge,Te[ve]);else if(we==="MultiPolygon")for(ve=0;ve<Te.length;ve++)for(var Ce=0;Ce<Te[ve].length;Ce++)Le(ge,Te[ve][Ce])}(ae),ae}function Le(ue,V){for(var H=0;H<V.length;H+=3)ue.minX=Math.min(ue.minX,V[H]),ue.minY=Math.min(ue.minY,V[H+1]),ue.maxX=Math.max(ue.maxX,V[H]),ue.maxY=Math.max(ue.maxY,V[H+1])}function ct(ue,V,H,re){if(V.geometry){var ae=V.geometry.coordinates,ge=V.geometry.type,Te=Math.pow(H.tolerance/((1<<H.maxZoom)*H.extent),2),we=[],ve=V.id;if(H.promoteId?ve=V.properties[H.promoteId]:H.generateId&&(ve=re||0),ge==="Point")Hn(ae,we);else if(ge==="MultiPoint")for(var Ce=0;Ce<ae.length;Ce++)Hn(ae[Ce],we);else if(ge==="LineString")dn(ae,we,Te,!1);else if(ge==="MultiLineString"){if(H.lineMetrics){for(Ce=0;Ce<ae.length;Ce++)dn(ae[Ce],we=[],Te,!1),ue.push(ki(ve,"LineString",we,V.properties));return}it(ae,we,Te,!1)}else if(ge==="Polygon")it(ae,we,Te,!0);else{if(ge!=="MultiPolygon"){if(ge==="GeometryCollection"){for(Ce=0;Ce<V.geometry.geometries.length;Ce++)ct(ue,{id:ve,geometry:V.geometry.geometries[Ce],properties:V.properties},H,re);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ce=0;Ce<ae.length;Ce++){var Ue=[];it(ae[Ce],Ue,Te,!0),we.push(Ue)}}ue.push(ki(ve,ge,we,V.properties))}}function Hn(ue,V){V.push(Ft(ue[0])),V.push(hi(ue[1])),V.push(0)}function dn(ue,V,H,re){for(var ae,ge,Te=0,we=0;we<ue.length;we++){var ve=Ft(ue[we][0]),Ce=hi(ue[we][1]);V.push(ve),V.push(Ce),V.push(0),we>0&&(Te+=re?(ae*Ce-ve*ge)/2:Math.sqrt(Math.pow(ve-ae,2)+Math.pow(Ce-ge,2))),ae=ve,ge=Ce}var Ue=V.length-3;V[2]=1,di(V,0,Ue,H),V[Ue+2]=1,V.size=Math.abs(Te),V.start=0,V.end=V.size}function it(ue,V,H,re){for(var ae=0;ae<ue.length;ae++){var ge=[];dn(ue[ae],ge,H,re),V.push(ge)}}function Ft(ue){return ue/360+.5}function hi(ue){var V=Math.sin(ue*Math.PI/180),H=.5-.25*Math.log((1+V)/(1-V))/Math.PI;return H<0?0:H>1?1:H}function Si(ue,V,H,re,ae,ge,Te,we){if(re/=V,ge>=(H/=V)&&Te<re)return ue;if(Te<H||ge>=re)return null;for(var ve=[],Ce=0;Ce<ue.length;Ce++){var Ue=ue[Ce],ot=Ue.geometry,je=Ue.type,It=ae===0?Ue.minX:Ue.minY,zt=ae===0?Ue.maxX:Ue.maxY;if(It>=H&&zt<re)ve.push(Ue);else if(!(zt<H||It>=re)){var xt=[];if(je==="Point"||je==="MultiPoint")Qt(ot,xt,H,re,ae);else if(je==="LineString")Ke(ot,xt,H,re,ae,!1,we.lineMetrics);else if(je==="MultiLineString")Vt(ot,xt,H,re,ae,!1);else if(je==="Polygon")Vt(ot,xt,H,re,ae,!0);else if(je==="MultiPolygon")for(var Gt=0;Gt<ot.length;Gt++){var Jt=[];Vt(ot[Gt],Jt,H,re,ae,!0),Jt.length&&xt.push(Jt)}if(xt.length){if(we.lineMetrics&&je==="LineString"){for(Gt=0;Gt<xt.length;Gt++)ve.push(ki(Ue.id,je,xt[Gt],Ue.tags));continue}je!=="LineString"&&je!=="MultiLineString"||(xt.length===1?(je="LineString",xt=xt[0]):je="MultiLineString"),je!=="Point"&&je!=="MultiPoint"||(je=xt.length===3?"Point":"MultiPoint"),ve.push(ki(Ue.id,je,xt,Ue.tags))}}}return ve.length?ve:null}function Qt(ue,V,H,re,ae){for(var ge=0;ge<ue.length;ge+=3){var Te=ue[ge+ae];Te>=H&&Te<=re&&(V.push(ue[ge]),V.push(ue[ge+1]),V.push(ue[ge+2]))}}function Ke(ue,V,H,re,ae,ge,Te){for(var we,ve,Ce=Ut(ue),Ue=ae===0?Cn:Bt,ot=ue.start,je=0;je<ue.length-3;je+=3){var It=ue[je],zt=ue[je+1],xt=ue[je+2],Gt=ue[je+3],Jt=ue[je+4],Li=ae===0?It:zt,ii=ae===0?Gt:Jt,mi=!1;Te&&(we=Math.sqrt(Math.pow(It-Gt,2)+Math.pow(zt-Jt,2))),Li<H?ii>H&&(ve=Ue(Ce,It,zt,Gt,Jt,H),Te&&(Ce.start=ot+we*ve)):Li>re?ii<re&&(ve=Ue(Ce,It,zt,Gt,Jt,re),Te&&(Ce.start=ot+we*ve)):Hi(Ce,It,zt,xt),ii<H&&Li>=H&&(ve=Ue(Ce,It,zt,Gt,Jt,H),mi=!0),ii>re&&Li<=re&&(ve=Ue(Ce,It,zt,Gt,Jt,re),mi=!0),!ge&&mi&&(Te&&(Ce.end=ot+we*ve),V.push(Ce),Ce=Ut(ue)),Te&&(ot+=we)}var Pi=ue.length-3;It=ue[Pi],zt=ue[Pi+1],xt=ue[Pi+2],(Li=ae===0?It:zt)>=H&&Li<=re&&Hi(Ce,It,zt,xt),Pi=Ce.length-3,ge&&Pi>=3&&(Ce[Pi]!==Ce[0]||Ce[Pi+1]!==Ce[1])&&Hi(Ce,Ce[0],Ce[1],Ce[2]),Ce.length&&V.push(Ce)}function Ut(ue){var V=[];return V.size=ue.size,V.start=ue.start,V.end=ue.end,V}function Vt(ue,V,H,re,ae,ge){for(var Te=0;Te<ue.length;Te++)Ke(ue[Te],V,H,re,ae,ge,!1)}function Hi(ue,V,H,re){ue.push(V),ue.push(H),ue.push(re)}function Cn(ue,V,H,re,ae,ge){var Te=(ge-V)/(re-V);return ue.push(ge),ue.push(H+(ae-H)*Te),ue.push(1),Te}function Bt(ue,V,H,re,ae,ge){var Te=(ge-H)/(ae-H);return ue.push(V+(re-V)*Te),ue.push(ge),ue.push(1),Te}function _n(ue,V){for(var H=[],re=0;re<ue.length;re++){var ae,ge=ue[re],Te=ge.type;if(Te==="Point"||Te==="MultiPoint"||Te==="LineString")ae=vi(ge.geometry,V);else if(Te==="MultiLineString"||Te==="Polygon"){ae=[];for(var we=0;we<ge.geometry.length;we++)ae.push(vi(ge.geometry[we],V))}else if(Te==="MultiPolygon")for(ae=[],we=0;we<ge.geometry.length;we++){for(var ve=[],Ce=0;Ce<ge.geometry[we].length;Ce++)ve.push(vi(ge.geometry[we][Ce],V));ae.push(ve)}H.push(ki(ge.id,Te,ae,ge.tags))}return H}function vi(ue,V){var H=[];H.size=ue.size,ue.start!==void 0&&(H.start=ue.start,H.end=ue.end);for(var re=0;re<ue.length;re+=3)H.push(ue[re]+V,ue[re+1],ue[re+2]);return H}function rr(ue,V){if(ue.transformed)return ue;var H,re,ae,ge=1<<ue.z,Te=ue.x,we=ue.y;for(H=0;H<ue.features.length;H++){var ve=ue.features[H],Ce=ve.geometry,Ue=ve.type;if(ve.geometry=[],Ue===1)for(re=0;re<Ce.length;re+=2)ve.geometry.push(gn(Ce[re],Ce[re+1],V,ge,Te,we));else for(re=0;re<Ce.length;re++){var ot=[];for(ae=0;ae<Ce[re].length;ae+=2)ot.push(gn(Ce[re][ae],Ce[re][ae+1],V,ge,Te,we));ve.geometry.push(ot)}}return ue.transformed=!0,ue}function gn(ue,V,H,re,ae,ge){return[Math.round(H*(ue*re-ae)),Math.round(H*(V*re-ge))]}function zn(ue,V,H,re,ae){for(var ge=V===ae.maxZoom?0:ae.tolerance/((1<<V)*ae.extent),Te={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:H,y:re,z:V,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},we=0;we<ue.length;we++){Te.numFeatures++,Zi(Te,ue[we],ge,ae);var ve=ue[we].minX,Ce=ue[we].minY,Ue=ue[we].maxX,ot=ue[we].maxY;ve<Te.minX&&(Te.minX=ve),Ce<Te.minY&&(Te.minY=Ce),Ue>Te.maxX&&(Te.maxX=Ue),ot>Te.maxY&&(Te.maxY=ot)}return Te}function Zi(ue,V,H,re){var ae=V.geometry,ge=V.type,Te=[];if(ge==="Point"||ge==="MultiPoint")for(var we=0;we<ae.length;we+=3)Te.push(ae[we]),Te.push(ae[we+1]),ue.numPoints++,ue.numSimplified++;else if(ge==="LineString")Do(Te,ae,ue,H,!1,!1);else if(ge==="MultiLineString"||ge==="Polygon")for(we=0;we<ae.length;we++)Do(Te,ae[we],ue,H,ge==="Polygon",we===0);else if(ge==="MultiPolygon")for(var ve=0;ve<ae.length;ve++){var Ce=ae[ve];for(we=0;we<Ce.length;we++)Do(Te,Ce[we],ue,H,!0,we===0)}if(Te.length){var Ue=V.tags||null;if(ge==="LineString"&&re.lineMetrics){for(var ot in Ue={},V.tags)Ue[ot]=V.tags[ot];Ue.mapbox_clip_start=ae.start/ae.size,Ue.mapbox_clip_end=ae.end/ae.size}var je={geometry:Te,type:ge==="Polygon"||ge==="MultiPolygon"?3:ge==="LineString"||ge==="MultiLineString"?2:1,tags:Ue};V.id!==null&&(je.id=V.id),ue.features.push(je)}}function Do(ue,V,H,re,ae,ge){var Te=re*re;if(re>0&&V.size<(ae?Te:re))H.numPoints+=V.length/3;else{for(var we=[],ve=0;ve<V.length;ve+=3)(re===0||V[ve+2]>Te)&&(H.numSimplified++,we.push(V[ve]),we.push(V[ve+1])),H.numPoints++;ae&&function(Ce,Ue){for(var ot=0,je=0,It=Ce.length,zt=It-2;je<It;zt=je,je+=2)ot+=(Ce[je]-Ce[zt])*(Ce[je+1]+Ce[zt+1]);if(ot>0===Ue)for(je=0,It=Ce.length;je<It/2;je+=2){var xt=Ce[je],Gt=Ce[je+1];Ce[je]=Ce[It-2-je],Ce[je+1]=Ce[It-1-je],Ce[It-2-je]=xt,Ce[It-1-je]=Gt}}(we,ge),ue.push(we)}}function ms(ue,V){var H=(V=this.options=function(ae,ge){for(var Te in ge)ae[Te]=ge[Te];return ae}(Object.create(this.options),V)).debug;if(H&&console.time("preprocess data"),V.maxZoom<0||V.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(V.promoteId&&V.generateId)throw new Error("promoteId and generateId cannot be used together.");var re=function(ae,ge){var Te=[];if(ae.type==="FeatureCollection")for(var we=0;we<ae.features.length;we++)ct(Te,ae.features[we],ge,we);else ct(Te,ae.type==="Feature"?ae:{geometry:ae},ge);return Te}(ue,V);this.tiles={},this.tileCoords=[],H&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",V.indexMaxZoom,V.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),re=function(ae,ge){var Te=ge.buffer/ge.extent,we=ae,ve=Si(ae,1,-1-Te,Te,0,-1,2,ge),Ce=Si(ae,1,1-Te,2+Te,0,-1,2,ge);return(ve||Ce)&&(we=Si(ae,1,-Te,1+Te,0,-1,2,ge)||[],ve&&(we=_n(ve,1).concat(we)),Ce&&(we=we.concat(_n(Ce,-1)))),we}(re,V),re.length&&this.splitTile(re,0,0,0),H&&(re.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Us(ue,V,H){return 32*((1<<ue)*H+V)+ue}function oo(ue,V){const H=ue.tileID.canonical;if(!this._geoJSONIndex)return V(null,null);const re=this._geoJSONIndex.getTile(H.z,H.x,H.y);if(!re)return V(null,null);const ae=new E(re.features);let ge=Ne.exports(ae);ge.byteOffset===0&&ge.byteLength===ge.buffer.byteLength||(ge=new Uint8Array(ge)),V(null,{vectorTile:ae,rawData:ge.buffer})}ms.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ms.prototype.splitTile=function(ue,V,H,re,ae,ge,Te){for(var we=[ue,V,H,re],ve=this.options,Ce=ve.debug;we.length;){re=we.pop(),H=we.pop(),V=we.pop(),ue=we.pop();var Ue=1<<V,ot=Us(V,H,re),je=this.tiles[ot];if(!je&&(Ce>1&&console.time("creation"),je=this.tiles[ot]=zn(ue,V,H,re,ve),this.tileCoords.push({z:V,x:H,y:re}),Ce)){Ce>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",V,H,re,je.numFeatures,je.numPoints,je.numSimplified),console.timeEnd("creation"));var It="z"+V;this.stats[It]=(this.stats[It]||0)+1,this.total++}if(je.source=ue,ae){if(V===ve.maxZoom||V===ae)continue;var zt=1<<ae-V;if(H!==Math.floor(ge/zt)||re!==Math.floor(Te/zt))continue}else if(V===ve.indexMaxZoom||je.numPoints<=ve.indexMaxPoints)continue;if(je.source=null,ue.length!==0){Ce>1&&console.time("clipping");var xt,Gt,Jt,Li,ii,mi,Pi=.5*ve.buffer/ve.extent,$i=.5-Pi,Gi=.5+Pi,Xi=1+Pi;xt=Gt=Jt=Li=null,ii=Si(ue,Ue,H-Pi,H+Gi,0,je.minX,je.maxX,ve),mi=Si(ue,Ue,H+$i,H+Xi,0,je.minX,je.maxX,ve),ue=null,ii&&(xt=Si(ii,Ue,re-Pi,re+Gi,1,je.minY,je.maxY,ve),Gt=Si(ii,Ue,re+$i,re+Xi,1,je.minY,je.maxY,ve),ii=null),mi&&(Jt=Si(mi,Ue,re-Pi,re+Gi,1,je.minY,je.maxY,ve),Li=Si(mi,Ue,re+$i,re+Xi,1,je.minY,je.maxY,ve),mi=null),Ce>1&&console.timeEnd("clipping"),we.push(xt||[],V+1,2*H,2*re),we.push(Gt||[],V+1,2*H,2*re+1),we.push(Jt||[],V+1,2*H+1,2*re),we.push(Li||[],V+1,2*H+1,2*re+1)}}},ms.prototype.getTile=function(ue,V,H){var re=this.options,ae=re.extent,ge=re.debug;if(ue<0||ue>24)return null;var Te=1<<ue,we=Us(ue,V=(V%Te+Te)%Te,H);if(this.tiles[we])return rr(this.tiles[we],ae);ge>1&&console.log("drilling down to z%d-%d-%d",ue,V,H);for(var ve,Ce=ue,Ue=V,ot=H;!ve&&Ce>0;)Ce--,Ue=Math.floor(Ue/2),ot=Math.floor(ot/2),ve=this.tiles[Us(Ce,Ue,ot)];return ve&&ve.source?(ge>1&&console.log("found parent tile z%d-%d-%d",Ce,Ue,ot),ge>1&&console.time("drilling down"),this.splitTile(ve.source,Ce,Ue,ot,ue,V,H),ge>1&&console.timeEnd("drilling down"),this.tiles[we]?rr(this.tiles[we],ae):null):null};class Lo extends oe{constructor(V,H,re,ae){super(V,H,re,oo),ae&&(this.loadGeoJSON=ae)}loadData(V,H){var re;(re=this._pendingRequest)===null||re===void 0||re.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ae=!!(V&&V.request&&V.request.collectResourceTiming)&&new a.RequestPerformance(V.request);this._pendingCallback=H,this._pendingRequest=this.loadGeoJSON(V,(ge,Te)=>{if(delete this._pendingCallback,delete this._pendingRequest,ge||!Te)return H(ge);if(typeof Te!="object")return H(new Error(`Input data given to '${V.source}' is not a valid GeoJSON object.`));{k(Te,!0);try{if(V.filter){const ve=a.createExpression(V.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ve.result==="error")throw new Error(ve.value.map(Ue=>`${Ue.key}: ${Ue.message}`).join(", "));Te={type:"FeatureCollection",features:Te.features.filter(Ue=>ve.value.evaluate({zoom:0},Ue))}}this._geoJSONIndex=V.cluster?new Nn(function({superclusterOptions:ve,clusterProperties:Ce}){if(!Ce||!ve)return ve;const Ue={},ot={},je={accumulated:null,zoom:0},It={properties:null},zt=Object.keys(Ce);for(const xt of zt){const[Gt,Jt]=Ce[xt],Li=a.createExpression(Jt),ii=a.createExpression(typeof Gt=="string"?[Gt,["accumulated"],["get",xt]]:Gt);Ue[xt]=Li.value,ot[xt]=ii.value}return ve.map=xt=>{It.properties=xt;const Gt={};for(const Jt of zt)Gt[Jt]=Ue[Jt].evaluate(je,It);return Gt},ve.reduce=(xt,Gt)=>{It.properties=Gt;for(const Jt of zt)je.accumulated=xt[Jt],xt[Jt]=ot[Jt].evaluate(je,It)},ve}(V)).load(Te.features):function(ve,Ce){return new ms(ve,Ce)}(Te,V.geojsonVtOptions)}catch(ve){return H(ve)}this.loaded={};const we={};if(ae){const ve=ae.finish();ve&&(we.resourceTiming={},we.resourceTiming[V.source]=JSON.parse(JSON.stringify(ve)))}H(null,we)}})}reloadTile(V,H){const re=this.loaded;return re&&re[V.uid]?super.reloadTile(V,H):this.loadTile(V,H)}loadGeoJSON(V,H){if(V.request)return a.getJSON(V.request,H);if(typeof V.data=="string")try{H(null,JSON.parse(V.data))}catch{H(new Error(`Input data given to '${V.source}' is not a valid GeoJSON object.`))}else H(new Error(`Input data given to '${V.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(V,H){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),H()}getClusterExpansionZoom(V,H){try{H(null,this._geoJSONIndex.getClusterExpansionZoom(V.clusterId))}catch(re){H(re)}}getClusterChildren(V,H){try{H(null,this._geoJSONIndex.getChildren(V.clusterId))}catch(re){H(re)}}getClusterLeaves(V,H){try{H(null,this._geoJSONIndex.getLeaves(V.clusterId,V.limit,V.offset))}catch(re){H(re)}}}class js{constructor(V){this.self=V,this.actor=new a.Actor(V,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:oe,geojson:Lo},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(H,re)=>{if(this.workerSourceTypes[H])throw new Error(`Worker source with name "${H}" already registered.`);this.workerSourceTypes[H]=re},this.self.registerRTLTextPlugin=H=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=H.applyArabicShaping,a.plugin.processBidirectionalText=H.processBidirectionalText,a.plugin.processStyledBidirectionalText=H.processStyledBidirectionalText}}setReferrer(V,H){this.referrer=H}setImages(V,H,re){this.availableImages[V]=H;for(const ae in this.workerSources[V]){const ge=this.workerSources[V][ae];for(const Te in ge)ge[Te].availableImages=H}re()}setLayers(V,H,re){this.getLayerIndex(V).replace(H),re()}updateLayers(V,H,re){this.getLayerIndex(V).update(H.layers,H.removedIds),re()}loadTile(V,H,re){this.getWorkerSource(V,H.type,H.source).loadTile(H,re)}loadDEMTile(V,H,re){this.getDEMWorkerSource(V,H.source).loadTile(H,re)}reloadTile(V,H,re){this.getWorkerSource(V,H.type,H.source).reloadTile(H,re)}abortTile(V,H,re){this.getWorkerSource(V,H.type,H.source).abortTile(H,re)}removeTile(V,H,re){this.getWorkerSource(V,H.type,H.source).removeTile(H,re)}removeDEMTile(V,H){this.getDEMWorkerSource(V,H.source).removeTile(H)}removeSource(V,H,re){if(!this.workerSources[V]||!this.workerSources[V][H.type]||!this.workerSources[V][H.type][H.source])return;const ae=this.workerSources[V][H.type][H.source];delete this.workerSources[V][H.type][H.source],ae.removeSource!==void 0?ae.removeSource(H,re):re()}loadWorkerSource(V,H,re){try{this.self.importScripts(H.url),re()}catch(ae){re(ae.toString())}}syncRTLPluginState(V,H,re){try{a.plugin.setState(H);const ae=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&ae!=null){this.self.importScripts(ae);const ge=a.plugin.isParsed();re(ge?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ae}`),ge)}}catch(ae){re(ae.toString())}}getAvailableImages(V){let H=this.availableImages[V];return H||(H=[]),H}getLayerIndex(V){let H=this.layerIndexes[V];return H||(H=this.layerIndexes[V]=new O),H}getWorkerSource(V,H,re){if(this.workerSources[V]||(this.workerSources[V]={}),this.workerSources[V][H]||(this.workerSources[V][H]={}),!this.workerSources[V][H][re]){const ae={send:(ge,Te,we)=>{this.actor.send(ge,Te,we,V)}};this.workerSources[V][H][re]=new this.workerSourceTypes[H](ae,this.getLayerIndex(V),this.getAvailableImages(V))}return this.workerSources[V][H][re]}getDEMWorkerSource(V,H){return this.demWorkerSources[V]||(this.demWorkerSources[V]={}),this.demWorkerSources[V][H]||(this.demWorkerSources[V][H]=new he),this.demWorkerSources[V][H]}enforceCacheSizeLimit(V,H){a.enforceCacheSizeLimit(H)}}return a.isWorker()&&(self.worker=new js(self)),js}),p(["./shared"],function(a){var T=z;function z(f){return!function(n){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var d,g,x=new Blob([""],{type:"text/javascript"}),C=URL.createObjectURL(x);try{g=new Worker(C),d=!0}catch{d=!1}return g&&g.terminate(),URL.revokeObjectURL(C),d}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var d=document.createElement("canvas");d.width=d.height=1;var g=d.getContext("2d");if(!g)return!1;var x=g.getImageData(0,0,1,1);return x&&x.width===d.width}()?(O[l=n&&n.failIfMajorPerformanceCaveat]===void 0&&(O[l]=function(d){var g,x=function(C){var M=document.createElement("canvas"),L=Object.create(z.webGLContextAttributes);return L.failIfMajorPerformanceCaveat=C,M.getContext("webgl",L)||M.getContext("experimental-webgl",L)}(d);if(!x)return!1;try{g=x.createShader(x.VERTEX_SHADER)}catch{return!1}return!(!g||x.isContextLost())&&(x.shaderSource(g,"void main() {}"),x.compileShader(g),x.getShaderParameter(g,x.COMPILE_STATUS)===!0)}(l)),O[l]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var l}(f)}var O={};function j(f,n){if(Array.isArray(f)){if(!Array.isArray(n)||f.length!==n.length)return!1;for(let l=0;l<f.length;l++)if(!j(f[l],n[l]))return!1;return!0}if(typeof f=="object"&&f!==null&&n!==null){if(typeof n!="object"||Object.keys(f).length!==Object.keys(n).length)return!1;for(const l in f)if(!j(f[l],n[l]))return!1;return!0}return f===n}z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class S{static testProp(n){if(!S.docStyle)return n[0];for(let l=0;l<n.length;l++)if(n[l]in S.docStyle)return n[l];return n[0]}static create(n,l,d){const g=window.document.createElement(n);return l!==void 0&&(g.className=l),d&&d.appendChild(g),g}static createNS(n,l){return window.document.createElementNS(n,l)}static disableDrag(){S.docStyle&&S.selectProp&&(S.userSelect=S.docStyle[S.selectProp],S.docStyle[S.selectProp]="none")}static enableDrag(){S.docStyle&&S.selectProp&&(S.docStyle[S.selectProp]=S.userSelect)}static setTransform(n,l){n.style[S.transformProp]=l}static addEventListener(n,l,d,g={}){n.addEventListener(l,d,"passive"in g?g:g.capture)}static removeEventListener(n,l,d,g={}){n.removeEventListener(l,d,"passive"in g?g:g.capture)}static suppressClickInternal(n){n.preventDefault(),n.stopPropagation(),window.removeEventListener("click",S.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",S.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",S.suppressClickInternal,!0)},0)}static mousePos(n,l){const d=n.getBoundingClientRect();return new a.pointGeometry(l.clientX-d.left-n.clientLeft,l.clientY-d.top-n.clientTop)}static touchPos(n,l){const d=n.getBoundingClientRect(),g=[];for(let x=0;x<l.length;x++)g.push(new a.pointGeometry(l[x].clientX-d.left-n.clientLeft,l[x].clientY-d.top-n.clientTop));return g}static mouseButton(n){return n.button}static remove(n){n.parentNode&&n.parentNode.removeChild(n)}}S.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,S.selectProp=S.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),S.transformProp=S.testProp(["transform","WebkitTransform"]);class Q{constructor(n){this._transformRequestFn=n}transformRequest(n,l){return this._transformRequestFn&&this._transformRequestFn(n,l)||{url:n}}normalizeSpriteURL(n,l,d){const g=function(x){const C=x.match(se);if(!C)throw new Error(`Unable to parse URL "${x}"`);return{protocol:C[1],authority:C[2],path:C[3]||"/",params:C[4]?C[4].split("&"):[]}}(n);return g.path+=`${l}${d}`,function(x){const C=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${C}`}(g)}setTransformRequest(n){this._transformRequestFn=n}}const se=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class oe{constructor(n,l,d,g){this.context=n,this.format=d,this.texture=n.gl.createTexture(),this.update(l,g)}update(n,l,d){const{width:g,height:x}=n,C=!(this.size&&this.size[0]===g&&this.size[1]===x||d),{context:M}=this,{gl:L}=M;if(this.useMipmap=Boolean(l&&l.useMipmap),L.bindTexture(L.TEXTURE_2D,this.texture),M.pixelStoreUnpackFlipY.set(!1),M.pixelStoreUnpack.set(1),M.pixelStoreUnpackPremultiplyAlpha.set(this.format===L.RGBA&&(!l||l.premultiply!==!1)),C)this.size=[g,x],n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||a.isImageBitmap(n)?L.texImage2D(L.TEXTURE_2D,0,this.format,this.format,L.UNSIGNED_BYTE,n):L.texImage2D(L.TEXTURE_2D,0,this.format,g,x,0,this.format,L.UNSIGNED_BYTE,n.data);else{const{x:N,y:q}=d||{x:0,y:0};n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||a.isImageBitmap(n)?L.texSubImage2D(L.TEXTURE_2D,0,N,q,L.RGBA,L.UNSIGNED_BYTE,n):L.texSubImage2D(L.TEXTURE_2D,0,N,q,g,x,L.RGBA,L.UNSIGNED_BYTE,n.data)}this.useMipmap&&this.isSizePowerOfTwo()&&L.generateMipmap(L.TEXTURE_2D)}bind(n,l,d){const{context:g}=this,{gl:x}=g;x.bindTexture(x.TEXTURE_2D,this.texture),d!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=x.LINEAR),n!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,n),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,d||n),this.filter=n),l!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,l),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}function he(f){const{userImage:n}=f;return!!(n&&n.render&&n.render())&&(f.data.replace(new Uint8Array(n.data.buffer)),!0)}class k extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(n){if(this.loaded!==n&&(this.loaded=n,n)){for(const{ids:l,callback:d}of this.requestors)this._notify(l,d);this.requestors=[]}}getImage(n){return this.images[n]}addImage(n,l){if(this.images[n])throw new Error(`Image id ${n} already exist, use updateImage instead`);this._validate(n,l)&&(this.images[n]=l)}_validate(n,l){let d=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${n}" has invalid "stretchX" value`))),d=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${n}" has invalid "stretchY" value`))),d=!1),this._validateContent(l.content,l)||(this.fire(new a.ErrorEvent(new Error(`Image "${n}" has invalid "content" value`))),d=!1),d}_validateStretch(n,l){if(!n)return!0;let d=0;for(const g of n){if(g[0]<d||g[1]<g[0]||l<g[1])return!1;d=g[1]}return!0}_validateContent(n,l){return!(n&&(n.length!==4||n[0]<0||l.data.width<n[0]||n[1]<0||l.data.height<n[1]||n[2]<0||l.data.width<n[2]||n[3]<0||l.data.height<n[3]||n[2]<n[0]||n[3]<n[1]))}updateImage(n,l){const d=this.images[n];if(d.data.width!==l.data.width||d.data.height!==l.data.height)throw new Error(`size mismatch between old image (${d.data.width}x${d.data.height}) and new image (${l.data.width}x${l.data.height}).`);l.version=d.version+1,this.images[n]=l,this.updatedImages[n]=!0}removeImage(n){const l=this.images[n];delete this.images[n],delete this.patterns[n],l.userImage&&l.userImage.onRemove&&l.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(n,l){let d=!0;if(!this.isLoaded())for(const g of n)this.images[g]||(d=!1);this.isLoaded()||d?this._notify(n,l):this.requestors.push({ids:n,callback:l})}_notify(n,l){const d={};for(const g of n){this.images[g]||this.fire(new a.Event("styleimagemissing",{id:g}));const x=this.images[g];x?d[g]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:Boolean(x.userImage&&x.userImage.render)}:a.warnOnce(`Image "${g}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}l(null,d)}getPixelSize(){const{width:n,height:l}=this.atlasImage;return{width:n,height:l}}getPattern(n){const l=this.patterns[n],d=this.getImage(n);if(!d)return null;if(l&&l.position.version===d.version)return l.position;if(l)l.position.version=d.version;else{const g={w:d.data.width+2,h:d.data.height+2,x:0,y:0},x=new a.ImagePosition(g,d);this.patterns[n]={bin:g,position:x}}return this._updatePatternAtlas(),this.patterns[n].position}bind(n){const l=n.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new oe(n,this.atlasImage,l.RGBA),this.atlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE)}_updatePatternAtlas(){const n=[];for(const x in this.patterns)n.push(this.patterns[x].bin);const{w:l,h:d}=a.potpack(n),g=this.atlasImage;g.resize({width:l||1,height:d||1});for(const x in this.patterns){const{bin:C}=this.patterns[x],M=C.x+1,L=C.y+1,N=this.images[x].data,q=N.width,$=N.height;a.RGBAImage.copy(N,g,{x:0,y:0},{x:M,y:L},{width:q,height:$}),a.RGBAImage.copy(N,g,{x:0,y:$-1},{x:M,y:L-1},{width:q,height:1}),a.RGBAImage.copy(N,g,{x:0,y:0},{x:M,y:L+$},{width:q,height:1}),a.RGBAImage.copy(N,g,{x:q-1,y:0},{x:M-1,y:L},{width:1,height:$}),a.RGBAImage.copy(N,g,{x:0,y:0},{x:M+q,y:L},{width:1,height:$})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(n){for(const l of n){if(this.callbackDispatchedThisFrame[l])continue;this.callbackDispatchedThisFrame[l]=!0;const d=this.images[l];d||a.warnOnce(`Image with ID: "${l}" was not found`),he(d)&&this.updateImage(l,d)}}}const D=1e20;function F(f,n,l,d,g,x,C,M,L){for(let N=n;N<n+d;N++)Y(f,l*x+N,x,g,C,M,L);for(let N=l;N<l+g;N++)Y(f,N*x+n,1,d,C,M,L)}function Y(f,n,l,d,g,x,C){x[0]=0,C[0]=-D,C[1]=D,g[0]=f[n];for(let M=1,L=0,N=0;M<d;M++){g[M]=f[n+M*l];const q=M*M;do{const $=x[L];N=(g[M]-g[$]+q-$*$)/(M-$)/2}while(N<=C[L]&&--L>-1);L++,x[L]=M,C[L]=N,C[L+1]=D}for(let M=0,L=0;M<d;M++){for(;C[L+1]<M;)L++;const N=x[L],q=M-N;f[n+M*l]=g[N]+q*q}}class xe{constructor(n,l){this.requestManager=n,this.localIdeographFontFamily=l,this.entries={}}setURL(n){this.url=n}getGlyphs(n,l){const d=[];for(const g in n)for(const x of n[g])d.push({stack:g,id:x});a.asyncAll(d,({stack:g,id:x},C)=>{let M=this.entries[g];M||(M=this.entries[g]={glyphs:{},requests:{},ranges:{}});let L=M.glyphs[x];if(L!==void 0)return void C(null,{stack:g,id:x,glyph:L});if(L=this._tinySDF(M,g,x),L)return M.glyphs[x]=L,void C(null,{stack:g,id:x,glyph:L});const N=Math.floor(x/256);if(256*N>65535)return void C(new Error("glyphs > 65535 not supported"));if(M.ranges[N])return void C(null,{stack:g,id:x,glyph:L});let q=M.requests[N];q||(q=M.requests[N]=[],xe.loadGlyphRange(g,N,this.url,this.requestManager,($,J)=>{if(J){for(const pe in J)this._doesCharSupportLocalGlyph(+pe)||(M.glyphs[+pe]=J[+pe]);M.ranges[N]=!0}for(const pe of q)pe($,J);delete M.requests[N]})),q.push(($,J)=>{$?C($):J&&C(null,{stack:g,id:x,glyph:J[x]||null})})},(g,x)=>{if(g)l(g);else if(x){const C={};for(const{stack:M,id:L,glyph:N}of x)(C[M]||(C[M]={}))[L]=N&&{id:N.id,bitmap:N.bitmap.clone(),metrics:N.metrics};l(null,C)}})}_doesCharSupportLocalGlyph(n){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](n)||a.unicodeBlockLookup["Hangul Syllables"](n)||a.unicodeBlockLookup.Hiragana(n)||a.unicodeBlockLookup.Katakana(n))}_tinySDF(n,l,d){const g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(d))return;let x=n.tinySDF;if(!x){let M="400";/bold/i.test(l)?M="900":/medium/i.test(l)?M="500":/light/i.test(l)&&(M="200"),x=n.tinySDF=new xe.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:g,fontWeight:M})}const C=x.draw(String.fromCharCode(d));return{id:d,bitmap:new a.AlphaImage({width:C.width||30,height:C.height||30},C.data),metrics:{width:C.glyphWidth||24,height:C.glyphHeight||24,left:C.glyphLeft||0,top:C.glyphTop-27||-8,advance:C.glyphAdvance||24}}}}xe.loadGlyphRange=function(f,n,l,d,g){const x=256*n,C=x+255,M=d.transformRequest(l.replace("{fontstack}",f).replace("{range}",`${x}-${C}`),a.ResourceType.Glyphs);a.getArrayBuffer(M,(L,N)=>{if(L)g(L);else if(N){const q={};for(const $ of a.parseGlyphPbf(N))q[$.id]=$;g(null,q)}})},xe.TinySDF=class{constructor({fontSize:f=24,buffer:n=3,radius:l=8,cutoff:d=.25,fontFamily:g="sans-serif",fontWeight:x="normal",fontStyle:C="normal"}={}){this.buffer=n,this.cutoff=d,this.radius=l;const M=this.size=f+4*n,L=this._createCanvas(M),N=this.ctx=L.getContext("2d",{willReadFrequently:!0});N.font=`${C} ${x} ${f}px ${g}`,N.textBaseline="alphabetic",N.textAlign="left",N.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(f){const n=document.createElement("canvas");return n.width=n.height=f,n}draw(f){const{width:n,actualBoundingBoxAscent:l,actualBoundingBoxDescent:d,actualBoundingBoxLeft:g,actualBoundingBoxRight:x}=this.ctx.measureText(f),C=Math.ceil(l),M=Math.min(this.size-this.buffer,Math.ceil(x-g)),L=Math.min(this.size-this.buffer,C+Math.ceil(d)),N=M+2*this.buffer,q=L+2*this.buffer,$=Math.max(N*q,0),J=new Uint8ClampedArray($),pe={data:J,width:N,height:q,glyphWidth:M,glyphHeight:L,glyphTop:C,glyphLeft:0,glyphAdvance:n};if(M===0||L===0)return pe;const{ctx:ce,buffer:de,gridInner:Se,gridOuter:Ee}=this;ce.clearRect(de,de,M,L),ce.fillText(f,de,de+C);const De=ce.getImageData(de,de,M,L);Ee.fill(D,0,$),Se.fill(0,0,$);for(let fe=0;fe<L;fe++)for(let Oe=0;Oe<M;Oe++){const Re=De.data[4*(fe*M+Oe)+3]/255;if(Re===0)continue;const Ze=(fe+de)*N+Oe+de;if(Re===1)Ee[Ze]=0,Se[Ze]=D;else{const Xe=.5-Re;Ee[Ze]=Xe>0?Xe*Xe:0,Se[Ze]=Xe<0?Xe*Xe:0}}F(Ee,0,0,N,q,N,this.f,this.v,this.z),F(Se,de,de,M,L,N,this.f,this.v,this.z);for(let fe=0;fe<$;fe++){const Oe=Math.sqrt(Ee[fe])-Math.sqrt(Se[fe]);J[fe]=Math.round(255-255*(Oe/this.radius+this.cutoff))}return pe}};const E=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(f,n){return a.sphericalToCartesian(f.expression.evaluate(n))}interpolate(f,n,l){return{x:a.number(f.x,n.x,l),y:a.number(f.y,n.y,l),z:a.number(f.z,n.z,l)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)}),Ne="-transition";class qe extends a.Evented{constructor(n){super(),this._transitionable=new a.Transitionable(E),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(n,l={}){if(!this._validate(a.validateLight,n,l))for(const d in n){const g=n[d];d.endsWith(Ne)?this._transitionable.setTransition(d.slice(0,-Ne.length),g):this._transitionable.setValue(d,g)}}updateTransitions(n){this._transitioning=this._transitionable.transitioned(n,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(n){this.properties=this._transitioning.possiblyEvaluate(n)}_validate(n,l,d){return(!d||d.validate!==!1)&&a.emitValidationErrors(this,n.call(a.validateStyle,a.extend({value:l,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class wt{constructor(n,l){this.width=n,this.height=l,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(n,l){const d=n.join(",")+String(l);return this.dashEntry[d]||(this.dashEntry[d]=this.addDash(n,l)),this.dashEntry[d]}getDashRanges(n,l,d){const g=[];let x=n.length%2==1?-n[n.length-1]*d:0,C=n[0]*d,M=!0;g.push({left:x,right:C,isDash:M,zeroLength:n[0]===0});let L=n[0];for(let N=1;N<n.length;N++){M=!M;const q=n[N];x=L*d,L+=q,C=L*d,g.push({left:x,right:C,isDash:M,zeroLength:q===0})}return g}addRoundDash(n,l,d){const g=l/2;for(let x=-d;x<=d;x++){const C=this.width*(this.nextRow+d+x);let M=0,L=n[M];for(let N=0;N<this.width;N++){N/L.right>1&&(L=n[++M]);const q=Math.abs(N-L.left),$=Math.abs(N-L.right),J=Math.min(q,$);let pe;const ce=x/d*(g+1);if(L.isDash){const de=g-Math.abs(ce);pe=Math.sqrt(J*J+de*de)}else pe=g-Math.sqrt(J*J+ce*ce);this.data[C+N]=Math.max(0,Math.min(255,pe+128))}}}addRegularDash(n){for(let M=n.length-1;M>=0;--M){const L=n[M],N=n[M+1];L.zeroLength?n.splice(M,1):N&&N.isDash===L.isDash&&(N.left=L.left,n.splice(M,1))}const l=n[0],d=n[n.length-1];l.isDash===d.isDash&&(l.left=d.left-this.width,d.right=l.right+this.width);const g=this.width*this.nextRow;let x=0,C=n[x];for(let M=0;M<this.width;M++){M/C.right>1&&(C=n[++x]);const L=Math.abs(M-C.left),N=Math.abs(M-C.right),q=Math.min(L,N);this.data[g+M]=Math.max(0,Math.min(255,(C.isDash?q:-q)+128))}}addDash(n,l){const d=l?7:0,g=2*d+1;if(this.nextRow+g>this.height)return a.warnOnce("LineAtlas out of space"),null;let x=0;for(let M=0;M<n.length;M++)x+=n[M];if(x!==0){const M=this.width/x,L=this.getDashRanges(n,this.width,M);l?this.addRoundDash(L,M,d):this.addRegularDash(L)}const C={y:(this.nextRow+d+.5)/this.height,height:2*d/this.height,width:x};return this.nextRow+=g,this.dirty=!0,C}bind(n){const l=n.gl;this.texture?(l.bindTexture(l.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,l.texSubImage2D(l.TEXTURE_2D,0,0,0,this.width,this.height,l.ALPHA,l.UNSIGNED_BYTE,this.data))):(this.texture=l.createTexture(),l.bindTexture(l.TEXTURE_2D,this.texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texImage2D(l.TEXTURE_2D,0,l.ALPHA,this.width,this.height,0,l.ALPHA,l.UNSIGNED_BYTE,this.data))}}class At{constructor(n,l){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const d=this.workerPool.acquire(this.id);for(let g=0;g<d.length;g++){const x=new At.Actor(d[g],l,this.id);x.name=`Worker ${g}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(n,l,d){a.asyncAll(this.actors,(g,x)=>{g.send(n,l,x)},d=d||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}function _i(f,n,l){const d=function(g,x){if(g)return l(g);if(x){const C=a.pick(a.extend(x,f),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(C.vectorLayers=x.vector_layers,C.vectorLayerIds=C.vectorLayers.map(M=>M.id)),l(null,C)}};return f.url?a.getJSON(n.transformRequest(f.url,a.ResourceType.Source),d):a.exported.frame(()=>d(null,f))}At.Actor=a.Actor;class ui{constructor(n,l,d){this.bounds=a.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=l||0,this.maxzoom=d||24}validateBounds(n){return Array.isArray(n)&&n.length===4?[Math.max(-180,n[0]),Math.max(-90,n[1]),Math.min(180,n[2]),Math.min(90,n[3])]:[-180,-90,180,90]}contains(n){const l=Math.pow(2,n.z),d=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*l),g=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*l),x=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*l),C=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*l);return n.x>=d&&n.x<x&&n.y>=g&&n.y<C}}class Tn extends a.Evented{constructor(n,l,d,g){if(super(),this.id=n,this.dispatcher=d,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(l,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=_i(this._options,this.map._requestManager,(n,l)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),n?this.fire(new a.ErrorEvent(n)):l&&(a.extend(this,l),l.bounds&&(this.tileBounds=new ui(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(n){return!this.tileBounds||this.tileBounds.contains(n.canonical)}onAdd(n){this.map=n,this.load()}setSourceProperty(n){this._tileJSONRequest&&this._tileJSONRequest.cancel(),n(),this.load()}setTiles(n){return this.setSourceProperty(()=>{this._options.tiles=n}),this}setUrl(n){return this.setSourceProperty(()=>{this.url=n,this._options.url=n}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}loadTile(n,l){const d=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g={request:this.map._requestManager.transformRequest(d,a.ResourceType.Tile),uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,tileSize:this.tileSize*n.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function x(C,M){return delete n.request,n.aborted?l(null):C&&C.status!==404?l(C):(M&&M.resourceTiming&&(n.resourceTiming=M.resourceTiming),this.map._refreshExpiredTiles&&M&&n.setExpiryData(M),n.loadVectorData(M,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),l(null),void(n.reloadCallback&&(this.loadTile(n,n.reloadCallback),n.reloadCallback=null)))}g.request.collectResourceTiming=this._collectResourceTiming,n.actor&&n.state!=="expired"?n.state==="loading"?n.reloadCallback=l:n.request=n.actor.send("reloadTile",g,x.bind(this)):(n.actor=this.dispatcher.getActor(),n.request=n.actor.send("loadTile",g,x.bind(this)))}abortTile(n){n.request&&(n.request.cancel(),delete n.request),n.actor&&n.actor.send("abortTile",{uid:n.uid,type:this.type,source:this.id},void 0)}unloadTile(n){n.unloadVectorData(),n.actor&&n.actor.send("removeTile",{uid:n.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Di extends a.Evented{constructor(n,l,d,g){super(),this.id=n,this.dispatcher=d,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},l),a.extend(this,a.pick(l,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=_i(this._options,this.map._requestManager,(n,l)=>{this._tileJSONRequest=null,this._loaded=!0,n?this.fire(new a.ErrorEvent(n)):l&&(a.extend(this,l),l.bounds&&(this.tileBounds=new ui(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(n){this.map=n,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}hasTile(n){return!this.tileBounds||this.tileBounds.contains(n.canonical)}loadTile(n,l){const d=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);n.request=a.getImage(this.map._requestManager.transformRequest(d,a.ResourceType.Tile),(g,x,C)=>{if(delete n.request,n.aborted)n.state="unloaded",l(null);else if(g)n.state="errored",l(g);else if(x){this.map._refreshExpiredTiles&&n.setExpiryData(C);const M=this.map.painter.context,L=M.gl;n.texture=this.map.painter.getTileTexture(x.width),n.texture?n.texture.update(x,{useMipmap:!0}):(n.texture=new oe(M,x,L.RGBA,{useMipmap:!0}),n.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),M.extTextureFilterAnisotropic&&L.texParameterf(L.TEXTURE_2D,M.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,M.extTextureFilterAnisotropicMax)),n.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),l(null)}})}abortTile(n,l){n.request&&(n.request.cancel(),delete n.request),l()}unloadTile(n,l){n.texture&&this.map.painter.saveTileTexture(n.texture),l()}hasTransition(){return!1}}let sn;class Tt extends Di{constructor(n,l,d,g){super(n,l,d,g),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(n,l){const d=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function g(x,C){x&&(n.state="errored",l(x)),C&&(n.dem=C,n.needsHillshadePrepare=!0,n.needsTerrainPrepare=!0,n.state="loaded",l(null))}n.request=a.getImage(this.map._requestManager.transformRequest(d,a.ResourceType.Tile),function(x,C){if(delete n.request,n.aborted)n.state="unloaded",l(null);else if(x)n.state="errored",l(x);else if(C){this.map._refreshExpiredTiles&&n.setExpiryData(C),delete C.cacheControl,delete C.expires;const M=a.isImageBitmap(C)&&(sn==null&&(sn=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),sn)?C:a.exported.getImageData(C,1),L={uid:n.uid,coord:n.tileID,source:this.id,rawImageData:M,encoding:this.encoding};n.actor&&n.state!=="expired"||(n.actor=this.dispatcher.getActor(),n.actor.send("loadDEMTile",L,g.bind(this)))}}.bind(this)),n.neighboringTiles=this._getNeighboringTiles(n.tileID)}_getNeighboringTiles(n){const l=n.canonical,d=Math.pow(2,l.z),g=(l.x-1+d)%d,x=l.x===0?n.wrap-1:n.wrap,C=(l.x+1+d)%d,M=l.x+1===d?n.wrap+1:n.wrap,L={};return L[new a.OverscaledTileID(n.overscaledZ,x,l.z,g,l.y).key]={backfilled:!1},L[new a.OverscaledTileID(n.overscaledZ,M,l.z,C,l.y).key]={backfilled:!1},l.y>0&&(L[new a.OverscaledTileID(n.overscaledZ,x,l.z,g,l.y-1).key]={backfilled:!1},L[new a.OverscaledTileID(n.overscaledZ,n.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},L[new a.OverscaledTileID(n.overscaledZ,M,l.z,C,l.y-1).key]={backfilled:!1}),l.y+1<d&&(L[new a.OverscaledTileID(n.overscaledZ,x,l.z,g,l.y+1).key]={backfilled:!1},L[new a.OverscaledTileID(n.overscaledZ,n.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},L[new a.OverscaledTileID(n.overscaledZ,M,l.z,C,l.y+1).key]={backfilled:!1}),L}unloadTile(n){n.demTexture&&this.map.painter.saveTileTexture(n.demTexture),n.fbo&&(n.fbo.destroy(),delete n.fbo),n.dem&&delete n.dem,delete n.neighboringTiles,n.state="unloaded",n.actor&&n.actor.send("removeDEMTile",{uid:n.uid,source:this.id})}}class un extends a.Evented{constructor(n,l,d,g){super(),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=d.getActor(),this.setEventedParent(g),this._data=l.data,this._options=a.extend({},l),this._collectResourceTiming=l.collectResourceTiming,l.maxzoom!==void 0&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;const x=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(l.buffer!==void 0?l.buffer:128)*x,tolerance:(l.tolerance!==void 0?l.tolerance:.375)*x,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:l.clusterMaxZoom!==void 0?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:a.EXTENT,radius:(l.clusterRadius||50)*x,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(n){this.map=n,this.load()}setData(n){return this._data=n,this._updateWorkerData("content"),this}getClusterExpansionZoom(n,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:n,source:this.id},l),this}getClusterChildren(n,l){return this.actor.send("geojson.getClusterChildren",{clusterId:n,source:this.id},l),this}getClusterLeaves(n,l,d,g){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:n,limit:l,offset:d},g),this}_updateWorkerData(n){const l=a.extend({},this.workerOptions),d=this._data;typeof d=="string"?(l.request=this.map._requestManager.transformRequest(a.exported.resolveURL(d),a.ResourceType.Source),l.request.collectResourceTiming=this._collectResourceTiming):l.data=JSON.stringify(d),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,l,(g,x)=>{if(this._pendingLoads--,this._removed||x&&x.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source",sourceDataType:n}));let C=null;if(x&&x.resourceTiming&&x.resourceTiming[this.id]&&(C=x.resourceTiming[this.id].slice(0)),g)return void this.fire(new a.ErrorEvent(g));const M={dataType:"source",sourceDataType:n};this._collectResourceTiming&&C&&C.length>0&&a.extend(M,{resourceTiming:C}),this.fire(new a.Event("data",M))})}loaded(){return this._pendingLoads===0}loadTile(n,l){const d=n.actor?"reloadTile":"loadTile";n.actor=this.actor;const g={type:this.type,uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};n.request=this.actor.send(d,g,(x,C)=>(delete n.request,n.unloadVectorData(),n.aborted?l(null):x?l(x):(n.loadVectorData(C,this.map.painter,d==="reloadTile"),l(null))))}abortTile(n){n.request&&(n.request.cancel(),delete n.request),n.aborted=!0}unloadTile(n){n.unloadVectorData(),this.actor.send("removeTile",{uid:n.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var He=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class at extends a.Evented{constructor(n,l,d,g){super(),this.id=n,this.dispatcher=d,this.coordinates=l.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=l}load(n,l){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(d,g)=>{this._loaded=!0,d?this.fire(new a.ErrorEvent(d)):g&&(this.image=g,n&&(this.coordinates=n),l&&l(),this._finishLoading())})}loaded(){return this._loaded}updateImage(n){return this.image&&n.url?(this.options.url=n.url,this.load(n.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}setCoordinates(n){this.coordinates=n;const l=n.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(g){let x=1/0,C=1/0,M=-1/0,L=-1/0;for(const J of g)x=Math.min(x,J.x),C=Math.min(C,J.y),M=Math.max(M,J.x),L=Math.max(L,J.y);const N=Math.max(M-x,L-C),q=Math.max(0,Math.floor(-Math.log(N)/Math.LN2)),$=Math.pow(2,q);return new a.CanonicalTileID(q,Math.floor((x+M)/2*$),Math.floor((C+L)/2*$))}(l),this.minzoom=this.maxzoom=this.tileID.z;const d=l.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(d[0].x,d[0].y,0,0),this._boundsArray.emplaceBack(d[1].x,d[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(d[3].x,d[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(d[2].x,d[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const n=this.map.painter.context,l=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new oe(n,this.image,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE));for(const d in this.tiles){const g=this.tiles[d];g.state!=="loaded"&&(g.state="loaded",g.texture=this.texture)}}loadTile(n,l){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},l(null)):(n.state="errored",l(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class dt extends at{constructor(n,l,d,g){super(n,l,d,g),this.roundZoom=!0,this.type="video",this.options=l}load(){this._loaded=!1;const n=this.options;this.urls=[];for(const l of n.urls)this.urls.push(this.map._requestManager.transformRequest(l,a.ResourceType.Source).url);a.getVideo(this.urls,(l,d)=>{this._loaded=!0,l?this.fire(new a.ErrorEvent(l)):d&&(this.video=d,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(n){if(this.video){const l=this.video.seekable;n<l.start(0)||n>l.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=n}}getVideo(){return this.video}onAdd(n){this.map||(this.map=n,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const n=this.map.painter.context,l=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new oe(n,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE));for(const d in this.tiles){const g=this.tiles[d];g.state!=="loaded"&&(g.state="loaded",g.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Ot extends at{constructor(n,l,d,g){super(n,l,d,g),l.coordinates?Array.isArray(l.coordinates)&&l.coordinates.length===4&&!l.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(C=>typeof C!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${n}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${n}`,null,'missing required property "coordinates"'))),l.animate&&typeof l.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${n}`,null,'optional "animate" property must be a boolean value'))),l.canvas?typeof l.canvas=="string"||l.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${n}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${n}`,null,'missing required property "canvas"'))),this.options=l,this.animate=l.animate===void 0||l.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(n){this.map=n,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let n=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,n=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,n=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const l=this.map.painter.context,d=l.gl;this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(n||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new oe(l,this.canvas,d.RGBA,{premultiply:!0});for(const g in this.tiles){const x=this.tiles[g];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const n of[this.canvas.width,this.canvas.height])if(isNaN(n)||n<=0)return!0;return!1}}const ri={vector:Tn,raster:Di,"raster-dem":Tt,geojson:un,video:dt,image:at,canvas:Ot};function si(f,n){const l=a.create();return a.translate(l,l,[1,1,0]),a.scale(l,l,[.5*f.width,.5*f.height,1]),a.multiply(l,l,f.calculatePosMatrix(n.toUnwrapped()))}function Ti(f,n,l,d,g,x){const C=function($,J,pe){if($)for(const ce of $){const de=J[ce];if(de&&de.source===pe&&de.type==="fill-extrusion")return!0}else for(const ce in J){const de=J[ce];if(de.source===pe&&de.type==="fill-extrusion")return!0}return!1}(g&&g.layers,n,f.id),M=x.maxPitchScaleFactor(),L=f.tilesIn(d,M,C);L.sort(ci);const N=[];for(const $ of L)N.push({wrappedTileID:$.tileID.wrapped().key,queryResults:$.tile.queryRenderedFeatures(n,l,f._state,$.queryGeometry,$.cameraQueryGeometry,$.scale,g,x,M,si(f.transform,$.tileID))});const q=function($){const J={},pe={};for(const ce of $){const de=ce.queryResults,Se=ce.wrappedTileID,Ee=pe[Se]=pe[Se]||{};for(const De in de){const fe=de[De],Oe=Ee[De]=Ee[De]||{},Re=J[De]=J[De]||[];for(const Ze of fe)Oe[Ze.featureIndex]||(Oe[Ze.featureIndex]=!0,Re.push(Ze))}}return J}(N);for(const $ in q)q[$].forEach(J=>{const pe=J.feature,ce=f.getFeatureState(pe.layer["source-layer"],pe.id);pe.source=pe.layer.source,pe.layer["source-layer"]&&(pe.sourceLayer=pe.layer["source-layer"]),pe.state=ce});return q}function ci(f,n){const l=f.tileID,d=n.tileID;return l.overscaledZ-d.overscaledZ||l.canonical.y-d.canonical.y||l.wrap-d.wrap||l.canonical.x-d.canonical.x}class gi{constructor(n,l){this.tileID=n,this.uid=a.uniqueId(),this.uses=0,this.tileSize=l,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(n){const l=n+this.timeAdded;l<a.exported.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(n){this.demTexture&&n.saveTileTexture(this.demTexture),this.textures.forEach(l=>n.saveTileTexture(l)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(n,l,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",n){n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(g,x){const C={};if(!x)return C;for(const M of g){const L=M.layerIds.map(N=>x.getLayer(N)).filter(Boolean);if(L.length!==0){M.layers=L,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map(N=>L.filter(q=>q.id===N)[0]));for(const N of L)C[N.id]=M}}return C}(n.buckets,l.style),this.hasSymbolBuckets=!1;for(const g in this.buckets){const x=this.buckets[g];if(x instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!d)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const g in this.buckets){const x=this.buckets[g];if(x instanceof a.SymbolBucket&&x.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const g in this.buckets){const x=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(g).queryRadius(x))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(n){return this.buckets[n.id]}upload(n){for(const d in this.buckets){const g=this.buckets[d];g.uploadPending()&&g.upload(n)}const l=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new oe(n,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new oe(n,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null)}prepare(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)}queryRenderedFeatures(n,l,d,g,x,C,M,L,N,q){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:x,scale:C,tileSize:this.tileSize,pixelPosMatrix:q,transform:L,params:M,queryPadding:this.queryPadding*N},n,l,d):{}}querySourceFeatures(n,l){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const g=d.loadVTLayers(),x=l?l.sourceLayer:"",C=g._geojsonTileLayer||g[x];if(!C)return;const M=a.createFilter(l&&l.filter),{z:L,x:N,y:q}=this.tileID.canonical,$={z:L,x:N,y:q};for(let J=0;J<C.length;J++){const pe=C.feature(J);if(M.needGeometry){const Se=a.toEvaluationFeature(pe,!0);if(!M.filter(new a.EvaluationParameters(this.tileID.overscaledZ),Se,this.tileID.canonical))continue}else if(!M.filter(new a.EvaluationParameters(this.tileID.overscaledZ),pe))continue;const ce=d.getId(pe,x),de=new a.GeoJSONFeature(pe,L,N,q,ce);de.tile=$,n.push(de)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(n){const l=this.expirationTime;if(n.cacheControl){const d=a.parseCacheControl(n.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){const d=Date.now();let g=!1;if(this.expirationTime>d)g=!1;else if(l)if(this.expirationTime<l)g=!0;else{const x=this.expirationTime-l;x?this.expirationTime=d+Math.max(x,3e4):g=!0}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(n,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(n).length===0)return;const d=this.latestFeatureIndex.loadVTLayers();for(const g in this.buckets){if(!l.style.hasLayer(g))continue;const x=this.buckets[g],C=x.layers[0].sourceLayer||"_geojsonTileLayer",M=d[C],L=n[C];if(!M||!L||Object.keys(L).length===0)continue;x.update(L,M,this.imageAtlas&&this.imageAtlas.patternPositions||{});const N=l&&l.style&&l.style.getLayer(g);N&&(this.queryPadding=Math.max(this.queryPadding,N.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(n){this.symbolFadeHoldUntil=a.exported.now()+n}setDependencies(n,l){const d={};for(const g of l)d[g]=!0;this.dependencies[n]=d}hasDependency(n,l){for(const d of n){const g=this.dependencies[d];if(g){for(const x of l)if(g[x])return!0}}return!1}}class Ui{constructor(n,l){this.max=n,this.onRemove=l,this.reset()}reset(){for(const n in this.data)for(const l of this.data[n])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(n,l,d){const g=n.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const x={value:l,timeout:void 0};if(d!==void 0&&(x.timeout=setTimeout(()=>{this.remove(n,x)},d)),this.data[g].push(x),this.order.push(g),this.order.length>this.max){const C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(n){return n.wrapped().key in this.data}getAndRemove(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null}_getAndRemoveByKey(n){const l=this.data[n].shift();return l.timeout&&clearTimeout(l.timeout),this.data[n].length===0&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),l.value}getByKey(n){const l=this.data[n];return l?l[0].value:null}get(n){return this.has(n)?this.data[n.wrapped().key][0].value:null}remove(n,l){if(!this.has(n))return this;const d=n.wrapped().key,g=l===void 0?0:this.data[d].indexOf(l),x=this.data[d][g];return this.data[d].splice(g,1),x.timeout&&clearTimeout(x.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(x.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(n){for(this.max=n;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(n){const l=[];for(const d in this.data)for(const g of this.data[d])n(g.value)||l.push(g);for(const d of l)this.remove(d.value.tileID,d)}}class cn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(n,l,d){const g=String(l);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][g]=this.stateChanges[n][g]||{},a.extend(this.stateChanges[n][g],d),this.deletedStates[n]===null){this.deletedStates[n]={};for(const x in this.state[n])x!==g&&(this.deletedStates[n][x]=null)}else if(this.deletedStates[n]&&this.deletedStates[n][g]===null){this.deletedStates[n][g]={};for(const x in this.state[n][g])d[x]||(this.deletedStates[n][g][x]=null)}else for(const x in d)this.deletedStates[n]&&this.deletedStates[n][g]&&this.deletedStates[n][g][x]===null&&delete this.deletedStates[n][g][x]}removeFeatureState(n,l,d){if(this.deletedStates[n]===null)return;const g=String(l);if(this.deletedStates[n]=this.deletedStates[n]||{},d&&l!==void 0)this.deletedStates[n][g]!==null&&(this.deletedStates[n][g]=this.deletedStates[n][g]||{},this.deletedStates[n][g][d]=null);else if(l!==void 0)if(this.stateChanges[n]&&this.stateChanges[n][g])for(d in this.deletedStates[n][g]={},this.stateChanges[n][g])this.deletedStates[n][g][d]=null;else this.deletedStates[n][g]=null;else this.deletedStates[n]=null}getState(n,l){const d=String(l),g=a.extend({},(this.state[n]||{})[d],(this.stateChanges[n]||{})[d]);if(this.deletedStates[n]===null)return{};if(this.deletedStates[n]){const x=this.deletedStates[n][l];if(x===null)return{};for(const C in x)delete g[C]}return g}initializeTileState(n,l){n.setFeatureState(this.state,l)}coalesceChanges(n,l){const d={};for(const g in this.stateChanges){this.state[g]=this.state[g]||{};const x={};for(const C in this.stateChanges[g])this.state[g][C]||(this.state[g][C]={}),a.extend(this.state[g][C],this.stateChanges[g][C]),x[C]=this.state[g][C];d[g]=x}for(const g in this.deletedStates){this.state[g]=this.state[g]||{};const x={};if(this.deletedStates[g]===null)for(const C in this.state[g])x[C]={},this.state[g][C]={};else for(const C in this.deletedStates[g]){if(this.deletedStates[g][C]===null)this.state[g][C]={};else for(const M of Object.keys(this.deletedStates[g][C]))delete this.state[g][C][M];x[C]=this.state[g][C]}d[g]=d[g]||{},a.extend(d[g],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const g in n)n[g].setFeatureState(d,l)}}class Bi extends a.Evented{constructor(n,l,d){super(),this.id=n,this.dispatcher=d,this.on("data",g=>{g.dataType==="source"&&g.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&g.dataType==="source"&&g.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(g,x,C,M){const L=new ri[x.type](g,x,C,M);if(L.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${L.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],L),L}(n,l,d,this),this._tiles={},this._cache=new Ui(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new cn}onAdd(n){this.map=n,this._maxTileCacheSize=n?n._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(n)}onRemove(n){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(n)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const n in this._tiles){const l=this._tiles[n];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const n=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,n&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(n,l){return this._source.loadTile(n,l)}_unloadTile(n){if(this._source.unloadTile)return this._source.unloadTile(n,()=>{})}_abortTile(n){this._source.abortTile&&this._source.abortTile(n,()=>{}),this._source.fire(new a.Event("dataabort",{tile:n,coord:n.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(n){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const d=this._tiles[l];d.upload(n),d.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(n=>n.tileID).sort(kr).map(n=>n.key)}getRenderableIds(n){const l=[];for(const d in this._tiles)this._isIdRenderable(d,n)&&l.push(this._tiles[d]);return n?l.sort((d,g)=>{const x=d.tileID,C=g.tileID,M=new a.pointGeometry(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),L=new a.pointGeometry(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-C.overscaledZ||L.y-M.y||L.x-M.x}).map(d=>d.tileID.key):l.map(d=>d.tileID).sort(kr).map(d=>d.key)}hasRenderableParent(n){const l=this.findLoadedParent(n,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(n,l){return this._tiles[n]&&this._tiles[n].hasData()&&!this._coveredTiles[n]&&(l||!this._tiles[n].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)this._tiles[n].state!=="errored"&&this._reloadTile(n,"reloading")}}_reloadTile(n,l){const d=this._tiles[n];d&&(d.state!=="loading"&&(d.state=l),this._loadTile(d,this._tileLoaded.bind(this,d,n,l)))}_tileLoaded(n,l,d,g){if(g)return n.state="errored",void(g.status!==404?this._source.fire(new a.ErrorEvent(g,{tile:n})):this.update(this.transform,this.terrain));n.timeAdded=a.exported.now(),d==="expired"&&(n.refreshedUponExpiration=!0),this._setTileReloadTimer(l,n),this.getSource().type==="raster-dem"&&n.dem&&this._backfillDEM(n),this._state.initializeTileState(n,this.map?this.map.painter:null),n.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:n,coord:n.tileID}))}_backfillDEM(n){const l=this.getRenderableIds();for(let g=0;g<l.length;g++){const x=l[g];if(n.neighboringTiles&&n.neighboringTiles[x]){const C=this.getTileByID(x);d(n,C),d(C,n)}}function d(g,x){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let C=x.tileID.canonical.x-g.tileID.canonical.x;const M=x.tileID.canonical.y-g.tileID.canonical.y,L=Math.pow(2,g.tileID.canonical.z),N=x.tileID.key;C===0&&M===0||Math.abs(M)>1||(Math.abs(C)>1&&(Math.abs(C+L)===1?C+=L:Math.abs(C-L)===1&&(C-=L)),x.dem&&g.dem&&(g.dem.backfillBorder(x.dem,C,M),g.neighboringTiles&&g.neighboringTiles[N]&&(g.neighboringTiles[N].backfilled=!0)))}}getTile(n){return this.getTileByID(n.key)}getTileByID(n){return this._tiles[n]}_retainLoadedChildren(n,l,d,g){for(const x in this._tiles){let C=this._tiles[x];if(g[x]||!C.hasData()||C.tileID.overscaledZ<=l||C.tileID.overscaledZ>d)continue;let M=C.tileID;for(;C&&C.tileID.overscaledZ>l+1;){const N=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[N.key],C&&C.hasData()&&(M=N)}let L=M;for(;L.overscaledZ>l;)if(L=L.scaledTo(L.overscaledZ-1),n[L.key]){g[M.key]=M;break}}}findLoadedParent(n,l){if(n.key in this._loadedParentTiles){const d=this._loadedParentTiles[n.key];return d&&d.tileID.overscaledZ>=l?d:null}for(let d=n.overscaledZ-1;d>=l;d--){const g=n.scaledTo(d),x=this._getLoadedTile(g);if(x)return x}}_getLoadedTile(n){const l=this._tiles[n.key];return l&&l.hasData()?l:this._cache.getByKey(n.wrapped().key)}updateCacheSize(n){const l=Math.ceil(n.width/this._source.tileSize)+1,d=Math.ceil(n.height/this._source.tileSize)+1,g=Math.floor(l*d*5),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(x)}handleWrapJump(n){const l=Math.round((n-(this._prevLng===void 0?n:this._prevLng))/360);if(this._prevLng=n,l){const d={};for(const g in this._tiles){const x=this._tiles[g];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+l),d[x.tileID.key]=x}this._tiles=d;for(const g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(const g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}update(n,l){if(this.transform=n,this.terrain=l,!this._sourceLoaded||this._paused)return;let d;this.updateCacheSize(n),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?d=n.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new a.OverscaledTileID(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(d=n.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:l}),this._source.hasTile&&(d=d.filter(N=>this._source.hasTile(N)))):d=[];const g=n.coveringZoomLevel(this._source),x=Math.max(g-Bi.maxOverzooming,this._source.minzoom),C=Math.max(g+Bi.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const N={};for(const q of d)if(q.canonical.z>this._source.minzoom){const $=q.scaledTo(q.canonical.z-1);N[$.key]=$;const J=q.scaledTo(Math.max(this._source.minzoom,Math.min(q.canonical.z,5)));N[J.key]=J}d=d.concat(Object.values(N))}const M=this._updateRetainedTiles(d,g);if(fs(this._source.type)){const N={},q={},$=Object.keys(M);for(const J of $){const pe=M[J],ce=this._tiles[J];if(!ce||ce.fadeEndTime&&ce.fadeEndTime<=a.exported.now())continue;const de=this.findLoadedParent(pe,x);de&&(this._addTile(de.tileID),N[de.tileID.key]=de.tileID),q[J]=pe}this._retainLoadedChildren(q,g,C,M);for(const J in N)M[J]||(this._coveredTiles[J]=!0,M[J]=N[J]);if(l){const J={},pe={};for(const ce of d)this._tiles[ce.key].hasData()?J[ce.key]=ce:pe[ce.key]=ce;for(const ce in pe){const de=pe[ce].children(this._source.maxzoom);this._tiles[de[0].key]&&this._tiles[de[1].key]&&this._tiles[de[2].key]&&this._tiles[de[3].key]&&(J[de[0].key]=M[de[0].key]=de[0],J[de[1].key]=M[de[1].key]=de[1],J[de[2].key]=M[de[2].key]=de[2],J[de[3].key]=M[de[3].key]=de[3],delete pe[ce])}for(const ce in pe){const de=this.findLoadedParent(pe[ce],this._source.minzoom);if(de){J[de.tileID.key]=M[de.tileID.key]=de.tileID;for(const Se in J)J[Se].isChildOf(de.tileID)&&delete J[Se]}}for(const ce in this._tiles)J[ce]||(this._coveredTiles[ce]=!0)}}for(const N in M)this._tiles[N].clearFadeHold();const L=a.keysDifference(this._tiles,M);for(const N of L){const q=this._tiles[N];q.hasSymbolBuckets&&!q.holdingForFade()?q.setHoldDuration(this.map._fadeDuration):q.hasSymbolBuckets&&!q.symbolFadeFinished()||this._removeTile(N)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const n in this._tiles)this._tiles[n].holdingForFade()&&this._removeTile(n)}_updateRetainedTiles(n,l){const d={},g={},x=Math.max(l-Bi.maxOverzooming,this._source.minzoom),C=Math.max(l+Bi.maxUnderzooming,this._source.minzoom),M={};for(const L of n){const N=this._addTile(L);d[L.key]=L,N.hasData()||l<this._source.maxzoom&&(M[L.key]=L)}this._retainLoadedChildren(M,l,C,d);for(const L of n){let N=this._tiles[L.key];if(N.hasData())continue;if(l+1>this._source.maxzoom){const $=L.children(this._source.maxzoom)[0],J=this.getTile($);if(J&&J.hasData()){d[$.key]=$;continue}}else{const $=L.children(this._source.maxzoom);if(d[$[0].key]&&d[$[1].key]&&d[$[2].key]&&d[$[3].key])continue}let q=N.wasRequested();for(let $=L.overscaledZ-1;$>=x;--$){const J=L.scaledTo($);if(g[J.key]||(g[J.key]=!0,N=this.getTile(J),!N&&q&&(N=this._addTile(J)),N&&(d[J.key]=J,q=N.wasRequested(),N.hasData())))break}}return d}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const n in this._tiles){const l=[];let d,g=this._tiles[n].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){d=this._loadedParentTiles[g.key];break}l.push(g.key);const x=g.scaledTo(g.overscaledZ-1);if(d=this._getLoadedTile(x),d)break;g=x}for(const x of l)this._loadedParentTiles[x]=d}}_addTile(n){let l=this._tiles[n.key];if(l)return l;l=this._cache.getAndRemove(n),l&&(this._setTileReloadTimer(n.key,l),l.tileID=n,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[n.key]&&(clearTimeout(this._cacheTimers[n.key]),delete this._cacheTimers[n.key],this._setTileReloadTimer(n.key,l)));const d=l;return l||(l=new gi(n,this._source.tileSize*n.overscaleFactor()),this._loadTile(l,this._tileLoaded.bind(this,l,n.key,l.state))),l.uses++,this._tiles[n.key]=l,d||this._source.fire(new a.Event("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l}_setTileReloadTimer(n,l){n in this._timers&&(clearTimeout(this._timers[n]),delete this._timers[n]);const d=l.getExpiryTimeout();d&&(this._timers[n]=setTimeout(()=>{this._reloadTile(n,"expired"),delete this._timers[n]},d))}_removeTile(n){const l=this._tiles[n];l&&(l.uses--,delete this._tiles[n],this._timers[n]&&(clearTimeout(this._timers[n]),delete this._timers[n]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const n in this._tiles)this._removeTile(n);this._cache.reset()}tilesIn(n,l,d){const g=[],x=this.transform;if(!x)return g;const C=d?x.getCameraQueryGeometry(n):n,M=n.map(ce=>x.pointCoordinate(ce,this.terrain)),L=C.map(ce=>x.pointCoordinate(ce,this.terrain)),N=this.getIds();let q=1/0,$=1/0,J=-1/0,pe=-1/0;for(const ce of L)q=Math.min(q,ce.x),$=Math.min($,ce.y),J=Math.max(J,ce.x),pe=Math.max(pe,ce.y);for(let ce=0;ce<N.length;ce++){const de=this._tiles[N[ce]];if(de.holdingForFade())continue;const Se=de.tileID,Ee=Math.pow(2,x.zoom-de.tileID.overscaledZ),De=l*de.queryPadding*a.EXTENT/de.tileSize/Ee,fe=[Se.getTilePoint(new a.MercatorCoordinate(q,$)),Se.getTilePoint(new a.MercatorCoordinate(J,pe))];if(fe[0].x-De<a.EXTENT&&fe[0].y-De<a.EXTENT&&fe[1].x+De>=0&&fe[1].y+De>=0){const Oe=M.map(Ze=>Se.getTilePoint(Ze)),Re=L.map(Ze=>Se.getTilePoint(Ze));g.push({tile:de,tileID:Se,queryGeometry:Oe,cameraQueryGeometry:Re,scale:Ee})}}return g}getVisibleCoordinates(n){const l=this.getRenderableIds(n).map(d=>this._tiles[d].tileID);for(const d of l)d.posMatrix=this.transform.calculatePosMatrix(d.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(fs(this._source.type))for(const n in this._tiles){const l=this._tiles[n];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=a.exported.now())return!0}return!1}setFeatureState(n,l,d){this._state.updateState(n=n||"_geojsonTileLayer",l,d)}removeFeatureState(n,l,d){this._state.removeFeatureState(n=n||"_geojsonTileLayer",l,d)}getFeatureState(n,l){return this._state.getState(n=n||"_geojsonTileLayer",l)}setDependencies(n,l,d){const g=this._tiles[n];g&&g.setDependencies(l,d)}reloadTilesForDependencies(n,l){for(const d in this._tiles)this._tiles[d].hasDependency(n,l)&&this._reloadTile(d,"reloading");this._cache.filter(d=>!d.hasDependency(n,l))}}function kr(f,n){const l=Math.abs(2*f.wrap)-+(f.wrap<0),d=Math.abs(2*n.wrap)-+(n.wrap<0);return f.overscaledZ-n.overscaledZ||d-l||n.canonical.y-f.canonical.y||n.canonical.x-f.canonical.x}function fs(f){return f==="raster"||f==="image"||f==="video"}Bi.maxOverzooming=10,Bi.maxUnderzooming=3;const Pr="mapboxgl_preloaded_worker_pool";class on{constructor(){this.active={}}acquire(n){if(!this.workers)for(this.workers=[];this.workers.length<on.workerCount;)this.workers.push(new Worker(Sa.workerUrl));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],this.numActive()===0&&(this.workers.forEach(l=>{l.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Pr]}numActive(){return Object.keys(this.active).length}}const Nn=Math.floor(a.exported.hardwareConcurrency/2);let hn;function Lt(){return hn||(hn=new on),hn}function mn(f,n){const l={};for(const d in f)d!=="ref"&&(l[d]=f[d]);return a.refProperties.forEach(d=>{d in n&&(l[d]=n[d])}),l}function st(f){f=f.slice();const n=Object.create(null);for(let l=0;l<f.length;l++)n[f[l].id]=f[l];for(let l=0;l<f.length;l++)"ref"in f[l]&&(f[l]=mn(f[l],n[f[l].ref]));return f}on.workerCount=Math.max(Math.min(Nn,6),1);const Je={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function pt(f,n,l){l.push({command:Je.addSource,args:[f,n[f]]})}function Mt(f,n,l){n.push({command:Je.removeSource,args:[f]}),l[f]=!0}function Yt(f,n,l,d){Mt(f,l,d),pt(f,n,l)}function yi(f,n,l){let d;for(d in f[l])if(Object.prototype.hasOwnProperty.call(f[l],d)&&d!=="data"&&!j(f[l][d],n[l][d]))return!1;for(d in n[l])if(Object.prototype.hasOwnProperty.call(n[l],d)&&d!=="data"&&!j(f[l][d],n[l][d]))return!1;return!0}function oi(f,n,l,d,g,x){let C;for(C in n=n||{},f=f||{})Object.prototype.hasOwnProperty.call(f,C)&&(j(f[C],n[C])||l.push({command:x,args:[d,C,n[C],g]}));for(C in n)Object.prototype.hasOwnProperty.call(n,C)&&!Object.prototype.hasOwnProperty.call(f,C)&&(j(f[C],n[C])||l.push({command:x,args:[d,C,n[C],g]}))}function di(f){return f.id}function bi(f,n){return f[n.id]=n,f}class ki{constructor(n,l){this.reset(n,l)}reset(n,l){this.points=n||[],this._distances=[0];for(let d=1;d<this.points.length;d++)this._distances[d]=this._distances[d-1]+this.points[d].dist(this.points[d-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(n){if(this.points.length===1)return this.points[0];n=a.clamp(n,0,1);let l=1,d=this._distances[l];const g=n*this.paddedLength+this.padding;for(;d<g&&l<this._distances.length;)d=this._distances[++l];const x=l-1,C=this._distances[x],M=d-C,L=M>0?(g-C)/M:0;return this.points[x].mult(1-L).add(this.points[l].mult(L))}}function Le(f,n){let l=!0;return f==="always"||f!=="never"&&n!=="never"||(l=!1),l}class ct{constructor(n,l,d){const g=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(n/d),this.yCellCount=Math.ceil(l/d);for(let C=0;C<this.xCellCount*this.yCellCount;C++)g.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=n,this.height=l,this.xScale=this.xCellCount/n,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(n,l,d,g,x){this._forEachCell(l,d,g,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(n),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(x)}insertCircle(n,l,d,g){this._forEachCell(l-g,d-g,l+g,d+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(n),this.circles.push(l),this.circles.push(d),this.circles.push(g)}_insertBoxCell(n,l,d,g,x,C){this.boxCells[x].push(C)}_insertCircleCell(n,l,d,g,x,C){this.circleCells[x].push(C)}_query(n,l,d,g,x,C,M){if(d<0||n>this.width||g<0||l>this.height)return[];const L=[];if(n<=0&&l<=0&&this.width<=d&&this.height<=g){if(x)return[{key:null,x1:n,y1:l,x2:d,y2:g}];for(let N=0;N<this.boxKeys.length;N++)L.push({key:this.boxKeys[N],x1:this.bboxes[4*N],y1:this.bboxes[4*N+1],x2:this.bboxes[4*N+2],y2:this.bboxes[4*N+3]});for(let N=0;N<this.circleKeys.length;N++){const q=this.circles[3*N],$=this.circles[3*N+1],J=this.circles[3*N+2];L.push({key:this.circleKeys[N],x1:q-J,y1:$-J,x2:q+J,y2:$+J})}}else this._forEachCell(n,l,d,g,this._queryCell,L,{hitTest:x,overlapMode:C,seenUids:{box:{},circle:{}}},M);return L}query(n,l,d,g){return this._query(n,l,d,g,!1,null)}hitTest(n,l,d,g,x,C){return this._query(n,l,d,g,!0,x,C).length>0}hitTestCircle(n,l,d,g,x){const C=n-d,M=n+d,L=l-d,N=l+d;if(M<0||C>this.width||N<0||L>this.height)return!1;const q=[];return this._forEachCell(C,L,M,N,this._queryCellCircle,q,{hitTest:!0,overlapMode:g,circle:{x:n,y:l,radius:d},seenUids:{box:{},circle:{}}},x),q.length>0}_queryCell(n,l,d,g,x,C,M,L){const{seenUids:N,hitTest:q,overlapMode:$}=M,J=this.boxCells[x];if(J!==null){const ce=this.bboxes;for(const de of J)if(!N.box[de]){N.box[de]=!0;const Se=4*de,Ee=this.boxKeys[de];if(n<=ce[Se+2]&&l<=ce[Se+3]&&d>=ce[Se+0]&&g>=ce[Se+1]&&(!L||L(Ee))&&(!q||!Le($,Ee.overlapMode))&&(C.push({key:Ee,x1:ce[Se],y1:ce[Se+1],x2:ce[Se+2],y2:ce[Se+3]}),q))return!0}}const pe=this.circleCells[x];if(pe!==null){const ce=this.circles;for(const de of pe)if(!N.circle[de]){N.circle[de]=!0;const Se=3*de,Ee=this.circleKeys[de];if(this._circleAndRectCollide(ce[Se],ce[Se+1],ce[Se+2],n,l,d,g)&&(!L||L(Ee))&&(!q||!Le($,Ee.overlapMode))){const De=ce[Se],fe=ce[Se+1],Oe=ce[Se+2];if(C.push({key:Ee,x1:De-Oe,y1:fe-Oe,x2:De+Oe,y2:fe+Oe}),q)return!0}}}return!1}_queryCellCircle(n,l,d,g,x,C,M,L){const{circle:N,seenUids:q,overlapMode:$}=M,J=this.boxCells[x];if(J!==null){const ce=this.bboxes;for(const de of J)if(!q.box[de]){q.box[de]=!0;const Se=4*de,Ee=this.boxKeys[de];if(this._circleAndRectCollide(N.x,N.y,N.radius,ce[Se+0],ce[Se+1],ce[Se+2],ce[Se+3])&&(!L||L(Ee))&&!Le($,Ee.overlapMode))return C.push(!0),!0}}const pe=this.circleCells[x];if(pe!==null){const ce=this.circles;for(const de of pe)if(!q.circle[de]){q.circle[de]=!0;const Se=3*de,Ee=this.circleKeys[de];if(this._circlesCollide(ce[Se],ce[Se+1],ce[Se+2],N.x,N.y,N.radius)&&(!L||L(Ee))&&!Le($,Ee.overlapMode))return C.push(!0),!0}}}_forEachCell(n,l,d,g,x,C,M,L){const N=this._convertToXCellCoord(n),q=this._convertToYCellCoord(l),$=this._convertToXCellCoord(d),J=this._convertToYCellCoord(g);for(let pe=N;pe<=$;pe++)for(let ce=q;ce<=J;ce++)if(x.call(this,n,l,d,g,this.xCellCount*ce+pe,C,M,L))return}_convertToXCellCoord(n){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(n*this.xScale)))}_convertToYCellCoord(n){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(n*this.yScale)))}_circlesCollide(n,l,d,g,x,C){const M=g-n,L=x-l,N=d+C;return N*N>M*M+L*L}_circleAndRectCollide(n,l,d,g,x,C,M){const L=(C-g)/2,N=Math.abs(n-(g+L));if(N>L+d)return!1;const q=(M-x)/2,$=Math.abs(l-(x+q));if($>q+d)return!1;if(N<=L||$<=q)return!0;const J=N-L,pe=$-q;return J*J+pe*pe<=d*d}}function Hn(f,n,l,d,g){const x=a.create();return n?(a.scale(x,x,[1/g,1/g,1]),l||a.rotateZ(x,x,d.angle)):a.multiply(x,d.labelPlaneMatrix,f),x}function dn(f,n,l,d,g){if(n){const x=a.clone(f);return a.scale(x,x,[g,g,1]),l||a.rotateZ(x,x,-d.angle),x}return d.glCoordMatrix}function it(f,n,l){let d;l?(d=[f.x,f.y,l(f.x,f.y),1],a.transformMat4(d,d,n)):(d=[f.x,f.y,0,1],_n(d,d,n));const g=d[3];return{point:new a.pointGeometry(d[0]/g,d[1]/g),signedDistanceFromCamera:g}}function Ft(f,n){return .5+f/n*.5}function hi(f,n){const l=f[0]/f[3],d=f[1]/f[3];return l>=-n[0]&&l<=n[0]&&d>=-n[1]&&d<=n[1]}function Si(f,n,l,d,g,x,C,M,L,N){const q=d?f.textSizeData:f.iconSizeData,$=a.evaluateSizeForZoom(q,l.transform.zoom),J=[256/l.width*2+1,256/l.height*2+1],pe=d?f.text.dynamicLayoutVertexArray:f.icon.dynamicLayoutVertexArray;pe.clear();const ce=f.lineVertexArray,de=d?f.text.placedSymbolArray:f.icon.placedSymbolArray,Se=l.transform.width/l.transform.height;let Ee=!1;for(let De=0;De<de.length;De++){const fe=de.get(De);if(fe.hidden||fe.writingMode===a.WritingMode.vertical&&!Ee){Bt(fe.numGlyphs,pe);continue}let Oe;if(Ee=!1,N?(Oe=[fe.anchorX,fe.anchorY,N(fe.anchorX,fe.anchorY),1],a.transformMat4(Oe,Oe,n)):(Oe=[fe.anchorX,fe.anchorY,0,1],_n(Oe,Oe,n)),!hi(Oe,J)){Bt(fe.numGlyphs,pe);continue}const Re=Ft(l.transform.cameraToCenterDistance,Oe[3]),Ze=a.evaluateSizeForFeature(q,$,fe),Xe=C?Ze/Re:Ze*Re,lt=new a.pointGeometry(fe.anchorX,fe.anchorY),Ge=it(lt,g,N).point,Ct={},yt=Ut(fe,Xe,!1,M,n,g,x,f.glyphOffsetArray,ce,pe,Ge,lt,Ct,Se,L,N);Ee=yt.useVertical,(yt.notEnoughRoom||Ee||yt.needsFlipping&&Ut(fe,Xe,!0,M,n,g,x,f.glyphOffsetArray,ce,pe,Ge,lt,Ct,Se,L,N).notEnoughRoom)&&Bt(fe.numGlyphs,pe)}d?f.text.dynamicLayoutVertexBuffer.updateData(pe):f.icon.dynamicLayoutVertexBuffer.updateData(pe)}function Qt(f,n,l,d,g,x,C,M,L,N,q,$,J){const pe=M.glyphStartIndex+M.numGlyphs,ce=M.lineStartIndex,de=M.lineStartIndex+M.lineLength,Se=n.getoffsetX(M.glyphStartIndex),Ee=n.getoffsetX(pe-1),De=Hi(f*Se,l,d,g,x,C,M.segment,ce,de,L,N,q,$,J);if(!De)return null;const fe=Hi(f*Ee,l,d,g,x,C,M.segment,ce,de,L,N,q,$,J);return fe?{first:De,last:fe}:null}function Ke(f,n,l,d){return f===a.WritingMode.horizontal&&Math.abs(l.y-n.y)>Math.abs(l.x-n.x)*d?{useVertical:!0}:(f===a.WritingMode.vertical?n.y<l.y:n.x>l.x)?{needsFlipping:!0}:null}function Ut(f,n,l,d,g,x,C,M,L,N,q,$,J,pe,ce,de){const Se=n/24,Ee=f.lineOffsetX*Se,De=f.lineOffsetY*Se;let fe;if(f.numGlyphs>1){const Oe=f.glyphStartIndex+f.numGlyphs,Re=f.lineStartIndex,Ze=f.lineStartIndex+f.lineLength,Xe=Qt(Se,M,Ee,De,l,q,$,f,L,x,J,ce,de);if(!Xe)return{notEnoughRoom:!0};const lt=it(Xe.first.point,C,de).point,Ge=it(Xe.last.point,C,de).point;if(d&&!l){const Ct=Ke(f.writingMode,lt,Ge,pe);if(Ct)return Ct}fe=[Xe.first];for(let Ct=f.glyphStartIndex+1;Ct<Oe-1;Ct++)fe.push(Hi(Se*M.getoffsetX(Ct),Ee,De,l,q,$,f.segment,Re,Ze,L,x,J,ce,de));fe.push(Xe.last)}else{if(d&&!l){const Re=it($,g,de).point,Ze=f.lineStartIndex+f.segment+1,Xe=new a.pointGeometry(L.getx(Ze),L.gety(Ze)),lt=it(Xe,g,de),Ge=lt.signedDistanceFromCamera>0?lt.point:Vt($,Xe,Re,1,g,de),Ct=Ke(f.writingMode,Re,Ge,pe);if(Ct)return Ct}const Oe=Hi(Se*M.getoffsetX(f.glyphStartIndex),Ee,De,l,q,$,f.segment,f.lineStartIndex,f.lineStartIndex+f.lineLength,L,x,J,ce,de);if(!Oe)return{notEnoughRoom:!0};fe=[Oe]}for(const Oe of fe)a.addDynamicAttributes(N,Oe.point,Oe.angle);return{}}function Vt(f,n,l,d,g,x){const C=it(f.add(f.sub(n)._unit()),g,x).point,M=l.sub(C);return l.add(M._mult(d/M.mag()))}function Hi(f,n,l,d,g,x,C,M,L,N,q,$,J,pe){const ce=d?f-n:f+n;let de=ce>0?1:-1,Se=0;d&&(de*=-1,Se=Math.PI),de<0&&(Se+=Math.PI);let Ee=de>0?M+C:M+C+1,De=g,fe=g,Oe=0,Re=0;const Ze=Math.abs(ce),Xe=[];for(;Oe+Re<=Ze;){if(Ee+=de,Ee<M||Ee>=L)return null;if(fe=De,Xe.push(De),De=$[Ee],De===void 0){const kt=new a.pointGeometry(N.getx(Ee),N.gety(Ee)),pi=it(kt,q,pe);if(pi.signedDistanceFromCamera>0)De=$[Ee]=pi.point;else{const xi=Ee-de;De=Vt(Oe===0?x:new a.pointGeometry(N.getx(xi),N.gety(xi)),kt,fe,Ze-Oe+1,q,pe)}}Oe+=Re,Re=fe.dist(De)}const lt=(Ze-Oe)/Re,Ge=De.sub(fe),Ct=Ge.mult(lt)._add(fe);Ct._add(Ge._unit()._perp()._mult(l*de));const yt=Se+Math.atan2(De.y-fe.y,De.x-fe.x);return Xe.push(Ct),{point:Ct,angle:J?yt:0,path:Xe}}const Cn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Bt(f,n){for(let l=0;l<f;l++){const d=n.length;n.resize(d+4),n.float32.set(Cn,3*d)}}function _n(f,n,l){const d=n[0],g=n[1];return f[0]=l[0]*d+l[4]*g+l[12],f[1]=l[1]*d+l[5]*g+l[13],f[3]=l[3]*d+l[7]*g+l[15],f}const vi=100;class rr{constructor(n,l=new ct(n.width+200,n.height+200,25),d=new ct(n.width+200,n.height+200,25)){this.transform=n,this.grid=l,this.ignoredGrid=d,this.pitchfactor=Math.cos(n._pitch)*n.cameraToCenterDistance,this.screenRightBoundary=n.width+vi,this.screenBottomBoundary=n.height+vi,this.gridRightBoundary=n.width+200,this.gridBottomBoundary=n.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(n,l,d,g,x,C){const M=this.projectAndGetPerspectiveRatio(g,n.anchorPointX,n.anchorPointY,C),L=d*M.perspectiveRatio,N=n.x1*L+M.point.x,q=n.y1*L+M.point.y,$=n.x2*L+M.point.x,J=n.y2*L+M.point.y;return!this.isInsideGrid(N,q,$,J)||l!=="always"&&this.grid.hitTest(N,q,$,J,l,x)||M.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[N,q,$,J],offscreen:this.isOffscreen(N,q,$,J)}}placeCollisionCircles(n,l,d,g,x,C,M,L,N,q,$,J,pe,ce){const de=[],Se=new a.pointGeometry(l.anchorX,l.anchorY),Ee=it(Se,C,ce),De=Ft(this.transform.cameraToCenterDistance,Ee.signedDistanceFromCamera),fe=(q?x/De:x*De)/a.ONE_EM,Oe=it(Se,M,ce).point,Re=Qt(fe,g,l.lineOffsetX*fe,l.lineOffsetY*fe,!1,Oe,Se,l,d,M,{},!1,ce);let Ze=!1,Xe=!1,lt=!0;if(Re){const Ge=.5*J*De+pe,Ct=new a.pointGeometry(-100,-100),yt=new a.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),kt=new ki,pi=Re.first,xi=Re.last;let Ht=[];for(let Ri=pi.path.length-1;Ri>=1;Ri--)Ht.push(pi.path[Ri]);for(let Ri=1;Ri<xi.path.length;Ri++)Ht.push(xi.path[Ri]);const Ji=2.5*Ge;if(L){const Ri=Ht.map(Vi=>it(Vi,L,ce));Ht=Ri.some(Vi=>Vi.signedDistanceFromCamera<=0)?[]:Ri.map(Vi=>Vi.point)}let en=[];if(Ht.length>0){const Ri=Ht[0].clone(),Vi=Ht[0].clone();for(let rn=1;rn<Ht.length;rn++)Ri.x=Math.min(Ri.x,Ht[rn].x),Ri.y=Math.min(Ri.y,Ht[rn].y),Vi.x=Math.max(Vi.x,Ht[rn].x),Vi.y=Math.max(Vi.y,Ht[rn].y);en=Ri.x>=Ct.x&&Vi.x<=yt.x&&Ri.y>=Ct.y&&Vi.y<=yt.y?[Ht]:Vi.x<Ct.x||Ri.x>yt.x||Vi.y<Ct.y||Ri.y>yt.y?[]:a.clipLine([Ht],Ct.x,Ct.y,yt.x,yt.y)}for(const Ri of en){kt.reset(Ri,.25*Ge);let Vi=0;Vi=kt.length<=.5*Ge?1:Math.ceil(kt.paddedLength/Ji)+1;for(let rn=0;rn<Vi;rn++){const or=rn/Math.max(Vi-1,1),Xs=kt.lerp(or),Ps=Xs.x+vi,Ks=Xs.y+vi;de.push(Ps,Ks,Ge,0);const Xo=Ps-Ge,vs=Ks-Ge,Zr=Ps+Ge,mo=Ks+Ge;if(lt=lt&&this.isOffscreen(Xo,vs,Zr,mo),Xe=Xe||this.isInsideGrid(Xo,vs,Zr,mo),n!=="always"&&this.grid.hitTestCircle(Ps,Ks,Ge,n,$)&&(Ze=!0,!N))return{circles:[],offscreen:!1,collisionDetected:Ze}}}}return{circles:!N&&Ze||!Xe||De<this.perspectiveRatioCutoff?[]:de,offscreen:lt,collisionDetected:Ze}}queryRenderedSymbols(n){if(n.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const l=[];let d=1/0,g=1/0,x=-1/0,C=-1/0;for(const q of n){const $=new a.pointGeometry(q.x+vi,q.y+vi);d=Math.min(d,$.x),g=Math.min(g,$.y),x=Math.max(x,$.x),C=Math.max(C,$.y),l.push($)}const M=this.grid.query(d,g,x,C).concat(this.ignoredGrid.query(d,g,x,C)),L={},N={};for(const q of M){const $=q.key;if(L[$.bucketInstanceId]===void 0&&(L[$.bucketInstanceId]={}),L[$.bucketInstanceId][$.featureIndex])continue;const J=[new a.pointGeometry(q.x1,q.y1),new a.pointGeometry(q.x2,q.y1),new a.pointGeometry(q.x2,q.y2),new a.pointGeometry(q.x1,q.y2)];a.polygonIntersectsPolygon(l,J)&&(L[$.bucketInstanceId][$.featureIndex]=!0,N[$.bucketInstanceId]===void 0&&(N[$.bucketInstanceId]=[]),N[$.bucketInstanceId].push($.featureIndex))}return N}insertCollisionBox(n,l,d,g,x,C){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:x,collisionGroupID:C,overlapMode:l},n[0],n[1],n[2],n[3])}insertCollisionCircles(n,l,d,g,x,C){const M=d?this.ignoredGrid:this.grid,L={bucketInstanceId:g,featureIndex:x,collisionGroupID:C,overlapMode:l};for(let N=0;N<n.length;N+=4)M.insertCircle(L,n[N],n[N+1],n[N+2])}projectAndGetPerspectiveRatio(n,l,d,g){let x;return g?(x=[l,d,g(l,d),1],a.transformMat4(x,x,n)):(x=[l,d,0,1],_n(x,x,n)),{point:new a.pointGeometry((x[0]/x[3]+1)/2*this.transform.width+vi,(-x[1]/x[3]+1)/2*this.transform.height+vi),perspectiveRatio:.5+this.transform.cameraToCenterDistance/x[3]*.5}}isOffscreen(n,l,d,g){return d<vi||n>=this.screenRightBoundary||g<vi||l>this.screenBottomBoundary}isInsideGrid(n,l,d,g){return d>=0&&n<this.gridRightBoundary&&g>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const n=a.identity([]);return a.translate(n,n,[-100,-100,0]),n}}function gn(f,n,l){return n*(a.EXTENT/(f.tileSize*Math.pow(2,l-f.tileID.overscaledZ)))}class zn{constructor(n,l,d,g){this.opacity=n?Math.max(0,Math.min(1,n.opacity+(n.placed?l:-l))):g&&d?1:0,this.placed=d}isHidden(){return this.opacity===0&&!this.placed}}class Zi{constructor(n,l,d,g,x){this.text=new zn(n?n.text:null,l,d,x),this.icon=new zn(n?n.icon:null,l,g,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Do{constructor(n,l,d){this.text=n,this.icon=l,this.skipFade=d}}class ms{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class Us{constructor(n,l,d,g,x){this.bucketInstanceId=n,this.featureIndex=l,this.sourceLayerIndex=d,this.bucketIndex=g,this.tileID=x}}class oo{constructor(n){this.crossSourceCollisions=n,this.maxGroupID=0,this.collisionGroups={}}get(n){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[n]){const l=++this.maxGroupID;this.collisionGroups[n]={ID:l,predicate:d=>d.collisionGroupID===l}}return this.collisionGroups[n]}}function Lo(f,n,l,d,g){const{horizontalAlign:x,verticalAlign:C}=a.getAnchorAlignment(f),M=-(x-.5)*n,L=-(C-.5)*l,N=a.evaluateVariableOffset(f,d);return new a.pointGeometry(M+N[0]*g,L+N[1]*g)}function js(f,n,l,d,g,x){const{x1:C,x2:M,y1:L,y2:N,anchorPointX:q,anchorPointY:$}=f,J=new a.pointGeometry(n,l);return d&&J._rotate(g?x:-x),{x1:C+J.x,y1:L+J.y,x2:M+J.x,y2:N+J.y,anchorPointX:q,anchorPointY:$}}class ue{constructor(n,l,d,g,x){this.transform=n.clone(),this.terrain=l,this.collisionIndex=new rr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new oo(g),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(n,l,d,g){const x=d.getBucket(l),C=d.latestFeatureIndex;if(!x||!C||l.id!==x.layerIds[0])return;const M=d.collisionBoxArray,L=x.layers[0].layout,N=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),q=d.tileSize/a.EXTENT,$=this.transform.calculatePosMatrix(d.tileID.toUnwrapped()),J=L.get("text-pitch-alignment")==="map",pe=L.get("text-rotation-alignment")==="map",ce=gn(d,1,this.transform.zoom),de=Hn($,J,pe,this.transform,ce);let Se=null;if(J){const De=dn($,J,pe,this.transform,ce);Se=a.multiply([],this.transform.labelPlaneMatrix,De)}this.retainedQueryData[x.bucketInstanceId]=new Us(x.bucketInstanceId,C,x.sourceLayerIndex,x.index,d.tileID);const Ee={bucket:x,layout:L,posMatrix:$,textLabelPlaneMatrix:de,labelToScreenMatrix:Se,scale:N,textPixelRatio:q,holdingForFade:d.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(g)for(const De of x.sortKeyRanges){const{sortKey:fe,symbolInstanceStart:Oe,symbolInstanceEnd:Re}=De;n.push({sortKey:fe,symbolInstanceStart:Oe,symbolInstanceEnd:Re,parameters:Ee})}else n.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:Ee})}attemptAnchorPlacement(n,l,d,g,x,C,M,L,N,q,$,J,pe,ce,de,Se){const Ee=[J.textOffset0,J.textOffset1],De=Lo(n,d,g,Ee,x),fe=this.collisionIndex.placeCollisionBox(js(l,De.x,De.y,C,M,this.transform.angle),$,L,N,q.predicate,Se);if((!de||this.collisionIndex.placeCollisionBox(js(de,De.x,De.y,C,M,this.transform.angle),$,L,N,q.predicate,Se).box.length!==0)&&fe.box.length>0){let Oe;if(this.prevPlacement&&this.prevPlacement.variableOffsets[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID].text&&(Oe=this.prevPlacement.variableOffsets[J.crossTileID].anchor),J.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[J.crossTileID]={textOffset:Ee,width:d,height:g,anchor:n,textBoxScale:x,prevAnchor:Oe},this.markUsedJustification(pe,n,J,ce),pe.allowVerticalPlacement&&(this.markUsedOrientation(pe,ce,J),this.placedOrientations[J.crossTileID]=ce),{shift:De,placedGlyphBoxes:fe}}}placeLayerBucketPart(n,l,d){const{bucket:g,layout:x,posMatrix:C,textLabelPlaneMatrix:M,labelToScreenMatrix:L,textPixelRatio:N,holdingForFade:q,collisionBoxArray:$,partiallyEvaluatedTextSize:J,collisionGroup:pe}=n.parameters,ce=x.get("text-optional"),de=x.get("icon-optional"),Se=a.getOverlapMode(x,"text-overlap","text-allow-overlap"),Ee=Se==="always",De=a.getOverlapMode(x,"icon-overlap","icon-allow-overlap"),fe=De==="always",Oe=x.get("text-rotation-alignment")==="map",Re=x.get("text-pitch-alignment")==="map",Ze=x.get("icon-text-fit")!=="none",Xe=x.get("symbol-z-order")==="viewport-y",lt=Ee&&(fe||!g.hasIconData()||de),Ge=fe&&(Ee||!g.hasTextData()||ce);!g.collisionArrays&&$&&g.deserializeCollisionBoxes($);const Ct=(yt,kt)=>{if(l[yt.crossTileID])return;if(q)return void(this.placements[yt.crossTileID]=new Do(!1,!1,!1));let pi=!1,xi=!1,Ht=!0,Ji=null,en={box:null,offscreen:null},Ri={box:null,offscreen:null},Vi=null,rn=null,or=null,Xs=0,Ps=0,Ks=0;kt.textFeatureIndex?Xs=kt.textFeatureIndex:yt.useRuntimeCollisionCircles&&(Xs=yt.featureIndex),kt.verticalTextFeatureIndex&&(Ps=kt.verticalTextFeatureIndex);const Xo=this.retainedQueryData[g.bucketInstanceId].tileID,vs=this.terrain?(er,Ei)=>this.terrain.getElevation(Xo,er,Ei):null;for(const er of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const Ei=kt[er];Ei&&(Ei.elevation=vs?vs(Ei.anchorPointX,Ei.anchorPointY):0)}const Zr=kt.textBox;if(Zr){const er=Yi=>{let ar=a.WritingMode.horizontal;if(g.allowVerticalPlacement&&!Yi&&this.prevPlacement){const lr=this.prevPlacement.placedOrientations[yt.crossTileID];lr&&(this.placedOrientations[yt.crossTileID]=lr,ar=lr,this.markUsedOrientation(g,ar,yt))}return ar},Ei=(Yi,ar)=>{if(g.allowVerticalPlacement&&yt.numVerticalGlyphVertices>0&&kt.verticalTextBox){for(const lr of g.writingModes)if(lr===a.WritingMode.vertical?(en=ar(),Ri=en):en=Yi(),en&&en.box&&en.box.length)break}else en=Yi()};if(x.get("text-variable-anchor")){let Yi=x.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[yt.crossTileID]){const bn=this.prevPlacement.variableOffsets[yt.crossTileID];Yi.indexOf(bn.anchor)>0&&(Yi=Yi.filter(_s=>_s!==bn.anchor),Yi.unshift(bn.anchor))}const ar=(bn,_s,Ta)=>{const qc=bn.x2-bn.x1,al=bn.y2-bn.y1,Dd=yt.textBoxScale,Gc=Ze&&De==="never"?_s:null;let Ko={box:[],offscreen:!1};const Ca=Se!=="never"?2*Yi.length:Yi.length;for(let Aa=0;Aa<Ca;++Aa){const Vu=this.attemptAnchorPlacement(Yi[Aa%Yi.length],bn,qc,al,Dd,Oe,Re,N,C,pe,Aa>=Yi.length?Se:"never",yt,g,Ta,Gc,vs);if(Vu&&(Ko=Vu.placedGlyphBoxes,Ko&&Ko.box&&Ko.box.length)){pi=!0,Ji=Vu.shift;break}}return Ko};Ei(()=>ar(Zr,kt.iconBox,a.WritingMode.horizontal),()=>{const bn=kt.verticalTextBox;return g.allowVerticalPlacement&&!(en&&en.box&&en.box.length)&&yt.numVerticalGlyphVertices>0&&bn?ar(bn,kt.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),en&&(pi=en.box,Ht=en.offscreen);const lr=er(en&&en.box);if(!pi&&this.prevPlacement){const bn=this.prevPlacement.variableOffsets[yt.crossTileID];bn&&(this.variableOffsets[yt.crossTileID]=bn,this.markUsedJustification(g,bn.anchor,yt,lr))}}else{const Yi=(ar,lr)=>{const bn=this.collisionIndex.placeCollisionBox(ar,Se,N,C,pe.predicate,vs);return bn&&bn.box&&bn.box.length&&(this.markUsedOrientation(g,lr,yt),this.placedOrientations[yt.crossTileID]=lr),bn};Ei(()=>Yi(Zr,a.WritingMode.horizontal),()=>{const ar=kt.verticalTextBox;return g.allowVerticalPlacement&&yt.numVerticalGlyphVertices>0&&ar?Yi(ar,a.WritingMode.vertical):{box:null,offscreen:null}}),er(en&&en.box&&en.box.length)}}if(Vi=en,pi=Vi&&Vi.box&&Vi.box.length>0,Ht=Vi&&Vi.offscreen,yt.useRuntimeCollisionCircles){const er=g.text.placedSymbolArray.get(yt.centerJustifiedTextSymbolIndex),Ei=a.evaluateSizeForFeature(g.textSizeData,J,er),Yi=x.get("text-padding");rn=this.collisionIndex.placeCollisionCircles(Se,er,g.lineVertexArray,g.glyphOffsetArray,Ei,C,M,L,d,Re,pe.predicate,yt.collisionCircleDiameter,Yi,vs),rn.circles.length&&rn.collisionDetected&&!d&&a.warnOnce("Collisions detected, but collision boxes are not shown"),pi=Ee||rn.circles.length>0&&!rn.collisionDetected,Ht=Ht&&rn.offscreen}if(kt.iconFeatureIndex&&(Ks=kt.iconFeatureIndex),kt.iconBox){const er=Ei=>{const Yi=Ze&&Ji?js(Ei,Ji.x,Ji.y,Oe,Re,this.transform.angle):Ei;return this.collisionIndex.placeCollisionBox(Yi,De,N,C,pe.predicate,vs)};Ri&&Ri.box&&Ri.box.length&&kt.verticalIconBox?(or=er(kt.verticalIconBox),xi=or.box.length>0):(or=er(kt.iconBox),xi=or.box.length>0),Ht=Ht&&or.offscreen}const mo=ce||yt.numHorizontalGlyphVertices===0&&yt.numVerticalGlyphVertices===0,Fu=de||yt.numIconVertices===0;if(mo||Fu?Fu?mo||(xi=xi&&pi):pi=xi&&pi:xi=pi=xi&&pi,pi&&Vi&&Vi.box&&this.collisionIndex.insertCollisionBox(Vi.box,Se,x.get("text-ignore-placement"),g.bucketInstanceId,Ri&&Ri.box&&Ps?Ps:Xs,pe.ID),xi&&or&&this.collisionIndex.insertCollisionBox(or.box,De,x.get("icon-ignore-placement"),g.bucketInstanceId,Ks,pe.ID),rn&&(pi&&this.collisionIndex.insertCollisionCircles(rn.circles,Se,x.get("text-ignore-placement"),g.bucketInstanceId,Xs,pe.ID),d)){const er=g.bucketInstanceId;let Ei=this.collisionCircleArrays[er];Ei===void 0&&(Ei=this.collisionCircleArrays[er]=new ms);for(let Yi=0;Yi<rn.circles.length;Yi+=4)Ei.circles.push(rn.circles[Yi+0]),Ei.circles.push(rn.circles[Yi+1]),Ei.circles.push(rn.circles[Yi+2]),Ei.circles.push(rn.collisionDetected?1:0)}if(yt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[yt.crossTileID]=new Do(pi||lt,xi||Ge,Ht||g.justReloaded),l[yt.crossTileID]=!0};if(Xe){if(n.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const yt=g.getSortedSymbolIndexes(this.transform.angle);for(let kt=yt.length-1;kt>=0;--kt){const pi=yt[kt];Ct(g.symbolInstances.get(pi),g.collisionArrays[pi])}}else for(let yt=n.symbolInstanceStart;yt<n.symbolInstanceEnd;yt++)Ct(g.symbolInstances.get(yt),g.collisionArrays[yt]);if(d&&g.bucketInstanceId in this.collisionCircleArrays){const yt=this.collisionCircleArrays[g.bucketInstanceId];a.invert(yt.invProjMatrix,C),yt.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}markUsedJustification(n,l,d,g){let x;x=g===a.WritingMode.vertical?d.verticalPlacedTextSymbolIndex:{left:d.leftJustifiedTextSymbolIndex,center:d.centerJustifiedTextSymbolIndex,right:d.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(l)];const C=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex,d.verticalPlacedTextSymbolIndex];for(const M of C)M>=0&&(n.text.placedSymbolArray.get(M).crossTileID=x>=0&&M!==x?0:d.crossTileID)}markUsedOrientation(n,l,d){const g=l===a.WritingMode.horizontal||l===a.WritingMode.horizontalOnly?l:0,x=l===a.WritingMode.vertical?l:0,C=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex];for(const M of C)n.text.placedSymbolArray.get(M).placedOrientation=g;d.verticalPlacedTextSymbolIndex&&(n.text.placedSymbolArray.get(d.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(n){this.commitTime=n,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let d=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const g=l?l.symbolFadeChange(n):1,x=l?l.opacities:{},C=l?l.variableOffsets:{},M=l?l.placedOrientations:{};for(const L in this.placements){const N=this.placements[L],q=x[L];q?(this.opacities[L]=new Zi(q,g,N.text,N.icon),d=d||N.text!==q.text.placed||N.icon!==q.icon.placed):(this.opacities[L]=new Zi(null,g,N.text,N.icon,N.skipFade),d=d||N.text||N.icon)}for(const L in x){const N=x[L];if(!this.opacities[L]){const q=new Zi(N,g,!1,!1);q.isHidden()||(this.opacities[L]=q,d=d||N.text.placed||N.icon.placed)}}for(const L in C)this.variableOffsets[L]||!this.opacities[L]||this.opacities[L].isHidden()||(this.variableOffsets[L]=C[L]);for(const L in M)this.placedOrientations[L]||!this.opacities[L]||this.opacities[L].isHidden()||(this.placedOrientations[L]=M[L]);if(l&&l.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");d?this.lastPlacementChangeTime=n:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:n)}updateLayerOpacities(n,l){const d={};for(const g of l){const x=g.getBucket(n);x&&g.latestFeatureIndex&&n.id===x.layerIds[0]&&this.updateBucketOpacities(x,d,g.collisionBoxArray)}}updateBucketOpacities(n,l,d){n.hasTextData()&&n.text.opacityVertexArray.clear(),n.hasIconData()&&n.icon.opacityVertexArray.clear(),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexArray.clear(),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexArray.clear();const g=n.layers[0].layout,x=new Zi(null,0,!1,!1,!0),C=g.get("text-allow-overlap"),M=g.get("icon-allow-overlap"),L=g.get("text-variable-anchor"),N=g.get("text-rotation-alignment")==="map",q=g.get("text-pitch-alignment")==="map",$=g.get("icon-text-fit")!=="none",J=new Zi(null,0,C&&(M||!n.hasIconData()||g.get("icon-optional")),M&&(C||!n.hasTextData()||g.get("text-optional")),!0);!n.collisionArrays&&d&&(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData())&&n.deserializeCollisionBoxes(d);const pe=(ce,de,Se)=>{for(let Ee=0;Ee<de/4;Ee++)ce.opacityVertexArray.emplaceBack(Se)};for(let ce=0;ce<n.symbolInstances.length;ce++){const de=n.symbolInstances.get(ce),{numHorizontalGlyphVertices:Se,numVerticalGlyphVertices:Ee,crossTileID:De}=de;let fe=this.opacities[De];l[De]?fe=x:fe||(fe=J,this.opacities[De]=fe),l[De]=!0;const Oe=de.numIconVertices>0,Re=this.placedOrientations[de.crossTileID],Ze=Re===a.WritingMode.vertical,Xe=Re===a.WritingMode.horizontal||Re===a.WritingMode.horizontalOnly;if(Se>0||Ee>0){const lt=Ce(fe.text);pe(n.text,Se,Ze?Ue:lt),pe(n.text,Ee,Xe?Ue:lt);const Ge=fe.text.isHidden();[de.rightJustifiedTextSymbolIndex,de.centerJustifiedTextSymbolIndex,de.leftJustifiedTextSymbolIndex].forEach(kt=>{kt>=0&&(n.text.placedSymbolArray.get(kt).hidden=Ge||Ze?1:0)}),de.verticalPlacedTextSymbolIndex>=0&&(n.text.placedSymbolArray.get(de.verticalPlacedTextSymbolIndex).hidden=Ge||Xe?1:0);const Ct=this.variableOffsets[de.crossTileID];Ct&&this.markUsedJustification(n,Ct.anchor,de,Re);const yt=this.placedOrientations[de.crossTileID];yt&&(this.markUsedJustification(n,"left",de,yt),this.markUsedOrientation(n,yt,de))}if(Oe){const lt=Ce(fe.icon),Ge=!($&&de.verticalPlacedIconSymbolIndex&&Ze);de.placedIconSymbolIndex>=0&&(pe(n.icon,de.numIconVertices,Ge?lt:Ue),n.icon.placedSymbolArray.get(de.placedIconSymbolIndex).hidden=fe.icon.isHidden()),de.verticalPlacedIconSymbolIndex>=0&&(pe(n.icon,de.numVerticalIconVertices,Ge?Ue:lt),n.icon.placedSymbolArray.get(de.verticalPlacedIconSymbolIndex).hidden=fe.icon.isHidden())}if(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData()){const lt=n.collisionArrays[ce];if(lt){let Ge=new a.pointGeometry(0,0);if(lt.textBox||lt.verticalTextBox){let yt=!0;if(L){const kt=this.variableOffsets[De];kt?(Ge=Lo(kt.anchor,kt.width,kt.height,kt.textOffset,kt.textBoxScale),N&&Ge._rotate(q?this.transform.angle:-this.transform.angle)):yt=!1}lt.textBox&&V(n.textCollisionBox.collisionVertexArray,fe.text.placed,!yt||Ze,Ge.x,Ge.y),lt.verticalTextBox&&V(n.textCollisionBox.collisionVertexArray,fe.text.placed,!yt||Xe,Ge.x,Ge.y)}const Ct=Boolean(!Xe&&lt.verticalIconBox);lt.iconBox&&V(n.iconCollisionBox.collisionVertexArray,fe.icon.placed,Ct,$?Ge.x:0,$?Ge.y:0),lt.verticalIconBox&&V(n.iconCollisionBox.collisionVertexArray,fe.icon.placed,!Ct,$?Ge.x:0,$?Ge.y:0)}}}if(n.sortFeatures(this.transform.angle),this.retainedQueryData[n.bucketInstanceId]&&(this.retainedQueryData[n.bucketInstanceId].featureSortOrder=n.featureSortOrder),n.hasTextData()&&n.text.opacityVertexBuffer&&n.text.opacityVertexBuffer.updateData(n.text.opacityVertexArray),n.hasIconData()&&n.icon.opacityVertexBuffer&&n.icon.opacityVertexBuffer.updateData(n.icon.opacityVertexArray),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexBuffer&&n.iconCollisionBox.collisionVertexBuffer.updateData(n.iconCollisionBox.collisionVertexArray),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexBuffer&&n.textCollisionBox.collisionVertexBuffer.updateData(n.textCollisionBox.collisionVertexArray),n.text.opacityVertexArray.length!==n.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${n.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${n.text.layoutVertexArray.length}) / 4`);if(n.icon.opacityVertexArray.length!==n.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${n.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${n.icon.layoutVertexArray.length}) / 4`);if(n.bucketInstanceId in this.collisionCircleArrays){const ce=this.collisionCircleArrays[n.bucketInstanceId];n.placementInvProjMatrix=ce.invProjMatrix,n.placementViewportMatrix=ce.viewportMatrix,n.collisionCircleArray=ce.circles,delete this.collisionCircleArrays[n.bucketInstanceId]}}symbolFadeChange(n){return this.fadeDuration===0?1:(n-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(n){return Math.max(0,(this.transform.zoom-n)/1.5)}hasTransitions(n){return this.stale||n-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(n,l){const d=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*d>n}setStale(){this.stale=!0}}function V(f,n,l,d,g){f.emplaceBack(n?1:0,l?1:0,d||0,g||0),f.emplaceBack(n?1:0,l?1:0,d||0,g||0),f.emplaceBack(n?1:0,l?1:0,d||0,g||0),f.emplaceBack(n?1:0,l?1:0,d||0,g||0)}const H=Math.pow(2,25),re=Math.pow(2,24),ae=Math.pow(2,17),ge=Math.pow(2,16),Te=Math.pow(2,9),we=Math.pow(2,8),ve=Math.pow(2,1);function Ce(f){if(f.opacity===0&&!f.placed)return 0;if(f.opacity===1&&f.placed)return 4294967295;const n=f.placed?1:0,l=Math.floor(127*f.opacity);return l*H+n*re+l*ae+n*ge+l*Te+n*we+l*ve+n}const Ue=0;class ot{constructor(n){this._sortAcrossTiles=n.layout.get("symbol-z-order")!=="viewport-y"&&!n.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(n,l,d,g,x){const C=this._bucketParts;for(;this._currentTileIndex<n.length;)if(l.getBucketParts(C,g,n[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,C.sort((M,L)=>M.sortKey-L.sortKey));this._currentPartIndex<C.length;)if(l.placeLayerBucketPart(C[this._currentPartIndex],this._seenCrossTileIDs,d),this._currentPartIndex++,x())return!0;return!1}}class je{constructor(n,l,d,g,x,C,M,L){this.placement=new ue(n,l,C,M,L),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(n,l,d){const g=a.exported.now(),x=()=>{const C=a.exported.now()-g;return!this._forceFullPlacement&&C>2};for(;this._currentPlacementIndex>=0;){const C=l[n[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(C.type==="symbol"&&(!C.minzoom||C.minzoom<=M)&&(!C.maxzoom||C.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new ot(C)),this._inProgressLayer.continuePlacement(d[C.source],this.placement,this._showCollisionBoxes,C,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(n){return this.placement.commit(n),this.placement}}const It=512/a.EXTENT/2;class zt{constructor(n,l,d){this.tileID=n,this.indexedSymbolInstances={},this.bucketInstanceId=d;for(let g=0;g<l.length;g++){const x=l.get(g),C=x.key;this.indexedSymbolInstances[C]||(this.indexedSymbolInstances[C]=[]),this.indexedSymbolInstances[C].push({crossTileID:x.crossTileID,coord:this.getScaledCoordinates(x,n)})}}getScaledCoordinates(n,l){const d=It/Math.pow(2,l.canonical.z-this.tileID.canonical.z);return{x:Math.floor((l.canonical.x*a.EXTENT+n.anchorX)*d),y:Math.floor((l.canonical.y*a.EXTENT+n.anchorY)*d)}}findMatches(n,l,d){const g=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z);for(let x=0;x<n.length;x++){const C=n.get(x);if(C.crossTileID)continue;const M=this.indexedSymbolInstances[C.key];if(!M)continue;const L=this.getScaledCoordinates(C,l);for(const N of M)if(Math.abs(N.coord.x-L.x)<=g&&Math.abs(N.coord.y-L.y)<=g&&!d[N.crossTileID]){d[N.crossTileID]=!0,C.crossTileID=N.crossTileID;break}}}}class xt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Gt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(n){const l=Math.round((n-this.lng)/360);if(l!==0)for(const d in this.indexes){const g=this.indexes[d],x={};for(const C in g){const M=g[C];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+l),x[M.tileID.key]=M}this.indexes[d]=x}this.lng=n}addBucket(n,l,d){if(this.indexes[n.overscaledZ]&&this.indexes[n.overscaledZ][n.key]){if(this.indexes[n.overscaledZ][n.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(n.overscaledZ,this.indexes[n.overscaledZ][n.key])}for(let x=0;x<l.symbolInstances.length;x++)l.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[n.overscaledZ]||(this.usedCrossTileIDs[n.overscaledZ]={});const g=this.usedCrossTileIDs[n.overscaledZ];for(const x in this.indexes){const C=this.indexes[x];if(Number(x)>n.overscaledZ)for(const M in C){const L=C[M];L.tileID.isChildOf(n)&&L.findMatches(l.symbolInstances,n,g)}else{const M=C[n.scaledTo(Number(x)).key];M&&M.findMatches(l.symbolInstances,n,g)}}for(let x=0;x<l.symbolInstances.length;x++){const C=l.symbolInstances.get(x);C.crossTileID||(C.crossTileID=d.generate(),g[C.crossTileID]=!0)}return this.indexes[n.overscaledZ]===void 0&&(this.indexes[n.overscaledZ]={}),this.indexes[n.overscaledZ][n.key]=new zt(n,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(n,l){for(const d in l.indexedSymbolInstances)for(const g of l.indexedSymbolInstances[d])delete this.usedCrossTileIDs[n][g.crossTileID]}removeStaleBuckets(n){let l=!1;for(const d in this.indexes){const g=this.indexes[d];for(const x in g)n[g[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(d,g[x]),delete g[x],l=!0)}return l}}class Jt{constructor(){this.layerIndexes={},this.crossTileIDs=new xt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(n,l,d){let g=this.layerIndexes[n.id];g===void 0&&(g=this.layerIndexes[n.id]=new Gt);let x=!1;const C={};g.handleWrapJump(d);for(const M of l){const L=M.getBucket(n);L&&n.id===L.layerIds[0]&&(L.bucketInstanceId||(L.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(M.tileID,L,this.crossTileIDs)&&(x=!0),C[L.bucketInstanceId]=!0)}return g.removeStaleBuckets(C)&&(x=!0),x}pruneUnusedLayers(n){const l={};n.forEach(d=>{l[d]=!0});for(const d in this.layerIndexes)l[d]||delete this.layerIndexes[d]}}var Li=a.createLayout([{name:"a_pos",type:"Int16",components:2}]);class ii extends a.Evented{constructor(n){super(),this.sourceCache=n,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=n._cache.max,n.usedForTerrain=!0,n.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const n in this._tiles){const l=this._tiles[n];l.textures.forEach(d=>d.destroy()),l.textures=[]}}update(n,l){this.sourceCache.update(n,l),this._renderableTilesKeys=[];for(const d of n.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:l}))this._renderableTilesKeys.push(d.key),this._tiles[d.key]||(d.posMatrix=new Float64Array(16),a.ortho(d.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[d.key]=new gi(d,this.tileSize))}removeOutdated(n){const l={};this.renderHistory=this.renderHistory.filter((d,g)=>this.renderHistory.indexOf(d)===g).slice(0,this.renderHistorySize);for(const d of this._renderableTilesKeys)l[d]=!0;for(const d of this.renderHistory)l[d]=!0;for(const d in this._tiles)l[d]||(this._tiles[d].clearTextures(n),delete this._tiles[d])}getRenderableTiles(){return this._renderableTilesKeys.map(n=>this.getTileByID(n))}getTileByID(n){return this._tiles[n]}getTerrainCoords(n){const l={};for(const d of this._renderableTilesKeys){const g=this._tiles[d].tileID;if(g.canonical.equals(n.canonical)){const x=n.clone();x.posMatrix=new Float64Array(16),a.ortho(x.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),l[d]=x}else if(g.canonical.isChildOf(n.canonical)){const x=n.clone();x.posMatrix=new Float64Array(16);const C=g.canonical.z-n.canonical.z,M=g.canonical.x-(g.canonical.x>>C<<C),L=g.canonical.y-(g.canonical.y>>C<<C),N=a.EXTENT>>C;a.ortho(x.posMatrix,0,N,0,N,0,1),a.translate(x.posMatrix,x.posMatrix,[-M*N,-L*N,0]),l[d]=x}else if(n.canonical.isChildOf(g.canonical)){const x=n.clone();x.posMatrix=new Float64Array(16);const C=n.canonical.z-g.canonical.z,M=n.canonical.x-(n.canonical.x>>C<<C),L=n.canonical.y-(n.canonical.y>>C<<C),N=a.EXTENT>>C;a.ortho(x.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(x.posMatrix,x.posMatrix,[M*N,L*N,0]),a.scale(x.posMatrix,x.posMatrix,[1/2**C,1/2**C,0]),l[d]=x}}return l}getSourceTile(n,l){const d=this.sourceCache._source;let g=n.overscaledZ-this.deltaZoom;if(g>d.maxzoom&&(g=d.maxzoom),g<d.minzoom)return null;this._sourceTileCache[n.key]||(this._sourceTileCache[n.key]=n.scaledTo(g).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[n.key]);if((!x||!x.dem)&&l)for(;g>=d.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(n.scaledTo(g--).key);return x}tilesAfterTime(n=Date.now()){return Object.values(this._tiles).filter(l=>l.timeLoaded>=n)}}class mi{constructor(n,l,d){this.style=n,this.sourceCache=new ii(l),this.options=d,this.exaggeration=typeof d.exaggeration=="number"?d.exaggeration:1,this.elevationOffset=typeof d.elevationOffset=="number"?d.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(n,l,d,g=a.EXTENT){if(!(l>=0&&l<g&&d>=0&&d<g))return this.elevationOffset;let x=0;const C=this.getTerrainData(n);if(C.tile&&C.tile.dem){const M=a.transformMat4$1([],[l/g*a.EXTENT,d/g*a.EXTENT],C.u_terrain_matrix),L=[M[0]*C.tile.dem.dim,M[1]*C.tile.dem.dim],N=[Math.floor(L[0]),Math.floor(L[1])],q=C.tile.dem.get(N[0],N[1]),$=C.tile.dem.get(N[0],N[1]+1),J=C.tile.dem.get(N[0]+1,N[1]),pe=C.tile.dem.get(N[0]+1,N[1]+1);x=a.number(a.number(q,$,L[0]-N[0]),a.number(J,pe,L[0]-N[0]),L[1]-N[1])}return x}rememberForRerender(n,l){for(const d in this.sourceCache._tiles){const g=this.sourceCache._tiles[d];(g.tileID.equals(l)||g.tileID.isChildOf(l))&&(n===this.sourceCache.sourceCache.id&&(g.timeLoaded=Date.now()),this._rerender[n]=this._rerender[n]||{},this._rerender[n][g.tileID.key]=!0)}}needsRerender(n,l){return this._rerender[n]&&this._rerender[n][l.key]}clearRerenderCache(){this._rerender={}}getElevation(n,l,d,g=a.EXTENT){return(this.getDEMElevation(n,l,d,g)+this.elevationOffset)*this.exaggeration}getTerrainData(n){if(!this._emptyDemTexture){const g=this.style.map.painter.context,x=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new oe(g,x,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new oe(g,new a.RGBAImage({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const l=this.sourceCache.getSourceTile(n,!0);if(l&&l.dem&&(!l.demTexture||l.needsTerrainPrepare)){const g=this.style.map.painter.context;l.demTexture=this.style.map.painter.getTileTexture(l.dem.stride),l.demTexture?l.demTexture.update(l.dem.getPixels(),{premultiply:!1}):l.demTexture=new oe(g,l.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),l.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),l.needsTerrainPrepare=!1}const d=l&&l+l.tileID.key+n.key;if(d&&!this._demMatrixCache[d]){const g=this.sourceCache.sourceCache._source.maxzoom;let x=n.canonical.z-l.tileID.canonical.z;n.overscaledZ>n.canonical.z&&(n.canonical.z>=g?x=n.canonical.z-g:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const C=n.canonical.x-(n.canonical.x>>x<<x),M=n.canonical.y-(n.canonical.y>>x<<x),L=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<x),1/(a.EXTENT<<x),0]);a.translate(L,L,[C*a.EXTENT,M*a.EXTENT,0]),this._demMatrixCache[n.key]={matrix:L,coord:n}}return{u_depth:2,u_terrain:3,u_terrain_dim:l&&l.dem&&l.dem.dim||1,u_terrain_matrix:d?this._demMatrixCache[n.key].matrix:this._emptyDemMatrix,u_terrain_unpack:l&&l.dem&&l.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(l&&l.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:l}}getRTTFramebuffer(){const n=this.style.map.painter;if(!this._rttFramebuffer){const l=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=n.context.createFramebuffer(l,l,!0),this._rttFramebuffer.depthAttachment.set(n.context.createRenderbuffer(n.context.gl.DEPTH_COMPONENT16,l,l))}return this._rttFramebuffer}getFramebuffer(n){const l=this.style.map.painter,d=l.width/devicePixelRatio,g=l.height/devicePixelRatio;return!this._fbo||this._fbo.width===d&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new oe(l.context,{width:d,height:g,data:null},l.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(l.context.gl.NEAREST,l.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new oe(l.context,{width:d,height:g,data:null},l.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(l.context.gl.NEAREST,l.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=l.context.createFramebuffer(d,g,!0),this._fbo.depthAttachment.set(l.context.createRenderbuffer(l.context.gl.DEPTH_COMPONENT16,d,g))),this._fbo.colorAttachment.set(n==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const n=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const l=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,C=0;x<this._coordsTextureSize;x++)for(let M=0;M<this._coordsTextureSize;M++,C+=4)l[C+0]=255&M,l[C+1]=255&x,l[C+2]=M>>8<<4|x>>8,l[C+3]=0;const d=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(l.buffer)),g=new oe(n,d,n.gl.RGBA,{premultiply:!1});return g.bind(n.gl.NEAREST,n.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(n){const l=new Uint8Array(4),d=this.style.map.painter,g=d.context,x=g.gl;g.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),x.readPixels(n.x,d.height/devicePixelRatio-n.y-1,1,1,x.RGBA,x.UNSIGNED_BYTE,l),g.bindFramebuffer.set(null);const C=l[0]+(l[2]>>4<<8),M=l[1]+((15&l[2])<<8),L=this.coordsIndex[255-l[3]],N=L&&this.sourceCache.getTileByID(L);if(!N)return null;const q=this._coordsTextureSize,$=(1<<N.tileID.canonical.z)*q;return new a.MercatorCoordinate((N.tileID.canonical.x*q+C)/$,(N.tileID.canonical.y*q+M)/$,this.getElevation(N.tileID,C,M,q))}getTerrainMesh(){if(this._mesh)return this._mesh;const n=this.style.map.painter.context,l=new a.PosArray,d=new a.TriangleIndexArray,g=this.meshSize,x=a.EXTENT/g,C=g*g;for(let M=0;M<=g;M++)for(let L=0;L<=g;L++)l.emplaceBack(L*x,M*x);for(let M=0;M<C;M+=g+1)for(let L=0;L<g;L++)d.emplaceBack(L+M,g+L+M+1,g+L+M+2),d.emplaceBack(L+M,g+L+M+2,L+M+1);return this._mesh={indexBuffer:n.createIndexBuffer(d),vertexBuffer:n.createVertexBuffer(l,Li.members),segments:a.SegmentVector.simpleSegment(0,0,l.length,d.length)},this._mesh}getMinMaxElevation(n){const l=this.getTerrainData(n).tile,d={minElevation:null,maxElevation:null};return l&&l.dem&&(d.minElevation=(l.dem.min+this.elevationOffset)*this.exaggeration,d.maxElevation=(l.dem.max+this.elevationOffset)*this.exaggeration),d}}const Pi=(f,n)=>a.emitValidationErrors(f,n&&n.filter(l=>l.identifier!=="source.canvas")),$i=a.pick(Je,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Gi=a.pick(Je,["setCenter","setZoom","setBearing","setPitch"]),Xi=function(){const f={},n=a.spec.$version;for(const l in a.spec.$root){const d=a.spec.$root[l];if(d.required){let g=null;g=l==="version"?n:d.type==="array"?[]:{},g!=null&&(f[l]=g)}}return f}();class On extends a.Evented{constructor(n,l={}){super(),this.map=n,this.dispatcher=new At(Lt(),this),this.imageManager=new k,this.imageManager.setEventedParent(this),this.glyphManager=new xe(n._requestManager,l.localIdeographFontFamily),this.lineAtlas=new wt(256,512),this.crossTileSymbolIndex=new Jt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const d=this;this._rtlTextPluginCallback=On.registerForPluginStateChange(g=>{d.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:g.pluginStatus,pluginURL:g.pluginURL},(x,C)=>{if(a.triggerPluginCompletionEvent(x),C&&C.every(M=>M))for(const M in d.sourceCaches)d.sourceCaches[M].reload()})}),this.on("data",g=>{if(g.dataType!=="source"||g.sourceDataType!=="metadata")return;const x=this.sourceCaches[g.sourceId];if(!x)return;const C=x.getSource();if(C&&C.vectorLayerIds)for(const M in this._layers){const L=this._layers[M];L.source===C.id&&this._validateLayer(L)}})}loadURL(n,l={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const d=typeof l.validate!="boolean"||l.validate,g=this.map._requestManager.transformRequest(n,a.ResourceType.Style);this._request=a.getJSON(g,(x,C)=>{this._request=null,x?this.fire(new a.ErrorEvent(x)):C&&this._load(C,d)})}loadJSON(n,l={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(n,l.validate!==!1)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Xi,!1)}_load(n,l){if(l&&Pi(this,a.validateStyle(n)))return;this._loaded=!0,this.stylesheet=n;for(const g in n.sources)this.addSource(g,n.sources[g],{validate:!1});n.sprite?this._loadSprite(n.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(n.glyphs);const d=st(this.stylesheet.layers);this._order=d.map(g=>g.id),this._layers={},this._serializedLayers={};for(let g of d)g=a.createStyleLayer(g),g.setEventedParent(this,{layer:{id:g.id}}),this._layers[g.id]=g,this._serializedLayers[g.id]=g.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new qe(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}_loadSprite(n){this._spriteRequest=function(l,d,g,x){let C,M,L;const N=g>1?"@2x":"";let q=a.getJSON(d.transformRequest(d.normalizeSpriteURL(l,N,".json"),a.ResourceType.SpriteJSON),(pe,ce)=>{q=null,L||(L=pe,C=ce,J())}),$=a.getImage(d.transformRequest(d.normalizeSpriteURL(l,N,".png"),a.ResourceType.SpriteImage),(pe,ce)=>{$=null,L||(L=pe,M=ce,J())});function J(){if(L)x(L);else if(C&&M){const pe=a.exported.getImageData(M),ce={};for(const de in C){const{width:Se,height:Ee,x:De,y:fe,sdf:Oe,pixelRatio:Re,stretchX:Ze,stretchY:Xe,content:lt}=C[de],Ge=new a.RGBAImage({width:Se,height:Ee});a.RGBAImage.copy(pe,Ge,{x:De,y:fe},{x:0,y:0},{width:Se,height:Ee}),ce[de]={data:Ge,pixelRatio:Re,sdf:Oe,stretchX:Ze,stretchY:Xe,content:lt}}x(null,ce)}}return{cancel(){q&&(q.cancel(),q=null),$&&($.cancel(),$=null)}}}(n,this.map._requestManager,this.map.getPixelRatio(),(l,d)=>{if(this._spriteRequest=null,l)this.fire(new a.ErrorEvent(l));else if(d)for(const g in d)this.imageManager.addImage(g,d[g]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(n){const l=this.sourceCaches[n.source];if(!l)return;const d=n.sourceLayer;if(!d)return;const g=l.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(d)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${d}" does not exist on source "${g.id}" as specified by style layer "${n.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const n in this.sourceCaches)if(!this.sourceCaches[n].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(n){const l=[];for(const d of n){const g=this._layers[d];g.type!=="custom"&&l.push(g.serialize())}return l}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const n in this.sourceCaches)if(this.sourceCaches[n].hasTransition())return!0;for(const n in this._layers)if(this._layers[n].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(n){if(!this._loaded)return;const l=this._changed;if(this._changed){const g=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(g.length||x.length)&&this._updateWorkerLayers(g,x);for(const C in this._updatedSources){const M=this._updatedSources[C];if(M==="reload")this._reloadSource(C);else{if(M!=="clear")throw new Error(`Invalid action ${M}`);this._clearSource(C)}}this._updateTilesForChangedImages();for(const C in this._updatedPaintProps)this._layers[C].updateTransitions(n);this.light.updateTransitions(n),this._resetUpdates()}const d={};for(const g in this.sourceCaches){const x=this.sourceCaches[g];d[g]=x.used,x.used=!1}for(const g of this._order){const x=this._layers[g];x.recalculate(n,this._availableImages),!x.isHidden(n.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const g in d){const x=this.sourceCaches[g];d[g]!==x.used&&x.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(n),this.z=n.zoom,l&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const n=Object.keys(this._changedImages);if(n.length){for(const l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],n);this._changedImages={}}}_updateWorkerLayers(n,l){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(n),removedIds:l})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(n){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),n){const l=this.sourceCaches[n.source];if(!l)throw new Error(`cannot load terrain, because there exists no source with ID: ${n.source}`);this.terrain=new mi(this,l,n),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=d=>{d.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=d=>{d.tile&&(d.sourceId===n.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(d.sourceId,d.tile.tileID)):d.source.type==="geojson"&&this.terrain.rememberForRerender(d.sourceId,d.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new a.Event("terrain",{terrain:n}))}setState(n){if(this._checkLoaded(),Pi(this,a.validateStyle(n)))return!1;(n=a.clone$1(n)).layers=st(n.layers);const l=function(g,x){if(!g)return[{command:Je.setStyle,args:[x]}];let C=[];try{if(!j(g.version,x.version))return[{command:Je.setStyle,args:[x]}];j(g.center,x.center)||C.push({command:Je.setCenter,args:[x.center]}),j(g.zoom,x.zoom)||C.push({command:Je.setZoom,args:[x.zoom]}),j(g.bearing,x.bearing)||C.push({command:Je.setBearing,args:[x.bearing]}),j(g.pitch,x.pitch)||C.push({command:Je.setPitch,args:[x.pitch]}),j(g.sprite,x.sprite)||C.push({command:Je.setSprite,args:[x.sprite]}),j(g.glyphs,x.glyphs)||C.push({command:Je.setGlyphs,args:[x.glyphs]}),j(g.transition,x.transition)||C.push({command:Je.setTransition,args:[x.transition]}),j(g.light,x.light)||C.push({command:Je.setLight,args:[x.light]});const M={},L=[];(function(q,$,J,pe){let ce;for(ce in $=$||{},q=q||{})Object.prototype.hasOwnProperty.call(q,ce)&&(Object.prototype.hasOwnProperty.call($,ce)||Mt(ce,J,pe));for(ce in $)Object.prototype.hasOwnProperty.call($,ce)&&(Object.prototype.hasOwnProperty.call(q,ce)?j(q[ce],$[ce])||(q[ce].type==="geojson"&&$[ce].type==="geojson"&&yi(q,$,ce)?J.push({command:Je.setGeoJSONSourceData,args:[ce,$[ce].data]}):Yt(ce,$,J,pe)):pt(ce,$,J))})(g.sources,x.sources,L,M);const N=[];g.layers&&g.layers.forEach(q=>{M[q.source]?C.push({command:Je.removeLayer,args:[q.id]}):N.push(q)}),C=C.concat(L),function(q,$,J){$=$||[];const pe=(q=q||[]).map(di),ce=$.map(di),de=q.reduce(bi,{}),Se=$.reduce(bi,{}),Ee=pe.slice(),De=Object.create(null);let fe,Oe,Re,Ze,Xe,lt,Ge;for(fe=0,Oe=0;fe<pe.length;fe++)Re=pe[fe],Object.prototype.hasOwnProperty.call(Se,Re)?Oe++:(J.push({command:Je.removeLayer,args:[Re]}),Ee.splice(Ee.indexOf(Re,Oe),1));for(fe=0,Oe=0;fe<ce.length;fe++)Re=ce[ce.length-1-fe],Ee[Ee.length-1-fe]!==Re&&(Object.prototype.hasOwnProperty.call(de,Re)?(J.push({command:Je.removeLayer,args:[Re]}),Ee.splice(Ee.lastIndexOf(Re,Ee.length-Oe),1)):Oe++,lt=Ee[Ee.length-fe],J.push({command:Je.addLayer,args:[Se[Re],lt]}),Ee.splice(Ee.length-fe,0,Re),De[Re]=!0);for(fe=0;fe<ce.length;fe++)if(Re=ce[fe],Ze=de[Re],Xe=Se[Re],!De[Re]&&!j(Ze,Xe))if(j(Ze.source,Xe.source)&&j(Ze["source-layer"],Xe["source-layer"])&&j(Ze.type,Xe.type)){for(Ge in oi(Ze.layout,Xe.layout,J,Re,null,Je.setLayoutProperty),oi(Ze.paint,Xe.paint,J,Re,null,Je.setPaintProperty),j(Ze.filter,Xe.filter)||J.push({command:Je.setFilter,args:[Re,Xe.filter]}),j(Ze.minzoom,Xe.minzoom)&&j(Ze.maxzoom,Xe.maxzoom)||J.push({command:Je.setLayerZoomRange,args:[Re,Xe.minzoom,Xe.maxzoom]}),Ze)Object.prototype.hasOwnProperty.call(Ze,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?oi(Ze[Ge],Xe[Ge],J,Re,Ge.slice(6),Je.setPaintProperty):j(Ze[Ge],Xe[Ge])||J.push({command:Je.setLayerProperty,args:[Re,Ge,Xe[Ge]]}));for(Ge in Xe)Object.prototype.hasOwnProperty.call(Xe,Ge)&&!Object.prototype.hasOwnProperty.call(Ze,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?oi(Ze[Ge],Xe[Ge],J,Re,Ge.slice(6),Je.setPaintProperty):j(Ze[Ge],Xe[Ge])||J.push({command:Je.setLayerProperty,args:[Re,Ge,Xe[Ge]]}))}else J.push({command:Je.removeLayer,args:[Re]}),lt=Ee[Ee.lastIndexOf(Re)+1],J.push({command:Je.addLayer,args:[Xe,lt]})}(N,x.layers,C)}catch(M){console.warn("Unable to compute style diff:",M),C=[{command:Je.setStyle,args:[x]}]}return C}(this.serialize(),n).filter(g=>!(g.command in Gi));if(l.length===0)return!1;const d=l.filter(g=>!(g.command in $i));if(d.length>0)throw new Error(`Unimplemented: ${d.map(g=>g.command).join(", ")}.`);return l.forEach(g=>{g.command!=="setTransition"&&this[g.command].apply(this,g.args)}),this.stylesheet=n,!0}addImage(n,l){if(this.getImage(n))return this.fire(new a.ErrorEvent(new Error(`An image named "${n}" already exists.`)));this.imageManager.addImage(n,l),this._afterImageUpdated(n)}updateImage(n,l){this.imageManager.updateImage(n,l)}getImage(n){return this.imageManager.getImage(n)}removeImage(n){if(!this.getImage(n))return this.fire(new a.ErrorEvent(new Error(`An image named "${n}" does not exist.`)));this.imageManager.removeImage(n),this._afterImageUpdated(n)}_afterImageUpdated(n){this._availableImages=this.imageManager.listImages(),this._changedImages[n]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(n,l,d={}){if(this._checkLoaded(),this.sourceCaches[n]!==void 0)throw new Error(`Source "${n}" already exists.`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(a.validateStyle.source,`sources.${n}`,l,null,d))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const g=this.sourceCaches[n]=new Bi(n,l,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:g.serialize(),sourceId:n})),g.onAdd(this.map),this._changed=!0}removeSource(n){if(this._checkLoaded(),this.sourceCaches[n]===void 0)throw new Error("There is no source with this ID");for(const d in this._layers)if(this._layers[d].source===n)return this.fire(new a.ErrorEvent(new Error(`Source "${n}" cannot be removed while layer "${d}" is using it.`)));const l=this.sourceCaches[n];delete this.sourceCaches[n],delete this._updatedSources[n],l.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:n})),l.setEventedParent(null),l.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(n,l){if(this._checkLoaded(),this.sourceCaches[n]===void 0)throw new Error(`There is no source with this ID=${n}`);const d=this.sourceCaches[n].getSource();if(d.type!=="geojson")throw new Error(`geojsonSource.type is ${d.type}, which is !== 'geojson`);d.setData(l),this._changed=!0}getSource(n){return this.sourceCaches[n]&&this.sourceCaches[n].getSource()}addLayer(n,l,d={}){this._checkLoaded();const g=n.id;if(this.getLayer(g))return void this.fire(new a.ErrorEvent(new Error(`Layer "${g}" already exists on this map.`)));let x;if(n.type==="custom"){if(Pi(this,a.validateCustomStyleLayer(n)))return;x=a.createStyleLayer(n)}else{if(typeof n.source=="object"&&(this.addSource(g,n.source),n=a.clone$1(n),n=a.extend(n,{source:g})),this._validate(a.validateStyle.layer,`layers.${g}`,n,{arrayIndex:-1},d))return;x=a.createStyleLayer(n),this._validateLayer(x),x.setEventedParent(this,{layer:{id:g}}),this._serializedLayers[x.id]=x.serialize()}const C=l?this._order.indexOf(l):this._order.length;if(l&&C===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${g}" before non-existing layer "${l}".`)));else{if(this._order.splice(C,0,g),this._layerOrderChanged=!0,this._layers[g]=x,this._removedLayers[g]&&x.source&&x.type!=="custom"){const M=this._removedLayers[g];delete this._removedLayers[g],M.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(n,l){if(this._checkLoaded(),this._changed=!0,!this._layers[n])return void this.fire(new a.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be moved.`)));if(n===l)return;const d=this._order.indexOf(n);this._order.splice(d,1);const g=l?this._order.indexOf(l):this._order.length;l&&g===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${n}" before non-existing layer "${l}".`))):(this._order.splice(g,0,n),this._layerOrderChanged=!0)}removeLayer(n){this._checkLoaded();const l=this._layers[n];if(!l)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${n}".`)));l.setEventedParent(null);const d=this._order.indexOf(n);this._order.splice(d,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[n]=l,delete this._layers[n],delete this._serializedLayers[n],delete this._updatedLayers[n],delete this._updatedPaintProps[n],l.onRemove&&l.onRemove(this.map)}getLayer(n){return this._layers[n]}hasLayer(n){return n in this._layers}setLayerZoomRange(n,l,d){this._checkLoaded();const g=this.getLayer(n);g?g.minzoom===l&&g.maxzoom===d||(l!=null&&(g.minzoom=l),d!=null&&(g.maxzoom=d),this._updateLayer(g)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${n}".`)))}setFilter(n,l,d={}){this._checkLoaded();const g=this.getLayer(n);if(g){if(!j(g.filter,l))return l==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(a.validateStyle.filter,`layers.${g.id}.filter`,l,null,d)||(g.filter=a.clone$1(l),this._updateLayer(g)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${n}".`)))}getFilter(n){return a.clone$1(this.getLayer(n).filter)}setLayoutProperty(n,l,d,g={}){this._checkLoaded();const x=this.getLayer(n);x?j(x.getLayoutProperty(l),d)||(x.setLayoutProperty(l,d,g),this._updateLayer(x)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${n}".`)))}getLayoutProperty(n,l){const d=this.getLayer(n);if(d)return d.getLayoutProperty(l);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${n}".`)))}setPaintProperty(n,l,d,g={}){this._checkLoaded();const x=this.getLayer(n);x?j(x.getPaintProperty(l),d)||(x.setPaintProperty(l,d,g)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${n}".`)))}getPaintProperty(n,l){return this.getLayer(n).getPaintProperty(l)}setFeatureState(n,l){this._checkLoaded();const d=n.source,g=n.sourceLayer,x=this.sourceCaches[d];if(x===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)));const C=x.getSource().type;C==="geojson"&&g?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):C!=="vector"||g?(n.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),x.setFeatureState(g,n.id,l)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(n,l){this._checkLoaded();const d=n.source,g=this.sourceCaches[d];if(g===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)));const x=g.getSource().type,C=x==="vector"?n.sourceLayer:void 0;x!=="vector"||C?l&&typeof n.id!="string"&&typeof n.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(C,n.id,l):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(n){this._checkLoaded();const l=n.source,d=n.sourceLayer,g=this.sourceCaches[l];if(g!==void 0)return g.getSource().type!=="vector"||d?(n.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),g.getFeatureState(d,n.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${l}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,n=>n.serialize()),layers:this._serializeLayers(this._order)},n=>n!==void 0)}_updateLayer(n){this._updatedLayers[n.id]=!0,n.source&&!this._updatedSources[n.source]&&this.sourceCaches[n.source].getSource().type!=="raster"&&(this._updatedSources[n.source]="reload",this.sourceCaches[n.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(n){const l=C=>this._layers[C].type==="fill-extrusion",d={},g=[];for(let C=this._order.length-1;C>=0;C--){const M=this._order[C];if(l(M)){d[M]=C;for(const L of n){const N=L[M];if(N)for(const q of N)g.push(q)}}}g.sort((C,M)=>M.intersectionZ-C.intersectionZ);const x=[];for(let C=this._order.length-1;C>=0;C--){const M=this._order[C];if(l(M))for(let L=g.length-1;L>=0;L--){const N=g[L].feature;if(d[N.layer.id]<C)break;x.push(N),g.pop()}else for(const L of n){const N=L[M];if(N)for(const q of N)x.push(q.feature)}}return x}queryRenderedFeatures(n,l,d){l&&l.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",l.filter,null,l);const g={};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const C of l.layers){const M=this._layers[C];if(!M)return this.fire(new a.ErrorEvent(new Error(`The layer '${C}' does not exist in the map's style and cannot be queried for features.`))),[];g[M.source]=!0}}const x=[];l.availableImages=this._availableImages;for(const C in this.sourceCaches)l.layers&&!g[C]||x.push(Ti(this.sourceCaches[C],this._layers,this._serializedLayers,n,l,d));return this.placement&&x.push(function(C,M,L,N,q,$,J){const pe={},ce=$.queryRenderedSymbols(N),de=[];for(const Se of Object.keys(ce).map(Number))de.push(J[Se]);de.sort(ci);for(const Se of de){const Ee=Se.featureIndex.lookupSymbolFeatures(ce[Se.bucketInstanceId],M,Se.bucketIndex,Se.sourceLayerIndex,q.filter,q.layers,q.availableImages,C);for(const De in Ee){const fe=pe[De]=pe[De]||[],Oe=Ee[De];Oe.sort((Re,Ze)=>{const Xe=Se.featureSortOrder;if(Xe){const lt=Xe.indexOf(Re.featureIndex);return Xe.indexOf(Ze.featureIndex)-lt}return Ze.featureIndex-Re.featureIndex});for(const Re of Oe)fe.push(Re)}}for(const Se in pe)pe[Se].forEach(Ee=>{const De=Ee.feature,fe=L[C[Se].source].getFeatureState(De.layer["source-layer"],De.id);De.source=De.layer.source,De.layer["source-layer"]&&(De.sourceLayer=De.layer["source-layer"]),De.state=fe});return pe}(this._layers,this._serializedLayers,this.sourceCaches,n,l,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(n,l){l&&l.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",l.filter,null,l);const d=this.sourceCaches[n];return d?function(g,x){const C=g.getRenderableIds().map(N=>g.getTileByID(N)),M=[],L={};for(let N=0;N<C.length;N++){const q=C[N],$=q.tileID.canonical.key;L[$]||(L[$]=!0,q.querySourceFeatures(M,x))}return M}(d,l):[]}addSourceType(n,l,d){return On.getSourceType(n)?d(new Error(`A source type called "${n}" already exists.`)):(On.setSourceType(n,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:n,url:l.workerSourceURL},d):d(null,null))}getLight(){return this.light.getLight()}setLight(n,l={}){this._checkLoaded();const d=this.light.getLight();let g=!1;for(const C in n)if(!j(n[C],d[C])){g=!0;break}if(!g)return;const x={now:a.exported.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(n,l),this.light.updateTransitions(x)}_validate(n,l,d,g,x={}){return(!x||x.validate!==!1)&&Pi(this,n.call(a.validateStyle,a.extend({key:l,style:this.serialize(),value:d,styleSpec:a.spec},g)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const n in this._layers)this._layers[n].setEventedParent(null);for(const n in this.sourceCaches){const l=this.sourceCaches[n];l.setEventedParent(null),l.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(n){this.sourceCaches[n].clearTiles()}_reloadSource(n){this.sourceCaches[n].resume(),this.sourceCaches[n].reload()}_updateSources(n){for(const l in this.sourceCaches)this.sourceCaches[l].update(n,this.terrain)}_generateCollisionBoxes(){for(const n in this.sourceCaches)this._reloadSource(n)}_updatePlacement(n,l,d,g,x=!1){let C=!1,M=!1;const L={};for(const N of this._order){const q=this._layers[N];if(q.type!=="symbol")continue;if(!L[q.source]){const J=this.sourceCaches[q.source];L[q.source]=J.getRenderableIds(!0).map(pe=>J.getTileByID(pe)).sort((pe,ce)=>ce.tileID.overscaledZ-pe.tileID.overscaledZ||(pe.tileID.isLessThan(ce.tileID)?-1:1))}const $=this.crossTileSymbolIndex.addLayer(q,L[q.source],n.center.lng);C=C||$}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||d===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),n.zoom))&&(this.pauseablePlacement=new je(n,this.terrain,this._order,x,l,d,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,L),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),M=!0),C&&this.pauseablePlacement.placement.setStale()),M||C)for(const N of this._order){const q=this._layers[N];q.type==="symbol"&&this.placement.updateLayerOpacities(q,L[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const n in this.sourceCaches)this.sourceCaches[n].releaseSymbolFadeTiles()}getImages(n,l,d){this.imageManager.getImages(l.icons,d),this._updateTilesForChangedImages();const g=this.sourceCaches[l.source];g&&g.setDependencies(l.tileID.key,l.type,l.icons)}getGlyphs(n,l,d){this.glyphManager.getGlyphs(l.stacks,d)}getResource(n,l,d){return a.makeRequest(l,d)}}On.getSourceType=function(f){return ri[f]},On.setSourceType=function(f,n){ri[f]=n},On.registerForPluginStateChange=a.registerForPluginStateChange;var Ro="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const sa={prelude:Wi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Wi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Wi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Wi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Wi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Wi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Wi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Wi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Wi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Wi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Wi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Wi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Wi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Wi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Wi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Wi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Wi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Wi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Wi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Wi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Wi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Wi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Wi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Wi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Wi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Wi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Wi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Ro),terrainDepth:Wi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Ro),terrainCoords:Wi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Ro)};function Wi(f,n){const l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,d=n.match(/attribute ([\w]+) ([\w]+)/g),g=f.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=n.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=x?x.concat(g):g,M={};return{fragmentSource:f=f.replace(l,(L,N,q,$,J)=>(M[J]=!0,N==="define"?`
#ifndef HAS_UNIFORM_u_${J}
varying ${q} ${$} ${J};
#else
uniform ${q} ${$} u_${J};
#endif
`:`
#ifdef HAS_UNIFORM_u_${J}
    ${q} ${$} ${J} = u_${J};
#endif
`)),vertexSource:n=n.replace(l,(L,N,q,$,J)=>{const pe=$==="float"?"vec2":"vec4",ce=J.match(/color/)?"color":pe;return M[J]?N==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${q} ${pe} a_${J};
varying ${q} ${$} ${J};
#else
uniform ${q} ${$} u_${J};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = a_${J};
#else
    ${q} ${$} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = unpack_mix_${ce}(a_${J}, u_${J}_t);
#else
    ${q} ${$} ${J} = u_${J};
#endif
`:N==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${q} ${pe} a_${J};
#else
uniform ${q} ${$} u_${J};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${q} ${$} ${J} = a_${J};
#else
    ${q} ${$} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${q} ${$} ${J} = unpack_mix_${ce}(a_${J}, u_${J}_t);
#else
    ${q} ${$} ${J} = u_${J};
#endif
`}),staticAttributes:d,staticUniforms:C}}class Za{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(n,l,d,g,x,C,M,L,N){this.context=n;let q=this.boundPaintVertexBuffers.length!==g.length;for(let $=0;!q&&$<g.length;$++)this.boundPaintVertexBuffers[$]!==g[$]&&(q=!0);n.extVertexArrayObject&&this.vao&&this.boundProgram===l&&this.boundLayoutVertexBuffer===d&&!q&&this.boundIndexBuffer===x&&this.boundVertexOffset===C&&this.boundDynamicVertexBuffer===M&&this.boundDynamicVertexBuffer2===L&&this.boundDynamicVertexBuffer3===N?(n.bindVertexArrayOES.set(this.vao),M&&M.bind(),x&&x.dynamicDraw&&x.bind(),L&&L.bind(),N&&N.bind()):this.freshBind(l,d,g,x,C,M,L,N)}freshBind(n,l,d,g,x,C,M,L){let N;const q=n.numAttributes,$=this.context,J=$.gl;if($.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$.extVertexArrayObject.createVertexArrayOES(),$.bindVertexArrayOES.set(this.vao),N=0,this.boundProgram=n,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=d,this.boundIndexBuffer=g,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=C,this.boundDynamicVertexBuffer2=M,this.boundDynamicVertexBuffer3=L;else{N=$.currentNumAttributes||0;for(let pe=q;pe<N;pe++)J.disableVertexAttribArray(pe)}l.enableAttributes(J,n);for(const pe of d)pe.enableAttributes(J,n);C&&C.enableAttributes(J,n),M&&M.enableAttributes(J,n),L&&L.enableAttributes(J,n),l.bind(),l.setVertexAttribPointers(J,n,x);for(const pe of d)pe.bind(),pe.setVertexAttribPointers(J,n,x);C&&(C.bind(),C.setVertexAttribPointers(J,n,x)),g&&g.bind(),M&&(M.bind(),M.setVertexAttribPointers(J,n,x)),L&&(L.bind(),L.setVertexAttribPointers(J,n,x)),$.currentNumAttributes=q}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Bo(f){const n=[];for(let l=0;l<f.length;l++){if(f[l]===null)continue;const d=f[l].split(" ");n.push(d.pop())}return n}class Ol{constructor(n,l,d,g,x,C,M){const L=n.gl;this.program=L.createProgram();const N=Bo(d.staticAttributes),q=g?g.getBinderAttributes():[],$=N.concat(q),J=sa.prelude.staticUniforms?Bo(sa.prelude.staticUniforms):[],pe=d.staticUniforms?Bo(d.staticUniforms):[],ce=g?g.getBinderUniforms():[],de=J.concat(pe).concat(ce),Se=[];for(const Xe of de)Se.indexOf(Xe)<0&&Se.push(Xe);const Ee=g?g.defines():[];C&&Ee.push("#define OVERDRAW_INSPECTOR;"),M&&Ee.push("#define TERRAIN3D;");const De=Ee.concat(sa.prelude.fragmentSource,d.fragmentSource).join(`
`),fe=Ee.concat(sa.prelude.vertexSource,d.vertexSource).join(`
`),Oe=L.createShader(L.FRAGMENT_SHADER);if(L.isContextLost())return void(this.failedToCreate=!0);L.shaderSource(Oe,De),L.compileShader(Oe),L.attachShader(this.program,Oe);const Re=L.createShader(L.VERTEX_SHADER);if(L.isContextLost())return void(this.failedToCreate=!0);L.shaderSource(Re,fe),L.compileShader(Re),L.attachShader(this.program,Re),this.attributes={};const Ze={};this.numAttributes=$.length;for(let Xe=0;Xe<this.numAttributes;Xe++)$[Xe]&&(L.bindAttribLocation(this.program,Xe,$[Xe]),this.attributes[$[Xe]]=Xe);L.linkProgram(this.program),L.deleteShader(Re),L.deleteShader(Oe);for(let Xe=0;Xe<Se.length;Xe++){const lt=Se[Xe];if(lt&&!Ze[lt]){const Ge=L.getUniformLocation(this.program,lt);Ge&&(Ze[lt]=Ge)}}this.fixedUniforms=x(n,Ze),this.terrainUniforms=((Xe,lt)=>({u_depth:new a.Uniform1i(Xe,lt.u_depth),u_terrain:new a.Uniform1i(Xe,lt.u_terrain),u_terrain_dim:new a.Uniform1f(Xe,lt.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(Xe,lt.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(Xe,lt.u_terrain_unpack),u_terrain_offset:new a.Uniform1f(Xe,lt.u_terrain_offset),u_terrain_exaggeration:new a.Uniform1f(Xe,lt.u_terrain_exaggeration)}))(n,Ze),this.binderUniforms=g?g.getUniforms(n,Ze):[]}draw(n,l,d,g,x,C,M,L,N,q,$,J,pe,ce,de,Se,Ee,De){const fe=n.gl;if(this.failedToCreate)return;if(n.program.set(this.program),n.setDepthMode(d),n.setStencilMode(g),n.setColorMode(x),n.setCullFace(C),L){n.activeTexture.set(fe.TEXTURE2),fe.bindTexture(fe.TEXTURE_2D,L.depthTexture),n.activeTexture.set(fe.TEXTURE3),fe.bindTexture(fe.TEXTURE_2D,L.texture);for(const Re in this.terrainUniforms)this.terrainUniforms[Re].set(L[Re])}for(const Re in this.fixedUniforms)this.fixedUniforms[Re].set(M[Re]);de&&de.setUniforms(n,this.binderUniforms,pe,{zoom:ce});let Oe=0;switch(l){case fe.LINES:Oe=2;break;case fe.TRIANGLES:Oe=3;break;case fe.LINE_STRIP:Oe=1}for(const Re of J.get()){const Ze=Re.vaos||(Re.vaos={});(Ze[N]||(Ze[N]=new Za)).bind(n,this,q,de?de.getPaintVertexBuffers():[],$,Re.vertexOffset,Se,Ee,De),fe.drawElements(l,Re.primitiveLength*Oe,fe.UNSIGNED_SHORT,Re.primitiveOffset*Oe*2)}}}function ku(f,n,l){const d=1/gn(l,1,n.transform.tileZoom),g=Math.pow(2,l.tileID.overscaledZ),x=l.tileSize*Math.pow(2,n.transform.tileZoom)/g,C=x*(l.tileID.canonical.x+l.tileID.wrap*g),M=x*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_scale:[d,f.fromScale,f.toScale],u_fade:f.t,u_pixel_coord_upper:[C>>16,M>>16],u_pixel_coord_lower:[65535&C,65535&M]}}const Fl=(f,n,l,d)=>{const g=n.style.light,x=g.properties.get("position"),C=[x.x,x.y,x.z],M=a.create$1();g.properties.get("anchor")==="viewport"&&a.fromRotation(M,-n.transform.angle),a.transformMat3(C,C,M);const L=g.properties.get("color");return{u_matrix:f,u_lightpos:C,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[L.r,L.g,L.b],u_vertical_gradient:+l,u_opacity:d}},ts=(f,n,l,d,g,x,C)=>a.extend(Fl(f,n,l,d),ku(x,n,C),{u_height_factor:-Math.pow(2,g.overscaledZ)/C.tileSize/8}),oa=f=>({u_matrix:f}),ao=(f,n,l,d)=>a.extend(oa(f),ku(l,n,d)),Pu=(f,n)=>({u_matrix:f,u_world:n}),Iu=(f,n,l,d,g)=>a.extend(ao(f,n,l,d),{u_world:g}),qs=(f,n,l,d)=>{const g=f.transform;let x,C;if(d.paint.get("circle-pitch-alignment")==="map"){const M=gn(l,1,g.zoom);x=!0,C=[M,M]}else x=!1,C=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(d.paint.get("circle-pitch-scale")==="map"),u_matrix:f.translatePosMatrix(n.posMatrix,l,d.paint.get("circle-translate"),d.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:f.pixelRatio,u_extrude_scale:C}},Ir=(f,n,l)=>{const d=gn(l,1,n.zoom),g=Math.pow(2,n.zoom-l.tileID.overscaledZ),x=l.tileID.overscaleFactor();return{u_matrix:f,u_camera_to_center_distance:n.cameraToCenterDistance,u_pixels_to_tile_units:d,u_extrude_scale:[n.pixelsToGLUnits[0]/(d*g),n.pixelsToGLUnits[1]/(d*g)],u_overscale_factor:x}},lo=(f,n,l=1)=>({u_matrix:f,u_color:n,u_overlay:0,u_overlay_scale:l}),No=f=>({u_matrix:f}),aa=(f,n,l,d)=>({u_matrix:f,u_extrude_scale:gn(n,1,l),u_intensity:d});function la(f,n){const l=Math.pow(2,n.canonical.z),d=n.canonical.y;return[new a.MercatorCoordinate(0,d/l).toLngLat().lat,new a.MercatorCoordinate(0,(d+1)/l).toLngLat().lat]}const gs=(f,n,l,d)=>{const g=f.transform;return{u_matrix:ca(f,n,l,d),u_ratio:1/gn(n,1,g.zoom),u_device_pixel_ratio:f.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},$a=(f,n,l,d,g)=>a.extend(gs(f,n,l,g),{u_image:0,u_image_height:d}),Oo=(f,n,l,d,g)=>{const x=f.transform,C=pn(n,x);return{u_matrix:ca(f,n,l,g),u_texsize:n.imageAtlasTexture.size,u_ratio:1/gn(n,1,x.zoom),u_device_pixel_ratio:f.pixelRatio,u_image:0,u_scale:[C,d.fromScale,d.toScale],u_fade:d.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},ua=(f,n,l,d,g,x)=>{const C=f.lineAtlas,M=pn(n,f.transform),L=l.layout.get("line-cap")==="round",N=C.getDash(d.from,L),q=C.getDash(d.to,L),$=N.width*g.fromScale,J=q.width*g.toScale;return a.extend(gs(f,n,l,x),{u_patternscale_a:[M/$,-N.height/2],u_patternscale_b:[M/J,-q.height/2],u_sdfgamma:C.width/(256*Math.min($,J)*f.pixelRatio)/2,u_image:0,u_tex_y_a:N.y,u_tex_y_b:q.y,u_mix:g.t})};function pn(f,n){return 1/gn(f,1,n.tileZoom)}function ca(f,n,l,d){return f.translatePosMatrix(d?d.posMatrix:n.tileID.posMatrix,n,l.paint.get("line-translate"),l.paint.get("line-translate-anchor"))}const Mu=(f,n,l,d,g)=>{return{u_matrix:f,u_tl_parent:n,u_scale_parent:l,u_buffer_scale:1,u_fade_t:d.mix,u_opacity:d.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(C=g.paint.get("raster-saturation"),C>0?1-1/(1.001-C):-C),u_contrast_factor:(x=g.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:Xa(g.paint.get("raster-hue-rotate"))};var x,C};function Xa(f){f*=Math.PI/180;const n=Math.sin(f),l=Math.cos(f);return[(2*l+1)/3,(-Math.sqrt(3)*n-l+1)/3,(Math.sqrt(3)*n-l+1)/3]}const Vl=(f,n,l,d,g,x,C,M,L,N)=>{const q=g.transform;return{u_is_size_zoom_constant:+(f==="constant"||f==="source"),u_is_size_feature_constant:+(f==="constant"||f==="camera"),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:q.cameraToCenterDistance,u_pitch:q.pitch/360*2*Math.PI,u_rotate_symbol:+l,u_aspect_ratio:q.width/q.height,u_fade_change:g.options.fadeDuration?g.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:C,u_coord_matrix:M,u_is_text:+L,u_pitch_with_map:+d,u_texsize:N,u_texture:0}},Ka=(f,n,l,d,g,x,C,M,L,N,q)=>{const $=g.transform;return a.extend(Vl(f,n,l,d,g,x,C,M,L,N),{u_gamma_scale:d?Math.cos($._pitch)*$.cameraToCenterDistance:1,u_device_pixel_ratio:g.pixelRatio,u_is_halo:+q})},zu=(f,n,l,d,g,x,C,M,L,N)=>a.extend(Ka(f,n,l,d,g,x,C,M,!0,L,!0),{u_texsize_icon:N,u_texture_icon:1}),Nc=(f,n,l)=>({u_matrix:f,u_opacity:n,u_color:l}),Oc=(f,n,l,d,g,x)=>a.extend(function(C,M,L,N){const q=L.imageManager.getPattern(C.from.toString()),$=L.imageManager.getPattern(C.to.toString()),{width:J,height:pe}=L.imageManager.getPixelSize(),ce=Math.pow(2,N.tileID.overscaledZ),de=N.tileSize*Math.pow(2,L.transform.tileZoom)/ce,Se=de*(N.tileID.canonical.x+N.tileID.wrap*ce),Ee=de*N.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:q.tl,u_pattern_br_a:q.br,u_pattern_tl_b:$.tl,u_pattern_br_b:$.br,u_texsize:[J,pe],u_mix:M.t,u_pattern_size_a:q.displaySize,u_pattern_size_b:$.displaySize,u_scale_a:M.fromScale,u_scale_b:M.toScale,u_tile_units_to_pixels:1/gn(N,1,L.transform.tileZoom),u_pixel_coord_upper:[Se>>16,Ee>>16],u_pixel_coord_lower:[65535&Se,65535&Ee]}}(d,x,l,g),{u_matrix:f,u_opacity:n}),Ul={fillExtrusion:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_lightpos:new a.Uniform3f(f,n.u_lightpos),u_lightintensity:new a.Uniform1f(f,n.u_lightintensity),u_lightcolor:new a.Uniform3f(f,n.u_lightcolor),u_vertical_gradient:new a.Uniform1f(f,n.u_vertical_gradient),u_opacity:new a.Uniform1f(f,n.u_opacity)}),fillExtrusionPattern:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_lightpos:new a.Uniform3f(f,n.u_lightpos),u_lightintensity:new a.Uniform1f(f,n.u_lightintensity),u_lightcolor:new a.Uniform3f(f,n.u_lightcolor),u_vertical_gradient:new a.Uniform1f(f,n.u_vertical_gradient),u_height_factor:new a.Uniform1f(f,n.u_height_factor),u_image:new a.Uniform1i(f,n.u_image),u_texsize:new a.Uniform2f(f,n.u_texsize),u_pixel_coord_upper:new a.Uniform2f(f,n.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(f,n.u_pixel_coord_lower),u_scale:new a.Uniform3f(f,n.u_scale),u_fade:new a.Uniform1f(f,n.u_fade),u_opacity:new a.Uniform1f(f,n.u_opacity)}),fill:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix)}),fillPattern:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_image:new a.Uniform1i(f,n.u_image),u_texsize:new a.Uniform2f(f,n.u_texsize),u_pixel_coord_upper:new a.Uniform2f(f,n.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(f,n.u_pixel_coord_lower),u_scale:new a.Uniform3f(f,n.u_scale),u_fade:new a.Uniform1f(f,n.u_fade)}),fillOutline:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_world:new a.Uniform2f(f,n.u_world)}),fillOutlinePattern:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_world:new a.Uniform2f(f,n.u_world),u_image:new a.Uniform1i(f,n.u_image),u_texsize:new a.Uniform2f(f,n.u_texsize),u_pixel_coord_upper:new a.Uniform2f(f,n.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(f,n.u_pixel_coord_lower),u_scale:new a.Uniform3f(f,n.u_scale),u_fade:new a.Uniform1f(f,n.u_fade)}),circle:(f,n)=>({u_camera_to_center_distance:new a.Uniform1f(f,n.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(f,n.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(f,n.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(f,n.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(f,n.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(f,n.u_matrix)}),collisionBox:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_camera_to_center_distance:new a.Uniform1f(f,n.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(f,n.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(f,n.u_extrude_scale),u_overscale_factor:new a.Uniform1f(f,n.u_overscale_factor)}),collisionCircle:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_inv_matrix:new a.UniformMatrix4f(f,n.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(f,n.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(f,n.u_viewport_size)}),debug:(f,n)=>({u_color:new a.UniformColor(f,n.u_color),u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_overlay:new a.Uniform1i(f,n.u_overlay),u_overlay_scale:new a.Uniform1f(f,n.u_overlay_scale)}),clippingMask:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix)}),heatmap:(f,n)=>({u_extrude_scale:new a.Uniform1f(f,n.u_extrude_scale),u_intensity:new a.Uniform1f(f,n.u_intensity),u_matrix:new a.UniformMatrix4f(f,n.u_matrix)}),heatmapTexture:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_world:new a.Uniform2f(f,n.u_world),u_image:new a.Uniform1i(f,n.u_image),u_color_ramp:new a.Uniform1i(f,n.u_color_ramp),u_opacity:new a.Uniform1f(f,n.u_opacity)}),hillshade:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_image:new a.Uniform1i(f,n.u_image),u_latrange:new a.Uniform2f(f,n.u_latrange),u_light:new a.Uniform2f(f,n.u_light),u_shadow:new a.UniformColor(f,n.u_shadow),u_highlight:new a.UniformColor(f,n.u_highlight),u_accent:new a.UniformColor(f,n.u_accent)}),hillshadePrepare:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_image:new a.Uniform1i(f,n.u_image),u_dimension:new a.Uniform2f(f,n.u_dimension),u_zoom:new a.Uniform1f(f,n.u_zoom),u_unpack:new a.Uniform4f(f,n.u_unpack)}),line:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_ratio:new a.Uniform1f(f,n.u_ratio),u_device_pixel_ratio:new a.Uniform1f(f,n.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(f,n.u_units_to_pixels)}),lineGradient:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_ratio:new a.Uniform1f(f,n.u_ratio),u_device_pixel_ratio:new a.Uniform1f(f,n.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(f,n.u_units_to_pixels),u_image:new a.Uniform1i(f,n.u_image),u_image_height:new a.Uniform1f(f,n.u_image_height)}),linePattern:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_texsize:new a.Uniform2f(f,n.u_texsize),u_ratio:new a.Uniform1f(f,n.u_ratio),u_device_pixel_ratio:new a.Uniform1f(f,n.u_device_pixel_ratio),u_image:new a.Uniform1i(f,n.u_image),u_units_to_pixels:new a.Uniform2f(f,n.u_units_to_pixels),u_scale:new a.Uniform3f(f,n.u_scale),u_fade:new a.Uniform1f(f,n.u_fade)}),lineSDF:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_ratio:new a.Uniform1f(f,n.u_ratio),u_device_pixel_ratio:new a.Uniform1f(f,n.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(f,n.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(f,n.u_patternscale_a),u_patternscale_b:new a.Uniform2f(f,n.u_patternscale_b),u_sdfgamma:new a.Uniform1f(f,n.u_sdfgamma),u_image:new a.Uniform1i(f,n.u_image),u_tex_y_a:new a.Uniform1f(f,n.u_tex_y_a),u_tex_y_b:new a.Uniform1f(f,n.u_tex_y_b),u_mix:new a.Uniform1f(f,n.u_mix)}),raster:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_tl_parent:new a.Uniform2f(f,n.u_tl_parent),u_scale_parent:new a.Uniform1f(f,n.u_scale_parent),u_buffer_scale:new a.Uniform1f(f,n.u_buffer_scale),u_fade_t:new a.Uniform1f(f,n.u_fade_t),u_opacity:new a.Uniform1f(f,n.u_opacity),u_image0:new a.Uniform1i(f,n.u_image0),u_image1:new a.Uniform1i(f,n.u_image1),u_brightness_low:new a.Uniform1f(f,n.u_brightness_low),u_brightness_high:new a.Uniform1f(f,n.u_brightness_high),u_saturation_factor:new a.Uniform1f(f,n.u_saturation_factor),u_contrast_factor:new a.Uniform1f(f,n.u_contrast_factor),u_spin_weights:new a.Uniform3f(f,n.u_spin_weights)}),symbolIcon:(f,n)=>({u_is_size_zoom_constant:new a.Uniform1i(f,n.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(f,n.u_is_size_feature_constant),u_size_t:new a.Uniform1f(f,n.u_size_t),u_size:new a.Uniform1f(f,n.u_size),u_camera_to_center_distance:new a.Uniform1f(f,n.u_camera_to_center_distance),u_pitch:new a.Uniform1f(f,n.u_pitch),u_rotate_symbol:new a.Uniform1i(f,n.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(f,n.u_aspect_ratio),u_fade_change:new a.Uniform1f(f,n.u_fade_change),u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(f,n.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(f,n.u_coord_matrix),u_is_text:new a.Uniform1i(f,n.u_is_text),u_pitch_with_map:new a.Uniform1i(f,n.u_pitch_with_map),u_texsize:new a.Uniform2f(f,n.u_texsize),u_texture:new a.Uniform1i(f,n.u_texture)}),symbolSDF:(f,n)=>({u_is_size_zoom_constant:new a.Uniform1i(f,n.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(f,n.u_is_size_feature_constant),u_size_t:new a.Uniform1f(f,n.u_size_t),u_size:new a.Uniform1f(f,n.u_size),u_camera_to_center_distance:new a.Uniform1f(f,n.u_camera_to_center_distance),u_pitch:new a.Uniform1f(f,n.u_pitch),u_rotate_symbol:new a.Uniform1i(f,n.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(f,n.u_aspect_ratio),u_fade_change:new a.Uniform1f(f,n.u_fade_change),u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(f,n.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(f,n.u_coord_matrix),u_is_text:new a.Uniform1i(f,n.u_is_text),u_pitch_with_map:new a.Uniform1i(f,n.u_pitch_with_map),u_texsize:new a.Uniform2f(f,n.u_texsize),u_texture:new a.Uniform1i(f,n.u_texture),u_gamma_scale:new a.Uniform1f(f,n.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(f,n.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(f,n.u_is_halo)}),symbolTextAndIcon:(f,n)=>({u_is_size_zoom_constant:new a.Uniform1i(f,n.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(f,n.u_is_size_feature_constant),u_size_t:new a.Uniform1f(f,n.u_size_t),u_size:new a.Uniform1f(f,n.u_size),u_camera_to_center_distance:new a.Uniform1f(f,n.u_camera_to_center_distance),u_pitch:new a.Uniform1f(f,n.u_pitch),u_rotate_symbol:new a.Uniform1i(f,n.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(f,n.u_aspect_ratio),u_fade_change:new a.Uniform1f(f,n.u_fade_change),u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(f,n.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(f,n.u_coord_matrix),u_is_text:new a.Uniform1i(f,n.u_is_text),u_pitch_with_map:new a.Uniform1i(f,n.u_pitch_with_map),u_texsize:new a.Uniform2f(f,n.u_texsize),u_texsize_icon:new a.Uniform2f(f,n.u_texsize_icon),u_texture:new a.Uniform1i(f,n.u_texture),u_texture_icon:new a.Uniform1i(f,n.u_texture_icon),u_gamma_scale:new a.Uniform1f(f,n.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(f,n.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(f,n.u_is_halo)}),background:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_opacity:new a.Uniform1f(f,n.u_opacity),u_color:new a.UniformColor(f,n.u_color)}),backgroundPattern:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_opacity:new a.Uniform1f(f,n.u_opacity),u_image:new a.Uniform1i(f,n.u_image),u_pattern_tl_a:new a.Uniform2f(f,n.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(f,n.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(f,n.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(f,n.u_pattern_br_b),u_texsize:new a.Uniform2f(f,n.u_texsize),u_mix:new a.Uniform1f(f,n.u_mix),u_pattern_size_a:new a.Uniform2f(f,n.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(f,n.u_pattern_size_b),u_scale_a:new a.Uniform1f(f,n.u_scale_a),u_scale_b:new a.Uniform1f(f,n.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(f,n.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(f,n.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(f,n.u_tile_units_to_pixels)}),terrain:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_texture:new a.Uniform1i(f,n.u_texture)}),terrainDepth:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix)}),terrainCoords:(f,n)=>({u_matrix:new a.UniformMatrix4f(f,n.u_matrix),u_texture:new a.Uniform1i(f,n.u_texture),u_terrain_coords_id:new a.Uniform1f(f,n.u_terrain_coords_id)})};class jl{constructor(n,l,d){this.context=n;const g=n.gl;this.buffer=g.createBuffer(),this.dynamicDraw=Boolean(d),this.context.unbindVAO(),n.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(n){const l=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,n.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ya={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ha{constructor(n,l,d,g){this.length=l.length,this.attributes=d,this.itemSize=l.bytesPerElement,this.dynamicDraw=g,this.context=n;const x=n.gl;this.buffer=x.createBuffer(),n.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(n){if(n.length!==this.length)throw new Error(`Length of new data is ${n.length}, which doesn't match current length of ${this.length}`);const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,n.arrayBuffer)}enableAttributes(n,l){for(let d=0;d<this.attributes.length;d++){const g=l.attributes[this.attributes[d].name];g!==void 0&&n.enableVertexAttribArray(g)}}setVertexAttribPointers(n,l,d){for(let g=0;g<this.attributes.length;g++){const x=this.attributes[g],C=l.attributes[x.name];C!==void 0&&n.vertexAttribPointer(C,x.components,n[Ya[x.type]],!1,this.itemSize,x.offset+this.itemSize*(d||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ni{constructor(n){this.gl=n.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(n){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Qa extends Ni{getDefault(){return a.Color.transparent}set(n){const l=this.current;(n.r!==l.r||n.g!==l.g||n.b!==l.b||n.a!==l.a||this.dirty)&&(this.gl.clearColor(n.r,n.g,n.b,n.a),this.current=n,this.dirty=!1)}}class Du extends Ni{getDefault(){return 1}set(n){(n!==this.current||this.dirty)&&(this.gl.clearDepth(n),this.current=n,this.dirty=!1)}}class Fo extends Ni{getDefault(){return 0}set(n){(n!==this.current||this.dirty)&&(this.gl.clearStencil(n),this.current=n,this.dirty=!1)}}class uo extends Ni{getDefault(){return[!0,!0,!0,!0]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||n[2]!==l[2]||n[3]!==l[3]||this.dirty)&&(this.gl.colorMask(n[0],n[1],n[2],n[3]),this.current=n,this.dirty=!1)}}class Lu extends Ni{getDefault(){return!0}set(n){(n!==this.current||this.dirty)&&(this.gl.depthMask(n),this.current=n,this.dirty=!1)}}class Mr extends Ni{getDefault(){return 255}set(n){(n!==this.current||this.dirty)&&(this.gl.stencilMask(n),this.current=n,this.dirty=!1)}}class ql extends Ni{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(n){const l=this.current;(n.func!==l.func||n.ref!==l.ref||n.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(n.func,n.ref,n.mask),this.current=n,this.dirty=!1)}}class Gs extends Ni{getDefault(){const n=this.gl;return[n.KEEP,n.KEEP,n.KEEP]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||n[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(n[0],n[1],n[2]),this.current=n,this.dirty=!1)}}class da extends Ni{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;n?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=n,this.dirty=!1}}class pa extends Ni{getDefault(){return[0,1]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||this.dirty)&&(this.gl.depthRange(n[0],n[1]),this.current=n,this.dirty=!1)}}class Gl extends Ni{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;n?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=n,this.dirty=!1}}class Ja extends Ni{getDefault(){return this.gl.LESS}set(n){(n!==this.current||this.dirty)&&(this.gl.depthFunc(n),this.current=n,this.dirty=!1)}}class Wl extends Ni{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;n?l.enable(l.BLEND):l.disable(l.BLEND),this.current=n,this.dirty=!1}}class v extends Ni{getDefault(){const n=this.gl;return[n.ONE,n.ZERO]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||this.dirty)&&(this.gl.blendFunc(n[0],n[1]),this.current=n,this.dirty=!1)}}class b extends Ni{getDefault(){return a.Color.transparent}set(n){const l=this.current;(n.r!==l.r||n.g!==l.g||n.b!==l.b||n.a!==l.a||this.dirty)&&(this.gl.blendColor(n.r,n.g,n.b,n.a),this.current=n,this.dirty=!1)}}class P extends Ni{getDefault(){return this.gl.FUNC_ADD}set(n){(n!==this.current||this.dirty)&&(this.gl.blendEquation(n),this.current=n,this.dirty=!1)}}class R extends Ni{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;n?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=n,this.dirty=!1}}class W extends Ni{getDefault(){return this.gl.BACK}set(n){(n!==this.current||this.dirty)&&(this.gl.cullFace(n),this.current=n,this.dirty=!1)}}class Z extends Ni{getDefault(){return this.gl.CCW}set(n){(n!==this.current||this.dirty)&&(this.gl.frontFace(n),this.current=n,this.dirty=!1)}}class ee extends Ni{getDefault(){return null}set(n){(n!==this.current||this.dirty)&&(this.gl.useProgram(n),this.current=n,this.dirty=!1)}}class be extends Ni{getDefault(){return this.gl.TEXTURE0}set(n){(n!==this.current||this.dirty)&&(this.gl.activeTexture(n),this.current=n,this.dirty=!1)}}class _e extends Ni{getDefault(){const n=this.gl;return[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||n[2]!==l[2]||n[3]!==l[3]||this.dirty)&&(this.gl.viewport(n[0],n[1],n[2],n[3]),this.current=n,this.dirty=!1)}}class ze extends Ni{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,n),this.current=n,this.dirty=!1}}class We extends Ni{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class ut extends Ni{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,n),this.current=n,this.dirty=!1}}class Fe extends Ni{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,n),this.current=n,this.dirty=!1}}class Ye extends Ni{getDefault(){return null}set(n){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,n),this.current=n,this.dirty=!1}}class Wt extends Ni{constructor(n){super(n),this.vao=n.extVertexArrayObject}getDefault(){return null}set(n){this.vao&&(n!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(n),this.current=n,this.dirty=!1)}}class li extends Ni{getDefault(){return 4}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,n),this.current=n,this.dirty=!1}}class $t extends Ni{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n),this.current=n,this.dirty=!1}}class Dn extends Ni{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,n),this.current=n,this.dirty=!1}}class xn extends Ni{constructor(n,l){super(n),this.context=n,this.parent=l}getDefault(){return null}}class Fn extends xn{setDirty(){this.dirty=!0}set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,n,0),this.current=n,this.dirty=!1}}class Qi extends xn{set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class ai{constructor(n,l,d,g){this.context=n,this.width=l,this.height=d;const x=n.gl,C=this.framebuffer=x.createFramebuffer();if(this.colorAttachment=new Fn(n,C),g&&(this.depthAttachment=new Qi(n,C)),x.checkFramebufferStatus(x.FRAMEBUFFER)!==x.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const n=this.context.gl,l=this.colorAttachment.get();if(l&&n.deleteTexture(l),this.depthAttachment){const d=this.depthAttachment.get();d&&n.deleteRenderbuffer(d)}n.deleteFramebuffer(this.framebuffer)}}class Ci{constructor(n,l,d){this.blendFunction=n,this.blendColor=l,this.mask=d}}Ci.Replace=[1,0],Ci.disabled=new Ci(Ci.Replace,a.Color.transparent,[!1,!1,!1,!1]),Ci.unblended=new Ci(Ci.Replace,a.Color.transparent,[!0,!0,!0,!0]),Ci.alphaBlended=new Ci([1,771],a.Color.transparent,[!0,!0,!0,!0]);class Oi{constructor(n){this.gl=n,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Qa(this),this.clearDepth=new Du(this),this.clearStencil=new Fo(this),this.colorMask=new uo(this),this.depthMask=new Lu(this),this.stencilMask=new Mr(this),this.stencilFunc=new ql(this),this.stencilOp=new Gs(this),this.stencilTest=new da(this),this.depthRange=new pa(this),this.depthTest=new Gl(this),this.depthFunc=new Ja(this),this.blend=new Wl(this),this.blendFunc=new v(this),this.blendColor=new b(this),this.blendEquation=new P(this),this.cullFace=new R(this),this.cullFaceSide=new W(this),this.frontFace=new Z(this),this.program=new ee(this),this.activeTexture=new be(this),this.viewport=new _e(this),this.bindFramebuffer=new ze(this),this.bindRenderbuffer=new We(this),this.bindTexture=new ut(this),this.bindVertexBuffer=new Fe(this),this.bindElementBuffer=new Ye(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Wt(this),this.pixelStoreUnpack=new li(this),this.pixelStoreUnpackPremultiplyAlpha=new $t(this),this.pixelStoreUnpackFlipY=new Dn(this),this.extTextureFilterAnisotropic=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=n.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=n.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(n.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=n.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=n.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(n,l){return new jl(this,n,l)}createVertexBuffer(n,l,d){return new ha(this,n,l,d)}createRenderbuffer(n,l,d){const g=this.gl,x=g.createRenderbuffer();return this.bindRenderbuffer.set(x),g.renderbufferStorage(g.RENDERBUFFER,n,l,d),this.bindRenderbuffer.set(null),x}createFramebuffer(n,l,d){return new ai(this,n,l,d)}clear({color:n,depth:l}){const d=this.gl;let g=0;n&&(g|=d.COLOR_BUFFER_BIT,this.clearColor.set(n),this.colorMask.set([!0,!0,!0,!0])),l!==void 0&&(g|=d.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),d.clear(g)}setCullFace(n){n.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(n.mode),this.frontFace.set(n.frontFace))}setDepthMode(n){n.func!==this.gl.ALWAYS||n.mask?(this.depthTest.set(!0),this.depthFunc.set(n.func),this.depthMask.set(n.mask),this.depthRange.set(n.range)):this.depthTest.set(!1)}setStencilMode(n){n.test.func!==this.gl.ALWAYS||n.mask?(this.stencilTest.set(!0),this.stencilMask.set(n.mask),this.stencilOp.set([n.fail,n.depthFail,n.pass]),this.stencilFunc.set({func:n.test.func,ref:n.ref,mask:n.test.mask})):this.stencilTest.set(!1)}setColorMode(n){j(n.blendFunction,Ci.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class qt{constructor(n,l,d){this.func=n,this.mask=l,this.range=d}}qt.ReadOnly=!1,qt.ReadWrite=!0,qt.disabled=new qt(519,qt.ReadOnly,[0,1]);const Mi=7680;class Ki{constructor(n,l,d,g,x,C){this.test=n,this.ref=l,this.mask=d,this.fail=g,this.depthFail=x,this.pass=C}}Ki.disabled=new Ki({func:519,mask:0},0,0,Mi,Mi,Mi);class zi{constructor(n,l,d){this.enable=n,this.mode=l,this.frontFace=d}}let is;function jr(f,n,l,d,g,x,C){const M=f.context,L=M.gl,N=f.useProgram("collisionBox"),q=[];let $=0,J=0;for(let fe=0;fe<d.length;fe++){const Oe=d[fe],Re=n.getTile(Oe),Ze=Re.getBucket(l);if(!Ze)continue;let Xe=Oe.posMatrix;g[0]===0&&g[1]===0||(Xe=f.translatePosMatrix(Oe.posMatrix,Re,g,x));const lt=C?Ze.textCollisionBox:Ze.iconCollisionBox,Ge=Ze.collisionCircleArray;if(Ge.length>0){const Ct=a.create(),yt=Xe;a.mul(Ct,Ze.placementInvProjMatrix,f.transform.glCoordMatrix),a.mul(Ct,Ct,Ze.placementViewportMatrix),q.push({circleArray:Ge,circleOffset:J,transform:yt,invTransform:Ct,coord:Oe}),$+=Ge.length/4,J=$}lt&&N.draw(M,L.LINES,qt.disabled,Ki.disabled,f.colorModeForRenderPass(),zi.disabled,Ir(Xe,f.transform,Re),f.style.terrain&&f.style.terrain.getTerrainData(Oe),l.id,lt.layoutVertexBuffer,lt.indexBuffer,lt.segments,null,f.transform.zoom,null,null,lt.collisionVertexBuffer)}if(!C||!q.length)return;const pe=f.useProgram("collisionCircle"),ce=new a.CollisionCircleLayoutArray;ce.resize(4*$),ce._trim();let de=0;for(const fe of q)for(let Oe=0;Oe<fe.circleArray.length/4;Oe++){const Re=4*Oe,Ze=fe.circleArray[Re+0],Xe=fe.circleArray[Re+1],lt=fe.circleArray[Re+2],Ge=fe.circleArray[Re+3];ce.emplace(de++,Ze,Xe,lt,Ge,0),ce.emplace(de++,Ze,Xe,lt,Ge,1),ce.emplace(de++,Ze,Xe,lt,Ge,2),ce.emplace(de++,Ze,Xe,lt,Ge,3)}(!is||is.length<2*$)&&(is=function(fe){const Oe=2*fe,Re=new a.QuadTriangleArray;Re.resize(Oe),Re._trim();for(let Ze=0;Ze<Oe;Ze++){const Xe=6*Ze;Re.uint16[Xe+0]=4*Ze+0,Re.uint16[Xe+1]=4*Ze+1,Re.uint16[Xe+2]=4*Ze+2,Re.uint16[Xe+3]=4*Ze+2,Re.uint16[Xe+4]=4*Ze+3,Re.uint16[Xe+5]=4*Ze+0}return Re}($));const Se=M.createIndexBuffer(is,!0),Ee=M.createVertexBuffer(ce,a.collisionCircleLayout.members,!0);for(const fe of q){const Oe={u_matrix:fe.transform,u_inv_matrix:fe.invTransform,u_camera_to_center_distance:(De=f.transform).cameraToCenterDistance,u_viewport_size:[De.width,De.height]};pe.draw(M,L.TRIANGLES,qt.disabled,Ki.disabled,f.colorModeForRenderPass(),zi.disabled,Oe,f.style.terrain&&f.style.terrain.getTerrainData(fe.coord),l.id,Ee,Se,a.SegmentVector.simpleSegment(0,2*fe.circleOffset,fe.circleArray.length,fe.circleArray.length/2),null,f.transform.zoom,null,null,null)}var De;Ee.destroy(),Se.destroy()}zi.disabled=new zi(!1,1029,2305),zi.backCCW=new zi(!0,1029,2305);const _r=a.identity(new Float32Array(16));function Ws(f,n,l,d,g,x){const{horizontalAlign:C,verticalAlign:M}=a.getAnchorAlignment(f),L=-(C-.5)*n,N=-(M-.5)*l,q=a.evaluateVariableOffset(f,d);return new a.pointGeometry((L/g+q[0])*x,(N/g+q[1])*x)}function zr(f,n,l,d,g,x,C,M,L,N,q){const $=f.text.placedSymbolArray,J=f.text.dynamicLayoutVertexArray,pe=f.icon.dynamicLayoutVertexArray,ce={};J.clear();for(let de=0;de<$.length;de++){const Se=$.get(de),Ee=f.allowVerticalPlacement&&!Se.placedOrientation,De=Se.hidden||!Se.crossTileID||Ee?null:d[Se.crossTileID];if(De){const fe=new a.pointGeometry(Se.anchorX,Se.anchorY),Oe=it(fe,l?C:x,q),Re=Ft(g.cameraToCenterDistance,Oe.signedDistanceFromCamera);let Ze=a.evaluateSizeForFeature(f.textSizeData,L,Se)*Re/a.ONE_EM;l&&(Ze*=f.tilePixelRatio/M);const{width:Xe,height:lt,anchor:Ge,textOffset:Ct,textBoxScale:yt}=De,kt=Ws(Ge,Xe,lt,Ct,yt,Ze),pi=l?it(fe.add(kt),x,q).point:Oe.point.add(n?kt.rotate(-g.angle):kt),xi=f.allowVerticalPlacement&&Se.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let Ht=0;Ht<Se.numGlyphs;Ht++)a.addDynamicAttributes(J,pi,xi);N&&Se.associatedIconIndex>=0&&(ce[Se.associatedIconIndex]={shiftedAnchor:pi,angle:xi})}else Bt(Se.numGlyphs,J)}if(N){pe.clear();const de=f.icon.placedSymbolArray;for(let Se=0;Se<de.length;Se++){const Ee=de.get(Se);if(Ee.hidden)Bt(Ee.numGlyphs,pe);else{const De=ce[Se];if(De)for(let fe=0;fe<Ee.numGlyphs;fe++)a.addDynamicAttributes(pe,De.shiftedAnchor,De.angle);else Bt(Ee.numGlyphs,pe)}}f.icon.dynamicLayoutVertexBuffer.updateData(pe)}f.text.dynamicLayoutVertexBuffer.updateData(J)}function Hs(f,n,l){return l.iconsInText&&n?"symbolTextAndIcon":f?"symbolSDF":"symbolIcon"}function fa(f,n,l,d,g,x,C,M,L,N,q,$){const J=f.context,pe=J.gl,ce=f.transform,de=M==="map",Se=L==="map",Ee=M!=="viewport"&&l.layout.get("symbol-placement")!=="point",De=de&&!Se&&!Ee,fe=!l.layout.get("symbol-sort-key").isConstant();let Oe=!1;const Re=f.depthModeForSublayer(0,qt.ReadOnly),Ze=l.layout.get("text-variable-anchor"),Xe=[];for(const lt of d){const Ge=n.getTile(lt),Ct=Ge.getBucket(l);if(!Ct)continue;const yt=g?Ct.text:Ct.icon;if(!yt||!yt.segments.get().length)continue;const kt=yt.programConfigurations.get(l.id),pi=g||Ct.sdfIcons,xi=g?Ct.textSizeData:Ct.iconSizeData,Ht=Se||ce.pitch!==0,Ji=f.useProgram(Hs(pi,g,Ct),kt),en=a.evaluateSizeForZoom(xi,ce.zoom),Ri=f.style.terrain&&f.style.terrain.getTerrainData(lt);let Vi,rn,or,Xs,Ps=[0,0],Ks=null;if(g){if(rn=Ge.glyphAtlasTexture,or=pe.LINEAR,Vi=Ge.glyphAtlasTexture.size,Ct.iconsInText){Ps=Ge.imageAtlasTexture.size,Ks=Ge.imageAtlasTexture;const _s=xi.kind==="composite"||xi.kind==="camera";Xs=Ht||f.options.rotating||f.options.zooming||_s?pe.LINEAR:pe.NEAREST}}else{const _s=l.layout.get("icon-size").constantOr(0)!==1||Ct.iconsNeedLinear;rn=Ge.imageAtlasTexture,or=pi||f.options.rotating||f.options.zooming||_s||Ht?pe.LINEAR:pe.NEAREST,Vi=Ge.imageAtlasTexture.size}const Xo=gn(Ge,1,f.transform.zoom),vs=Hn(lt.posMatrix,Se,de,f.transform,Xo),Zr=dn(lt.posMatrix,Se,de,f.transform,Xo),mo=Ze&&Ct.hasTextData(),Fu=l.layout.get("icon-text-fit")!=="none"&&mo&&Ct.hasIconData();if(Ee){const _s=f.style.terrain?(qc,al)=>f.style.terrain.getElevation(lt,qc,al):null,Ta=l.layout.get("text-rotation-alignment")==="map";Si(Ct,lt.posMatrix,f,g,vs,Zr,Se,N,Ta,_s)}const er=f.translatePosMatrix(lt.posMatrix,Ge,x,C),Ei=Ee||g&&Ze||Fu?_r:vs,Yi=f.translatePosMatrix(Zr,Ge,x,C,!0),ar=pi&&l.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let lr;lr=pi?Ct.iconsInText?zu(xi.kind,en,De,Se,f,er,Ei,Yi,Vi,Ps):Ka(xi.kind,en,De,Se,f,er,Ei,Yi,g,Vi,!0):Vl(xi.kind,en,De,Se,f,er,Ei,Yi,g,Vi);const bn={program:Ji,buffers:yt,uniformValues:lr,atlasTexture:rn,atlasTextureIcon:Ks,atlasInterpolation:or,atlasInterpolationIcon:Xs,isSDF:pi,hasHalo:ar};if(fe&&Ct.canOverlap){Oe=!0;const _s=yt.segments.get();for(const Ta of _s)Xe.push({segments:new a.SegmentVector([Ta]),sortKey:Ta.sortKey,state:bn,terrainData:Ri})}else Xe.push({segments:yt.segments,sortKey:0,state:bn,terrainData:Ri})}Oe&&Xe.sort((lt,Ge)=>lt.sortKey-Ge.sortKey);for(const lt of Xe){const Ge=lt.state;if(J.activeTexture.set(pe.TEXTURE0),Ge.atlasTexture.bind(Ge.atlasInterpolation,pe.CLAMP_TO_EDGE),Ge.atlasTextureIcon&&(J.activeTexture.set(pe.TEXTURE1),Ge.atlasTextureIcon&&Ge.atlasTextureIcon.bind(Ge.atlasInterpolationIcon,pe.CLAMP_TO_EDGE)),Ge.isSDF){const Ct=Ge.uniformValues;Ge.hasHalo&&(Ct.u_is_halo=1,ns(Ge.buffers,lt.segments,l,f,Ge.program,Re,q,$,Ct,lt.terrainData)),Ct.u_is_halo=0}ns(Ge.buffers,lt.segments,l,f,Ge.program,Re,q,$,Ge.uniformValues,lt.terrainData)}}function ns(f,n,l,d,g,x,C,M,L,N){const q=d.context;g.draw(q,q.gl.TRIANGLES,x,C,M,zi.disabled,L,N,l.id,f.layoutVertexBuffer,f.indexBuffer,n,l.paint,d.transform.zoom,f.programConfigurations.get(l.id),f.dynamicLayoutVertexBuffer,f.opacityVertexBuffer)}function co(f,n,l,d,g,x,C){const M=f.context.gl,L=l.paint.get("fill-pattern"),N=L&&L.constantOr(1),q=l.getCrossfadeParameters();let $,J,pe,ce,de;C?(J=N&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",$=M.LINES):(J=N?"fillPattern":"fill",$=M.TRIANGLES);for(const Se of d){const Ee=n.getTile(Se);if(N&&!Ee.patternsLoaded())continue;const De=Ee.getBucket(l);if(!De)continue;const fe=De.programConfigurations.get(l.id),Oe=f.useProgram(J,fe),Re=f.style.terrain&&f.style.terrain.getTerrainData(Se);N&&(f.context.activeTexture.set(M.TEXTURE0),Ee.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),fe.updatePaintBuffers(q));const Ze=L.constantOr(null);if(Ze&&Ee.imageAtlas){const Ge=Ee.imageAtlas,Ct=Ge.patternPositions[Ze.to.toString()],yt=Ge.patternPositions[Ze.from.toString()];Ct&&yt&&fe.setConstantPatternPositions(Ct,yt)}const Xe=Re?Se:null,lt=f.translatePosMatrix(Xe?Xe.posMatrix:Se.posMatrix,Ee,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor"));if(C){ce=De.indexBuffer2,de=De.segments2;const Ge=[M.drawingBufferWidth,M.drawingBufferHeight];pe=J==="fillOutlinePattern"&&N?Iu(lt,f,q,Ee,Ge):Pu(lt,Ge)}else ce=De.indexBuffer,de=De.segments,pe=N?ao(lt,f,q,Ee):oa(lt);Oe.draw(f.context,$,g,f.stencilModeForClipping(Se),x,zi.disabled,pe,Re,l.id,De.layoutVertexBuffer,ce,de,l.paint,f.transform.zoom,fe)}}function Fi(f,n,l,d,g,x,C){const M=f.context,L=M.gl,N=l.paint.get("fill-extrusion-pattern"),q=N.constantOr(1),$=l.getCrossfadeParameters(),J=l.paint.get("fill-extrusion-opacity");for(const pe of d){const ce=n.getTile(pe),de=ce.getBucket(l);if(!de)continue;const Se=f.style.terrain&&f.style.terrain.getTerrainData(pe),Ee=de.programConfigurations.get(l.id),De=f.useProgram(q?"fillExtrusionPattern":"fillExtrusion",Ee);q&&(f.context.activeTexture.set(L.TEXTURE0),ce.imageAtlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE),Ee.updatePaintBuffers($));const fe=N.constantOr(null);if(fe&&ce.imageAtlas){const Xe=ce.imageAtlas,lt=Xe.patternPositions[fe.to.toString()],Ge=Xe.patternPositions[fe.from.toString()];lt&&Ge&&Ee.setConstantPatternPositions(lt,Ge)}const Oe=f.translatePosMatrix(pe.posMatrix,ce,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Re=l.paint.get("fill-extrusion-vertical-gradient"),Ze=q?ts(Oe,f,Re,J,pe,$,ce):Fl(Oe,f,Re,J);De.draw(M,M.gl.TRIANGLES,g,x,C,zi.backCCW,Ze,Se,l.id,de.layoutVertexBuffer,de.indexBuffer,de.segments,l.paint,f.transform.zoom,Ee,f.style.terrain&&de.centroidVertexBuffer)}}function As(f,n,l,d,g,x,C){const M=f.context,L=M.gl,N=l.fbo;if(!N)return;const q=f.useProgram("hillshade"),$=f.style.terrain&&f.style.terrain.getTerrainData(n);M.activeTexture.set(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,N.colorAttachment.get()),q.draw(M,L.TRIANGLES,g,x,C,zi.disabled,((J,pe,ce,de)=>{const Se=ce.paint.get("hillshade-shadow-color"),Ee=ce.paint.get("hillshade-highlight-color"),De=ce.paint.get("hillshade-accent-color");let fe=ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(fe-=J.transform.angle);const Oe=!J.options.moving;return{u_matrix:de?de.posMatrix:J.transform.calculatePosMatrix(pe.tileID.toUnwrapped(),Oe),u_image:0,u_latrange:la(0,pe.tileID),u_light:[ce.paint.get("hillshade-exaggeration"),fe],u_shadow:Se,u_highlight:Ee,u_accent:De}})(f,l,d,$?n:null),$,d.id,f.rasterBoundsBuffer,f.quadTriangleIndexBuffer,f.rasterBoundsSegments)}function Hl(f,n,l,d,g,x){const C=f.context,M=C.gl,L=n.dem;if(L&&L.data){const N=L.dim,q=L.stride,$=L.getPixels();if(C.activeTexture.set(M.TEXTURE1),C.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||f.getTileTexture(q),n.demTexture){const pe=n.demTexture;pe.update($,{premultiply:!1}),pe.bind(M.NEAREST,M.CLAMP_TO_EDGE)}else n.demTexture=new oe(C,$,M.RGBA,{premultiply:!1}),n.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE);C.activeTexture.set(M.TEXTURE0);let J=n.fbo;if(!J){const pe=new oe(C,{width:N,height:N,data:null},M.RGBA);pe.bind(M.LINEAR,M.CLAMP_TO_EDGE),J=n.fbo=C.createFramebuffer(N,N,!0),J.colorAttachment.set(pe.texture)}C.bindFramebuffer.set(J.framebuffer),C.viewport.set([0,0,N,N]),f.useProgram("hillshadePrepare").draw(C,M.TRIANGLES,d,g,x,zi.disabled,((pe,ce)=>{const de=ce.stride,Se=a.create();return a.ortho(Se,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(Se,Se,[0,-a.EXTENT,0]),{u_matrix:Se,u_image:1,u_dimension:[de,de],u_zoom:pe.overscaledZ,u_unpack:ce.getUnpackVector()}})(n.tileID,L),null,l.id,f.rasterBoundsBuffer,f.quadTriangleIndexBuffer,f.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function Vo(f,n,l,d,g,x){const C=d.paint.get("raster-fade-duration");if(!x&&C>0){const M=a.exported.now(),L=(M-f.timeAdded)/C,N=n?(M-n.timeAdded)/C:-1,q=l.getSource(),$=g.coveringZoomLevel({tileSize:q.tileSize,roundZoom:q.roundZoom}),J=!n||Math.abs(n.tileID.overscaledZ-$)>Math.abs(f.tileID.overscaledZ-$),pe=J&&f.refreshedUponExpiration?1:a.clamp(J?L:1-N,0,1);return f.refreshedUponExpiration&&L>=1&&(f.refreshedUponExpiration=!1),n?{opacity:1,mix:1-pe}:{opacity:pe,mix:0}}return{opacity:1,mix:0}}const el=new a.Color(1,0,0,1),xr=new a.Color(0,1,0,1),Ru=new a.Color(0,0,1,1),tl=new a.Color(1,0,1,1),Bu=new a.Color(0,1,1,1);function ho(f,n,l,d){Es(f,0,n+l/2,f.transform.width,l,d)}function ma(f,n,l,d){Es(f,n-l/2,0,l,f.transform.height,d)}function Es(f,n,l,d,g,x){const C=f.context,M=C.gl;M.enable(M.SCISSOR_TEST),M.scissor(n*f.pixelRatio,l*f.pixelRatio,d*f.pixelRatio,g*f.pixelRatio),C.clear({color:x}),M.disable(M.SCISSOR_TEST)}function Fc(f,n,l){const d=f.context,g=d.gl,x=l.posMatrix,C=f.useProgram("debug"),M=qt.disabled,L=Ki.disabled,N=f.colorModeForRenderPass(),q="$debug",$=f.style.terrain&&f.style.terrain.getTerrainData(l);d.activeTexture.set(g.TEXTURE0),f.emptyTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE);const J=n.getTileByID(l.key).latestRawTileData,pe=Math.floor((J&&J.byteLength||0)/1024),ce=n.getTile(l).tileSize,de=512/Math.min(ce,512)*(l.overscaledZ/f.transform.zoom)*.5;let Se=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(Se+=` => ${l.overscaledZ}`),function(Ee,De){Ee.initDebugOverlayCanvas();const fe=Ee.debugOverlayCanvas,Oe=Ee.context.gl,Re=Ee.debugOverlayCanvas.getContext("2d");Re.clearRect(0,0,fe.width,fe.height),Re.shadowColor="white",Re.shadowBlur=2,Re.lineWidth=1.5,Re.strokeStyle="white",Re.textBaseline="top",Re.font="bold 36px Open Sans, sans-serif",Re.fillText(De,5,5),Re.strokeText(De,5,5),Ee.debugOverlayTexture.update(fe),Ee.debugOverlayTexture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE)}(f,`${Se} ${pe}kB`),C.draw(d,g.TRIANGLES,M,L,Ci.alphaBlended,zi.disabled,lo(x,a.Color.transparent,de),null,q,f.debugBuffer,f.quadTriangleIndexBuffer,f.debugSegments),C.draw(d,g.LINE_STRIP,M,L,N,zi.disabled,lo(x,a.Color.red),$,q,f.debugBuffer,f.tileBorderIndexBuffer,f.debugSegments)}function il(f,n,l){const d=f.context,g=d.gl,x=f.colorModeForRenderPass(),C=new qt(g.LEQUAL,qt.ReadWrite,f.depthRangeFor3D),M=f.useProgram("terrain"),L=n.getTerrainMesh(),N=n.getTerrainData(l.tileID);d.bindFramebuffer.set(null),d.viewport.set([0,0,f.width,f.height]),d.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,n.getRTTFramebuffer().colorAttachment.get());const q=f.transform.calculatePosMatrix(l.tileID.toUnwrapped());M.draw(d,g.TRIANGLES,C,Ki.disabled,x,zi.backCCW,{u_matrix:q,u_texture:0},N,"terrain",L.vertexBuffer,L.indexBuffer,L.segments)}function Nu(f,n,l,d){const g=f.context,x=l.tileSize*n.qualityFactor;l.textures[d]||(l.textures[d]=f.getTileTexture(x)||new oe(g,{width:x,height:x,data:null},g.gl.RGBA),l.textures[d].bind(g.gl.LINEAR,g.gl.CLAMP_TO_EDGE),d===0&&n.sourceCache.renderHistory.unshift(l.tileID.key));const C=n.getRTTFramebuffer();C.colorAttachment.set(l.textures[d].texture),g.bindFramebuffer.set(C.framebuffer),g.viewport.set([0,0,x,x])}class Uo{constructor(n){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=n,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=n.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const n=this.painter.style,l=n.terrain;for(const d in n.sourceCaches){this._coordsDescendingInv[d]={};const g=n.sourceCaches[d].getVisibleCoordinates();for(const x of g){const C=l.sourceCache.getTerrainCoords(x);for(const M in C)this._coordsDescendingInv[d][M]||(this._coordsDescendingInv[d][M]=[]),this._coordsDescendingInv[d][M].push(C[M])}}for(const d of n._order){const g=n._layers[d],x=g.source;if(this._renderToTexture[g.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const C in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][C]=this._coordsDescendingInv[x][C].map(M=>M.key).sort().join()}}return this._renderableTiles.forEach(d=>{for(const g in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[g][d.tileID.key];x&&x!==d.textureCoords[g]&&d.clearTextures(this.painter),l.needsRerender(g,d.tileID)&&d.clearTextures(this.painter)}this._rerender[d.tileID.key]=!d.textures.length}),l.clearRerenderCache(),l.sourceCache.removeOutdated(this.painter),this}renderLayer(n){const l=n.type,d=this.painter,g=d.style._order,x=d.currentLayer,C=x+1===g.length;if(this._renderToTexture[l]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=l,this._stacks[this._stacks.length-1].push(g[x]),!C))return!0;if(this._renderToTexture[this._prevType]||l==="hillshade"||this._renderToTexture[l]&&C){this._prevType=l;const M=this._stacks.length-1,L=this._stacks[M]||[];for(const N of this._renderableTiles){if(Nu(d,d.style.terrain,N,M),this._rerender[N.tileID.key]){d.context.clear({color:a.Color.transparent});for(let q=0;q<L.length;q++){const $=d.style._layers[L[q]],J=$.source?this._coordsDescendingInv[$.source][N.tileID.key]:[N.tileID];d._renderTileClippingMasks($,J),d.renderLayer(d,d.style.sourceCaches[$.source],$,J),$.source&&(N.textureCoords[$.source]=this._coordsDescendingInvStr[$.source][N.tileID.key])}}il(d,d.style.terrain,N)}if(l==="hillshade"){this._stacks.push([g[x]]);for(const N of this._renderableTiles){const q=this._coordsDescendingInv[n.source][N.tileID.key];Nu(d,d.style.terrain,N,this._stacks.length-1),d.context.clear({color:a.Color.transparent}),d._renderTileClippingMasks(n,q),d.renderLayer(d,d.style.sourceCaches[n.source],n,q),il(d,d.style.terrain,N)}return!0}return this._renderToTexture[l]}return!1}}const ga={symbol:function(f,n,l,d,g){if(f.renderPass!=="translucent")return;const x=Ki.disabled,C=f.colorModeForRenderPass();l.layout.get("text-variable-anchor")&&function(M,L,N,q,$,J,pe){const ce=L.transform,de=$==="map",Se=J==="map";for(const Ee of M){const De=q.getTile(Ee),fe=De.getBucket(N);if(!fe||!fe.text||!fe.text.segments.get().length)continue;const Oe=a.evaluateSizeForZoom(fe.textSizeData,ce.zoom),Re=gn(De,1,L.transform.zoom),Ze=Hn(Ee.posMatrix,Se,de,L.transform,Re),Xe=N.layout.get("icon-text-fit")!=="none"&&fe.hasIconData();if(Oe){const lt=Math.pow(2,ce.zoom-De.tileID.overscaledZ);zr(fe,de,Se,pe,ce,Ze,Ee.posMatrix,lt,Oe,Xe,L.style.terrain?(Ge,Ct)=>L.style.terrain.getElevation(Ee,Ge,Ct):null)}}}(d,f,l,n,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),g),l.paint.get("icon-opacity").constantOr(1)!==0&&fa(f,n,l,d,!1,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),l.layout.get("icon-rotation-alignment"),l.layout.get("icon-pitch-alignment"),l.layout.get("icon-keep-upright"),x,C),l.paint.get("text-opacity").constantOr(1)!==0&&fa(f,n,l,d,!0,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),l.layout.get("text-keep-upright"),x,C),n.map.showCollisionBoxes&&(jr(f,n,l,d,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),jr(f,n,l,d,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(f,n,l,d){if(f.renderPass!=="translucent")return;const g=l.paint.get("circle-opacity"),x=l.paint.get("circle-stroke-width"),C=l.paint.get("circle-stroke-opacity"),M=!l.layout.get("circle-sort-key").isConstant();if(g.constantOr(1)===0&&(x.constantOr(1)===0||C.constantOr(1)===0))return;const L=f.context,N=L.gl,q=f.depthModeForSublayer(0,qt.ReadOnly),$=Ki.disabled,J=f.colorModeForRenderPass(),pe=[];for(let ce=0;ce<d.length;ce++){const de=d[ce],Se=n.getTile(de),Ee=Se.getBucket(l);if(!Ee)continue;const De=Ee.programConfigurations.get(l.id),fe=f.useProgram("circle",De),Oe=Ee.layoutVertexBuffer,Re=Ee.indexBuffer,Ze=f.style.terrain&&f.style.terrain.getTerrainData(de),Xe={programConfiguration:De,program:fe,layoutVertexBuffer:Oe,indexBuffer:Re,uniformValues:qs(f,de,Se,l),terrainData:Ze};if(M){const lt=Ee.segments.get();for(const Ge of lt)pe.push({segments:new a.SegmentVector([Ge]),sortKey:Ge.sortKey,state:Xe})}else pe.push({segments:Ee.segments,sortKey:0,state:Xe})}M&&pe.sort((ce,de)=>ce.sortKey-de.sortKey);for(const ce of pe){const{programConfiguration:de,program:Se,layoutVertexBuffer:Ee,indexBuffer:De,uniformValues:fe,terrainData:Oe}=ce.state;Se.draw(L,N.TRIANGLES,q,$,J,zi.disabled,fe,Oe,l.id,Ee,De,ce.segments,l.paint,f.transform.zoom,de)}},heatmap:function(f,n,l,d){if(l.paint.get("heatmap-opacity")!==0)if(f.renderPass==="offscreen"){const g=f.context,x=g.gl,C=Ki.disabled,M=new Ci([x.ONE,x.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(L,N,q){const $=L.gl;L.activeTexture.set($.TEXTURE1),L.viewport.set([0,0,N.width/4,N.height/4]);let J=q.heatmapFbo;if(J)$.bindTexture($.TEXTURE_2D,J.colorAttachment.get()),L.bindFramebuffer.set(J.framebuffer);else{const pe=$.createTexture();$.bindTexture($.TEXTURE_2D,pe),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),J=q.heatmapFbo=L.createFramebuffer(N.width/4,N.height/4,!1),function(ce,de,Se,Ee){const De=ce.gl;De.texImage2D(De.TEXTURE_2D,0,De.RGBA,de.width/4,de.height/4,0,De.RGBA,ce.extRenderToTextureHalfFloat?ce.extTextureHalfFloat.HALF_FLOAT_OES:De.UNSIGNED_BYTE,null),Ee.colorAttachment.set(Se)}(L,N,pe,J)}})(g,f,l),g.clear({color:a.Color.transparent});for(let L=0;L<d.length;L++){const N=d[L];if(n.hasRenderableParent(N))continue;const q=n.getTile(N),$=q.getBucket(l);if(!$)continue;const J=$.programConfigurations.get(l.id),pe=f.useProgram("heatmap",J),{zoom:ce}=f.transform;pe.draw(g,x.TRIANGLES,qt.disabled,C,M,zi.disabled,aa(N.posMatrix,q,ce,l.paint.get("heatmap-intensity")),null,l.id,$.layoutVertexBuffer,$.indexBuffer,$.segments,l.paint,f.transform.zoom,J)}g.viewport.set([0,0,f.width,f.height])}else f.renderPass==="translucent"&&(f.context.setColorMode(f.colorModeForRenderPass()),function(g,x){const C=g.context,M=C.gl,L=x.heatmapFbo;if(!L)return;C.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,L.colorAttachment.get()),C.activeTexture.set(M.TEXTURE1);let N=x.colorRampTexture;N||(N=x.colorRampTexture=new oe(C,x.colorRamp,M.RGBA)),N.bind(M.LINEAR,M.CLAMP_TO_EDGE),g.useProgram("heatmapTexture").draw(C,M.TRIANGLES,qt.disabled,Ki.disabled,g.colorModeForRenderPass(),zi.disabled,((q,$,J,pe)=>{const ce=a.create();a.ortho(ce,0,q.width,q.height,0,0,1);const de=q.context.gl;return{u_matrix:ce,u_world:[de.drawingBufferWidth,de.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:$.paint.get("heatmap-opacity")}})(g,x),null,x.id,g.viewportBuffer,g.quadTriangleIndexBuffer,g.viewportSegments,x.paint,g.transform.zoom)}(f,l))},line:function(f,n,l,d){if(f.renderPass!=="translucent")return;const g=l.paint.get("line-opacity"),x=l.paint.get("line-width");if(g.constantOr(1)===0||x.constantOr(1)===0)return;const C=f.depthModeForSublayer(0,qt.ReadOnly),M=f.colorModeForRenderPass(),L=l.paint.get("line-dasharray"),N=l.paint.get("line-pattern"),q=N.constantOr(1),$=l.paint.get("line-gradient"),J=l.getCrossfadeParameters(),pe=q?"linePattern":L?"lineSDF":$?"lineGradient":"line",ce=f.context,de=ce.gl;let Se=!0;for(const Ee of d){const De=n.getTile(Ee);if(q&&!De.patternsLoaded())continue;const fe=De.getBucket(l);if(!fe)continue;const Oe=fe.programConfigurations.get(l.id),Re=f.context.program.get(),Ze=f.useProgram(pe,Oe),Xe=Se||Ze.program!==Re,lt=f.style.terrain&&f.style.terrain.getTerrainData(Ee),Ge=N.constantOr(null);if(Ge&&De.imageAtlas){const kt=De.imageAtlas,pi=kt.patternPositions[Ge.to.toString()],xi=kt.patternPositions[Ge.from.toString()];pi&&xi&&Oe.setConstantPatternPositions(pi,xi)}const Ct=lt?Ee:null,yt=q?Oo(f,De,l,J,Ct):L?ua(f,De,l,L,J,Ct):$?$a(f,De,l,fe.lineClipsArray.length,Ct):gs(f,De,l,Ct);if(q)ce.activeTexture.set(de.TEXTURE0),De.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Oe.updatePaintBuffers(J);else if(L&&(Xe||f.lineAtlas.dirty))ce.activeTexture.set(de.TEXTURE0),f.lineAtlas.bind(ce);else if($){const kt=fe.gradients[l.id];let pi=kt.texture;if(l.gradientVersion!==kt.version){let xi=256;if(l.stepInterpolant){const Ht=n.getSource().maxzoom,Ji=Ee.canonical.z===Ht?Math.ceil(1<<f.transform.maxZoom-Ee.canonical.z):1;xi=a.clamp(a.nextPowerOfTwo(fe.maxLineLength/a.EXTENT*1024*Ji),256,ce.maxTextureSize)}kt.gradient=a.renderColorRamp({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:xi,image:kt.gradient||void 0,clips:fe.lineClipsArray}),kt.texture?kt.texture.update(kt.gradient):kt.texture=new oe(ce,kt.gradient,de.RGBA),kt.version=l.gradientVersion,pi=kt.texture}ce.activeTexture.set(de.TEXTURE0),pi.bind(l.stepInterpolant?de.NEAREST:de.LINEAR,de.CLAMP_TO_EDGE)}Ze.draw(ce,de.TRIANGLES,C,f.stencilModeForClipping(Ee),M,zi.disabled,yt,lt,l.id,fe.layoutVertexBuffer,fe.indexBuffer,fe.segments,l.paint,f.transform.zoom,Oe,fe.layoutVertexBuffer2),Se=!1}},fill:function(f,n,l,d){const g=l.paint.get("fill-color"),x=l.paint.get("fill-opacity");if(x.constantOr(1)===0)return;const C=f.colorModeForRenderPass(),M=l.paint.get("fill-pattern"),L=f.opaquePassEnabledForLayer()&&!M.constantOr(1)&&g.constantOr(a.Color.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(f.renderPass===L){const N=f.depthModeForSublayer(1,f.renderPass==="opaque"?qt.ReadWrite:qt.ReadOnly);co(f,n,l,d,N,C,!1)}if(f.renderPass==="translucent"&&l.paint.get("fill-antialias")){const N=f.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,qt.ReadOnly);co(f,n,l,d,N,C,!0)}},"fill-extrusion":function(f,n,l,d){const g=l.paint.get("fill-extrusion-opacity");if(g!==0&&f.renderPass==="translucent"){const x=new qt(f.context.gl.LEQUAL,qt.ReadWrite,f.depthRangeFor3D);if(g!==1||l.paint.get("fill-extrusion-pattern").constantOr(1))Fi(f,n,l,d,x,Ki.disabled,Ci.disabled),Fi(f,n,l,d,x,f.stencilModeFor3D(),f.colorModeForRenderPass());else{const C=f.colorModeForRenderPass();Fi(f,n,l,d,x,Ki.disabled,C)}}},hillshade:function(f,n,l,d){if(f.renderPass!=="offscreen"&&f.renderPass!=="translucent")return;const g=f.context,x=f.depthModeForSublayer(0,qt.ReadOnly),C=f.colorModeForRenderPass(),[M,L]=f.renderPass==="translucent"?f.stencilConfigForOverlap(d):[{},d];for(const N of L){const q=n.getTile(N);q.needsHillshadePrepare!==void 0&&q.needsHillshadePrepare&&f.renderPass==="offscreen"?Hl(f,q,l,x,Ki.disabled,C):f.renderPass==="translucent"&&As(f,N,q,l,x,M[N.overscaledZ],C)}g.viewport.set([0,0,f.width,f.height])},raster:function(f,n,l,d){if(f.renderPass!=="translucent"||l.paint.get("raster-opacity")===0||!d.length)return;const g=f.context,x=g.gl,C=n.getSource(),M=f.useProgram("raster"),L=f.colorModeForRenderPass(),[N,q]=C instanceof at?[{},d]:f.stencilConfigForOverlap(d),$=q[q.length-1].overscaledZ,J=!f.options.moving;for(const pe of q){const ce=f.depthModeForSublayer(pe.overscaledZ-$,l.paint.get("raster-opacity")===1?qt.ReadWrite:qt.ReadOnly,x.LESS),de=n.getTile(pe);de.registerFadeDuration(l.paint.get("raster-fade-duration"));const Se=n.findLoadedParent(pe,0),Ee=Vo(de,Se,n,l,f.transform,f.style.terrain);let De,fe;const Oe=l.paint.get("raster-resampling")==="nearest"?x.NEAREST:x.LINEAR;g.activeTexture.set(x.TEXTURE0),de.texture.bind(Oe,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),g.activeTexture.set(x.TEXTURE1),Se?(Se.texture.bind(Oe,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),De=Math.pow(2,Se.tileID.overscaledZ-de.tileID.overscaledZ),fe=[de.tileID.canonical.x*De%1,de.tileID.canonical.y*De%1]):de.texture.bind(Oe,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST);const Re=f.style.terrain&&f.style.terrain.getTerrainData(pe),Ze=Re?pe:null,Xe=Ze?Ze.posMatrix:f.transform.calculatePosMatrix(pe.toUnwrapped(),J),lt=Mu(Xe,fe||[0,0],De||1,Ee,l);C instanceof at?M.draw(g,x.TRIANGLES,ce,Ki.disabled,L,zi.disabled,lt,Re,l.id,C.boundsBuffer,f.quadTriangleIndexBuffer,C.boundsSegments):M.draw(g,x.TRIANGLES,ce,N[pe.overscaledZ],L,zi.disabled,lt,Re,l.id,f.rasterBoundsBuffer,f.quadTriangleIndexBuffer,f.rasterBoundsSegments)}},background:function(f,n,l,d){const g=l.paint.get("background-color"),x=l.paint.get("background-opacity");if(x===0)return;const C=f.context,M=C.gl,L=f.transform,N=L.tileSize,q=l.paint.get("background-pattern");if(f.isPatternMissing(q))return;const $=!q&&g.a===1&&x===1&&f.opaquePassEnabledForLayer()?"opaque":"translucent";if(f.renderPass!==$)return;const J=Ki.disabled,pe=f.depthModeForSublayer(0,$==="opaque"?qt.ReadWrite:qt.ReadOnly),ce=f.colorModeForRenderPass(),de=f.useProgram(q?"backgroundPattern":"background"),Se=d||L.coveringTiles({tileSize:N,terrain:f.style.terrain});q&&(C.activeTexture.set(M.TEXTURE0),f.imageManager.bind(f.context));const Ee=l.getCrossfadeParameters();for(const De of Se){const fe=d?De.posMatrix:f.transform.calculatePosMatrix(De.toUnwrapped()),Oe=q?Oc(fe,x,f,q,{tileID:De,tileSize:N},Ee):Nc(fe,x,g),Re=f.style.terrain&&f.style.terrain.getTerrainData(De);de.draw(C,M.TRIANGLES,pe,J,ce,zi.disabled,Oe,Re,l.id,f.tileExtentBuffer,f.quadTriangleIndexBuffer,f.tileExtentSegments)}},debug:function(f,n,l){for(let d=0;d<l.length;d++)Fc(f,n,l[d])},custom:function(f,n,l){const d=f.context,g=l.implementation;if(f.renderPass==="offscreen"){const x=g.prerender;x&&(f.setCustomLayerDefaults(),d.setColorMode(f.colorModeForRenderPass()),x.call(g,d.gl,f.transform.customLayerMatrix()),d.setDirty(),f.setBaseState())}else if(f.renderPass==="translucent"){f.setCustomLayerDefaults(),d.setColorMode(f.colorModeForRenderPass()),d.setStencilMode(Ki.disabled);const x=g.renderingMode==="3d"?new qt(f.context.gl.LEQUAL,qt.ReadWrite,f.depthRangeFor3D):f.depthModeForSublayer(0,qt.ReadOnly);d.setDepthMode(x),g.render(d.gl,f.transform.customLayerMatrix()),d.setDirty(),f.setBaseState(),d.bindFramebuffer.set(null)}}};class ya{constructor(n,l){this.context=new Oi(n),this.transform=l,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=Bi.maxUnderzooming+Bi.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Jt,this.gpuTimers={}}resize(n,l,d){if(this.width=n*d,this.height=l*d,this.pixelRatio=d,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const g of this.style._order)this.style._layers[g].resize()}setup(){const n=this.context,l=new a.PosArray;l.emplaceBack(0,0),l.emplaceBack(a.EXTENT,0),l.emplaceBack(0,a.EXTENT),l.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=n.createVertexBuffer(l,Li.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const d=new a.PosArray;d.emplaceBack(0,0),d.emplaceBack(a.EXTENT,0),d.emplaceBack(0,a.EXTENT),d.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=n.createVertexBuffer(d,Li.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const g=new a.RasterBoundsArray;g.emplaceBack(0,0,0,0),g.emplaceBack(a.EXTENT,0,a.EXTENT,0),g.emplaceBack(0,a.EXTENT,0,a.EXTENT),g.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=n.createVertexBuffer(g,He.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const x=new a.PosArray;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=n.createVertexBuffer(x,Li.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const C=new a.LineStripIndexArray;C.emplaceBack(0),C.emplaceBack(1),C.emplaceBack(3),C.emplaceBack(2),C.emplaceBack(0),this.tileBorderIndexBuffer=n.createIndexBuffer(C);const M=new a.TriangleIndexArray;M.emplaceBack(0,1,2),M.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=n.createIndexBuffer(M),this.emptyTexture=new oe(n,{width:1,height:1,data:new Uint8Array([0,0,0,0])},n.gl.RGBA);const L=this.context.gl;this.stencilClearMode=new Ki({func:L.ALWAYS,mask:0},0,255,L.ZERO,L.ZERO,L.ZERO)}clearStencil(){const n=this.context,l=n.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const d=a.create();a.ortho(d,0,this.width,this.height,0,0,1),a.scale(d,d,[l.drawingBufferWidth,l.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(n,l.TRIANGLES,qt.disabled,this.stencilClearMode,Ci.disabled,zi.disabled,No(d),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(n,l){if(this.currentStencilSource===n.source||!n.isTileClipped()||!l||!l.length)return;this.currentStencilSource=n.source;const d=this.context,g=d.gl;this.nextStencilID+l.length>256&&this.clearStencil(),d.setColorMode(Ci.disabled),d.setDepthMode(qt.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const C of l){const M=this._tileClippingMaskIDs[C.key]=this.nextStencilID++,L=this.style.terrain&&this.style.terrain.getTerrainData(C);x.draw(d,g.TRIANGLES,qt.disabled,new Ki({func:g.ALWAYS,mask:0},M,255,g.KEEP,g.KEEP,g.REPLACE),Ci.disabled,zi.disabled,No(C.posMatrix),L,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const n=this.nextStencilID++,l=this.context.gl;return new Ki({func:l.NOTEQUAL,mask:255},n,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(n){const l=this.context.gl;return new Ki({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[n.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(n){const l=this.context.gl,d=n.sort((C,M)=>M.overscaledZ-C.overscaledZ),g=d[d.length-1].overscaledZ,x=d[0].overscaledZ-g+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const C={};for(let M=0;M<x;M++)C[M+g]=new Ki({func:l.GEQUAL,mask:255},M+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=x,[C,d]}return[{[g]:Ki.disabled},d]}colorModeForRenderPass(){const n=this.context.gl;return this._showOverdrawInspector?new Ci([n.CONSTANT_COLOR,n.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ci.unblended:Ci.alphaBlended}depthModeForSublayer(n,l,d){if(!this.opaquePassEnabledForLayer())return qt.disabled;const g=1-((1+this.currentLayer)*this.numSublayers+n)*this.depthEpsilon;return new qt(d||this.context.gl.LEQUAL,l,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(n,l){this.style=n,this.options=l,this.lineAtlas=n.lineAtlas,this.imageManager=n.imageManager,this.glyphManager=n.glyphManager,this.symbolFadeChange=n.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const d=this.style._order,g=this.style.sourceCaches,x=this.style.terrain&&new Uo(this);for(const N in g){const q=g[N];q.used&&q.prepare(this.context)}const C={},M={},L={};for(const N in g){const q=g[N];C[N]=q.getVisibleCoordinates(),M[N]=C[N].slice().reverse(),L[N]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let N=0;N<d.length;N++)if(this.style._layers[d[N]].is3D()){this.opaquePassCutoff=N;break}if(x){this.opaquePassCutoff=0;const N=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||N.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(q,$){const J=q.context,pe=J.gl,ce=Ci.unblended,de=new qt(pe.LEQUAL,qt.ReadWrite,[0,1]),Se=$.getTerrainMesh(),Ee=$.sourceCache.getRenderableTiles(),De=q.useProgram("terrainDepth");J.bindFramebuffer.set($.getFramebuffer("depth").framebuffer),J.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),J.clear({color:a.Color.transparent,depth:1});for(const fe of Ee){const Oe=$.getTerrainData(fe.tileID),Re=q.transform.calculatePosMatrix(fe.tileID.toUnwrapped());De.draw(J,pe.TRIANGLES,de,Ki.disabled,ce,zi.backCCW,{u_matrix:Re},Oe,"terrain",Se.vertexBuffer,Se.indexBuffer,Se.segments)}J.bindFramebuffer.set(null),J.viewport.set([0,0,q.width,q.height])}(this,this.style.terrain),function(q,$){const J=q.context,pe=J.gl,ce=Ci.unblended,de=new qt(pe.LEQUAL,qt.ReadWrite,[0,1]),Se=$.getTerrainMesh(),Ee=$.getCoordsTexture(),De=$.sourceCache.getRenderableTiles(),fe=q.useProgram("terrainCoords");J.bindFramebuffer.set($.getFramebuffer("coords").framebuffer),J.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),J.clear({color:a.Color.transparent,depth:1}),$.coordsIndex=[];for(const Oe of De){const Re=$.getTerrainData(Oe.tileID);J.activeTexture.set(pe.TEXTURE0),pe.bindTexture(pe.TEXTURE_2D,Ee.texture);const Ze=q.transform.calculatePosMatrix(Oe.tileID.toUnwrapped());fe.draw(J,pe.TRIANGLES,de,Ki.disabled,ce,zi.backCCW,{u_matrix:Ze,u_terrain_coords_id:(255-$.coordsIndex.length)/255,u_texture:0},Re,"terrain",Se.vertexBuffer,Se.indexBuffer,Se.segments),$.coordsIndex.push(Oe.tileID.key)}J.bindFramebuffer.set(null),J.viewport.set([0,0,q.width,q.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const N of d){const q=this.style._layers[N];if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const $=M[q.source];(q.type==="custom"||$.length)&&this.renderLayer(this,g[q.source],q,$)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:l.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.depthRangeFor3D=[0,1-(n._order.length+2)*this.numSublayers*this.depthEpsilon],!x)for(this.renderPass="opaque",this.currentLayer=d.length-1;this.currentLayer>=0;this.currentLayer--){const N=this.style._layers[d[this.currentLayer]],q=g[N.source],$=C[N.source];this._renderTileClippingMasks(N,$),this.renderLayer(this,q,N,$)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<d.length;this.currentLayer++){const N=this.style._layers[d[this.currentLayer]],q=g[N.source];if(x&&x.renderLayer(N))continue;const $=(N.type==="symbol"?L:M)[N.source];this._renderTileClippingMasks(N,C[N.source]),this.renderLayer(this,q,N,$)}if(this.options.showTileBoundaries){let N,q;Object.values(this.style._layers).forEach($=>{$.source&&!$.isHidden(this.transform.zoom)&&($.source!==(q&&q.id)&&(q=this.style.sourceCaches[$.source]),(!N||N.getSource().maxzoom<q.getSource().maxzoom)&&(N=q))}),N&&ga.debug(this,N,N.getVisibleCoordinates())}this.options.showPadding&&function(N){const q=N.transform.padding;ho(N,N.transform.height-(q.top||0),3,el),ho(N,q.bottom||0,3,xr),ma(N,q.left||0,3,Ru),ma(N,N.transform.width-(q.right||0),3,tl);const $=N.transform.centerPoint;(function(J,pe,ce,de){Es(J,pe-1,ce-10,2,20,de),Es(J,pe-10,ce-1,20,2,de)})(N,$.x,N.transform.height-$.y,Bu)}(this),this.context.setDefault()}renderLayer(n,l,d,g){d.isHidden(this.transform.zoom)||(d.type==="background"||d.type==="custom"||(g||[]).length)&&(this.id=d.id,this.gpuTimingStart(d),ga[d.type](n,l,d,g,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(n){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;let d=this.gpuTimers[n.id];d||(d=this.gpuTimers[n.id]={calls:0,cpuTime:0,query:l.createQueryEXT()}),d.calls++,l.beginQueryEXT(l.TIME_ELAPSED_EXT,d.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const n=this.context.extTimerQuery;n.endQueryEXT(n.TIME_ELAPSED_EXT)}collectGpuTimers(){const n=this.gpuTimers;return this.gpuTimers={},n}queryGpuTimers(n){const l={};for(const d in n){const g=n[d],x=this.context.extTimerQuery,C=x.getQueryObjectEXT(g.query,x.QUERY_RESULT_EXT)/1e6;x.deleteQueryEXT(g.query),l[d]=C}return l}translatePosMatrix(n,l,d,g,x){if(!d[0]&&!d[1])return n;const C=x?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(C){const N=Math.sin(C),q=Math.cos(C);d=[d[0]*q-d[1]*N,d[0]*N+d[1]*q]}const M=[x?d[0]:gn(l,d[0],this.transform.zoom),x?d[1]:gn(l,d[1],this.transform.zoom),0],L=new Float32Array(16);return a.translate(L,n,M),L}saveTileTexture(n){const l=this._tileTextures[n.size[0]];l?l.push(n):this._tileTextures[n.size[0]]=[n]}getTileTexture(n){const l=this._tileTextures[n];return l&&l.length>0?l.pop():null}isPatternMissing(n){if(!n)return!1;if(!n.from||!n.to)return!0;const l=this.imageManager.getPattern(n.from.toString()),d=this.imageManager.getPattern(n.to.toString());return!l||!d}useProgram(n,l){this.cache=this.cache||{};const d=n+(l?l.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[d]||(this.cache[d]=new Ol(this.context,n,sa[n],l,Ul[n],this._showOverdrawInspector,this.style.terrain)),this.cache[d]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const n=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(n.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new oe(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class qr{constructor(n,l){this.points=n,this.planes=l}static fromInvProjectionMatrix(n,l,d){const g=Math.pow(2,d),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(M=>{const L=1/(M=a.transformMat4([],M,n))[3]/l*g;return a.mul$1(M,M,[L,L,1/M[3],L])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(M=>{const L=a.sub([],x[M[0]],x[M[1]]),N=a.sub([],x[M[2]],x[M[1]]),q=a.normalize([],a.cross([],L,N)),$=-a.dot(q,x[M[1]]);return q.concat($)});return new qr(x,C)}}class Dr{constructor(n,l){this.min=n,this.max=l,this.center=a.scale$1([],a.add([],this.min,this.max),.5)}quadrant(n){const l=[n%2==0,n<2],d=a.clone$2(this.min),g=a.clone$2(this.max);for(let x=0;x<l.length;x++)d[x]=l[x]?this.min[x]:this.center[x],g[x]=l[x]?this.center[x]:this.max[x];return g[2]=this.max[2],new Dr(d,g)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}intersects(n){const l=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let d=!0;for(let g=0;g<n.planes.length;g++){const x=n.planes[g];let C=0;for(let M=0;M<l.length;M++)a.dot$1(x,l[M])>=0&&C++;if(C===0)return 0;C!==l.length&&(d=!1)}if(d)return 2;for(let g=0;g<3;g++){let x=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let M=0;M<n.points.length;M++){const L=n.points[M][g]-this.min[g];x=Math.min(x,L),C=Math.max(C,L)}if(C<0||x>this.max[g]-this.min[g])return 0}return 1}}class po{constructor(n=0,l=0,d=0,g=0){if(isNaN(n)||n<0||isNaN(l)||l<0||isNaN(d)||d<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=n,this.bottom=l,this.left=d,this.right=g}interpolate(n,l,d){return l.top!=null&&n.top!=null&&(this.top=a.number(n.top,l.top,d)),l.bottom!=null&&n.bottom!=null&&(this.bottom=a.number(n.bottom,l.bottom,d)),l.left!=null&&n.left!=null&&(this.left=a.number(n.left,l.left,d)),l.right!=null&&n.right!=null&&(this.right=a.number(n.right,l.right,d)),this}getCenter(n,l){const d=a.clamp((this.left+n-this.right)/2,0,n),g=a.clamp((this.top+l-this.bottom)/2,0,l);return new a.pointGeometry(d,g)}equals(n){return this.top===n.top&&this.bottom===n.bottom&&this.left===n.left&&this.right===n.right}clone(){return new po(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class jo{constructor(n,l,d,g,x){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=x===void 0||!!x,this._minZoom=n||0,this._maxZoom=l||22,this._minPitch=d==null?0:d,this._maxPitch=g==null?60:g,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new po,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const n=new jo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return n.tileSize=this.tileSize,n.latRange=this.latRange,n.width=this.width,n.height=this.height,n._center=this._center,n._elevation=this._elevation,n.zoom=this.zoom,n.angle=this.angle,n._fov=this._fov,n._pitch=this._pitch,n._unmodified=this._unmodified,n._edgeInsets=this._edgeInsets.clone(),n._calcMatrices(),n}get minZoom(){return this._minZoom}set minZoom(n){this._minZoom!==n&&(this._minZoom=n,this.zoom=Math.max(this.zoom,n))}get maxZoom(){return this._maxZoom}set maxZoom(n){this._maxZoom!==n&&(this._maxZoom=n,this.zoom=Math.min(this.zoom,n))}get minPitch(){return this._minPitch}set minPitch(n){this._minPitch!==n&&(this._minPitch=n,this.pitch=Math.max(this.pitch,n))}get maxPitch(){return this._maxPitch}set maxPitch(n){this._maxPitch!==n&&(this._maxPitch=n,this.pitch=Math.min(this.pitch,n))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(n){n===void 0?n=!0:n===null&&(n=!1),this._renderWorldCopies=n}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(n){const l=-a.wrap(n,-180,180)*Math.PI/180;var d;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=(d=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(d[1]=0,d[2]=0),d[0]=1,d[3]=1,d),function(g,x,C){var M=x[0],L=x[1],N=x[2],q=x[3],$=Math.sin(C),J=Math.cos(C);g[0]=M*J+N*$,g[1]=L*J+q*$,g[2]=M*-$+N*J,g[3]=L*-$+q*J}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(n){const l=a.clamp(n,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(n){n=Math.max(.01,Math.min(60,n)),this._fov!==n&&(this._unmodified=!1,this._fov=n/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(n){const l=Math.min(Math.max(n,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(n){n.lat===this._center.lat&&n.lng===this._center.lng||(this._unmodified=!1,this._center=n,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(n){n!==this._elevation&&(this._elevation=n,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(n){this._edgeInsets.equals(n)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,n,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(n){return this._edgeInsets.equals(n)}interpolatePadding(n,l,d){this._unmodified=!1,this._edgeInsets.interpolate(n,l,d),this._constrain(),this._calcMatrices()}coveringZoomLevel(n){const l=(n.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/n.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(n){const l=[new a.UnwrappedTileID(0,n)];if(this._renderWorldCopies){const d=this.pointCoordinate(new a.pointGeometry(0,0)),g=this.pointCoordinate(new a.pointGeometry(this.width,0)),x=this.pointCoordinate(new a.pointGeometry(this.width,this.height)),C=this.pointCoordinate(new a.pointGeometry(0,this.height)),M=Math.floor(Math.min(d.x,g.x,x.x,C.x)),L=Math.floor(Math.max(d.x,g.x,x.x,C.x)),N=1;for(let q=M-N;q<=L+N;q++)q!==0&&l.push(new a.UnwrappedTileID(q,n))}return l}coveringTiles(n){var l,d;let g=this.coveringZoomLevel(n);const x=g;if(n.minzoom!==void 0&&g<n.minzoom)return[];n.maxzoom!==void 0&&g>n.maxzoom&&(g=n.maxzoom);const C=this.pointCoordinate(this.getCameraPoint()),M=a.MercatorCoordinate.fromLngLat(this.center),L=Math.pow(2,g),N=[L*C.x,L*C.y,0],q=[L*M.x,L*M.y,0],$=qr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,g);let J=n.minzoom||0;!n.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(J=g);const pe=n.terrain?2/Math.min(this.tileSize,n.tileSize)*this.tileSize:3,ce=fe=>({aabb:new Dr([fe*L,0,0],[(fe+1)*L,L,0]),zoom:0,x:0,y:0,wrap:fe,fullyVisible:!1}),de=[],Se=[],Ee=g,De=n.reparseOverscaled?x:g;if(this._renderWorldCopies)for(let fe=1;fe<=3;fe++)de.push(ce(-fe)),de.push(ce(fe));for(de.push(ce(0));de.length>0;){const fe=de.pop(),Oe=fe.x,Re=fe.y;let Ze=fe.fullyVisible;if(!Ze){const kt=fe.aabb.intersects($);if(kt===0)continue;Ze=kt===2}const Xe=n.terrain?N:q,lt=fe.aabb.distanceX(Xe),Ge=fe.aabb.distanceY(Xe),Ct=Math.max(Math.abs(lt),Math.abs(Ge)),yt=pe+(1<<Ee-fe.zoom)-2;if(fe.zoom===Ee||Ct>yt&&fe.zoom>=J){const kt=Ee-fe.zoom,pi=N[0]-.5-(Oe<<kt),xi=N[1]-.5-(Re<<kt);Se.push({tileID:new a.OverscaledTileID(fe.zoom===Ee?De:fe.zoom,fe.wrap,fe.zoom,Oe,Re),distanceSq:a.sqrLen([q[0]-.5-Oe,q[1]-.5-Re]),tileDistanceToCamera:Math.sqrt(pi*pi+xi*xi)})}else for(let kt=0;kt<4;kt++){const pi=(Oe<<1)+kt%2,xi=(Re<<1)+(kt>>1),Ht=fe.zoom+1;let Ji=fe.aabb.quadrant(kt);if(n.terrain){const en=new a.OverscaledTileID(Ht,fe.wrap,Ht,pi,xi),Ri=n.terrain.getMinMaxElevation(en),Vi=(l=Ri.minElevation)!==null&&l!==void 0?l:this.elevation,rn=(d=Ri.maxElevation)!==null&&d!==void 0?d:this.elevation;Ji=new Dr([Ji.min[0],Ji.min[1],Vi],[Ji.max[0],Ji.max[1],rn])}de.push({aabb:Ji,zoom:Ht,x:pi,y:xi,wrap:fe.wrap,fullyVisible:Ze})}}return Se.sort((fe,Oe)=>fe.distanceSq-Oe.distanceSq).map(fe=>fe.tileID)}resize(n,l){this.width=n,this.height=l,this.pixelsToGLUnits=[2/n,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(n){return Math.pow(2,n)}scaleZoom(n){return Math.log(n)/Math.LN2}project(n){const l=a.clamp(n.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.pointGeometry(a.mercatorXfromLng(n.lng)*this.worldSize,a.mercatorYfromLat(l)*this.worldSize)}unproject(n){return new a.MercatorCoordinate(n.x/this.worldSize,n.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(n){this.freezeElevation||(this.elevation=n?this.getElevation(this._center,n):0)}getElevation(n,l){const d=a.MercatorCoordinate.fromLngLat(n),g=(1<<this.tileZoom)*a.EXTENT,x=d.x*g,C=d.y*g,M=Math.floor(x/a.EXTENT),L=Math.floor(C/a.EXTENT),N=new a.OverscaledTileID(this.tileZoom,0,this.tileZoom,M,L);return l.getElevation(N,x%a.EXTENT,C%a.EXTENT,a.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(n){const l=this.pointLocation(this.centerPoint,n),d=this.getElevation(l,n);if(!(this.elevation-d))return;const g=this.getCameraPosition(),x=a.MercatorCoordinate.fromLngLat(g.lngLat,g.altitude),C=a.MercatorCoordinate.fromLngLat(l,d),M=x.x-C.x,L=x.y-C.y,N=x.z-C.z,q=Math.sqrt(M*M+L*L+N*N),$=this.scaleZoom(this.cameraToCenterDistance/q/this.tileSize);this._elevation=d,this._center=l,this.zoom=$}setLocationAtPoint(n,l){const d=this.pointCoordinate(l),g=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(n),C=new a.MercatorCoordinate(x.x-(d.x-g.x),x.y-(d.y-g.y));this.center=this.coordinateLocation(C),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(n,l){return l?this.coordinatePoint(this.locationCoordinate(n),this.getElevation(n,l),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(n))}pointLocation(n,l){return this.coordinateLocation(this.pointCoordinate(n,l))}locationCoordinate(n){return a.MercatorCoordinate.fromLngLat(n)}coordinateLocation(n){return n&&n.toLngLat()}pointCoordinate(n,l){if(l){const J=l.pointCoordinate(n);if(J!=null)return J}const d=[n.x,n.y,0,1],g=[n.x,n.y,1,1];a.transformMat4(d,d,this.pixelMatrixInverse),a.transformMat4(g,g,this.pixelMatrixInverse);const x=d[3],C=g[3],M=d[1]/x,L=g[1]/C,N=d[2]/x,q=g[2]/C,$=N===q?0:(0-N)/(q-N);return new a.MercatorCoordinate(a.number(d[0]/x,g[0]/C,$)/this.worldSize,a.number(M,L,$)/this.worldSize)}coordinatePoint(n,l=0,d=this.pixelMatrix){const g=[n.x*this.worldSize,n.y*this.worldSize,l,1];return a.transformMat4(g,g,d),new a.pointGeometry(g[0]/g[3],g[1]/g[3])}getBounds(){const n=Math.max(0,this.height/2-this.getHorizon());return new a.LngLatBounds().extend(this.pointLocation(new a.pointGeometry(0,n))).extend(this.pointLocation(new a.pointGeometry(this.width,n))).extend(this.pointLocation(new a.pointGeometry(this.width,this.height))).extend(this.pointLocation(new a.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(n){n?(this.lngRange=[n.getWest(),n.getEast()],this.latRange=[n.getSouth(),n.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(n,l=!1){const d=n.key,g=l?this._alignedPosMatrixCache:this._posMatrixCache;if(g[d])return g[d];const x=n.canonical,C=this.worldSize/this.zoomScale(x.z),M=x.x+Math.pow(2,x.z)*n.wrap,L=a.identity(new Float64Array(16));return a.translate(L,L,[M*C,x.y*C,0]),a.scale(L,L,[C/a.EXTENT,C/a.EXTENT,1]),a.multiply(L,l?this.alignedProjMatrix:this.projMatrix,L),g[d]=new Float32Array(L),g[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let n,l,d,g,x=-90,C=90,M=-180,L=180;const N=this.size,q=this._unmodified;if(this.latRange){const pe=this.latRange;x=a.mercatorYfromLat(pe[1])*this.worldSize,C=a.mercatorYfromLat(pe[0])*this.worldSize,n=C-x<N.y?N.y/(C-x):0}if(this.lngRange){const pe=this.lngRange;M=a.wrap(a.mercatorXfromLng(pe[0])*this.worldSize,0,this.worldSize),L=a.wrap(a.mercatorXfromLng(pe[1])*this.worldSize,0,this.worldSize),L<M&&(L+=this.worldSize),l=L-M<N.x?N.x/(L-M):0}const $=this.point,J=Math.max(l||0,n||0);if(J)return this.center=this.unproject(new a.pointGeometry(l?(L+M)/2:$.x,n?(C+x)/2:$.y)),this.zoom+=this.scaleZoom(J),this._unmodified=q,void(this._constraining=!1);if(this.latRange){const pe=$.y,ce=N.y/2;pe-ce<x&&(g=x+ce),pe+ce>C&&(g=C-ce)}if(this.lngRange){const pe=(M+L)/2,ce=a.wrap($.x,pe-this.worldSize/2,pe+this.worldSize/2),de=N.x/2;ce-de<M&&(d=M+de),ce+de>L&&(d=L-de)}d===void 0&&g===void 0||(this.center=this.unproject(new a.pointGeometry(d!==void 0?d:$.x,g!==void 0?g:$.y)).wrap()),this._unmodified=q,this._constraining=!1}_calcMatrices(){if(!this.height)return;const n=this.centerOffset,l=this.point.x,d=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let g=a.identity(new Float64Array(16));a.scale(g,g,[this.width/2,-this.height/2,1]),a.translate(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=a.identity(new Float64Array(16)),a.scale(g,g,[1,-1,1]),a.translate(g,g,[-1,-1,0]),a.scale(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const x=Math.PI/2+this._pitch,C=this._fov*(.5+n.y/this.height),M=Math.sin(C)*this.cameraToSeaLevelDistance/Math.sin(a.clamp(Math.PI-x-C,.01,Math.PI-.01)),L=this.getHorizon(),N=2*Math.atan(L/this.cameraToCenterDistance)*(.5+n.y/(2*L)),q=Math.sin(N)*this.cameraToSeaLevelDistance/Math.sin(a.clamp(Math.PI-x-N,.01,Math.PI-.01)),$=Math.cos(Math.PI/2-this._pitch)*M+this.cameraToSeaLevelDistance,J=Math.cos(Math.PI/2-this._pitch)*q+this.cameraToSeaLevelDistance,pe=1.01*Math.min($,J),ce=this.height/50;g=new Float64Array(16),a.perspective(g,this._fov,this.width/this.height,ce,pe),g[8]=2*-n.x/this.width,g[9]=2*n.y/this.height,a.scale(g,g,[1,-1,1]),a.translate(g,g,[0,0,-this.cameraToCenterDistance]),a.rotateX(g,g,this._pitch),a.rotateZ(g,g,this.angle),a.translate(g,g,[-l,-d,0]),this.mercatorMatrix=a.scale([],g,[this.worldSize,this.worldSize,this.worldSize]),a.scale(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,g),a.translate(g,g,[0,0,-this.elevation]),this.projMatrix=g,this.invProjMatrix=a.invert([],g),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,g);const de=this.width%2/2,Se=this.height%2/2,Ee=Math.cos(this.angle),De=Math.sin(this.angle),fe=l-Math.round(l)+Ee*de+De*Se,Oe=d-Math.round(d)+Ee*Se+De*de,Re=new Float64Array(g);if(a.translate(Re,Re,[fe>.5?fe-1:fe,Oe>.5?Oe-1:Oe,0]),this.alignedProjMatrix=Re,g=a.invert(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const n=this.pointCoordinate(new a.pointGeometry(0,0)),l=[n.x*this.worldSize,n.y*this.worldSize,0,1];return a.transformMat4(l,l,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.pointGeometry(0,n))}getCameraQueryGeometry(n){const l=this.getCameraPoint();if(n.length===1)return[n[0],l];{let d=l.x,g=l.y,x=l.x,C=l.y;for(const M of n)d=Math.min(d,M.x),g=Math.min(g,M.y),x=Math.max(x,M.x),C=Math.max(C,M.y);return[new a.pointGeometry(d,g),new a.pointGeometry(x,g),new a.pointGeometry(x,C),new a.pointGeometry(d,C),new a.pointGeometry(d,g)]}}}class Zl{constructor(n){this._hashName=n&&encodeURIComponent(n),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(l,d){let g=!1,x=null;const C=()=>{x=null,g&&(l(),x=setTimeout(C,300),g=!1)};return()=>(g=!0,x||C(),x)}(this._updateHashUnthrottled.bind(this))}addTo(n){return this._map=n,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(n){const l=this._map.getCenter(),d=Math.round(100*this._map.getZoom())/100,g=Math.ceil((d*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,g),C=Math.round(l.lng*x)/x,M=Math.round(l.lat*x)/x,L=this._map.getBearing(),N=this._map.getPitch();let q="";if(q+=n?`/${C}/${M}/${d}`:`${d}/${M}/${C}`,(L||N)&&(q+="/"+Math.round(10*L)/10),N&&(q+=`/${Math.round(N)}`),this._hashName){const $=this._hashName;let J=!1;const pe=window.location.hash.slice(1).split("&").map(ce=>{const de=ce.split("=")[0];return de===$?(J=!0,`${de}=${q}`):ce}).filter(ce=>ce);return J||pe.push(`${$}=${q}`),`#${pe.join("&")}`}return`#${q}`}_getCurrentHash(){const n=window.location.hash.replace("#","");if(this._hashName){let l;return n.split("&").map(d=>d.split("=")).forEach(d=>{d[0]===this._hashName&&(l=d)}),(l&&l[1]||"").split("/")}return n.split("/")}_onHashChange(){const n=this._getCurrentHash();if(n.length>=3&&!n.some(l=>isNaN(l))){const l=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(n[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+n[2],+n[1]],zoom:+n[0],bearing:l,pitch:+(n[4]||0)}),!0}return!1}_updateHashUnthrottled(){const n=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,n)}catch{}}}const va={linearity:.3,easing:a.bezier(0,0,.3,1)},nn=a.extend({deceleration:2500,maxSpeed:1400},va),_a=a.extend({deceleration:20,maxSpeed:1400},va),Gr=a.extend({deceleration:1e3,maxSpeed:360},va),sr=a.extend({deceleration:1e3,maxSpeed:90},va);class nl{constructor(n){this._map=n,this.clear()}clear(){this._inertiaBuffer=[]}record(n){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:n})}_drainInertiaBuffer(){const n=this._inertiaBuffer,l=a.exported.now();for(;n.length>0&&l-n[0].time>160;)n.shift()}_onMoveEnd(n){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const l={zoom:0,bearing:0,pitch:0,pan:new a.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)l.zoom+=x.zoomDelta||0,l.bearing+=x.bearingDelta||0,l.pitch+=x.pitchDelta||0,x.panDelta&&l.pan._add(x.panDelta),x.around&&(l.around=x.around),x.pinchAround&&(l.pinchAround=x.pinchAround);const d=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(l.pan.mag()){const x=xa(l.pan.mag(),d,a.extend({},nn,n||{}));g.offset=l.pan.mult(x.amount/l.pan.mag()),g.center=this._map.transform.center,qo(g,x)}if(l.zoom){const x=xa(l.zoom,d,_a);g.zoom=this._map.transform.zoom+x.amount,qo(g,x)}if(l.bearing){const x=xa(l.bearing,d,Gr);g.bearing=this._map.transform.bearing+a.clamp(x.amount,-179,179),qo(g,x)}if(l.pitch){const x=xa(l.pitch,d,sr);g.pitch=this._map.transform.pitch+x.amount,qo(g,x)}if(g.zoom||g.bearing){const x=l.pinchAround===void 0?l.around:l.pinchAround;g.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),a.extend(g,{noMoveStart:!0})}}function qo(f,n){(!f.duration||f.duration<n.duration)&&(f.duration=n.duration,f.easing=n.easing)}function xa(f,n,l){const{maxSpeed:d,linearity:g,deceleration:x}=l,C=a.clamp(f*g/(n/1e3),-d,d),M=Math.abs(C)/(x*g);return{easing:l.easing,duration:1e3*M,amount:C*(M/2)}}class Lr extends a.Event{constructor(n,l,d,g={}){const x=S.mousePos(l.getCanvasContainer(),d),C=l.unproject(x);super(n,a.extend({point:x,lngLat:C,originalEvent:d},g)),this._defaultPrevented=!1,this.target=l}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Go extends a.Event{constructor(n,l,d){const g=n==="touchend"?d.changedTouches:d.touches,x=S.touchPos(l.getCanvasContainer(),g),C=x.map(L=>l.unproject(L)),M=x.reduce((L,N,q,$)=>L.add(N.div($.length)),new a.pointGeometry(0,0));super(n,{points:x,point:M,lngLats:C,lngLat:l.unproject(M),originalEvent:d}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Vn extends a.Event{constructor(n,l,d){super(n,{originalEvent:d}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class $l{constructor(n,l){this._map=n,this._clickTolerance=l.clickTolerance}reset(){delete this._mousedownPos}wheel(n){return this._firePreventable(new Vn(n.type,this._map,n))}mousedown(n,l){return this._mousedownPos=l,this._firePreventable(new Lr(n.type,this._map,n))}mouseup(n){this._map.fire(new Lr(n.type,this._map,n))}click(n,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||this._map.fire(new Lr(n.type,this._map,n))}dblclick(n){return this._firePreventable(new Lr(n.type,this._map,n))}mouseover(n){this._map.fire(new Lr(n.type,this._map,n))}mouseout(n){this._map.fire(new Lr(n.type,this._map,n))}touchstart(n){return this._firePreventable(new Go(n.type,this._map,n))}touchmove(n){this._map.fire(new Go(n.type,this._map,n))}touchend(n){this._map.fire(new Go(n.type,this._map,n))}touchcancel(n){this._map.fire(new Go(n.type,this._map,n))}_firePreventable(n){if(this._map.fire(n),n.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ks{constructor(n){this._map=n}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(n){this._map.fire(new Lr(n.type,this._map,n))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Lr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(n){this._delayContextMenu?this._contextMenuEvent=n:this._ignoreContextMenu||this._map.fire(new Lr(n.type,this._map,n)),this._map.listens("contextmenu")&&n.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wa{constructor(n,l){this._map=n,this._el=n.getCanvasContainer(),this._container=n.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(n,l){this.isEnabled()&&n.shiftKey&&n.button===0&&(S.disableDrag(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(n,l){if(!this._active)return;const d=l;if(this._lastPos.equals(d)||!this._box&&d.dist(this._startPos)<this._clickTolerance)return;const g=this._startPos;this._lastPos=d,this._box||(this._box=S.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",n));const x=Math.min(g.x,d.x),C=Math.max(g.x,d.x),M=Math.min(g.y,d.y),L=Math.max(g.y,d.y);S.setTransform(this._box,`translate(${x}px,${M}px)`),this._box.style.width=C-x+"px",this._box.style.height=L-M+"px"}mouseupWindow(n,l){if(!this._active||n.button!==0)return;const d=this._startPos,g=l;if(this.reset(),S.suppressClick(),d.x!==g.x||d.y!==g.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:n})),{cameraAnimation:x=>x.fitScreenCoordinates(d,g,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",n)}keydown(n){this._active&&n.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",n))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(n,l){return this._map.fire(new a.Event(n,{originalEvent:l}))}}function Wr(f,n){if(f.length!==n.length)throw new Error(`The number of touches and points are not equal - touches ${f.length}, points ${n.length}`);const l={};for(let d=0;d<f.length;d++)l[f[d].identifier]=n[d];return l}class fo{constructor(n){this.reset(),this.numTouches=n.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(n,l,d){(this.centroid||d.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=n.timeStamp),d.length===this.numTouches&&(this.centroid=function(g){const x=new a.pointGeometry(0,0);for(const C of g)x._add(C);return x.div(g.length)}(l),this.touches=Wr(d,l)))}touchmove(n,l,d){if(this.aborted||!this.centroid)return;const g=Wr(d,l);for(const x in this.touches){const C=this.touches[x],M=g[x];(!M||M.dist(C)>30)&&(this.aborted=!0)}}touchend(n,l,d){if((!this.centroid||n.timeStamp-this.startTime>500)&&(this.aborted=!0),d.length===0){const g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class Xl{constructor(n){this.singleTap=new fo(n),this.numTaps=n.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(n,l,d){this.singleTap.touchstart(n,l,d)}touchmove(n,l,d){this.singleTap.touchmove(n,l,d)}touchend(n,l,d){const g=this.singleTap.touchend(n,l,d);if(g){const x=n.timeStamp-this.lastTime<500,C=!this.lastTap||this.lastTap.dist(g)<30;if(x&&C||this.reset(),this.count++,this.lastTime=n.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class rl{constructor(){this._zoomIn=new Xl({numTouches:1,numTaps:2}),this._zoomOut=new Xl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(n,l,d){this._zoomIn.touchstart(n,l,d),this._zoomOut.touchstart(n,l,d)}touchmove(n,l,d){this._zoomIn.touchmove(n,l,d),this._zoomOut.touchmove(n,l,d)}touchend(n,l,d){const g=this._zoomIn.touchend(n,l,d),x=this._zoomOut.touchend(n,l,d);return g?(this._active=!0,n.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:C=>C.easeTo({duration:300,zoom:C.getZoom()+1,around:C.unproject(g)},{originalEvent:n})}):x?(this._active=!0,n.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:C=>C.easeTo({duration:300,zoom:C.getZoom()-1,around:C.unproject(x)},{originalEvent:n})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Kl={0:1,2:2};class Wo{constructor(n){this.reset(),this._clickTolerance=n.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(n,l){return!1}_move(n,l){return{}}mousedown(n,l){if(this._lastPoint)return;const d=S.mouseButton(n);this._correctButton(n,d)&&(this._lastPoint=l,this._eventButton=d)}mousemoveWindow(n,l){const d=this._lastPoint;if(d){if(n.preventDefault(),function(g,x){const C=Kl[x];return g.buttons===void 0||(g.buttons&C)!==C}(n,this._eventButton))this.reset();else if(this._moved||!(l.dist(d)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(d,l)}}mouseupWindow(n){this._lastPoint&&S.mouseButton(n)===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ba extends Wo{mousedown(n,l){super.mousedown(n,l),this._lastPoint&&(this._active=!0)}_correctButton(n,l){return l===0&&!n.ctrlKey}_move(n,l){return{around:l,panDelta:l.sub(n)}}}class ne extends Wo{_correctButton(n,l){return l===0&&n.ctrlKey||l===2}_move(n,l){const d=.8*(l.x-n.x);if(d)return this._active=!0,{bearingDelta:d}}contextmenu(n){n.preventDefault()}}class le extends Wo{_correctButton(n,l){return l===0&&n.ctrlKey||l===2}_move(n,l){const d=-.5*(l.y-n.y);if(d)return this._active=!0,{pitchDelta:d}}contextmenu(n){n.preventDefault()}}class Ae{constructor(n,l){this._minTouches=n.cooperativeGestures?2:1,this._clickTolerance=n.clickTolerance||1,this._map=l,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(n,l,d){return this._calculateTransform(n,l,d)}touchmove(n,l,d){if(this._map._cooperativeGestures&&(this._minTouches===2&&d.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(n,!1,d.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(d.length<this._minTouches))return n.preventDefault(),this._calculateTransform(n,l,d)}touchend(n,l,d){this._calculateTransform(n,l,d),this._active&&d.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(n,l,d){d.length>0&&(this._active=!0);const g=Wr(d,l),x=new a.pointGeometry(0,0),C=new a.pointGeometry(0,0);let M=0;for(const N in g){const q=g[N],$=this._touches[N];$&&(x._add(q),C._add(q.sub($)),M++,g[N]=q)}if(this._touches=g,M<this._minTouches||!C.mag())return;const L=C.div(M);return this._sum._add(L),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(M),panDelta:L}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qe{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(n){}_move(n,l,d){return{}}touchstart(n,l,d){this._firstTwoTouches||d.length<2||(this._firstTwoTouches=[d[0].identifier,d[1].identifier],this._start([l[0],l[1]]))}touchmove(n,l,d){if(!this._firstTwoTouches)return;n.preventDefault();const[g,x]=this._firstTwoTouches,C=Ie(d,l,g),M=Ie(d,l,x);if(!C||!M)return;const L=this._aroundCenter?null:C.add(M).div(2);return this._move([C,M],L,n)}touchend(n,l,d){if(!this._firstTwoTouches)return;const[g,x]=this._firstTwoTouches,C=Ie(d,l,g),M=Ie(d,l,x);C&&M||(this._active&&S.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(n){this._enabled=!0,this._aroundCenter=!!n&&n.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ie(f,n,l){for(let d=0;d<f.length;d++)if(f[d].identifier===l)return n[d]}function nt(f,n){return Math.log(f/n)/Math.LN2}class Pe extends Qe{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(n){this._startDistance=this._distance=n[0].dist(n[1])}_move(n,l){const d=this._distance;if(this._distance=n[0].dist(n[1]),this._active||!(Math.abs(nt(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:nt(this._distance,d),pinchAround:l}}}function gt(f,n){return 180*f.angleWith(n)/Math.PI}class Et extends Qe{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(n){this._startVector=this._vector=n[0].sub(n[1]),this._minDiameter=n[0].dist(n[1])}_move(n,l){const d=this._vector;if(this._vector=n[0].sub(n[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:gt(this._vector,d),pinchAround:l}}_isBelowThreshold(n){this._minDiameter=Math.min(this._minDiameter,n.mag());const l=25/(Math.PI*this._minDiameter)*360,d=gt(n,this._startVector);return Math.abs(d)<l}}function ei(f){return Math.abs(f.y)>Math.abs(f.x)}class Xt extends Qe{constructor(n){super(),this._map=n}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(n,l,d){super.touchstart(n,l,d),this._currentTouchCount=d.length}_start(n){this._lastPoints=n,ei(n[0].sub(n[1]))&&(this._valid=!1)}_move(n,l,d){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const g=n[0].sub(this._lastPoints[0]),x=n[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,x,d.timeStamp),this._valid?(this._lastPoints=n,this._active=!0,{pitchDelta:(g.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(n,l,d){if(this._valid!==void 0)return this._valid;const g=n.mag()>=2,x=l.mag()>=2;if(!g&&!x)return;if(!g||!x)return this._firstMove===void 0&&(this._firstMove=d),d-this._firstMove<100&&void 0;const C=n.y>0==l.y>0;return ei(n)&&ei(l)&&C}}const ni={panStep:100,bearingStep:15,pitchStep:10};class Ai{constructor(){const n=ni;this._panStep=n.panStep,this._bearingStep=n.bearingStep,this._pitchStep=n.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(n){if(n.altKey||n.ctrlKey||n.metaKey)return;let l=0,d=0,g=0,x=0,C=0;switch(n.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:n.shiftKey?d=-1:(n.preventDefault(),x=-1);break;case 39:n.shiftKey?d=1:(n.preventDefault(),x=1);break;case 38:n.shiftKey?g=1:(n.preventDefault(),C=-1);break;case 40:n.shiftKey?g=-1:(n.preventDefault(),C=1);break;default:return}return this._rotationDisabled&&(d=0,g=0),{cameraAnimation:M=>{const L=M.getZoom();M.easeTo({duration:300,easeId:"keyboardHandler",easing:an,zoom:l?Math.round(L)+l*(n.shiftKey?2:1):L,bearing:M.getBearing()+d*this._bearingStep,pitch:M.getPitch()+g*this._pitchStep,offset:[-x*this._panStep,-C*this._panStep],center:M.getCenter()},{originalEvent:n})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function an(f){return f*(2-f)}const ti=4.000244140625;class Pn{constructor(n,l){this._map=n,this._el=n.getCanvasContainer(),this._handler=l,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)}setZoomRate(n){this._defaultZoomRate=n}setWheelZoomRate(n){this._wheelZoomRate=n}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(n){this.isEnabled()||(this._enabled=!0,this._aroundCenter=n&&n.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(n){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;n.preventDefault()}let l=n.deltaMode===WheelEvent.DOM_DELTA_LINE?40*n.deltaY:n.deltaY;const d=a.exported.now(),g=d-(this._lastWheelEventTime||0);this._lastWheelEventTime=d,l!==0&&l%ti==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=l,this._timeout=setTimeout(this._onTimeout,40,n)):this._type||(this._type=Math.abs(g*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),n.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=n,this._delta-=l,this._active||this._start(n)),n.preventDefault()}_onTimeout(n){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(n)}_start(n){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=S.mousePos(this._el,n);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(l)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const n=this._map.transform;if(this._delta!==0){const M=this._type==="wheel"&&Math.abs(this._delta)>ti?this._wheelZoomRate:this._defaultZoomRate;let L=2/(1+Math.exp(-Math.abs(this._delta*M)));this._delta<0&&L!==0&&(L=1/L);const N=typeof this._targetZoom=="number"?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(N*L))),this._type==="wheel"&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const l=typeof this._targetZoom=="number"?this._targetZoom:n.zoom,d=this._startZoom,g=this._easing;let x,C=!1;if(this._type==="wheel"&&d&&g){const M=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),L=g(M);x=a.number(d,l,L),M<1?this._frameId||(this._frameId=!0):C=!0}else x=l,C=!0;return this._active=!0,C&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!C,zoomDelta:x-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(n){let l=a.ease;if(this._prevEase){const d=this._prevEase,g=(a.exported.now()-d.start)/d.duration,x=d.easing(g+.01)-d.easing(g),C=.27/Math.sqrt(x*x+1e-4)*.01,M=Math.sqrt(.0729-C*C);l=a.bezier(C,M,.25,1)}return this._prevEase={start:a.exported.now(),duration:n,easing:l},l}reset(){this._active=!1}}class Zn{constructor(n,l){this._clickZoom=n,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class dr{constructor(){this.reset()}reset(){this._active=!1}dblclick(n,l){return n.preventDefault(),{cameraAnimation:d=>{d.easeTo({duration:300,zoom:d.getZoom()+(n.shiftKey?-1:1),around:d.unproject(l)},{originalEvent:n})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class fn{constructor(){this._tap=new Xl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(n,l,d){this._swipePoint||(this._tapTime&&n.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?d.length>0&&(this._swipePoint=l[0],this._swipeTouch=d[0].identifier):this._tap.touchstart(n,l,d))}touchmove(n,l,d){if(this._tapTime){if(this._swipePoint){if(d[0].identifier!==this._swipeTouch)return;const g=l[0],x=g.y-this._swipePoint.y;return this._swipePoint=g,n.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(n,l,d)}touchend(n,l,d){this._tapTime?this._swipePoint&&d.length===0&&this.reset():this._tap.touchend(n,l,d)&&(this._tapTime=n.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $n{constructor(n,l,d){this._el=n,this._mousePan=l,this._touchPan=d}enable(n){this._inertiaOptions=n||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Hr{constructor(n,l,d){this._pitchWithRotate=n.pitchWithRotate,this._mouseRotate=l,this._mousePitch=d}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class wr{constructor(n,l,d,g){this._el=n,this._touchZoom=l,this._touchRotate=d,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(n){this._touchZoom.enable(n),this._rotationDisabled||this._touchRotate.enable(n),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const sl=f=>f.zoom||f.drag||f.pitch||f.rotate;class Vc extends a.Event{}function Yl(f){return f.panDelta&&f.panDelta.mag()||f.zoomDelta||f.bearingDelta||f.pitchDelta}class kd{constructor(n,l){this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new nl(n),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(l),a.bindAll(["handleEvent","handleWindowEvent"],this);const d=this._el;this._listeners=[[d,"touchstart",{passive:!0}],[d,"touchmove",{passive:!1}],[d,"touchend",void 0],[d,"touchcancel",void 0],[d,"mousedown",void 0],[d,"mousemove",void 0],[d,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[d,"mouseover",void 0],[d,"mouseout",void 0],[d,"dblclick",void 0],[d,"click",void 0],[d,"keydown",{capture:!1}],[d,"keyup",void 0],[d,"wheel",{passive:!1}],[d,"contextmenu",void 0],[window,"blur",void 0]];for(const[g,x,C]of this._listeners)S.addEventListener(g,x,g===document?this.handleWindowEvent:this.handleEvent,C)}destroy(){for(const[n,l,d]of this._listeners)S.removeEventListener(n,l,n===document?this.handleWindowEvent:this.handleEvent,d)}_addDefaultHandlers(n){const l=this._map,d=l.getCanvasContainer();this._add("mapEvent",new $l(l,n));const g=l.boxZoom=new wa(l,n);this._add("boxZoom",g);const x=new rl,C=new dr;l.doubleClickZoom=new Zn(C,x),this._add("tapZoom",x),this._add("clickZoom",C);const M=new fn;this._add("tapDragZoom",M);const L=l.touchPitch=new Xt(l);this._add("touchPitch",L);const N=new ne(n),q=new le(n);l.dragRotate=new Hr(n,N,q),this._add("mouseRotate",N,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]);const $=new ba(n),J=new Ae(n,l);l.dragPan=new $n(d,$,J),this._add("mousePan",$),this._add("touchPan",J,["touchZoom","touchRotate"]);const pe=new Et,ce=new Pe;l.touchZoomRotate=new wr(d,ce,pe,M),this._add("touchRotate",pe,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]);const de=l.scrollZoom=new Pn(l,this);this._add("scrollZoom",de,["mousePan"]);const Se=l.keyboard=new Ai;this._add("keyboard",Se),this._add("blockableMapEvent",new ks(l));for(const Ee of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])n.interactive&&n[Ee]&&l[Ee].enable(n[Ee])}_add(n,l,d){this._handlers.push({handlerName:n,handler:l,allowed:d}),this._handlersById[n]=l}stop(n){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},n),this._changes=[]}}isActive(){for(const{handler:n}of this._handlers)if(n.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(sl(this._eventsInProgress))||this.isZooming()}_blockedByActive(n,l,d){for(const g in n)if(g!==d&&(!l||l.indexOf(g)<0))return!0;return!1}handleWindowEvent(n){this.handleEvent(n,`${n.type}Window`)}_getMapTouches(n){const l=[];for(const d of n)this._el.contains(d.target)&&l.push(d);return l}handleEvent(n,l){if(n.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const d=n.type==="renderFrame"?void 0:n,g={needsRenderFrame:!1},x={},C={},M=n.touches,L=M?this._getMapTouches(M):void 0,N=L?S.touchPos(this._el,L):S.mousePos(this._el,n);for(const{handlerName:J,handler:pe,allowed:ce}of this._handlers){if(!pe.isEnabled())continue;let de;this._blockedByActive(C,ce,J)?pe.reset():pe[l||n.type]&&(de=pe[l||n.type](n,N,L),this.mergeHandlerResult(g,x,de,J,d),de&&de.needsRenderFrame&&this._triggerRenderFrame()),(de||pe.isActive())&&(C[J]=pe)}const q={};for(const J in this._previousActiveHandlers)C[J]||(q[J]=d);this._previousActiveHandlers=C,(Object.keys(q).length||Yl(g))&&(this._changes.push([g,x,q]),this._triggerRenderFrame()),(Object.keys(C).length||Yl(g))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:$}=g;$&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],$(this._map))}mergeHandlerResult(n,l,d,g,x){if(!d)return;a.extend(n,d);const C={handlerName:g,originalEvent:d.originalEvent||x};d.zoomDelta!==void 0&&(l.zoom=C),d.panDelta!==void 0&&(l.drag=C),d.pitchDelta!==void 0&&(l.pitch=C),d.bearingDelta!==void 0&&(l.rotate=C)}_applyChanges(){const n={},l={},d={};for(const[g,x,C]of this._changes)g.panDelta&&(n.panDelta=(n.panDelta||new a.pointGeometry(0,0))._add(g.panDelta)),g.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(n.around=g.around),g.pinchAround!==void 0&&(n.pinchAround=g.pinchAround),g.noInertia&&(n.noInertia=g.noInertia),a.extend(l,x),a.extend(d,C);this._updateMapTransform(n,l,d),this._changes=[]}_updateMapTransform(n,l,d){const g=this._map,x=g.transform,C=g.style&&g.style.terrain;if(!(Yl(n)||C&&this._drag))return this._fireEvents(l,d,!0);let{panDelta:M,zoomDelta:L,bearingDelta:N,pitchDelta:q,around:$,pinchAround:J}=n;J!==void 0&&($=J),g._stop(!0),$=$||g.transform.centerPoint;const pe=x.pointLocation(M?$.sub(M):$);N&&(x.bearing+=N),q&&(x.pitch+=q),L&&(x.zoom+=L),C?l.drag&&!this._drag?(this._drag={center:x.centerPoint,lngLat:x.pointLocation($),point:$,handlerName:l.drag.handlerName},g.fire(new a.Event("freezeElevation",{freeze:!0}))):this._drag&&d[this._drag.handlerName]?(g.fire(new a.Event("freezeElevation",{freeze:!1})),this._drag=null):l.drag&&this._drag&&(x.center=x.pointLocation(x.centerPoint.sub(M))):x.setLocationAtPoint(pe,$),this._map._update(),n.noInertia||this._inertia.record(n),this._fireEvents(l,d,!0)}_fireEvents(n,l,d){const g=sl(this._eventsInProgress),x=sl(n),C={};for(const q in n){const{originalEvent:$}=n[q];this._eventsInProgress[q]||(C[`${q}start`]=$),this._eventsInProgress[q]=n[q]}!g&&x&&this._fireEvent("movestart",x.originalEvent);for(const q in C)this._fireEvent(q,C[q]);x&&this._fireEvent("move",x.originalEvent);for(const q in n){const{originalEvent:$}=n[q];this._fireEvent(q,$)}const M={};let L;for(const q in this._eventsInProgress){const{handlerName:$,originalEvent:J}=this._eventsInProgress[q];this._handlersById[$].isActive()||(delete this._eventsInProgress[q],L=l[$]||J,M[`${q}end`]=L)}for(const q in M)this._fireEvent(q,M[q]);const N=sl(this._eventsInProgress);if(d&&(g||x)&&!N){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),$=J=>J!==0&&-this._bearingSnap<J&&J<this._bearingSnap;q?($(q.bearing||this._map.getBearing())&&(q.bearing=0),this._map.easeTo(q,{originalEvent:L})):(this._map.fire(new a.Event("moveend",{originalEvent:L})),$(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(n,l){this._map.fire(new a.Event(n,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(n=>{delete this._frameId,this.handleEvent(new Vc("renderFrame",{timeStamp:n})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const ys={extend:(f,...n)=>a.extend(f,...n),run(f){f()},logToElement(f,n=!1,l="log"){const d=window.document.getElementById(l);d&&(n&&(d.innerHTML=""),d.innerHTML+=`<br>${f}`)}};class wn extends a.Evented{constructor(n,l){super(),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=l.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(n,l){return this.jumpTo({center:n},l)}panBy(n,l,d){return n=a.pointGeometry.convert(n).mult(-1),this.panTo(this.transform.center,a.extend({offset:n},l),d)}panTo(n,l,d){return this.easeTo(a.extend({center:n},l),d)}getZoom(){return this.transform.zoom}setZoom(n,l){return this.jumpTo({zoom:n},l),this}zoomTo(n,l,d){return this.easeTo(a.extend({zoom:n},l),d)}zoomIn(n,l){return this.zoomTo(this.getZoom()+1,n,l),this}zoomOut(n,l){return this.zoomTo(this.getZoom()-1,n,l),this}getBearing(){return this.transform.bearing}setBearing(n,l){return this.jumpTo({bearing:n},l),this}getPadding(){return this.transform.padding}setPadding(n,l){return this.jumpTo({padding:n},l),this}rotateTo(n,l,d){return this.easeTo(a.extend({bearing:n},l),d)}resetNorth(n,l){return this.rotateTo(0,a.extend({duration:1e3},n),l),this}resetNorthPitch(n,l){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},n),l),this}snapToNorth(n,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(n,l):this}getPitch(){return this.transform.pitch}setPitch(n,l){return this.jumpTo({pitch:n},l),this}cameraForBounds(n,l){n=a.LngLatBounds.convert(n);const d=l&&l.bearing||0;return this._cameraForBoxAndBearing(n.getNorthWest(),n.getSouthEast(),d,l)}_cameraForBoxAndBearing(n,l,d,g){const x={top:0,bottom:0,right:0,left:0};if(typeof(g=a.extend({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const Re=g.padding;g.padding={top:Re,bottom:Re,right:Re,left:Re}}g.padding=a.extend(x,g.padding);const C=this.transform,M=C.padding,L=C.project(a.LngLat.convert(n)),N=C.project(a.LngLat.convert(l)),q=L.rotate(-d*Math.PI/180),$=N.rotate(-d*Math.PI/180),J=new a.pointGeometry(Math.max(q.x,$.x),Math.max(q.y,$.y)),pe=new a.pointGeometry(Math.min(q.x,$.x),Math.min(q.y,$.y)),ce=J.sub(pe),de=(C.width-(M.left+M.right+g.padding.left+g.padding.right))/ce.x,Se=(C.height-(M.top+M.bottom+g.padding.top+g.padding.bottom))/ce.y;if(Se<0||de<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Ee=Math.min(C.scaleZoom(C.scale*Math.min(de,Se)),g.maxZoom),De=a.pointGeometry.convert(g.offset),fe=new a.pointGeometry((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(d*Math.PI/180),Oe=De.add(fe).mult(C.scale/C.zoomScale(Ee));return{center:C.unproject(L.add(N).div(2).sub(Oe)),zoom:Ee,bearing:d}}fitBounds(n,l,d){return this._fitInternal(this.cameraForBounds(n,l),l,d)}fitScreenCoordinates(n,l,d,g,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.pointGeometry.convert(n)),this.transform.pointLocation(a.pointGeometry.convert(l)),d,g),g,x)}_fitInternal(n,l,d){return n?(delete(l=a.extend(n,l)).padding,l.linear?this.easeTo(l,d):this.flyTo(l,d)):this}jumpTo(n,l){this.stop();const d=this.transform;let g=!1,x=!1,C=!1;return"zoom"in n&&d.zoom!==+n.zoom&&(g=!0,d.zoom=+n.zoom),n.center!==void 0&&(d.center=a.LngLat.convert(n.center)),"bearing"in n&&d.bearing!==+n.bearing&&(x=!0,d.bearing=+n.bearing),"pitch"in n&&d.pitch!==+n.pitch&&(C=!0,d.pitch=+n.pitch),n.padding==null||d.isPaddingEqual(n.padding)||(d.padding=n.padding),this.fire(new a.Event("movestart",l)).fire(new a.Event("move",l)),g&&this.fire(new a.Event("zoomstart",l)).fire(new a.Event("zoom",l)).fire(new a.Event("zoomend",l)),x&&this.fire(new a.Event("rotatestart",l)).fire(new a.Event("rotate",l)).fire(new a.Event("rotateend",l)),C&&this.fire(new a.Event("pitchstart",l)).fire(new a.Event("pitch",l)).fire(new a.Event("pitchend",l)),this.fire(new a.Event("moveend",l))}calculateCameraOptionsFromTo(n,l,d,g=0){const x=a.MercatorCoordinate.fromLngLat(n,l),C=a.MercatorCoordinate.fromLngLat(d,g),M=C.x-x.x,L=C.y-x.y,N=C.z-x.z,q=Math.hypot(M,L,N);if(q===0)throw new Error("Can't calculate camera options with same From and To");const $=Math.hypot(M,L),J=this.transform.scaleZoom(this.transform.cameraToCenterDistance/q/this.transform.tileSize),pe=180*Math.atan2(M,-L)/Math.PI;let ce=180*Math.acos($/q)/Math.PI;return ce=N<0?90-ce:90+ce,{center:C.toLngLat(),zoom:J,pitch:ce,bearing:pe}}easeTo(n,l){this._stop(!1,n.easeId),((n=a.extend({offset:[0,0],duration:500,easing:a.ease},n)).animate===!1||!n.essential&&a.exported.prefersReducedMotion)&&(n.duration=0);const d=this.transform,g=this.getZoom(),x=this.getBearing(),C=this.getPitch(),M=this.getPadding(),L="zoom"in n?+n.zoom:g,N="bearing"in n?this._normalizeBearing(n.bearing,x):x,q="pitch"in n?+n.pitch:C,$="padding"in n?n.padding:d.padding,J=a.pointGeometry.convert(n.offset);let pe=d.centerPoint.add(J);const ce=d.pointLocation(pe),de=a.LngLat.convert(n.center||ce);this._normalizeCenter(de);const Se=d.project(ce),Ee=d.project(de).sub(Se),De=d.zoomScale(L-g);let fe,Oe;n.around&&(fe=a.LngLat.convert(n.around),Oe=d.locationPoint(fe));const Re={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||L!==g,this._rotating=this._rotating||x!==N,this._pitching=this._pitching||q!==C,this._padding=!d.isPaddingEqual($),this._easeId=n.easeId,this._prepareEase(l,n.noMoveStart,Re),this._ease(Ze=>{if(this._zooming&&(d.zoom=a.number(g,L,Ze)),this._rotating&&(d.bearing=a.number(x,N,Ze)),this._pitching&&(d.pitch=a.number(C,q,Ze)),this._padding&&(d.interpolatePadding(M,$,Ze),pe=d.centerPoint.add(J)),fe)d.setLocationAtPoint(fe,Oe);else{const Xe=d.zoomScale(d.zoom-g),lt=L>g?Math.min(2,De):Math.max(.5,De),Ge=Math.pow(lt,1-Ze),Ct=d.unproject(Se.add(Ee.mult(Ze*Ge)).mult(Xe));d.setLocationAtPoint(d.renderWorldCopies?Ct.wrap():Ct,pe)}this._fireMoveEvents(l)},Ze=>{this._afterEase(l,Ze)},n),this}_prepareEase(n,l,d={}){this._moving=!0,this.fire(new a.Event("freezeElevation",{freeze:!0})),l||d.moving||this.fire(new a.Event("movestart",n)),this._zooming&&!d.zooming&&this.fire(new a.Event("zoomstart",n)),this._rotating&&!d.rotating&&this.fire(new a.Event("rotatestart",n)),this._pitching&&!d.pitching&&this.fire(new a.Event("pitchstart",n))}_fireMoveEvents(n){this.fire(new a.Event("move",n)),this._zooming&&this.fire(new a.Event("zoom",n)),this._rotating&&this.fire(new a.Event("rotate",n)),this._pitching&&this.fire(new a.Event("pitch",n))}_afterEase(n,l){if(this._easeId&&l&&this._easeId===l)return;delete this._easeId,this.fire(new a.Event("freezeElevation",{freeze:!1}));const d=this._zooming,g=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,d&&this.fire(new a.Event("zoomend",n)),g&&this.fire(new a.Event("rotateend",n)),x&&this.fire(new a.Event("pitchend",n)),this.fire(new a.Event("moveend",n))}flyTo(n,l){if(!n.essential&&a.exported.prefersReducedMotion){const Ht=a.pick(n,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ht,l)}this.stop(),n=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},n);const d=this.transform,g=this.getZoom(),x=this.getBearing(),C=this.getPitch(),M=this.getPadding(),L="zoom"in n?a.clamp(+n.zoom,d.minZoom,d.maxZoom):g,N="bearing"in n?this._normalizeBearing(n.bearing,x):x,q="pitch"in n?+n.pitch:C,$="padding"in n?n.padding:d.padding,J=d.zoomScale(L-g),pe=a.pointGeometry.convert(n.offset);let ce=d.centerPoint.add(pe);const de=d.pointLocation(ce),Se=a.LngLat.convert(n.center||de);this._normalizeCenter(Se);const Ee=d.project(de),De=d.project(Se).sub(Ee);let fe=n.curve;const Oe=Math.max(d.width,d.height),Re=Oe/J,Ze=De.mag();if("minZoom"in n){const Ht=a.clamp(Math.min(n.minZoom,g,L),d.minZoom,d.maxZoom),Ji=Oe/d.zoomScale(Ht-g);fe=Math.sqrt(Ji/Ze*2)}const Xe=fe*fe;function lt(Ht){const Ji=(Re*Re-Oe*Oe+(Ht?-1:1)*Xe*Xe*Ze*Ze)/(2*(Ht?Re:Oe)*Xe*Ze);return Math.log(Math.sqrt(Ji*Ji+1)-Ji)}function Ge(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function Ct(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}const yt=lt(0);let kt=function(Ht){return Ct(yt)/Ct(yt+fe*Ht)},pi=function(Ht){return Oe*((Ct(yt)*(Ge(Ji=yt+fe*Ht)/Ct(Ji))-Ge(yt))/Xe)/Ze;var Ji},xi=(lt(1)-yt)/fe;if(Math.abs(Ze)<1e-6||!isFinite(xi)){if(Math.abs(Oe-Re)<1e-6)return this.easeTo(n,l);const Ht=Re<Oe?-1:1;xi=Math.abs(Math.log(Re/Oe))/fe,pi=function(){return 0},kt=function(Ji){return Math.exp(Ht*fe*Ji)}}return n.duration="duration"in n?+n.duration:1e3*xi/("screenSpeed"in n?+n.screenSpeed/fe:+n.speed),n.maxDuration&&n.duration>n.maxDuration&&(n.duration=0),this._zooming=!0,this._rotating=x!==N,this._pitching=q!==C,this._padding=!d.isPaddingEqual($),this._prepareEase(l,!1),this._ease(Ht=>{const Ji=Ht*xi,en=1/kt(Ji);d.zoom=Ht===1?L:g+d.scaleZoom(en),this._rotating&&(d.bearing=a.number(x,N,Ht)),this._pitching&&(d.pitch=a.number(C,q,Ht)),this._padding&&(d.interpolatePadding(M,$,Ht),ce=d.centerPoint.add(pe));const Ri=Ht===1?Se:d.unproject(Ee.add(De.mult(pi(Ji))).mult(en));d.setLocationAtPoint(d.renderWorldCopies?Ri.wrap():Ri,ce),this._fireMoveEvents(l)},()=>this._afterEase(l),n),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(n,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const d=this._onEaseEnd;delete this._onEaseEnd,d.call(this,l)}if(!n){const d=this.handlers;d&&d.stop(!1)}return this}_ease(n,l,d){d.animate===!1||d.duration===0?(n(1),l()):(this._easeStart=a.exported.now(),this._easeOptions=d,this._onEaseFrame=n,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const n=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(n)),n<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(n,l){n=a.wrap(n,-180,180);const d=Math.abs(n-l);return Math.abs(n-360-l)<d&&(n-=360),Math.abs(n+360-l)<d&&(n+=360),n}_normalizeCenter(n){const l=this.transform;if(!l.renderWorldCopies||l.lngRange)return;const d=n.lng-l.center.lng;n.lng+=d>180?-360:d<-180?360:0}}class Ql{constructor(n={}){this.options=n,a.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(n){return this._map=n,this._compact=this.options&&this.options.compact,this._container=S.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(n,l){const d=this._map._getUIString(`AttributionControl.${l}`);n.title=d,n.setAttribute("aria-label",d)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(n){!n||n.sourceDataType!=="metadata"&&n.sourceDataType!=="visibility"&&n.dataType!=="style"&&n.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let n=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?n=n.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&n.push(this.options.customAttribution)),this._map.style.stylesheet){const g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}const l=this._map.style.sourceCaches;for(const g in l){const x=l[g];if(x.used||x.usedForTerrain){const C=x.getSource();C.attribution&&n.indexOf(C.attribution)<0&&n.push(C.attribution)}}n=n.filter(g=>String(g).trim()),n.sort((g,x)=>g.length-x.length),n=n.filter((g,x)=>{for(let C=x+1;C<n.length;C++)if(n[C].indexOf(g)>=0)return!1;return!0});const d=n.join(" | ");d!==this._attribHTML&&(this._attribHTML=d,n.length?(this._innerContainer.innerHTML=d,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class Ou{constructor(n={}){this.options=n,a.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(n){this._map=n,this._compact=this.options&&this.options.compact,this._container=S.create("div","maplibregl-ctrl mapboxgl-ctrl");const l=S.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://maplibre.org/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){S.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const n=this._container.children;if(n.length){const l=n[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&l.classList.add("maplibregl-compact","mapboxgl-compact"):l.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class Pd{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(n){const l=++this._id;return this._queue.push({callback:n,id:l,cancelled:!1}),l}remove(n){const l=this._currentlyRunning,d=l?this._queue.concat(l):this._queue;for(const g of d)if(g.id===n)return void(g.cancelled=!0)}run(n=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const l=this._currentlyRunning=this._queue;this._queue=[];for(const d of l)if(!d.cancelled&&(d.callback(n),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Id={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},Md={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},nm={showCompass:!0,showZoom:!0,visualizePitch:!1};class Zs{constructor(n,l,d=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new ne({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,d&&(this.mousePitch=new le({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(l,"mousedown",this.mousedown),S.addEventListener(l,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(l,"touchmove",this.touchmove),S.addEventListener(l,"touchend",this.touchend),S.addEventListener(l,"touchcancel",this.reset)}down(n,l){this.mouseRotate.mousedown(n,l),this.mousePitch&&this.mousePitch.mousedown(n,l),S.disableDrag()}move(n,l){const d=this.map,g=this.mouseRotate.mousemoveWindow(n,l);if(g&&g.bearingDelta&&d.setBearing(d.getBearing()+g.bearingDelta),this.mousePitch){const x=this.mousePitch.mousemoveWindow(n,l);x&&x.pitchDelta&&d.setPitch(d.getPitch()+x.pitchDelta)}}off(){const n=this.element;S.removeEventListener(n,"mousedown",this.mousedown),S.removeEventListener(n,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(n,"touchmove",this.touchmove),S.removeEventListener(n,"touchend",this.touchend),S.removeEventListener(n,"touchcancel",this.reset),this.offTemp()}offTemp(){S.enableDrag(),S.removeEventListener(window,"mousemove",this.mousemove),S.removeEventListener(window,"mouseup",this.mouseup)}mousedown(n){this.down(a.extend({},n,{ctrlKey:!0,preventDefault:()=>n.preventDefault()}),S.mousePos(this.element,n)),S.addEventListener(window,"mousemove",this.mousemove),S.addEventListener(window,"mouseup",this.mouseup)}mousemove(n){this.move(n,S.mousePos(this.element,n))}mouseup(n){this.mouseRotate.mouseupWindow(n),this.mousePitch&&this.mousePitch.mouseupWindow(n),this.offTemp()}touchstart(n){n.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,n.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>n.preventDefault()},this._startPos))}touchmove(n){n.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,n.targetTouches)[0],this.move({preventDefault:()=>n.preventDefault()},this._lastPos))}touchend(n){n.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Jl(f,n,l){if(f=new a.LngLat(f.lng,f.lat),n){const d=new a.LngLat(f.lng-360,f.lat),g=new a.LngLat(f.lng+360,f.lat),x=l.locationPoint(f).distSqr(n);l.locationPoint(d).distSqr(n)<x?f=d:l.locationPoint(g).distSqr(n)<x&&(f=g)}for(;Math.abs(f.lng-l.center.lng)>180;){const d=l.locationPoint(f);if(d.x>=0&&d.y>=0&&d.x<=l.width&&d.y<=l.height)break;f.lng>l.center.lng?f.lng-=360:f.lng+=360}return f}const Rt={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Kt(f,n,l){const d=f.classList;for(const g in Rt)d.remove(`maplibregl-${l}-anchor-${g}`,`mapboxgl-${l}-anchor-${g}`);d.add(`maplibregl-${l}-anchor-${n}`,`mapboxgl-${l}-anchor-${n}`)}class ol extends a.Evented{constructor(n,l){if(super(),(n instanceof HTMLElement||l)&&(n=a.extend({element:n},l)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._clickTolerance=n&&n.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&n.pitchAlignment!=="auto"?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=a.pointGeometry.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");const d=S.createNS("http://www.w3.org/2000/svg","svg"),g=41,x=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${g}px`),d.setAttributeNS(null,"width",`${x}px`),d.setAttributeNS(null,"viewBox",`0 0 ${x} ${g}`);const C=S.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"stroke","none"),C.setAttributeNS(null,"stroke-width","1"),C.setAttributeNS(null,"fill","none"),C.setAttributeNS(null,"fill-rule","evenodd");const M=S.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"fill-rule","nonzero");const L=S.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"transform","translate(3.0, 29.0)"),L.setAttributeNS(null,"fill","#000000");const N=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const De of N){const fe=S.createNS("http://www.w3.org/2000/svg","ellipse");fe.setAttributeNS(null,"opacity","0.04"),fe.setAttributeNS(null,"cx","10.5"),fe.setAttributeNS(null,"cy","5.80029008"),fe.setAttributeNS(null,"rx",De.rx),fe.setAttributeNS(null,"ry",De.ry),L.appendChild(fe)}const q=S.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"fill",this._color);const $=S.createNS("http://www.w3.org/2000/svg","path");$.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),q.appendChild($);const J=S.createNS("http://www.w3.org/2000/svg","g");J.setAttributeNS(null,"opacity","0.25"),J.setAttributeNS(null,"fill","#000000");const pe=S.createNS("http://www.w3.org/2000/svg","path");pe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),J.appendChild(pe);const ce=S.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ce.setAttributeNS(null,"fill","#FFFFFF");const de=S.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Se=S.createNS("http://www.w3.org/2000/svg","circle");Se.setAttributeNS(null,"fill","#000000"),Se.setAttributeNS(null,"opacity","0.25"),Se.setAttributeNS(null,"cx","5.5"),Se.setAttributeNS(null,"cy","5.5"),Se.setAttributeNS(null,"r","5.4999962");const Ee=S.createNS("http://www.w3.org/2000/svg","circle");Ee.setAttributeNS(null,"fill","#FFFFFF"),Ee.setAttributeNS(null,"cx","5.5"),Ee.setAttributeNS(null,"cy","5.5"),Ee.setAttributeNS(null,"r","5.4999962"),de.appendChild(Se),de.appendChild(Ee),M.appendChild(L),M.appendChild(q),M.appendChild(J),M.appendChild(ce),M.appendChild(de),d.appendChild(M),d.setAttributeNS(null,"height",g*this._scale+"px"),d.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(d),this._offset=a.pointGeometry.convert(n&&n.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),Kt(this._element,this._anchor,"marker"),this._popup=null}addTo(n){return this.remove(),this._map=n,n.getCanvasContainer().appendChild(this._element),n.on("move",this._update),n.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(n){return this._lngLat=a.LngLat.convert(n),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(n){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),n){if(!("offset"in n.options)){const g=Math.sqrt(Math.pow(13.5,2)/2);n.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=n,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(n){const l=n.code,d=n.charCode||n.keyCode;l!=="Space"&&l!=="Enter"&&d!==32&&d!==13||this.togglePopup()}_onMapClick(n){const l=n.originalEvent.target,d=this._element;this._popup&&(l===d||d.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const n=this._popup;return n?(n.isOpen()?n.remove():n.addTo(this._map),this):this}_update(n){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Jl(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let l="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?l=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(l=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let d="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?d="rotateX(0deg)":this._pitchAlignment==="map"&&(d=`rotateX(${this._map.getPitch()}deg)`),n&&n.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,`${Rt[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${d} ${l}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const g=this._map.unproject(this._pos),x=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=g.distanceTo(this._lngLat)>20*x?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(n){return this._offset=a.pointGeometry.convert(n),this._update(),this}_onMove(n){if(!this._isDragging){const l=this._clickTolerance||this._map._clickTolerance;this._isDragging=n.point.dist(this._pointerdownPos)>=l}this._isDragging&&(this._pos=n.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(n){this._element.contains(n.originalEvent.target)&&(n.preventDefault(),this._positionDelta=n.point.sub(this._pos).add(this._offset),this._pointerdownPos=n.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(n){return this._draggable=!!n,this._map&&(n?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(n){return this._rotation=n||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(n){return this._rotationAlignment=n||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(n){return this._pitchAlignment=n&&n!=="auto"?n:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Uc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Ho,pr=0,Zo=!1;const $s={maxWidth:100,unit:"metric"};function zd(f,n,l){const d=l&&l.maxWidth||100,g=f._container.clientHeight/2,x=f.unproject([0,g]),C=f.unproject([d,g]),M=x.distanceTo(C);if(l&&l.unit==="imperial"){const L=3.2808*M;L>5280?$o(n,d,L/5280,f._getUIString("ScaleControl.Miles")):$o(n,d,L,f._getUIString("ScaleControl.Feet"))}else l&&l.unit==="nautical"?$o(n,d,M/1852,f._getUIString("ScaleControl.NauticalMiles")):M>=1e3?$o(n,d,M/1e3,f._getUIString("ScaleControl.Kilometers")):$o(n,d,M,f._getUIString("ScaleControl.Meters"))}function $o(f,n,l,d){const g=function(x){const C=Math.pow(10,`${Math.floor(x)}`.length-1);let M=x/C;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:function(L){const N=Math.pow(10,Math.ceil(-Math.log(L)/Math.LN10));return Math.round(L*N)/N}(M),C*M}(l);f.style.width=n*(g/l)+"px",f.innerHTML=`${g}&nbsp;${d}`}const Ln={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Xn=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function jc(f){if(f){if(typeof f=="number"){const n=Math.round(Math.sqrt(.5*Math.pow(f,2)));return{center:new a.pointGeometry(0,0),top:new a.pointGeometry(0,f),"top-left":new a.pointGeometry(n,n),"top-right":new a.pointGeometry(-n,n),bottom:new a.pointGeometry(0,-f),"bottom-left":new a.pointGeometry(n,-n),"bottom-right":new a.pointGeometry(-n,-n),left:new a.pointGeometry(f,0),right:new a.pointGeometry(-f,0)}}if(f instanceof a.pointGeometry||Array.isArray(f)){const n=a.pointGeometry.convert(f);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:a.pointGeometry.convert(f.center||[0,0]),top:a.pointGeometry.convert(f.top||[0,0]),"top-left":a.pointGeometry.convert(f["top-left"]||[0,0]),"top-right":a.pointGeometry.convert(f["top-right"]||[0,0]),bottom:a.pointGeometry.convert(f.bottom||[0,0]),"bottom-left":a.pointGeometry.convert(f["bottom-left"]||[0,0]),"bottom-right":a.pointGeometry.convert(f["bottom-right"]||[0,0]),left:a.pointGeometry.convert(f.left||[0,0]),right:a.pointGeometry.convert(f.right||[0,0])}}return jc(new a.pointGeometry(0,0))}const Sa={supported:T,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends wn{constructor(f){var n;if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(f=a.extend({},Md,f)).minZoom!=null&&f.maxZoom!=null&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(f.minPitch!=null&&f.maxPitch!=null&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(f.minPitch!=null&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(f.maxPitch!=null&&f.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new jo(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies),{bearingSnap:f.bearingSnap}),this._interactive=f.interactive,this._cooperativeGestures=f.cooperativeGestures,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._crossSourceCollisions=f.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=f.collectResourceTiming,this._renderTaskQueue=new Pd,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},Id,f.locale),this._clickTolerance=f.clickTolerance,this._pixelRatio=(n=f.pixelRatio)!==null&&n!==void 0?n:devicePixelRatio,this._requestManager=new Q(f.transformRequest),typeof f.container=="string"){if(this._container=document.getElementById(f.container),!this._container)throw new Error(`Container '${f.container}' not found.`)}else{if(!(f.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(f.maxBounds&&this.setMaxBounds(f.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new kd(this,f),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=f.hash&&new Zl(typeof f.hash=="string"&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,a.extend({},f.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=f.localIdeographFontFamily,f.style&&this.setStyle(f.style,{localIdeographFontFamily:f.localIdeographFontFamily}),f.attributionControl&&this.addControl(new Ql({customAttribution:f.customAttribution})),f.maplibreLogo&&this.addControl(new Ou,f.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new a.Event(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new a.Event(`${l.dataType}dataloading`,l))}),this.on("dataabort",l=>{this.fire(new a.Event("sourcedataabort",l))})}_getMapId(){return this._mapId}addControl(f,n){if(n===void 0&&(n=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=f.onAdd(this);this._controls.push(f);const d=this._controlPositions[n];return n.indexOf("bottom")!==-1?d.insertBefore(l,d.firstChild):d.appendChild(l),this}removeControl(f){if(!f||!f.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(f);return n>-1&&this._controls.splice(n,1),f.onRemove(this),this}hasControl(f){return this._controls.indexOf(f)>-1}calculateCameraOptionsFromTo(f,n,l,d){return d==null&&this.style.terrain&&(d=this.transform.getElevation(l,this.style.terrain)),super.calculateCameraOptionsFromTo(f,n,l,d)}resize(f){const n=this._containerDimensions(),l=n[0],d=n[1];this._resizeCanvas(l,d,this.getPixelRatio()),this.transform.resize(l,d),this.painter.resize(l,d,this.getPixelRatio());const g=!this._moving;return g&&(this.stop(),this.fire(new a.Event("movestart",f)).fire(new a.Event("move",f))),this.fire(new a.Event("resize",f)),g&&this.fire(new a.Event("moveend",f)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(f){const[n,l]=this._containerDimensions();this._pixelRatio=f,this._resizeCanvas(n,l,f),this.painter.resize(n,l,f)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(f){return this.transform.setMaxBounds(a.LngLatBounds.convert(f)),this._update()}setMinZoom(f){if((f=f==null?-2:f)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f&&this.setZoom(f),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(f){if((f=f==null?22:f)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f&&this.setZoom(f),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(f){if((f=f==null?0:f)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f&&this.setPitch(f),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(f){if((f=f==null?60:f)>85)throw new Error("maxPitch must be less than or equal to 85");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f&&this.setPitch(f),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(f){return this.transform.renderWorldCopies=f,this._update()}project(f){return this.transform.locationPoint(a.LngLat.convert(f),this.style&&this.style.terrain)}unproject(f){return this.transform.pointLocation(a.pointGeometry.convert(f),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(f,n,l){if(f==="mouseenter"||f==="mouseover"){let d=!1;return{layer:n,listener:l,delegates:{mousemove:x=>{const C=this.getLayer(n)?this.queryRenderedFeatures(x.point,{layers:[n]}):[];C.length?d||(d=!0,l.call(this,new Lr(f,this,x.originalEvent,{features:C}))):d=!1},mouseout:()=>{d=!1}}}}if(f==="mouseleave"||f==="mouseout"){let d=!1;return{layer:n,listener:l,delegates:{mousemove:C=>{(this.getLayer(n)?this.queryRenderedFeatures(C.point,{layers:[n]}):[]).length?d=!0:d&&(d=!1,l.call(this,new Lr(f,this,C.originalEvent)))},mouseout:C=>{d&&(d=!1,l.call(this,new Lr(f,this,C.originalEvent)))}}}}{const d=g=>{const x=this.getLayer(n)?this.queryRenderedFeatures(g.point,{layers:[n]}):[];x.length&&(g.features=x,l.call(this,g),delete g.features)};return{layer:n,listener:l,delegates:{[f]:d}}}}on(f,n,l){if(l===void 0)return super.on(f,n);const d=this._createDelegatedListener(f,n,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(d);for(const g in d.delegates)this.on(g,d.delegates[g]);return this}once(f,n,l){if(l===void 0)return super.once(f,n);const d=this._createDelegatedListener(f,n,l);for(const g in d.delegates)this.once(g,d.delegates[g]);return this}off(f,n,l){return l===void 0?super.off(f,n):(this._delegatedListeners&&this._delegatedListeners[f]&&(d=>{const g=this._delegatedListeners[f];for(let x=0;x<g.length;x++){const C=g[x];if(C.layer===n&&C.listener===l){for(const M in C.delegates)this.off(M,C.delegates[M]);return g.splice(x,1),this}}})(),this)}queryRenderedFeatures(f,n){if(!this.style)return[];let l;if(n!==void 0||f===void 0||f instanceof a.pointGeometry||Array.isArray(f)||(n=f,f=void 0),n=n||{},(f=f||[[0,0],[this.transform.width,this.transform.height]])instanceof a.pointGeometry||typeof f[0]=="number")l=[a.pointGeometry.convert(f)];else{const d=a.pointGeometry.convert(f[0]),g=a.pointGeometry.convert(f[1]);l=[d,new a.pointGeometry(g.x,d.y),g,new a.pointGeometry(d.x,g.y),d]}return this.style.queryRenderedFeatures(l,n,this.transform)}querySourceFeatures(f,n){return this.style.querySourceFeatures(f,n)}setStyle(f,n){return(n=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff!==!1&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&f?(this._diffStyle(f,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(f,n))}setTransformRequest(f){return this._requestManager.setTransformRequest(f),this}_getUIString(f){const n=this._locale[f];if(n==null)throw new Error(`Missing UI string '${f}'`);return n}_updateStyle(f,n){return this.style&&(this.style.setEventedParent(null),this.style._remove()),f?(this.style=new On(this,n||{}),this.style.setEventedParent(this,{style:this.style}),typeof f=="string"?this.style.loadURL(f):this.style.loadJSON(f),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new On(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(f,n){if(typeof f=="string"){const l=this._requestManager.transformRequest(f,a.ResourceType.Style);a.getJSON(l,(d,g)=>{d?this.fire(new a.ErrorEvent(d)):g&&this._updateDiff(g,n)})}else typeof f=="object"&&this._updateDiff(f,n)}_updateDiff(f,n){try{this.style.setState(f)&&this._update(!0)}catch(l){a.warnOnce(`Unable to perform style diff: ${l.message||l.error||l}.  Rebuilding the style from scratch.`),this._updateStyle(f,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(f,n){return this._lazyInitEmptyStyle(),this.style.addSource(f,n),this._update(!0)}isSourceLoaded(f){const n=this.style&&this.style.sourceCaches[f];if(n!==void 0)return n.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${f}'`)))}setTerrain(f){return this.style.setTerrain(f),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const f=this.style&&this.style.sourceCaches;for(const n in f){const l=f[n]._tiles;for(const d in l){const g=l[d];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}addSourceType(f,n,l){return this._lazyInitEmptyStyle(),this.style.addSourceType(f,n,l)}removeSource(f){return this.style.removeSource(f),this._update(!0)}getSource(f){return this.style.getSource(f)}addImage(f,n,{pixelRatio:l=1,sdf:d=!1,stretchX:g,stretchY:x,content:C}={}){if(this._lazyInitEmptyStyle(),n instanceof HTMLImageElement||a.isImageBitmap(n)){const{width:M,height:L,data:N}=a.exported.getImageData(n);this.style.addImage(f,{data:new a.RGBAImage({width:M,height:L},N),pixelRatio:l,stretchX:g,stretchY:x,content:C,sdf:d,version:0})}else{if(n.width===void 0||n.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:M,height:L,data:N}=n,q=n;this.style.addImage(f,{data:new a.RGBAImage({width:M,height:L},new Uint8Array(N)),pixelRatio:l,stretchX:g,stretchY:x,content:C,sdf:d,version:0,userImage:q}),q.onAdd&&q.onAdd(this,f)}}}updateImage(f,n){const l=this.style.getImage(f);if(!l)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const d=n instanceof HTMLImageElement||a.isImageBitmap(n)?a.exported.getImageData(n):n,{width:g,height:x,data:C}=d;if(g===void 0||x===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==l.data.width||x!==l.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const M=!(n instanceof HTMLImageElement||a.isImageBitmap(n));l.data.replace(C,M),this.style.updateImage(f,l)}hasImage(f){return f?!!this.style.getImage(f):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(f){this.style.removeImage(f)}loadImage(f,n){a.getImage(this._requestManager.transformRequest(f,a.ResourceType.Image),n)}listImages(){return this.style.listImages()}addLayer(f,n){return this._lazyInitEmptyStyle(),this.style.addLayer(f,n),this._update(!0)}moveLayer(f,n){return this.style.moveLayer(f,n),this._update(!0)}removeLayer(f){return this.style.removeLayer(f),this._update(!0)}getLayer(f){return this.style.getLayer(f)}setLayerZoomRange(f,n,l){return this.style.setLayerZoomRange(f,n,l),this._update(!0)}setFilter(f,n,l={}){return this.style.setFilter(f,n,l),this._update(!0)}getFilter(f){return this.style.getFilter(f)}setPaintProperty(f,n,l,d={}){return this.style.setPaintProperty(f,n,l,d),this._update(!0)}getPaintProperty(f,n){return this.style.getPaintProperty(f,n)}setLayoutProperty(f,n,l,d={}){return this.style.setLayoutProperty(f,n,l,d),this._update(!0)}getLayoutProperty(f,n){return this.style.getLayoutProperty(f,n)}setLight(f,n={}){return this._lazyInitEmptyStyle(),this.style.setLight(f,n),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(f,n){return this.style.setFeatureState(f,n),this._update()}removeFeatureState(f,n){return this.style.removeFeatureState(f,n),this._update()}getFeatureState(f){return this.style.getFeatureState(f)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let f=0,n=0;return this._container&&(f=this._container.clientWidth||400,n=this._container.clientHeight||300),[f,n]}_setupContainer(){const f=this._container;f.classList.add("maplibregl-map","mapboxgl-map");const n=this._canvasContainer=S.create("div","maplibregl-canvas-container mapboxgl-canvas-container",f);this._interactive&&n.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas mapboxgl-canvas",n),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const l=this._containerDimensions();this._resizeCanvas(l[0],l[1],this.getPixelRatio());const d=this._controlContainer=S.create("div","maplibregl-control-container mapboxgl-control-container",f),g=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{g[x]=S.create("div",`maplibregl-ctrl-${x} mapboxgl-ctrl-${x}`,d)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const f=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=S.create("div","maplibregl-cooperative-gesture-screen",f);let n="Control",l=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(l=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map",n="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${l}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",d=>{d.key===n&&(this._metaPress=!0)}),document.addEventListener("keyup",d=>{d.key===n&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",d=>{this._onCooperativeGesture(d,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(f,n,l){this._canvas.width=l*f,this._canvas.height=l*n,this._canvas.style.width=`${f}px`,this._canvas.style.height=`${n}px`}_setupPainter(){const f=a.extend({},T.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",f)||this._canvas.getContext("experimental-webgl",f);n?(this.painter=new ya(n,this.transform),a.exported$1.testSupport(n)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:f}))}_contextRestored(f){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:f}))}_onMapScroll(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(f,n,l){return!n&&l<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(f){return this._update(),this._renderTaskQueue.add(f)}_cancelRenderFrame(f){this._renderTaskQueue.remove(f)}_render(f){let n,l=0;const d=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=d.createQueryEXT(),d.beginQueryEXT(d.TIME_ELAPSED_EXT,n),l=a.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(f),this._removed)return;let g=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const C=this.transform.zoom,M=a.exported.now();this.style.zoomHistory.update(C,M);const L=new a.EvaluationParameters(C,{now:M,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),N=L.crossFadingFactor();N===1&&N===this._crossFadingFactor||(g=!0,this._crossFadingFactor=N),this.style.update(L)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||g)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const C=a.exported.now()-l;d.endQueryEXT(d.TIME_ELAPSED_EXT,n),setTimeout(()=>{const M=d.getQueryObjectEXT(n,d.QUERY_RESULT_EXT)/1e6;d.deleteQueryEXT(n),this.fire(new a.Event("gpu-timing-frame",{cpuTime:C,gpuTime:M}))},50)}if(this.listens("gpu-timing-layer")){const C=this.painter.collectGpuTimers();setTimeout(()=>{const M=this.painter.queryGpuTimers(C);this.fire(new a.Event("gpu-timing-layer",{layerTimes:M}))},50)}const x=this._sourcesDirty||this._styleDirty||this._placementDirty;return x||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||x||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const n of this._controls)n.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const f=this.painter.context.gl.getExtension("WEBGL_lose_context");f&&f.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),S.remove(this._canvasContainer),S.remove(this._controlContainer),this._cooperativeGestures&&S.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.exported.frame(f=>{a.PerformanceUtils.frame(f),this._frame=null,this._render(f)}))}_onWindowOnline(){this._update()}_onWindowResize(f){this._trackResize&&this.resize({originalEvent:f})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._update())}get showPadding(){return!!this._showPadding}set showPadding(f){this._showPadding!==f&&(this._showPadding=f,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,f?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._update())}get repaint(){return!!this._repaint}set repaint(f){this._repaint!==f&&(this._repaint=f,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(f){this._vertices=f,this._update()}_setCacheLimits(f,n){a.setCacheLimits(f,n)}get version(){return"2.4.0"}},NavigationControl:class{constructor(f){this.options=a.extend({},nm,f),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",n=>n.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",n=>this._map.zoomIn({},{originalEvent:n})),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",n=>this._map.zoomOut({},{originalEvent:n})),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",n=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:n}):this._map.resetNorth({},{originalEvent:n})}),this._compassIcon=S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const f=this._map.getZoom(),n=f===this._map.getMaxZoom(),l=f===this._map.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=l,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",l.toString())}_rotateCompassArrow(){const f=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=f}onAdd(f){return this._map=f,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zs(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(f,n){const l=S.create("button",f,this._container);return l.type="button",l.addEventListener("click",n),l}_setButtonTitle(f,n){const l=this._map._getUIString(`NavigationControl.${n}`);f.title=l,f.setAttribute("aria-label",l)}},GeolocateControl:class extends a.Evented{constructor(f){super(),this.options=a.extend({},Uc,f),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(f){var n;return this._map=f,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,Ho!==void 0?n(Ho):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(l=>{Ho=l.state!=="denied",n(Ho)}):(Ho=!!window.navigator.geolocation,n(Ho)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,pr=0,Zo=!1}_isOutOfMapMaxBounds(f){const n=this._map.getMaxBounds(),l=f.coords;return n&&(l.longitude<n.getWest()||l.longitude>n.getEast()||l.latitude<n.getSouth()||l.latitude>n.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",f)),this._finish()}}_updateCamera(f){const n=new a.LngLat(f.coords.longitude,f.coords.latitude),l=f.coords.accuracy,d=this._map.getBearing(),g=a.extend({bearing:d},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(l),g,{geolocateSource:!0})}_updateMarker(f){if(f){const n=new a.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const f=this._map._container.clientHeight/2,n=this._map.unproject([0,f]),l=this._map.unproject([1,f]),d=n.distanceTo(l),g=Math.ceil(2*this._accuracy/d);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&Zo)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",f)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(f){if(this._container.addEventListener("contextmenu",n=>n.preventDefault()),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",f===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new ol(this._dotElement),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ol({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",n=>{n.geolocateSource||this._watchState!=="ACTIVE_LOCK"||n.originalEvent&&n.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":pr--,Zo=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let f;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),pr++,pr>1?(f={maximumAge:6e5,timeout:0},Zo=!0):(f=this.options.positionOptions,Zo=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,f)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Ql,LogoControl:Ou,ScaleControl:class{constructor(f){this.options=a.extend({},$s,f),a.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){zd(this._map,this._container,this.options)}onAdd(f){return this._map=f,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",f.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(f){this.options.unit=f,zd(this._map,this._container,this.options)}},FullscreenControl:class{constructor(f){this._fullscreen=!1,f&&f.container&&(f.container instanceof HTMLElement?this._container=f.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(f){return this._map=f,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){S.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const f=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",f).setAttribute("aria-hidden","true"),f.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const f=this._getTitle();this._fullscreenButton.setAttribute("aria-label",f),this._fullscreenButton.title=f}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(f){this.options=f,a.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(f){return this._map=f,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=S.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){S.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends a.Evented{constructor(f){super(),this.options=a.extend(Object.create(Ln),f),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(f){return this._lngLat=a.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(f){return this.setDOMContent(document.createTextNode(f))}setHTML(f){const n=document.createDocumentFragment(),l=document.createElement("body");let d;for(l.innerHTML=f;d=l.firstChild,d;)n.appendChild(d);return this.setDOMContent(n)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(f){return this.options.maxWidth=f,this._update(),this}setDOMContent(f){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(f),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(f){this._container&&this._container.classList.add(f)}removeClassName(f){this._container&&this._container.classList.remove(f)}setOffset(f){return this.options.offset=f,this._update(),this}toggleClassName(f){if(this._container)return this._container.classList.toggle(f)}_createCloseButton(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(f){this._update(f.point)}_onMouseMove(f){this._update(f.point)}_onDrag(f){this._update(f.point)}_update(f){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=S.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(x=>this._container.classList.add(x)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Jl(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!f))return;const n=this._pos=this._trackPointer&&f?f:this._map.project(this._lngLat);let l=this.options.anchor;const d=jc(this.options.offset);if(!l){const x=this._container.offsetWidth,C=this._container.offsetHeight;let M;M=n.y+d.bottom.y<C?["top"]:n.y>this._map.transform.height-C?["bottom"]:[],n.x<x/2?M.push("left"):n.x>this._map.transform.width-x/2&&M.push("right"),l=M.length===0?"bottom":M.join("-")}const g=n.add(d[l]).round();S.setTransform(this._container,`${Rt[l]} translate(${g.x}px,${g.y}px)`),Kt(this._container,l,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const f=this._container.querySelector(Xn);f&&f.focus()}_onClose(){this.remove()}},Marker:ol,Style:On,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.pointGeometry,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,AJAXError:a.AJAXError,config:a.config,CanvasSource:Ot,GeoJSONSource:un,ImageSource:at,RasterDEMTileSource:Tt,RasterTileSource:Di,VectorTileSource:Tn,VideoSource:dt,prewarm:function(){Lt().acquire(Pr)},clearPrewarmedResources:function(){const f=hn;f&&(f.isPreloaded()&&f.numActive()===1?(f.release(Pr),hn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return on.workerCount},set workerCount(f){on.workerCount=f},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(f){a.config.MAX_PARALLEL_IMAGE_REQUESTS=f},clearStorage(f){a.clearTileCache(f)},workerUrl:"",addProtocol(f,n){a.config.REGISTERED_PROTOCOLS[f]=n},removeProtocol(f){delete a.config.REGISTERED_PROTOCOLS[f]}};return ys.extend(Sa,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),Sa});var y=h;return y})})(RT);const Mg=RT.exports;function BR(){const e=$e.exports.useRef(null),t=$e.exports.useRef(null),[s]=$e.exports.useState(108.370963),[u]=$e.exports.useState(-7.014035),[h]=$e.exports.useState(14),[p]=$e.exports.useState("Q40RZuzayYWIOrym9nAP");return $e.exports.useEffect(()=>{t.current||(t.current=new Mg.Map({container:e.current,style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${p}`,center:[s,u],zoom:h}),t.current.addControl(new Mg.NavigationControl,"top-right"),new Mg.Marker({color:"#FF0000"}).setLngLat([s,u]).addTo(t.current))}),X(Bc,{children:X(Po,{children:X("div",{className:"max-w-5xl mx-auto mt-16",children:rt("div",{className:"relative py-8 sm:py-12",children:[X("h1",{className:"text-xl md:text-3xl font-bold text-gray-200",children:"Kontak Kami"}),rt("ul",{className:"flex items-center space-x-1 text-xs mt-1 text-gray-300",children:[X("li",{className:"text-gray-400",children:X(zo,{to:"/",children:"Home"})}),X("li",{children:X(bc,{className:"w-4 h-4 rotate-90"})}),X("li",{children:X(zo,{to:"/kontak-kami",children:"Kontak Kami"})})]}),X("div",{className:"map-wrap w-full h-[400px] mt-8 relative",children:X("div",{ref:e,className:"map absolute w-full h-full"})}),X(fd,{})]})})})})}function NR(){return X(Bc,{children:X(Po,{children:rt("div",{className:"max-w-5xl mx-auto mt-16",children:[rt("div",{className:"relative py-8 sm:py-12",children:[X("h1",{className:"text-xl md:text-3xl font-bold text-gray-200",children:"Harga"}),rt("ul",{className:"flex items-center space-x-1 text-xs mt-1 text-gray-300",children:[X("li",{className:"text-gray-400",children:X(zo,{to:"/",children:"Home"})}),X("li",{children:X(bc,{className:"w-4 h-4 rotate-90"})}),X("li",{children:X(zo,{to:"/kontak-kami",children:"Harga"})})]}),X(fd,{})]}),rt("div",{className:"py-8 sm:py-16",children:[X("div",{className:"text-center",children:X("h1",{className:"text-xl md:text-xl font-bold text-gray-200",children:"Harga Paket Jasa Pembuatan Website"})}),rt("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-6 mt-8 sm:mt-16 gap-y-12",children:[rt("div",{className:"rounded-sm border border-cyan-600",children:[rt("div",{className:"flex items-center justify-center flex-col py-8 border-b border-cyan-600",children:[X("h4",{className:"text-sm md:text-base font-semibold text-gray-200",children:"Website Profil Perusahaan"}),X("h1",{className:"text-xl sm:text-2xl font-bold text-gray-200 mt-1",children:"Rp. 3 Jt"})]}),rt("div",{className:"p-6",children:[rt("div",{children:[X("h1",{className:"text-sm sm:text-base font-semibold text-gray-200 uppercase",children:"Fitur"}),rt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[X("li",{children:"Gratis domain .com / .net"}),X("li",{children:"Gratis 1 Akun Email Bisnis"}),X("li",{children:"Gratis Google Tag Manager"}),X("li",{children:"Desain Bisa Custom"}),X("li",{children:"Integrasi Sosial Media"}),X("li",{children:"Tombol WhatsApp"}),X("li",{children:"Kelola Berita / Blog"}),X("li",{children:"Group WhatsApp untuk Support Selama Pembuatan Web"})]})]}),rt("div",{className:"mt-6 sm:mt-8",children:[X("h1",{className:"text-sm sm:text-base font-semibold text-gray-200 uppercase",children:"Gratis Hosting"}),rt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[X("li",{children:"Hosting Cepat"}),X("li",{children:"Teknologi Litespeed Webserver"}),X("li",{children:"Unlimited SSD Space"}),X("li",{children:"Unlimited Databases"}),X("li",{children:"Unlimited Bandwidth"}),X("li",{children:"Gratis SSL Selamanya"}),X("li",{children:"Login cPanel"}),X("li",{children:"Security by Imunify360"}),X("li",{children:"Backup Harian"}),X("li",{children:"Termasuk Maintenance 2 bulan*"})]})]}),X("a",{href:"#",className:"block mt-8 sm:mt-12 mx-auto text-xs sm:text-sm w-max rounded-sm py-[10px] px-8 border border-cyan-600 text-gray-200 focus:outline-none",children:"Order Sekarang"})]})]}),rt("div",{className:"rounded-sm border border-cyan-600",children:[rt("div",{className:"flex items-center justify-center flex-col py-8 border-b border-cyan-600",children:[X("h4",{className:"text-sm md:text-base font-semibold text-gray-200",children:"Website Toko Online"}),X("h1",{className:"text-xl sm:text-2xl font-bold text-gray-200 mt-1",children:"Rp. 5 Jt"})]}),rt("div",{className:"p-6",children:[rt("div",{children:[X("h1",{className:"text-sm sm:text-base font-semibold text-gray-200 uppercase",children:"Fitur"}),rt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[X("li",{children:"Gratis domain .com / .net / .co.id / .id"}),X("li",{children:"Gratis 5 Akun Email Bisnis"}),X("li",{children:"Gratis Setting Google Analytic dan Google Tag Manager"}),X("li",{children:"Desain Bisa Custom"}),X("li",{children:"Integrasi Sosial Media"}),X("li",{children:"Tombol WhatsApp"}),X("li",{children:"Kelola Berita / Blog"}),X("li",{children:"Kelola Produk & Stok"}),X("li",{children:"Payment Gateway Otomatis (Virtual Account, Indomaret, Alfamart, DANA, GoPay, OVO, Shopeepay, dll)"}),X("li",{children:"Group WhatsApp untuk Support Selama Pembuatan Web"})]})]}),rt("div",{className:"mt-6 sm:mt-8",children:[X("h1",{className:"text-sm sm:text-base font-semibold text-gray-200 uppercase",children:"Gratis Hosting"}),rt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[X("li",{children:"Hosting Cepat"}),X("li",{children:"Teknologi Litespeed Webserver"}),X("li",{children:"Unlimited SSD Space"}),X("li",{children:"Unlimited Databases"}),X("li",{children:"Unlimited Bandwidth"}),X("li",{children:"Gratis SSL Selamanya"}),X("li",{children:"Login cPanel"}),X("li",{children:"Security by Imunify360"}),X("li",{children:"Backup Harian"}),X("li",{children:"Termasuk Maintenance 2 bulan*"})]})]}),X("a",{href:"#",className:"block mt-8 sm:mt-12 mx-auto text-xs sm:text-sm w-max rounded-sm py-[10px] px-8 border border-cyan-600 text-gray-200 focus:outline-none",children:"Order Sekarang"})]})]}),rt("div",{className:"rounded-sm border border-cyan-600",children:[rt("div",{className:"flex items-center justify-center flex-col py-8 border-b border-cyan-600",children:[X("h4",{className:"text-sm md:text-base font-semibold text-gray-200",children:"Custom Web Applikasi"}),X("p",{className:"text-xs sm:text-sm mt-1 px-6 text-gray-400 text-center",children:"Klik tombol di bawah untuk minta penawaran"})]}),rt("div",{className:"p-6",children:[rt("div",{className:"text-left",children:[X("p",{className:"text-xs sm:text-sm text-gray-400",children:"Terima Pembuatan Custom Aplikasi Berbasis Website Teknologi Mobile Apps : PWA (Progressive Web Apps)"}),X("p",{className:"text-xs sm:text-sm mt-6 sm:mt-8 text-gray-400",children:"Teknologi Web : PHP, MYSQL & JavaScript Framework Laravel & ReactJS, dll"}),X("p",{className:"text-xs sm:text-sm mt-6 sm:mt-8 text-gray-400",children:"Teknologi Mobile Apps : PWA (Progressive Web Apps)"})]}),X("a",{href:"#",className:"block mt-8 sm:mt-12 mx-auto text-xs sm:text-sm w-max rounded-sm py-[10px] px-8 border border-cyan-600 text-gray-200 focus:outline-none",children:"Chat Programmer"})]})]})]})]})]})})})}const OR="/assets/about-image.c120d3b7.png",FR="/assets/about-image-2.3f77db6a.png";function VR(){return rt(Bc,{children:[X("div",{className:"bg-gradient-to-b from-transparent to-slate-800/50",children:X(Po,{children:rt("div",{className:"max-w-5xl mx-auto grid sm:grid-cols-2 mt-16 place-items-center py-6 sm:py-12",children:[rt("div",{className:"col-span-1",children:[X("h1",{className:"text-xl md:text-3xl font-bold text-gray-200",children:"Tentang Kami"}),X("p",{className:"text-xs sm:text-base mt-2 sm:mt-4 pr-2 text-gray-400",children:"Berbekal pengetahuan, pengalaman dan jam terbang, Duos Dev hadir sebagai solusi permasalahan bagi Anda"})]}),X("div",{className:"col-span-1 mt-4 sm:mt-0 sm:p-6",children:X("img",{src:OR,alt:"about-image",className:"w-full rounded-sm"})})]})})}),X(Po,{children:X("div",{className:"max-w-5xl mx-auto",children:X("div",{className:"py-6 sm:py-12",children:rt("div",{className:"text-center max-w-2xl mx-auto",children:[X("div",{className:"relative w-max mx-auto",children:X("h1",{className:"border-b-custom z-20 text-base sm:text-2xl font-bold text-gray-200",children:"Profil Duos Dev"})}),X("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Duos Dev adalah brand usaha kami di bidang IT khususnya pembuatan website yang beralamat di Cikijing Kabupaten Majalengka, Jawa Barat yang memberikan layanan professional dengan dibekali tenaga ahli yang berpengalaman. Dengan bermodal pengetahuan dan jam terbang yang kami miliki, kami siap menjawab kebutuhan masyarakat untuk perusahaan khususnya dalam pembuatan website untuk kemajuan usahanya."}),X("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Awal pembentukan Duos Dev bermula dari 2 anak muda yang sudah terbiasa berkecimpung di dunia IT dan memiliki konsen yang sama terhadap perkembangan dunia digital yang kian modern seperti sekarang ini."}),X("p",{className:"max-w-2xl mx-auto mt-2 sm:mt-6 text-gray-400 text-xs sm:text-base",children:"Duos Dev diharapkan bisa menjadi solusi bagi permasalahan untuk segmen individu, pelaku bisnis dan seluruh lapisan masyarakat yang ingin usahanya siap go-digital bahkan internasional dengan memanfaatkan website sebagai media promosi, branding usaha, dan lain-lain."})]})})})}),rt("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 mt-6 mb-12 sm:mb-16 bg-slate-800/50",children:[X("div",{className:"col-span-1",children:X("img",{src:FR,alt:"about-image-2",className:"w-full object-cover"})}),rt("div",{className:"py-8 px-4 sm:p-4",children:[rt("div",{children:[X("h1",{className:"text-base sm:text-2xl font-bold text-gray-200",children:"Visi"}),X("p",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-base",children:"Menjadi layanan yang diandalkan oleh masyarakat dalam pembuatan website khususnya yang berada di wilayah Majalengka, Ciamis, Cirebon, Indramayu dan Kuningan dan Seluruh Daerah yang ada di Indonesia pada umumnya."})]}),rt("div",{className:"mt-4 sm:mt-6",children:[X("h1",{className:"text-base sm:text-2xl font-bold text-gray-200",children:"Misi"}),rt("ul",{className:"max-w-2xl mx-auto mt-2 text-gray-400 text-xs sm:text-base list-decimal px-4",children:[X("li",{children:"Menjadi bisnis unggulan dan andalan untuk masyarakat Memberikan"}),X("li",{children:"jasa desain, pembuatan website dan maintenance website dengan pelayanan terbaik"}),X("li",{children:"Mengutamakan dan mengimplementasikan teknologi dan inovasi terbaru dalam pembuatan website"}),X("li",{children:"Meningkatkan asas manfaat dan nilai tambah bagi klien dan stakeholder kami"}),X("li",{children:"Menjalin hubungan baik dengan klien dan meningkatkan kepuasan pelanggan dari hasil kerja keras kami sebagai penyedia layanan."})]})]})]})]}),X(Po,{children:X(LT,{})})]})}const UR="/assets/preview-yt.96d399f5.png",jR="/assets/bingkai-gambar.b566fb8b.png",qR="/assets/sitemap.d2202725.png",GR="/assets/mockup.2cc729b7.png";function WR(){return X(Bc,{children:rt("div",{className:"relative mt-16 bg-slate-800/80 py-12 sm:py-16",children:[X("span",{className:"absolute w-full h-[200px] sm:h-[220px] top-0 bg-slate-900"}),X(Po,{children:rt("div",{className:"max-w-5xl mx-auto",children:[rt("div",{className:"relative pb-8",children:[rt("div",{className:"max-w-sm mx-auto flex items-center justify-center flex-col space-y-3 sm:space-y-4",children:[X("h3",{className:"font-semibold text-lg sm:text-2xl text-gray-200",children:"Class Mate"}),X("div",{className:"w-full",children:X("img",{src:bo,alt:"detail-proyek",className:"w-full object-cover"})}),X("p",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"www.classmate.com"}),X("a",{href:"#",className:"block mt-8 sm:mt-12 mx-auto text-xs sm:text-sm w-max rounded-sm py-[10px] px-8 border border-cyan-600 text-gray-200 focus:outline-none",children:"Kunjungi Website"})]}),X(fd,{})]}),rt("div",{className:"py-12 sm:py-16",children:[X("p",{className:"text-xs sm:text-sm text-gray-200",children:"Halaman"}),X("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2 sm:gap-4 mt-4 sm:mt-5",children:[1,2,3,4,5,6,7,8].map(e=>X("div",{children:X("img",{src:bo,alt:"image-item"})},e))})]}),rt("div",{children:[X("div",{className:"max-w-2xl mx-auto",children:X("img",{src:UR,alt:"preview-yt",className:"w-full object-cover"})}),rt("div",{className:"mt-8 sm:mt-12 space-y-8 sm:space-y-12",children:[rt("div",{className:"max-w-3xl",children:[X("p",{className:"text-xs sm:text-sm text-gray-200",children:"Tentang Class Mate :"}),X("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2",children:"Class Mate merupakan layanan kursus online berbasis web dimana dalam praktiknya klien akan terhubung dengan materi yang disampaikan lewat virtual dengan tenaga pengajar yang profesional di bidangnya."})]}),rt("div",{className:"max-w-3xl",children:[X("p",{className:"text-xs sm:text-sm text-gray-200",children:"Gaya :"}),X("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2",children:"Gelap, elegan, profesional, sederhana, dan mudah digunakan."})]}),rt("div",{className:"max-w-3xl",children:[X("p",{className:"text-xs sm:text-sm text-gray-200",children:"Tujuan Pembuatan Website :"}),rt("ul",{className:"mt-1 sm:mt-2 text-gray-400 text-xs sm:text-sm list-decimal px-4",children:[X("li",{children:"Sebagai gambaran tentang Agensi dan sebagai pengenalan bagi mitra dan pelanggan"}),X("li",{children:"Mendapatkan lebih banyak klien dengan menyediakan formulir yang mudah digunakan bagi klien untuk memesan layanan mereka"}),X("li",{children:"Sebagai etalase portofolio mereka dan juga testimoni dari klien mereka"}),X("li",{children:"Sebagai etalase portofolio mereka dan juga testimoni dari klien mereka Mengenal lebih jauh tentang agensi dengan memberikan informasi tentang tim mereka, termasuk bio masing-masing tim."}),X("li",{children:"Sebagai strategi pemasaran untuk tujuan SEO"})]})]}),rt("div",{className:"max-w-3xl",children:[X("p",{className:"text-xs sm:text-sm text-gray-200",children:"Teknologi (Tools) yang digunakan :"}),X("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2",children:"Visual Studio Code, Postman, ReactJS, NextJS, MySQL, Figma, Google Tag Manager, Laravel, AJAX"})]}),rt("div",{className:"max-w-3xl",children:[X("p",{className:"text-xs sm:text-sm text-gray-200",children:"Peta Situs (Sitemap) :"}),X("div",{className:"mt-2 max-w-xl",children:X("img",{src:qR,alt:"sitemap",className:"w-full object-cover"})})]}),rt("div",{className:"grid sm:grid-cols-2 gap-y-8 sm:gap-x-12",children:[rt("div",{children:[X("p",{className:"text-xs sm:text-sm text-gray-200",children:"Bingkai Gambar (Wireframe) :"}),X("div",{className:"mt-2 max-w-xl",children:X("img",{src:jR,alt:"sitemap",className:"w-full object-cover"})})]}),rt("div",{children:[X("p",{className:"text-xs sm:text-sm text-gray-200",children:"Mockup :"}),X("div",{className:"mt-2 max-w-xl",children:X("img",{src:GR,alt:"sitemap",className:"w-full object-cover"})})]})]})]})]})]})})]})})}var NT={exports:{}};/*!
 * jQuery JavaScript Library v3.6.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-08-26T17:52Z
 */(function(e){(function(t,s){e.exports=t.document?s(t,!0):function(u){if(!u.document)throw new Error("jQuery requires a window with a document");return s(u)}})(typeof window<"u"?window:Xy,function(t,s){var u=[],h=Object.getPrototypeOf,p=u.slice,y=u.flat?function(v){return u.flat.call(v)}:function(v){return u.concat.apply([],v)},a=u.push,T=u.indexOf,z={},O=z.toString,j=z.hasOwnProperty,S=j.toString,Q=S.call(Object),se={},oe=function(b){return typeof b=="function"&&typeof b.nodeType!="number"&&typeof b.item!="function"},he=function(b){return b!=null&&b===b.window},k=t.document,D={type:!0,src:!0,nonce:!0,noModule:!0};function F(v,b,P){P=P||k;var R,W,Z=P.createElement("script");if(Z.text=v,b)for(R in D)W=b[R]||b.getAttribute&&b.getAttribute(R),W&&Z.setAttribute(R,W);P.head.appendChild(Z).parentNode.removeChild(Z)}function Y(v){return v==null?v+"":typeof v=="object"||typeof v=="function"?z[O.call(v)]||"object":typeof v}var xe="3.6.1",E=function(v,b){return new E.fn.init(v,b)};E.fn=E.prototype={jquery:xe,constructor:E,length:0,toArray:function(){return p.call(this)},get:function(v){return v==null?p.call(this):v<0?this[v+this.length]:this[v]},pushStack:function(v){var b=E.merge(this.constructor(),v);return b.prevObject=this,b},each:function(v){return E.each(this,v)},map:function(v){return this.pushStack(E.map(this,function(b,P){return v.call(b,P,b)}))},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(v,b){return(b+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(v,b){return b%2}))},eq:function(v){var b=this.length,P=+v+(v<0?b:0);return this.pushStack(P>=0&&P<b?[this[P]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:u.sort,splice:u.splice},E.extend=E.fn.extend=function(){var v,b,P,R,W,Z,ee=arguments[0]||{},be=1,_e=arguments.length,ze=!1;for(typeof ee=="boolean"&&(ze=ee,ee=arguments[be]||{},be++),typeof ee!="object"&&!oe(ee)&&(ee={}),be===_e&&(ee=this,be--);be<_e;be++)if((v=arguments[be])!=null)for(b in v)R=v[b],!(b==="__proto__"||ee===R)&&(ze&&R&&(E.isPlainObject(R)||(W=Array.isArray(R)))?(P=ee[b],W&&!Array.isArray(P)?Z=[]:!W&&!E.isPlainObject(P)?Z={}:Z=P,W=!1,ee[b]=E.extend(ze,Z,R)):R!==void 0&&(ee[b]=R));return ee},E.extend({expando:"jQuery"+(xe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(v){throw new Error(v)},noop:function(){},isPlainObject:function(v){var b,P;return!v||O.call(v)!=="[object Object]"?!1:(b=h(v),b?(P=j.call(b,"constructor")&&b.constructor,typeof P=="function"&&S.call(P)===Q):!0)},isEmptyObject:function(v){var b;for(b in v)return!1;return!0},globalEval:function(v,b,P){F(v,{nonce:b&&b.nonce},P)},each:function(v,b){var P,R=0;if(Ne(v))for(P=v.length;R<P&&b.call(v[R],R,v[R])!==!1;R++);else for(R in v)if(b.call(v[R],R,v[R])===!1)break;return v},makeArray:function(v,b){var P=b||[];return v!=null&&(Ne(Object(v))?E.merge(P,typeof v=="string"?[v]:v):a.call(P,v)),P},inArray:function(v,b,P){return b==null?-1:T.call(b,v,P)},merge:function(v,b){for(var P=+b.length,R=0,W=v.length;R<P;R++)v[W++]=b[R];return v.length=W,v},grep:function(v,b,P){for(var R,W=[],Z=0,ee=v.length,be=!P;Z<ee;Z++)R=!b(v[Z],Z),R!==be&&W.push(v[Z]);return W},map:function(v,b,P){var R,W,Z=0,ee=[];if(Ne(v))for(R=v.length;Z<R;Z++)W=b(v[Z],Z,P),W!=null&&ee.push(W);else for(Z in v)W=b(v[Z],Z,P),W!=null&&ee.push(W);return y(ee)},guid:1,support:se}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=u[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(v,b){z["[object "+b+"]"]=b.toLowerCase()});function Ne(v){var b=!!v&&"length"in v&&v.length,P=Y(v);return oe(v)||he(v)?!1:P==="array"||b===0||typeof b=="number"&&b>0&&b-1 in v}var qe=function(v){var b,P,R,W,Z,ee,be,_e,ze,We,ut,Fe,Ye,Wt,li,$t,Dn,xn,Fn,Qi="sizzle"+1*new Date,ai=v.document,Ci=0,Oi=0,qt=_a(),Mi=_a(),Ki=_a(),zi=_a(),is=function(ne,le){return ne===le&&(ut=!0),0},jr={}.hasOwnProperty,_r=[],Ws=_r.pop,zr=_r.push,Hs=_r.push,fa=_r.slice,ns=function(ne,le){for(var Ae=0,Qe=ne.length;Ae<Qe;Ae++)if(ne[Ae]===le)return Ae;return-1},co="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Fi="[\\x20\\t\\r\\n\\f]",As="(?:\\\\[\\da-fA-F]{1,6}"+Fi+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Hl="\\["+Fi+"*("+As+")(?:"+Fi+"*([*^$|!~]?=)"+Fi+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+As+"))|)"+Fi+"*\\]",Vo=":("+As+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Hl+")*)|.*)\\)|)",el=new RegExp(Fi+"+","g"),xr=new RegExp("^"+Fi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fi+"+$","g"),Ru=new RegExp("^"+Fi+"*,"+Fi+"*"),tl=new RegExp("^"+Fi+"*([>+~]|"+Fi+")"+Fi+"*"),Bu=new RegExp(Fi+"|>"),ho=new RegExp(Vo),ma=new RegExp("^"+As+"$"),Es={ID:new RegExp("^#("+As+")"),CLASS:new RegExp("^\\.("+As+")"),TAG:new RegExp("^("+As+"|[*])"),ATTR:new RegExp("^"+Hl),PSEUDO:new RegExp("^"+Vo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Fi+"*(even|odd|(([+-]|)(\\d*)n|)"+Fi+"*(?:([+-]|)"+Fi+"*(\\d+)|))"+Fi+"*\\)|)","i"),bool:new RegExp("^(?:"+co+")$","i"),needsContext:new RegExp("^"+Fi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Fi+"*((?:-\\d)?\\d*)"+Fi+"*\\)|)(?=[^-]|$)","i")},Fc=/HTML$/i,il=/^(?:input|select|textarea|button)$/i,Nu=/^h\d$/i,Uo=/^[^{]+\{\s*\[native \w/,ga=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ya=/[+~]/,qr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Fi+"?|\\\\([^\\r\\n\\f])","g"),Dr=function(ne,le){var Ae="0x"+ne.slice(1)-65536;return le||(Ae<0?String.fromCharCode(Ae+65536):String.fromCharCode(Ae>>10|55296,Ae&1023|56320))},po=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,jo=function(ne,le){return le?ne==="\0"?"\uFFFD":ne.slice(0,-1)+"\\"+ne.charCodeAt(ne.length-1).toString(16)+" ":"\\"+ne},Zl=function(){Fe()},va=Wr(function(ne){return ne.disabled===!0&&ne.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Hs.apply(_r=fa.call(ai.childNodes),ai.childNodes),_r[ai.childNodes.length].nodeType}catch{Hs={apply:_r.length?function(le,Ae){zr.apply(le,fa.call(Ae))}:function(le,Ae){for(var Qe=le.length,Ie=0;le[Qe++]=Ae[Ie++];);le.length=Qe-1}}}function nn(ne,le,Ae,Qe){var Ie,nt,Pe,gt,Et,ei,Xt,ni=le&&le.ownerDocument,Ai=le?le.nodeType:9;if(Ae=Ae||[],typeof ne!="string"||!ne||Ai!==1&&Ai!==9&&Ai!==11)return Ae;if(!Qe&&(Fe(le),le=le||Ye,li)){if(Ai!==11&&(Et=ga.exec(ne)))if(Ie=Et[1]){if(Ai===9)if(Pe=le.getElementById(Ie)){if(Pe.id===Ie)return Ae.push(Pe),Ae}else return Ae;else if(ni&&(Pe=ni.getElementById(Ie))&&Fn(le,Pe)&&Pe.id===Ie)return Ae.push(Pe),Ae}else{if(Et[2])return Hs.apply(Ae,le.getElementsByTagName(ne)),Ae;if((Ie=Et[3])&&P.getElementsByClassName&&le.getElementsByClassName)return Hs.apply(Ae,le.getElementsByClassName(Ie)),Ae}if(P.qsa&&!zi[ne+" "]&&(!$t||!$t.test(ne))&&(Ai!==1||le.nodeName.toLowerCase()!=="object")){if(Xt=ne,ni=le,Ai===1&&(Bu.test(ne)||tl.test(ne))){for(ni=ya.test(ne)&&$l(le.parentNode)||le,(ni!==le||!P.scope)&&((gt=le.getAttribute("id"))?gt=gt.replace(po,jo):le.setAttribute("id",gt=Qi)),ei=ee(ne),nt=ei.length;nt--;)ei[nt]=(gt?"#"+gt:":scope")+" "+wa(ei[nt]);Xt=ei.join(",")}try{return Hs.apply(Ae,ni.querySelectorAll(Xt)),Ae}catch{zi(ne,!0)}finally{gt===Qi&&le.removeAttribute("id")}}}return _e(ne.replace(xr,"$1"),le,Ae,Qe)}function _a(){var ne=[];function le(Ae,Qe){return ne.push(Ae+" ")>R.cacheLength&&delete le[ne.shift()],le[Ae+" "]=Qe}return le}function Gr(ne){return ne[Qi]=!0,ne}function sr(ne){var le=Ye.createElement("fieldset");try{return!!ne(le)}catch{return!1}finally{le.parentNode&&le.parentNode.removeChild(le),le=null}}function nl(ne,le){for(var Ae=ne.split("|"),Qe=Ae.length;Qe--;)R.attrHandle[Ae[Qe]]=le}function qo(ne,le){var Ae=le&&ne,Qe=Ae&&ne.nodeType===1&&le.nodeType===1&&ne.sourceIndex-le.sourceIndex;if(Qe)return Qe;if(Ae){for(;Ae=Ae.nextSibling;)if(Ae===le)return-1}return ne?1:-1}function xa(ne){return function(le){var Ae=le.nodeName.toLowerCase();return Ae==="input"&&le.type===ne}}function Lr(ne){return function(le){var Ae=le.nodeName.toLowerCase();return(Ae==="input"||Ae==="button")&&le.type===ne}}function Go(ne){return function(le){return"form"in le?le.parentNode&&le.disabled===!1?"label"in le?"label"in le.parentNode?le.parentNode.disabled===ne:le.disabled===ne:le.isDisabled===ne||le.isDisabled!==!ne&&va(le)===ne:le.disabled===ne:"label"in le?le.disabled===ne:!1}}function Vn(ne){return Gr(function(le){return le=+le,Gr(function(Ae,Qe){for(var Ie,nt=ne([],Ae.length,le),Pe=nt.length;Pe--;)Ae[Ie=nt[Pe]]&&(Ae[Ie]=!(Qe[Ie]=Ae[Ie]))})})}function $l(ne){return ne&&typeof ne.getElementsByTagName<"u"&&ne}P=nn.support={},Z=nn.isXML=function(ne){var le=ne&&ne.namespaceURI,Ae=ne&&(ne.ownerDocument||ne).documentElement;return!Fc.test(le||Ae&&Ae.nodeName||"HTML")},Fe=nn.setDocument=function(ne){var le,Ae,Qe=ne?ne.ownerDocument||ne:ai;return Qe==Ye||Qe.nodeType!==9||!Qe.documentElement||(Ye=Qe,Wt=Ye.documentElement,li=!Z(Ye),ai!=Ye&&(Ae=Ye.defaultView)&&Ae.top!==Ae&&(Ae.addEventListener?Ae.addEventListener("unload",Zl,!1):Ae.attachEvent&&Ae.attachEvent("onunload",Zl)),P.scope=sr(function(Ie){return Wt.appendChild(Ie).appendChild(Ye.createElement("div")),typeof Ie.querySelectorAll<"u"&&!Ie.querySelectorAll(":scope fieldset div").length}),P.attributes=sr(function(Ie){return Ie.className="i",!Ie.getAttribute("className")}),P.getElementsByTagName=sr(function(Ie){return Ie.appendChild(Ye.createComment("")),!Ie.getElementsByTagName("*").length}),P.getElementsByClassName=Uo.test(Ye.getElementsByClassName),P.getById=sr(function(Ie){return Wt.appendChild(Ie).id=Qi,!Ye.getElementsByName||!Ye.getElementsByName(Qi).length}),P.getById?(R.filter.ID=function(Ie){var nt=Ie.replace(qr,Dr);return function(Pe){return Pe.getAttribute("id")===nt}},R.find.ID=function(Ie,nt){if(typeof nt.getElementById<"u"&&li){var Pe=nt.getElementById(Ie);return Pe?[Pe]:[]}}):(R.filter.ID=function(Ie){var nt=Ie.replace(qr,Dr);return function(Pe){var gt=typeof Pe.getAttributeNode<"u"&&Pe.getAttributeNode("id");return gt&&gt.value===nt}},R.find.ID=function(Ie,nt){if(typeof nt.getElementById<"u"&&li){var Pe,gt,Et,ei=nt.getElementById(Ie);if(ei){if(Pe=ei.getAttributeNode("id"),Pe&&Pe.value===Ie)return[ei];for(Et=nt.getElementsByName(Ie),gt=0;ei=Et[gt++];)if(Pe=ei.getAttributeNode("id"),Pe&&Pe.value===Ie)return[ei]}return[]}}),R.find.TAG=P.getElementsByTagName?function(Ie,nt){if(typeof nt.getElementsByTagName<"u")return nt.getElementsByTagName(Ie);if(P.qsa)return nt.querySelectorAll(Ie)}:function(Ie,nt){var Pe,gt=[],Et=0,ei=nt.getElementsByTagName(Ie);if(Ie==="*"){for(;Pe=ei[Et++];)Pe.nodeType===1&&gt.push(Pe);return gt}return ei},R.find.CLASS=P.getElementsByClassName&&function(Ie,nt){if(typeof nt.getElementsByClassName<"u"&&li)return nt.getElementsByClassName(Ie)},Dn=[],$t=[],(P.qsa=Uo.test(Ye.querySelectorAll))&&(sr(function(Ie){var nt;Wt.appendChild(Ie).innerHTML="<a id='"+Qi+"'></a><select id='"+Qi+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ie.querySelectorAll("[msallowcapture^='']").length&&$t.push("[*^$]="+Fi+`*(?:''|"")`),Ie.querySelectorAll("[selected]").length||$t.push("\\["+Fi+"*(?:value|"+co+")"),Ie.querySelectorAll("[id~="+Qi+"-]").length||$t.push("~="),nt=Ye.createElement("input"),nt.setAttribute("name",""),Ie.appendChild(nt),Ie.querySelectorAll("[name='']").length||$t.push("\\["+Fi+"*name"+Fi+"*="+Fi+`*(?:''|"")`),Ie.querySelectorAll(":checked").length||$t.push(":checked"),Ie.querySelectorAll("a#"+Qi+"+*").length||$t.push(".#.+[+~]"),Ie.querySelectorAll("\\\f"),$t.push("[\\r\\n\\f]")}),sr(function(Ie){Ie.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var nt=Ye.createElement("input");nt.setAttribute("type","hidden"),Ie.appendChild(nt).setAttribute("name","D"),Ie.querySelectorAll("[name=d]").length&&$t.push("name"+Fi+"*[*^$|!~]?="),Ie.querySelectorAll(":enabled").length!==2&&$t.push(":enabled",":disabled"),Wt.appendChild(Ie).disabled=!0,Ie.querySelectorAll(":disabled").length!==2&&$t.push(":enabled",":disabled"),Ie.querySelectorAll("*,:x"),$t.push(",.*:")})),(P.matchesSelector=Uo.test(xn=Wt.matches||Wt.webkitMatchesSelector||Wt.mozMatchesSelector||Wt.oMatchesSelector||Wt.msMatchesSelector))&&sr(function(Ie){P.disconnectedMatch=xn.call(Ie,"*"),xn.call(Ie,"[s!='']:x"),Dn.push("!=",Vo)}),$t=$t.length&&new RegExp($t.join("|")),Dn=Dn.length&&new RegExp(Dn.join("|")),le=Uo.test(Wt.compareDocumentPosition),Fn=le||Uo.test(Wt.contains)?function(Ie,nt){var Pe=Ie.nodeType===9?Ie.documentElement:Ie,gt=nt&&nt.parentNode;return Ie===gt||!!(gt&&gt.nodeType===1&&(Pe.contains?Pe.contains(gt):Ie.compareDocumentPosition&&Ie.compareDocumentPosition(gt)&16))}:function(Ie,nt){if(nt){for(;nt=nt.parentNode;)if(nt===Ie)return!0}return!1},is=le?function(Ie,nt){if(Ie===nt)return ut=!0,0;var Pe=!Ie.compareDocumentPosition-!nt.compareDocumentPosition;return Pe||(Pe=(Ie.ownerDocument||Ie)==(nt.ownerDocument||nt)?Ie.compareDocumentPosition(nt):1,Pe&1||!P.sortDetached&&nt.compareDocumentPosition(Ie)===Pe?Ie==Ye||Ie.ownerDocument==ai&&Fn(ai,Ie)?-1:nt==Ye||nt.ownerDocument==ai&&Fn(ai,nt)?1:We?ns(We,Ie)-ns(We,nt):0:Pe&4?-1:1)}:function(Ie,nt){if(Ie===nt)return ut=!0,0;var Pe,gt=0,Et=Ie.parentNode,ei=nt.parentNode,Xt=[Ie],ni=[nt];if(!Et||!ei)return Ie==Ye?-1:nt==Ye?1:Et?-1:ei?1:We?ns(We,Ie)-ns(We,nt):0;if(Et===ei)return qo(Ie,nt);for(Pe=Ie;Pe=Pe.parentNode;)Xt.unshift(Pe);for(Pe=nt;Pe=Pe.parentNode;)ni.unshift(Pe);for(;Xt[gt]===ni[gt];)gt++;return gt?qo(Xt[gt],ni[gt]):Xt[gt]==ai?-1:ni[gt]==ai?1:0}),Ye},nn.matches=function(ne,le){return nn(ne,null,null,le)},nn.matchesSelector=function(ne,le){if(Fe(ne),P.matchesSelector&&li&&!zi[le+" "]&&(!Dn||!Dn.test(le))&&(!$t||!$t.test(le)))try{var Ae=xn.call(ne,le);if(Ae||P.disconnectedMatch||ne.document&&ne.document.nodeType!==11)return Ae}catch{zi(le,!0)}return nn(le,Ye,null,[ne]).length>0},nn.contains=function(ne,le){return(ne.ownerDocument||ne)!=Ye&&Fe(ne),Fn(ne,le)},nn.attr=function(ne,le){(ne.ownerDocument||ne)!=Ye&&Fe(ne);var Ae=R.attrHandle[le.toLowerCase()],Qe=Ae&&jr.call(R.attrHandle,le.toLowerCase())?Ae(ne,le,!li):void 0;return Qe!==void 0?Qe:P.attributes||!li?ne.getAttribute(le):(Qe=ne.getAttributeNode(le))&&Qe.specified?Qe.value:null},nn.escape=function(ne){return(ne+"").replace(po,jo)},nn.error=function(ne){throw new Error("Syntax error, unrecognized expression: "+ne)},nn.uniqueSort=function(ne){var le,Ae=[],Qe=0,Ie=0;if(ut=!P.detectDuplicates,We=!P.sortStable&&ne.slice(0),ne.sort(is),ut){for(;le=ne[Ie++];)le===ne[Ie]&&(Qe=Ae.push(Ie));for(;Qe--;)ne.splice(Ae[Qe],1)}return We=null,ne},W=nn.getText=function(ne){var le,Ae="",Qe=0,Ie=ne.nodeType;if(Ie){if(Ie===1||Ie===9||Ie===11){if(typeof ne.textContent=="string")return ne.textContent;for(ne=ne.firstChild;ne;ne=ne.nextSibling)Ae+=W(ne)}else if(Ie===3||Ie===4)return ne.nodeValue}else for(;le=ne[Qe++];)Ae+=W(le);return Ae},R=nn.selectors={cacheLength:50,createPseudo:Gr,match:Es,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ne){return ne[1]=ne[1].replace(qr,Dr),ne[3]=(ne[3]||ne[4]||ne[5]||"").replace(qr,Dr),ne[2]==="~="&&(ne[3]=" "+ne[3]+" "),ne.slice(0,4)},CHILD:function(ne){return ne[1]=ne[1].toLowerCase(),ne[1].slice(0,3)==="nth"?(ne[3]||nn.error(ne[0]),ne[4]=+(ne[4]?ne[5]+(ne[6]||1):2*(ne[3]==="even"||ne[3]==="odd")),ne[5]=+(ne[7]+ne[8]||ne[3]==="odd")):ne[3]&&nn.error(ne[0]),ne},PSEUDO:function(ne){var le,Ae=!ne[6]&&ne[2];return Es.CHILD.test(ne[0])?null:(ne[3]?ne[2]=ne[4]||ne[5]||"":Ae&&ho.test(Ae)&&(le=ee(Ae,!0))&&(le=Ae.indexOf(")",Ae.length-le)-Ae.length)&&(ne[0]=ne[0].slice(0,le),ne[2]=Ae.slice(0,le)),ne.slice(0,3))}},filter:{TAG:function(ne){var le=ne.replace(qr,Dr).toLowerCase();return ne==="*"?function(){return!0}:function(Ae){return Ae.nodeName&&Ae.nodeName.toLowerCase()===le}},CLASS:function(ne){var le=qt[ne+" "];return le||(le=new RegExp("(^|"+Fi+")"+ne+"("+Fi+"|$)"))&&qt(ne,function(Ae){return le.test(typeof Ae.className=="string"&&Ae.className||typeof Ae.getAttribute<"u"&&Ae.getAttribute("class")||"")})},ATTR:function(ne,le,Ae){return function(Qe){var Ie=nn.attr(Qe,ne);return Ie==null?le==="!=":le?(Ie+="",le==="="?Ie===Ae:le==="!="?Ie!==Ae:le==="^="?Ae&&Ie.indexOf(Ae)===0:le==="*="?Ae&&Ie.indexOf(Ae)>-1:le==="$="?Ae&&Ie.slice(-Ae.length)===Ae:le==="~="?(" "+Ie.replace(el," ")+" ").indexOf(Ae)>-1:le==="|="?Ie===Ae||Ie.slice(0,Ae.length+1)===Ae+"-":!1):!0}},CHILD:function(ne,le,Ae,Qe,Ie){var nt=ne.slice(0,3)!=="nth",Pe=ne.slice(-4)!=="last",gt=le==="of-type";return Qe===1&&Ie===0?function(Et){return!!Et.parentNode}:function(Et,ei,Xt){var ni,Ai,an,ti,Pn,Zn,dr=nt!==Pe?"nextSibling":"previousSibling",fn=Et.parentNode,$n=gt&&Et.nodeName.toLowerCase(),Hr=!Xt&&!gt,wr=!1;if(fn){if(nt){for(;dr;){for(ti=Et;ti=ti[dr];)if(gt?ti.nodeName.toLowerCase()===$n:ti.nodeType===1)return!1;Zn=dr=ne==="only"&&!Zn&&"nextSibling"}return!0}if(Zn=[Pe?fn.firstChild:fn.lastChild],Pe&&Hr){for(ti=fn,an=ti[Qi]||(ti[Qi]={}),Ai=an[ti.uniqueID]||(an[ti.uniqueID]={}),ni=Ai[ne]||[],Pn=ni[0]===Ci&&ni[1],wr=Pn&&ni[2],ti=Pn&&fn.childNodes[Pn];ti=++Pn&&ti&&ti[dr]||(wr=Pn=0)||Zn.pop();)if(ti.nodeType===1&&++wr&&ti===Et){Ai[ne]=[Ci,Pn,wr];break}}else if(Hr&&(ti=Et,an=ti[Qi]||(ti[Qi]={}),Ai=an[ti.uniqueID]||(an[ti.uniqueID]={}),ni=Ai[ne]||[],Pn=ni[0]===Ci&&ni[1],wr=Pn),wr===!1)for(;(ti=++Pn&&ti&&ti[dr]||(wr=Pn=0)||Zn.pop())&&!((gt?ti.nodeName.toLowerCase()===$n:ti.nodeType===1)&&++wr&&(Hr&&(an=ti[Qi]||(ti[Qi]={}),Ai=an[ti.uniqueID]||(an[ti.uniqueID]={}),Ai[ne]=[Ci,wr]),ti===Et)););return wr-=Ie,wr===Qe||wr%Qe===0&&wr/Qe>=0}}},PSEUDO:function(ne,le){var Ae,Qe=R.pseudos[ne]||R.setFilters[ne.toLowerCase()]||nn.error("unsupported pseudo: "+ne);return Qe[Qi]?Qe(le):Qe.length>1?(Ae=[ne,ne,"",le],R.setFilters.hasOwnProperty(ne.toLowerCase())?Gr(function(Ie,nt){for(var Pe,gt=Qe(Ie,le),Et=gt.length;Et--;)Pe=ns(Ie,gt[Et]),Ie[Pe]=!(nt[Pe]=gt[Et])}):function(Ie){return Qe(Ie,0,Ae)}):Qe}},pseudos:{not:Gr(function(ne){var le=[],Ae=[],Qe=be(ne.replace(xr,"$1"));return Qe[Qi]?Gr(function(Ie,nt,Pe,gt){for(var Et,ei=Qe(Ie,null,gt,[]),Xt=Ie.length;Xt--;)(Et=ei[Xt])&&(Ie[Xt]=!(nt[Xt]=Et))}):function(Ie,nt,Pe){return le[0]=Ie,Qe(le,null,Pe,Ae),le[0]=null,!Ae.pop()}}),has:Gr(function(ne){return function(le){return nn(ne,le).length>0}}),contains:Gr(function(ne){return ne=ne.replace(qr,Dr),function(le){return(le.textContent||W(le)).indexOf(ne)>-1}}),lang:Gr(function(ne){return ma.test(ne||"")||nn.error("unsupported lang: "+ne),ne=ne.replace(qr,Dr).toLowerCase(),function(le){var Ae;do if(Ae=li?le.lang:le.getAttribute("xml:lang")||le.getAttribute("lang"))return Ae=Ae.toLowerCase(),Ae===ne||Ae.indexOf(ne+"-")===0;while((le=le.parentNode)&&le.nodeType===1);return!1}}),target:function(ne){var le=v.location&&v.location.hash;return le&&le.slice(1)===ne.id},root:function(ne){return ne===Wt},focus:function(ne){return ne===Ye.activeElement&&(!Ye.hasFocus||Ye.hasFocus())&&!!(ne.type||ne.href||~ne.tabIndex)},enabled:Go(!1),disabled:Go(!0),checked:function(ne){var le=ne.nodeName.toLowerCase();return le==="input"&&!!ne.checked||le==="option"&&!!ne.selected},selected:function(ne){return ne.parentNode&&ne.parentNode.selectedIndex,ne.selected===!0},empty:function(ne){for(ne=ne.firstChild;ne;ne=ne.nextSibling)if(ne.nodeType<6)return!1;return!0},parent:function(ne){return!R.pseudos.empty(ne)},header:function(ne){return Nu.test(ne.nodeName)},input:function(ne){return il.test(ne.nodeName)},button:function(ne){var le=ne.nodeName.toLowerCase();return le==="input"&&ne.type==="button"||le==="button"},text:function(ne){var le;return ne.nodeName.toLowerCase()==="input"&&ne.type==="text"&&((le=ne.getAttribute("type"))==null||le.toLowerCase()==="text")},first:Vn(function(){return[0]}),last:Vn(function(ne,le){return[le-1]}),eq:Vn(function(ne,le,Ae){return[Ae<0?Ae+le:Ae]}),even:Vn(function(ne,le){for(var Ae=0;Ae<le;Ae+=2)ne.push(Ae);return ne}),odd:Vn(function(ne,le){for(var Ae=1;Ae<le;Ae+=2)ne.push(Ae);return ne}),lt:Vn(function(ne,le,Ae){for(var Qe=Ae<0?Ae+le:Ae>le?le:Ae;--Qe>=0;)ne.push(Qe);return ne}),gt:Vn(function(ne,le,Ae){for(var Qe=Ae<0?Ae+le:Ae;++Qe<le;)ne.push(Qe);return ne})}},R.pseudos.nth=R.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[b]=xa(b);for(b in{submit:!0,reset:!0})R.pseudos[b]=Lr(b);function ks(){}ks.prototype=R.filters=R.pseudos,R.setFilters=new ks,ee=nn.tokenize=function(ne,le){var Ae,Qe,Ie,nt,Pe,gt,Et,ei=Mi[ne+" "];if(ei)return le?0:ei.slice(0);for(Pe=ne,gt=[],Et=R.preFilter;Pe;){(!Ae||(Qe=Ru.exec(Pe)))&&(Qe&&(Pe=Pe.slice(Qe[0].length)||Pe),gt.push(Ie=[])),Ae=!1,(Qe=tl.exec(Pe))&&(Ae=Qe.shift(),Ie.push({value:Ae,type:Qe[0].replace(xr," ")}),Pe=Pe.slice(Ae.length));for(nt in R.filter)(Qe=Es[nt].exec(Pe))&&(!Et[nt]||(Qe=Et[nt](Qe)))&&(Ae=Qe.shift(),Ie.push({value:Ae,type:nt,matches:Qe}),Pe=Pe.slice(Ae.length));if(!Ae)break}return le?Pe.length:Pe?nn.error(ne):Mi(ne,gt).slice(0)};function wa(ne){for(var le=0,Ae=ne.length,Qe="";le<Ae;le++)Qe+=ne[le].value;return Qe}function Wr(ne,le,Ae){var Qe=le.dir,Ie=le.next,nt=Ie||Qe,Pe=Ae&&nt==="parentNode",gt=Oi++;return le.first?function(Et,ei,Xt){for(;Et=Et[Qe];)if(Et.nodeType===1||Pe)return ne(Et,ei,Xt);return!1}:function(Et,ei,Xt){var ni,Ai,an,ti=[Ci,gt];if(Xt){for(;Et=Et[Qe];)if((Et.nodeType===1||Pe)&&ne(Et,ei,Xt))return!0}else for(;Et=Et[Qe];)if(Et.nodeType===1||Pe)if(an=Et[Qi]||(Et[Qi]={}),Ai=an[Et.uniqueID]||(an[Et.uniqueID]={}),Ie&&Ie===Et.nodeName.toLowerCase())Et=Et[Qe]||Et;else{if((ni=Ai[nt])&&ni[0]===Ci&&ni[1]===gt)return ti[2]=ni[2];if(Ai[nt]=ti,ti[2]=ne(Et,ei,Xt))return!0}return!1}}function fo(ne){return ne.length>1?function(le,Ae,Qe){for(var Ie=ne.length;Ie--;)if(!ne[Ie](le,Ae,Qe))return!1;return!0}:ne[0]}function Xl(ne,le,Ae){for(var Qe=0,Ie=le.length;Qe<Ie;Qe++)nn(ne,le[Qe],Ae);return Ae}function rl(ne,le,Ae,Qe,Ie){for(var nt,Pe=[],gt=0,Et=ne.length,ei=le!=null;gt<Et;gt++)(nt=ne[gt])&&(!Ae||Ae(nt,Qe,Ie))&&(Pe.push(nt),ei&&le.push(gt));return Pe}function Kl(ne,le,Ae,Qe,Ie,nt){return Qe&&!Qe[Qi]&&(Qe=Kl(Qe)),Ie&&!Ie[Qi]&&(Ie=Kl(Ie,nt)),Gr(function(Pe,gt,Et,ei){var Xt,ni,Ai,an=[],ti=[],Pn=gt.length,Zn=Pe||Xl(le||"*",Et.nodeType?[Et]:Et,[]),dr=ne&&(Pe||!le)?rl(Zn,an,ne,Et,ei):Zn,fn=Ae?Ie||(Pe?ne:Pn||Qe)?[]:gt:dr;if(Ae&&Ae(dr,fn,Et,ei),Qe)for(Xt=rl(fn,ti),Qe(Xt,[],Et,ei),ni=Xt.length;ni--;)(Ai=Xt[ni])&&(fn[ti[ni]]=!(dr[ti[ni]]=Ai));if(Pe){if(Ie||ne){if(Ie){for(Xt=[],ni=fn.length;ni--;)(Ai=fn[ni])&&Xt.push(dr[ni]=Ai);Ie(null,fn=[],Xt,ei)}for(ni=fn.length;ni--;)(Ai=fn[ni])&&(Xt=Ie?ns(Pe,Ai):an[ni])>-1&&(Pe[Xt]=!(gt[Xt]=Ai))}}else fn=rl(fn===gt?fn.splice(Pn,fn.length):fn),Ie?Ie(null,gt,fn,ei):Hs.apply(gt,fn)})}function Wo(ne){for(var le,Ae,Qe,Ie=ne.length,nt=R.relative[ne[0].type],Pe=nt||R.relative[" "],gt=nt?1:0,Et=Wr(function(ni){return ni===le},Pe,!0),ei=Wr(function(ni){return ns(le,ni)>-1},Pe,!0),Xt=[function(ni,Ai,an){var ti=!nt&&(an||Ai!==ze)||((le=Ai).nodeType?Et(ni,Ai,an):ei(ni,Ai,an));return le=null,ti}];gt<Ie;gt++)if(Ae=R.relative[ne[gt].type])Xt=[Wr(fo(Xt),Ae)];else{if(Ae=R.filter[ne[gt].type].apply(null,ne[gt].matches),Ae[Qi]){for(Qe=++gt;Qe<Ie&&!R.relative[ne[Qe].type];Qe++);return Kl(gt>1&&fo(Xt),gt>1&&wa(ne.slice(0,gt-1).concat({value:ne[gt-2].type===" "?"*":""})).replace(xr,"$1"),Ae,gt<Qe&&Wo(ne.slice(gt,Qe)),Qe<Ie&&Wo(ne=ne.slice(Qe)),Qe<Ie&&wa(ne))}Xt.push(Ae)}return fo(Xt)}function ba(ne,le){var Ae=le.length>0,Qe=ne.length>0,Ie=function(nt,Pe,gt,Et,ei){var Xt,ni,Ai,an=0,ti="0",Pn=nt&&[],Zn=[],dr=ze,fn=nt||Qe&&R.find.TAG("*",ei),$n=Ci+=dr==null?1:Math.random()||.1,Hr=fn.length;for(ei&&(ze=Pe==Ye||Pe||ei);ti!==Hr&&(Xt=fn[ti])!=null;ti++){if(Qe&&Xt){for(ni=0,!Pe&&Xt.ownerDocument!=Ye&&(Fe(Xt),gt=!li);Ai=ne[ni++];)if(Ai(Xt,Pe||Ye,gt)){Et.push(Xt);break}ei&&(Ci=$n)}Ae&&((Xt=!Ai&&Xt)&&an--,nt&&Pn.push(Xt))}if(an+=ti,Ae&&ti!==an){for(ni=0;Ai=le[ni++];)Ai(Pn,Zn,Pe,gt);if(nt){if(an>0)for(;ti--;)Pn[ti]||Zn[ti]||(Zn[ti]=Ws.call(Et));Zn=rl(Zn)}Hs.apply(Et,Zn),ei&&!nt&&Zn.length>0&&an+le.length>1&&nn.uniqueSort(Et)}return ei&&(Ci=$n,ze=dr),Pn};return Ae?Gr(Ie):Ie}return be=nn.compile=function(ne,le){var Ae,Qe=[],Ie=[],nt=Ki[ne+" "];if(!nt){for(le||(le=ee(ne)),Ae=le.length;Ae--;)nt=Wo(le[Ae]),nt[Qi]?Qe.push(nt):Ie.push(nt);nt=Ki(ne,ba(Ie,Qe)),nt.selector=ne}return nt},_e=nn.select=function(ne,le,Ae,Qe){var Ie,nt,Pe,gt,Et,ei=typeof ne=="function"&&ne,Xt=!Qe&&ee(ne=ei.selector||ne);if(Ae=Ae||[],Xt.length===1){if(nt=Xt[0]=Xt[0].slice(0),nt.length>2&&(Pe=nt[0]).type==="ID"&&le.nodeType===9&&li&&R.relative[nt[1].type]){if(le=(R.find.ID(Pe.matches[0].replace(qr,Dr),le)||[])[0],le)ei&&(le=le.parentNode);else return Ae;ne=ne.slice(nt.shift().value.length)}for(Ie=Es.needsContext.test(ne)?0:nt.length;Ie--&&(Pe=nt[Ie],!R.relative[gt=Pe.type]);)if((Et=R.find[gt])&&(Qe=Et(Pe.matches[0].replace(qr,Dr),ya.test(nt[0].type)&&$l(le.parentNode)||le))){if(nt.splice(Ie,1),ne=Qe.length&&wa(nt),!ne)return Hs.apply(Ae,Qe),Ae;break}}return(ei||be(ne,Xt))(Qe,le,!li,Ae,!le||ya.test(ne)&&$l(le.parentNode)||le),Ae},P.sortStable=Qi.split("").sort(is).join("")===Qi,P.detectDuplicates=!!ut,Fe(),P.sortDetached=sr(function(ne){return ne.compareDocumentPosition(Ye.createElement("fieldset"))&1}),sr(function(ne){return ne.innerHTML="<a href='#'></a>",ne.firstChild.getAttribute("href")==="#"})||nl("type|href|height|width",function(ne,le,Ae){if(!Ae)return ne.getAttribute(le,le.toLowerCase()==="type"?1:2)}),(!P.attributes||!sr(function(ne){return ne.innerHTML="<input/>",ne.firstChild.setAttribute("value",""),ne.firstChild.getAttribute("value")===""}))&&nl("value",function(ne,le,Ae){if(!Ae&&ne.nodeName.toLowerCase()==="input")return ne.defaultValue}),sr(function(ne){return ne.getAttribute("disabled")==null})||nl(co,function(ne,le,Ae){var Qe;if(!Ae)return ne[le]===!0?le.toLowerCase():(Qe=ne.getAttributeNode(le))&&Qe.specified?Qe.value:null}),nn}(t);E.find=qe,E.expr=qe.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=qe.uniqueSort,E.text=qe.getText,E.isXMLDoc=qe.isXML,E.contains=qe.contains,E.escapeSelector=qe.escape;var wt=function(v,b,P){for(var R=[],W=P!==void 0;(v=v[b])&&v.nodeType!==9;)if(v.nodeType===1){if(W&&E(v).is(P))break;R.push(v)}return R},At=function(v,b){for(var P=[];v;v=v.nextSibling)v.nodeType===1&&v!==b&&P.push(v);return P},_i=E.expr.match.needsContext;function ui(v,b){return v.nodeName&&v.nodeName.toLowerCase()===b.toLowerCase()}var Tn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Di(v,b,P){return oe(b)?E.grep(v,function(R,W){return!!b.call(R,W,R)!==P}):b.nodeType?E.grep(v,function(R){return R===b!==P}):typeof b!="string"?E.grep(v,function(R){return T.call(b,R)>-1!==P}):E.filter(b,v,P)}E.filter=function(v,b,P){var R=b[0];return P&&(v=":not("+v+")"),b.length===1&&R.nodeType===1?E.find.matchesSelector(R,v)?[R]:[]:E.find.matches(v,E.grep(b,function(W){return W.nodeType===1}))},E.fn.extend({find:function(v){var b,P,R=this.length,W=this;if(typeof v!="string")return this.pushStack(E(v).filter(function(){for(b=0;b<R;b++)if(E.contains(W[b],this))return!0}));for(P=this.pushStack([]),b=0;b<R;b++)E.find(v,W[b],P);return R>1?E.uniqueSort(P):P},filter:function(v){return this.pushStack(Di(this,v||[],!1))},not:function(v){return this.pushStack(Di(this,v||[],!0))},is:function(v){return!!Di(this,typeof v=="string"&&_i.test(v)?E(v):v||[],!1).length}});var sn,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,un=E.fn.init=function(v,b,P){var R,W;if(!v)return this;if(P=P||sn,typeof v=="string")if(v[0]==="<"&&v[v.length-1]===">"&&v.length>=3?R=[null,v,null]:R=Tt.exec(v),R&&(R[1]||!b))if(R[1]){if(b=b instanceof E?b[0]:b,E.merge(this,E.parseHTML(R[1],b&&b.nodeType?b.ownerDocument||b:k,!0)),Tn.test(R[1])&&E.isPlainObject(b))for(R in b)oe(this[R])?this[R](b[R]):this.attr(R,b[R]);return this}else return W=k.getElementById(R[2]),W&&(this[0]=W,this.length=1),this;else return!b||b.jquery?(b||P).find(v):this.constructor(b).find(v);else{if(v.nodeType)return this[0]=v,this.length=1,this;if(oe(v))return P.ready!==void 0?P.ready(v):v(E)}return E.makeArray(v,this)};un.prototype=E.fn,sn=E(k);var He=/^(?:parents|prev(?:Until|All))/,at={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(v){var b=E(v,this),P=b.length;return this.filter(function(){for(var R=0;R<P;R++)if(E.contains(this,b[R]))return!0})},closest:function(v,b){var P,R=0,W=this.length,Z=[],ee=typeof v!="string"&&E(v);if(!_i.test(v)){for(;R<W;R++)for(P=this[R];P&&P!==b;P=P.parentNode)if(P.nodeType<11&&(ee?ee.index(P)>-1:P.nodeType===1&&E.find.matchesSelector(P,v))){Z.push(P);break}}return this.pushStack(Z.length>1?E.uniqueSort(Z):Z)},index:function(v){return v?typeof v=="string"?T.call(E(v),this[0]):T.call(this,v.jquery?v[0]:v):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(v,b){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(v,b))))},addBack:function(v){return this.add(v==null?this.prevObject:this.prevObject.filter(v))}});function dt(v,b){for(;(v=v[b])&&v.nodeType!==1;);return v}E.each({parent:function(v){var b=v.parentNode;return b&&b.nodeType!==11?b:null},parents:function(v){return wt(v,"parentNode")},parentsUntil:function(v,b,P){return wt(v,"parentNode",P)},next:function(v){return dt(v,"nextSibling")},prev:function(v){return dt(v,"previousSibling")},nextAll:function(v){return wt(v,"nextSibling")},prevAll:function(v){return wt(v,"previousSibling")},nextUntil:function(v,b,P){return wt(v,"nextSibling",P)},prevUntil:function(v,b,P){return wt(v,"previousSibling",P)},siblings:function(v){return At((v.parentNode||{}).firstChild,v)},children:function(v){return At(v.firstChild)},contents:function(v){return v.contentDocument!=null&&h(v.contentDocument)?v.contentDocument:(ui(v,"template")&&(v=v.content||v),E.merge([],v.childNodes))}},function(v,b){E.fn[v]=function(P,R){var W=E.map(this,b,P);return v.slice(-5)!=="Until"&&(R=P),R&&typeof R=="string"&&(W=E.filter(R,W)),this.length>1&&(at[v]||E.uniqueSort(W),He.test(v)&&W.reverse()),this.pushStack(W)}});var Ot=/[^\x20\t\r\n\f]+/g;function ri(v){var b={};return E.each(v.match(Ot)||[],function(P,R){b[R]=!0}),b}E.Callbacks=function(v){v=typeof v=="string"?ri(v):E.extend({},v);var b,P,R,W,Z=[],ee=[],be=-1,_e=function(){for(W=W||v.once,R=b=!0;ee.length;be=-1)for(P=ee.shift();++be<Z.length;)Z[be].apply(P[0],P[1])===!1&&v.stopOnFalse&&(be=Z.length,P=!1);v.memory||(P=!1),b=!1,W&&(P?Z=[]:Z="")},ze={add:function(){return Z&&(P&&!b&&(be=Z.length-1,ee.push(P)),function We(ut){E.each(ut,function(Fe,Ye){oe(Ye)?(!v.unique||!ze.has(Ye))&&Z.push(Ye):Ye&&Ye.length&&Y(Ye)!=="string"&&We(Ye)})}(arguments),P&&!b&&_e()),this},remove:function(){return E.each(arguments,function(We,ut){for(var Fe;(Fe=E.inArray(ut,Z,Fe))>-1;)Z.splice(Fe,1),Fe<=be&&be--}),this},has:function(We){return We?E.inArray(We,Z)>-1:Z.length>0},empty:function(){return Z&&(Z=[]),this},disable:function(){return W=ee=[],Z=P="",this},disabled:function(){return!Z},lock:function(){return W=ee=[],!P&&!b&&(Z=P=""),this},locked:function(){return!!W},fireWith:function(We,ut){return W||(ut=ut||[],ut=[We,ut.slice?ut.slice():ut],ee.push(ut),b||_e()),this},fire:function(){return ze.fireWith(this,arguments),this},fired:function(){return!!R}};return ze};function si(v){return v}function Ti(v){throw v}function ci(v,b,P,R){var W;try{v&&oe(W=v.promise)?W.call(v).done(b).fail(P):v&&oe(W=v.then)?W.call(v,b,P):b.apply(void 0,[v].slice(R))}catch(Z){P.apply(void 0,[Z])}}E.extend({Deferred:function(v){var b=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],P="pending",R={state:function(){return P},always:function(){return W.done(arguments).fail(arguments),this},catch:function(Z){return R.then(null,Z)},pipe:function(){var Z=arguments;return E.Deferred(function(ee){E.each(b,function(be,_e){var ze=oe(Z[_e[4]])&&Z[_e[4]];W[_e[1]](function(){var We=ze&&ze.apply(this,arguments);We&&oe(We.promise)?We.promise().progress(ee.notify).done(ee.resolve).fail(ee.reject):ee[_e[0]+"With"](this,ze?[We]:arguments)})}),Z=null}).promise()},then:function(Z,ee,be){var _e=0;function ze(We,ut,Fe,Ye){return function(){var Wt=this,li=arguments,$t=function(){var xn,Fn;if(!(We<_e)){if(xn=Fe.apply(Wt,li),xn===ut.promise())throw new TypeError("Thenable self-resolution");Fn=xn&&(typeof xn=="object"||typeof xn=="function")&&xn.then,oe(Fn)?Ye?Fn.call(xn,ze(_e,ut,si,Ye),ze(_e,ut,Ti,Ye)):(_e++,Fn.call(xn,ze(_e,ut,si,Ye),ze(_e,ut,Ti,Ye),ze(_e,ut,si,ut.notifyWith))):(Fe!==si&&(Wt=void 0,li=[xn]),(Ye||ut.resolveWith)(Wt,li))}},Dn=Ye?$t:function(){try{$t()}catch(xn){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(xn,Dn.stackTrace),We+1>=_e&&(Fe!==Ti&&(Wt=void 0,li=[xn]),ut.rejectWith(Wt,li))}};We?Dn():(E.Deferred.getStackHook&&(Dn.stackTrace=E.Deferred.getStackHook()),t.setTimeout(Dn))}}return E.Deferred(function(We){b[0][3].add(ze(0,We,oe(be)?be:si,We.notifyWith)),b[1][3].add(ze(0,We,oe(Z)?Z:si)),b[2][3].add(ze(0,We,oe(ee)?ee:Ti))}).promise()},promise:function(Z){return Z!=null?E.extend(Z,R):R}},W={};return E.each(b,function(Z,ee){var be=ee[2],_e=ee[5];R[ee[1]]=be.add,_e&&be.add(function(){P=_e},b[3-Z][2].disable,b[3-Z][3].disable,b[0][2].lock,b[0][3].lock),be.add(ee[3].fire),W[ee[0]]=function(){return W[ee[0]+"With"](this===W?void 0:this,arguments),this},W[ee[0]+"With"]=be.fireWith}),R.promise(W),v&&v.call(W,W),W},when:function(v){var b=arguments.length,P=b,R=Array(P),W=p.call(arguments),Z=E.Deferred(),ee=function(be){return function(_e){R[be]=this,W[be]=arguments.length>1?p.call(arguments):_e,--b||Z.resolveWith(R,W)}};if(b<=1&&(ci(v,Z.done(ee(P)).resolve,Z.reject,!b),Z.state()==="pending"||oe(W[P]&&W[P].then)))return Z.then();for(;P--;)ci(W[P],ee(P),Z.reject);return Z.promise()}});var gi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(v,b){t.console&&t.console.warn&&v&&gi.test(v.name)&&t.console.warn("jQuery.Deferred exception: "+v.message,v.stack,b)},E.readyException=function(v){t.setTimeout(function(){throw v})};var Ui=E.Deferred();E.fn.ready=function(v){return Ui.then(v).catch(function(b){E.readyException(b)}),this},E.extend({isReady:!1,readyWait:1,ready:function(v){(v===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(v!==!0&&--E.readyWait>0)&&Ui.resolveWith(k,[E]))}}),E.ready.then=Ui.then;function cn(){k.removeEventListener("DOMContentLoaded",cn),t.removeEventListener("load",cn),E.ready()}k.readyState==="complete"||k.readyState!=="loading"&&!k.documentElement.doScroll?t.setTimeout(E.ready):(k.addEventListener("DOMContentLoaded",cn),t.addEventListener("load",cn));var Bi=function(v,b,P,R,W,Z,ee){var be=0,_e=v.length,ze=P==null;if(Y(P)==="object"){W=!0;for(be in P)Bi(v,b,be,P[be],!0,Z,ee)}else if(R!==void 0&&(W=!0,oe(R)||(ee=!0),ze&&(ee?(b.call(v,R),b=null):(ze=b,b=function(We,ut,Fe){return ze.call(E(We),Fe)})),b))for(;be<_e;be++)b(v[be],P,ee?R:R.call(v[be],be,b(v[be],P)));return W?v:ze?b.call(v):_e?b(v[0],P):Z},kr=/^-ms-/,fs=/-([a-z])/g;function Pr(v,b){return b.toUpperCase()}function on(v){return v.replace(kr,"ms-").replace(fs,Pr)}var Nn=function(v){return v.nodeType===1||v.nodeType===9||!+v.nodeType};function hn(){this.expando=E.expando+hn.uid++}hn.uid=1,hn.prototype={cache:function(v){var b=v[this.expando];return b||(b={},Nn(v)&&(v.nodeType?v[this.expando]=b:Object.defineProperty(v,this.expando,{value:b,configurable:!0}))),b},set:function(v,b,P){var R,W=this.cache(v);if(typeof b=="string")W[on(b)]=P;else for(R in b)W[on(R)]=b[R];return W},get:function(v,b){return b===void 0?this.cache(v):v[this.expando]&&v[this.expando][on(b)]},access:function(v,b,P){return b===void 0||b&&typeof b=="string"&&P===void 0?this.get(v,b):(this.set(v,b,P),P!==void 0?P:b)},remove:function(v,b){var P,R=v[this.expando];if(R!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(on):(b=on(b),b=b in R?[b]:b.match(Ot)||[]),P=b.length;P--;)delete R[b[P]];(b===void 0||E.isEmptyObject(R))&&(v.nodeType?v[this.expando]=void 0:delete v[this.expando])}},hasData:function(v){var b=v[this.expando];return b!==void 0&&!E.isEmptyObject(b)}};var Lt=new hn,mn=new hn,st=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Je=/[A-Z]/g;function pt(v){return v==="true"?!0:v==="false"?!1:v==="null"?null:v===+v+""?+v:st.test(v)?JSON.parse(v):v}function Mt(v,b,P){var R;if(P===void 0&&v.nodeType===1)if(R="data-"+b.replace(Je,"-$&").toLowerCase(),P=v.getAttribute(R),typeof P=="string"){try{P=pt(P)}catch{}mn.set(v,b,P)}else P=void 0;return P}E.extend({hasData:function(v){return mn.hasData(v)||Lt.hasData(v)},data:function(v,b,P){return mn.access(v,b,P)},removeData:function(v,b){mn.remove(v,b)},_data:function(v,b,P){return Lt.access(v,b,P)},_removeData:function(v,b){Lt.remove(v,b)}}),E.fn.extend({data:function(v,b){var P,R,W,Z=this[0],ee=Z&&Z.attributes;if(v===void 0){if(this.length&&(W=mn.get(Z),Z.nodeType===1&&!Lt.get(Z,"hasDataAttrs"))){for(P=ee.length;P--;)ee[P]&&(R=ee[P].name,R.indexOf("data-")===0&&(R=on(R.slice(5)),Mt(Z,R,W[R])));Lt.set(Z,"hasDataAttrs",!0)}return W}return typeof v=="object"?this.each(function(){mn.set(this,v)}):Bi(this,function(be){var _e;if(Z&&be===void 0)return _e=mn.get(Z,v),_e!==void 0||(_e=Mt(Z,v),_e!==void 0)?_e:void 0;this.each(function(){mn.set(this,v,be)})},null,b,arguments.length>1,null,!0)},removeData:function(v){return this.each(function(){mn.remove(this,v)})}}),E.extend({queue:function(v,b,P){var R;if(v)return b=(b||"fx")+"queue",R=Lt.get(v,b),P&&(!R||Array.isArray(P)?R=Lt.access(v,b,E.makeArray(P)):R.push(P)),R||[]},dequeue:function(v,b){b=b||"fx";var P=E.queue(v,b),R=P.length,W=P.shift(),Z=E._queueHooks(v,b),ee=function(){E.dequeue(v,b)};W==="inprogress"&&(W=P.shift(),R--),W&&(b==="fx"&&P.unshift("inprogress"),delete Z.stop,W.call(v,ee,Z)),!R&&Z&&Z.empty.fire()},_queueHooks:function(v,b){var P=b+"queueHooks";return Lt.get(v,P)||Lt.access(v,P,{empty:E.Callbacks("once memory").add(function(){Lt.remove(v,[b+"queue",P])})})}}),E.fn.extend({queue:function(v,b){var P=2;return typeof v!="string"&&(b=v,v="fx",P--),arguments.length<P?E.queue(this[0],v):b===void 0?this:this.each(function(){var R=E.queue(this,v,b);E._queueHooks(this,v),v==="fx"&&R[0]!=="inprogress"&&E.dequeue(this,v)})},dequeue:function(v){return this.each(function(){E.dequeue(this,v)})},clearQueue:function(v){return this.queue(v||"fx",[])},promise:function(v,b){var P,R=1,W=E.Deferred(),Z=this,ee=this.length,be=function(){--R||W.resolveWith(Z,[Z])};for(typeof v!="string"&&(b=v,v=void 0),v=v||"fx";ee--;)P=Lt.get(Z[ee],v+"queueHooks"),P&&P.empty&&(R++,P.empty.add(be));return be(),W.promise(b)}});var Yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,yi=new RegExp("^(?:([+-])=|)("+Yt+")([a-z%]*)$","i"),oi=["Top","Right","Bottom","Left"],di=k.documentElement,bi=function(v){return E.contains(v.ownerDocument,v)},ki={composed:!0};di.getRootNode&&(bi=function(v){return E.contains(v.ownerDocument,v)||v.getRootNode(ki)===v.ownerDocument});var Le=function(v,b){return v=b||v,v.style.display==="none"||v.style.display===""&&bi(v)&&E.css(v,"display")==="none"};function ct(v,b,P,R){var W,Z,ee=20,be=R?function(){return R.cur()}:function(){return E.css(v,b,"")},_e=be(),ze=P&&P[3]||(E.cssNumber[b]?"":"px"),We=v.nodeType&&(E.cssNumber[b]||ze!=="px"&&+_e)&&yi.exec(E.css(v,b));if(We&&We[3]!==ze){for(_e=_e/2,ze=ze||We[3],We=+_e||1;ee--;)E.style(v,b,We+ze),(1-Z)*(1-(Z=be()/_e||.5))<=0&&(ee=0),We=We/Z;We=We*2,E.style(v,b,We+ze),P=P||[]}return P&&(We=+We||+_e||0,W=P[1]?We+(P[1]+1)*P[2]:+P[2],R&&(R.unit=ze,R.start=We,R.end=W)),W}var Hn={};function dn(v){var b,P=v.ownerDocument,R=v.nodeName,W=Hn[R];return W||(b=P.body.appendChild(P.createElement(R)),W=E.css(b,"display"),b.parentNode.removeChild(b),W==="none"&&(W="block"),Hn[R]=W,W)}function it(v,b){for(var P,R,W=[],Z=0,ee=v.length;Z<ee;Z++)R=v[Z],R.style&&(P=R.style.display,b?(P==="none"&&(W[Z]=Lt.get(R,"display")||null,W[Z]||(R.style.display="")),R.style.display===""&&Le(R)&&(W[Z]=dn(R))):P!=="none"&&(W[Z]="none",Lt.set(R,"display",P)));for(Z=0;Z<ee;Z++)W[Z]!=null&&(v[Z].style.display=W[Z]);return v}E.fn.extend({show:function(){return it(this,!0)},hide:function(){return it(this)},toggle:function(v){return typeof v=="boolean"?v?this.show():this.hide():this.each(function(){Le(this)?E(this).show():E(this).hide()})}});var Ft=/^(?:checkbox|radio)$/i,hi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Si=/^$|^module$|\/(?:java|ecma)script/i;(function(){var v=k.createDocumentFragment(),b=v.appendChild(k.createElement("div")),P=k.createElement("input");P.setAttribute("type","radio"),P.setAttribute("checked","checked"),P.setAttribute("name","t"),b.appendChild(P),se.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",se.option=!!b.lastChild})();var Qt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,se.option||(Qt.optgroup=Qt.option=[1,"<select multiple='multiple'>","</select>"]);function Ke(v,b){var P;return typeof v.getElementsByTagName<"u"?P=v.getElementsByTagName(b||"*"):typeof v.querySelectorAll<"u"?P=v.querySelectorAll(b||"*"):P=[],b===void 0||b&&ui(v,b)?E.merge([v],P):P}function Ut(v,b){for(var P=0,R=v.length;P<R;P++)Lt.set(v[P],"globalEval",!b||Lt.get(b[P],"globalEval"))}var Vt=/<|&#?\w+;/;function Hi(v,b,P,R,W){for(var Z,ee,be,_e,ze,We,ut=b.createDocumentFragment(),Fe=[],Ye=0,Wt=v.length;Ye<Wt;Ye++)if(Z=v[Ye],Z||Z===0)if(Y(Z)==="object")E.merge(Fe,Z.nodeType?[Z]:Z);else if(!Vt.test(Z))Fe.push(b.createTextNode(Z));else{for(ee=ee||ut.appendChild(b.createElement("div")),be=(hi.exec(Z)||["",""])[1].toLowerCase(),_e=Qt[be]||Qt._default,ee.innerHTML=_e[1]+E.htmlPrefilter(Z)+_e[2],We=_e[0];We--;)ee=ee.lastChild;E.merge(Fe,ee.childNodes),ee=ut.firstChild,ee.textContent=""}for(ut.textContent="",Ye=0;Z=Fe[Ye++];){if(R&&E.inArray(Z,R)>-1){W&&W.push(Z);continue}if(ze=bi(Z),ee=Ke(ut.appendChild(Z),"script"),ze&&Ut(ee),P)for(We=0;Z=ee[We++];)Si.test(Z.type||"")&&P.push(Z)}return ut}var Cn=/^([^.]*)(?:\.(.+)|)/;function Bt(){return!0}function _n(){return!1}function vi(v,b){return v===rr()==(b==="focus")}function rr(){try{return k.activeElement}catch{}}function gn(v,b,P,R,W,Z){var ee,be;if(typeof b=="object"){typeof P!="string"&&(R=R||P,P=void 0);for(be in b)gn(v,be,P,R,b[be],Z);return v}if(R==null&&W==null?(W=P,R=P=void 0):W==null&&(typeof P=="string"?(W=R,R=void 0):(W=R,R=P,P=void 0)),W===!1)W=_n;else if(!W)return v;return Z===1&&(ee=W,W=function(_e){return E().off(_e),ee.apply(this,arguments)},W.guid=ee.guid||(ee.guid=E.guid++)),v.each(function(){E.event.add(this,b,W,R,P)})}E.event={global:{},add:function(v,b,P,R,W){var Z,ee,be,_e,ze,We,ut,Fe,Ye,Wt,li,$t=Lt.get(v);if(!!Nn(v))for(P.handler&&(Z=P,P=Z.handler,W=Z.selector),W&&E.find.matchesSelector(di,W),P.guid||(P.guid=E.guid++),(_e=$t.events)||(_e=$t.events=Object.create(null)),(ee=$t.handle)||(ee=$t.handle=function(Dn){return typeof E<"u"&&E.event.triggered!==Dn.type?E.event.dispatch.apply(v,arguments):void 0}),b=(b||"").match(Ot)||[""],ze=b.length;ze--;)be=Cn.exec(b[ze])||[],Ye=li=be[1],Wt=(be[2]||"").split(".").sort(),Ye&&(ut=E.event.special[Ye]||{},Ye=(W?ut.delegateType:ut.bindType)||Ye,ut=E.event.special[Ye]||{},We=E.extend({type:Ye,origType:li,data:R,handler:P,guid:P.guid,selector:W,needsContext:W&&E.expr.match.needsContext.test(W),namespace:Wt.join(".")},Z),(Fe=_e[Ye])||(Fe=_e[Ye]=[],Fe.delegateCount=0,(!ut.setup||ut.setup.call(v,R,Wt,ee)===!1)&&v.addEventListener&&v.addEventListener(Ye,ee)),ut.add&&(ut.add.call(v,We),We.handler.guid||(We.handler.guid=P.guid)),W?Fe.splice(Fe.delegateCount++,0,We):Fe.push(We),E.event.global[Ye]=!0)},remove:function(v,b,P,R,W){var Z,ee,be,_e,ze,We,ut,Fe,Ye,Wt,li,$t=Lt.hasData(v)&&Lt.get(v);if(!(!$t||!(_e=$t.events))){for(b=(b||"").match(Ot)||[""],ze=b.length;ze--;){if(be=Cn.exec(b[ze])||[],Ye=li=be[1],Wt=(be[2]||"").split(".").sort(),!Ye){for(Ye in _e)E.event.remove(v,Ye+b[ze],P,R,!0);continue}for(ut=E.event.special[Ye]||{},Ye=(R?ut.delegateType:ut.bindType)||Ye,Fe=_e[Ye]||[],be=be[2]&&new RegExp("(^|\\.)"+Wt.join("\\.(?:.*\\.|)")+"(\\.|$)"),ee=Z=Fe.length;Z--;)We=Fe[Z],(W||li===We.origType)&&(!P||P.guid===We.guid)&&(!be||be.test(We.namespace))&&(!R||R===We.selector||R==="**"&&We.selector)&&(Fe.splice(Z,1),We.selector&&Fe.delegateCount--,ut.remove&&ut.remove.call(v,We));ee&&!Fe.length&&((!ut.teardown||ut.teardown.call(v,Wt,$t.handle)===!1)&&E.removeEvent(v,Ye,$t.handle),delete _e[Ye])}E.isEmptyObject(_e)&&Lt.remove(v,"handle events")}},dispatch:function(v){var b,P,R,W,Z,ee,be=new Array(arguments.length),_e=E.event.fix(v),ze=(Lt.get(this,"events")||Object.create(null))[_e.type]||[],We=E.event.special[_e.type]||{};for(be[0]=_e,b=1;b<arguments.length;b++)be[b]=arguments[b];if(_e.delegateTarget=this,!(We.preDispatch&&We.preDispatch.call(this,_e)===!1)){for(ee=E.event.handlers.call(this,_e,ze),b=0;(W=ee[b++])&&!_e.isPropagationStopped();)for(_e.currentTarget=W.elem,P=0;(Z=W.handlers[P++])&&!_e.isImmediatePropagationStopped();)(!_e.rnamespace||Z.namespace===!1||_e.rnamespace.test(Z.namespace))&&(_e.handleObj=Z,_e.data=Z.data,R=((E.event.special[Z.origType]||{}).handle||Z.handler).apply(W.elem,be),R!==void 0&&(_e.result=R)===!1&&(_e.preventDefault(),_e.stopPropagation()));return We.postDispatch&&We.postDispatch.call(this,_e),_e.result}},handlers:function(v,b){var P,R,W,Z,ee,be=[],_e=b.delegateCount,ze=v.target;if(_e&&ze.nodeType&&!(v.type==="click"&&v.button>=1)){for(;ze!==this;ze=ze.parentNode||this)if(ze.nodeType===1&&!(v.type==="click"&&ze.disabled===!0)){for(Z=[],ee={},P=0;P<_e;P++)R=b[P],W=R.selector+" ",ee[W]===void 0&&(ee[W]=R.needsContext?E(W,this).index(ze)>-1:E.find(W,this,null,[ze]).length),ee[W]&&Z.push(R);Z.length&&be.push({elem:ze,handlers:Z})}}return ze=this,_e<b.length&&be.push({elem:ze,handlers:b.slice(_e)}),be},addProp:function(v,b){Object.defineProperty(E.Event.prototype,v,{enumerable:!0,configurable:!0,get:oe(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[v]},set:function(P){Object.defineProperty(this,v,{enumerable:!0,configurable:!0,writable:!0,value:P})}})},fix:function(v){return v[E.expando]?v:new E.Event(v)},special:{load:{noBubble:!0},click:{setup:function(v){var b=this||v;return Ft.test(b.type)&&b.click&&ui(b,"input")&&zn(b,"click",Bt),!1},trigger:function(v){var b=this||v;return Ft.test(b.type)&&b.click&&ui(b,"input")&&zn(b,"click"),!0},_default:function(v){var b=v.target;return Ft.test(b.type)&&b.click&&ui(b,"input")&&Lt.get(b,"click")||ui(b,"a")}},beforeunload:{postDispatch:function(v){v.result!==void 0&&v.originalEvent&&(v.originalEvent.returnValue=v.result)}}}};function zn(v,b,P){if(!P){Lt.get(v,b)===void 0&&E.event.add(v,b,Bt);return}Lt.set(v,b,!1),E.event.add(v,b,{namespace:!1,handler:function(R){var W,Z,ee=Lt.get(this,b);if(R.isTrigger&1&&this[b]){if(ee.length)(E.event.special[b]||{}).delegateType&&R.stopPropagation();else if(ee=p.call(arguments),Lt.set(this,b,ee),W=P(this,b),this[b](),Z=Lt.get(this,b),ee!==Z||W?Lt.set(this,b,!1):Z={},ee!==Z)return R.stopImmediatePropagation(),R.preventDefault(),Z&&Z.value}else ee.length&&(Lt.set(this,b,{value:E.event.trigger(E.extend(ee[0],E.Event.prototype),ee.slice(1),this)}),R.stopImmediatePropagation())}})}E.removeEvent=function(v,b,P){v.removeEventListener&&v.removeEventListener(b,P)},E.Event=function(v,b){if(!(this instanceof E.Event))return new E.Event(v,b);v&&v.type?(this.originalEvent=v,this.type=v.type,this.isDefaultPrevented=v.defaultPrevented||v.defaultPrevented===void 0&&v.returnValue===!1?Bt:_n,this.target=v.target&&v.target.nodeType===3?v.target.parentNode:v.target,this.currentTarget=v.currentTarget,this.relatedTarget=v.relatedTarget):this.type=v,b&&E.extend(this,b),this.timeStamp=v&&v.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:_n,isPropagationStopped:_n,isImmediatePropagationStopped:_n,isSimulated:!1,preventDefault:function(){var v=this.originalEvent;this.isDefaultPrevented=Bt,v&&!this.isSimulated&&v.preventDefault()},stopPropagation:function(){var v=this.originalEvent;this.isPropagationStopped=Bt,v&&!this.isSimulated&&v.stopPropagation()},stopImmediatePropagation:function(){var v=this.originalEvent;this.isImmediatePropagationStopped=Bt,v&&!this.isSimulated&&v.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(v,b){E.event.special[v]={setup:function(){return zn(this,v,vi),!1},trigger:function(){return zn(this,v),!0},_default:function(P){return Lt.get(P.target,v)},delegateType:b}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(v,b){E.event.special[v]={delegateType:b,bindType:b,handle:function(P){var R,W=this,Z=P.relatedTarget,ee=P.handleObj;return(!Z||Z!==W&&!E.contains(W,Z))&&(P.type=ee.origType,R=ee.handler.apply(this,arguments),P.type=b),R}}}),E.fn.extend({on:function(v,b,P,R){return gn(this,v,b,P,R)},one:function(v,b,P,R){return gn(this,v,b,P,R,1)},off:function(v,b,P){var R,W;if(v&&v.preventDefault&&v.handleObj)return R=v.handleObj,E(v.delegateTarget).off(R.namespace?R.origType+"."+R.namespace:R.origType,R.selector,R.handler),this;if(typeof v=="object"){for(W in v)this.off(W,b,v[W]);return this}return(b===!1||typeof b=="function")&&(P=b,b=void 0),P===!1&&(P=_n),this.each(function(){E.event.remove(this,v,P,b)})}});var Zi=/<script|<style|<link/i,Do=/checked\s*(?:[^=]|=\s*.checked.)/i,ms=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Us(v,b){return ui(v,"table")&&ui(b.nodeType!==11?b:b.firstChild,"tr")&&E(v).children("tbody")[0]||v}function oo(v){return v.type=(v.getAttribute("type")!==null)+"/"+v.type,v}function Lo(v){return(v.type||"").slice(0,5)==="true/"?v.type=v.type.slice(5):v.removeAttribute("type"),v}function js(v,b){var P,R,W,Z,ee,be,_e;if(b.nodeType===1){if(Lt.hasData(v)&&(Z=Lt.get(v),_e=Z.events,_e)){Lt.remove(b,"handle events");for(W in _e)for(P=0,R=_e[W].length;P<R;P++)E.event.add(b,W,_e[W][P])}mn.hasData(v)&&(ee=mn.access(v),be=E.extend({},ee),mn.set(b,be))}}function ue(v,b){var P=b.nodeName.toLowerCase();P==="input"&&Ft.test(v.type)?b.checked=v.checked:(P==="input"||P==="textarea")&&(b.defaultValue=v.defaultValue)}function V(v,b,P,R){b=y(b);var W,Z,ee,be,_e,ze,We=0,ut=v.length,Fe=ut-1,Ye=b[0],Wt=oe(Ye);if(Wt||ut>1&&typeof Ye=="string"&&!se.checkClone&&Do.test(Ye))return v.each(function(li){var $t=v.eq(li);Wt&&(b[0]=Ye.call(this,li,$t.html())),V($t,b,P,R)});if(ut&&(W=Hi(b,v[0].ownerDocument,!1,v,R),Z=W.firstChild,W.childNodes.length===1&&(W=Z),Z||R)){for(ee=E.map(Ke(W,"script"),oo),be=ee.length;We<ut;We++)_e=W,We!==Fe&&(_e=E.clone(_e,!0,!0),be&&E.merge(ee,Ke(_e,"script"))),P.call(v[We],_e,We);if(be)for(ze=ee[ee.length-1].ownerDocument,E.map(ee,Lo),We=0;We<be;We++)_e=ee[We],Si.test(_e.type||"")&&!Lt.access(_e,"globalEval")&&E.contains(ze,_e)&&(_e.src&&(_e.type||"").toLowerCase()!=="module"?E._evalUrl&&!_e.noModule&&E._evalUrl(_e.src,{nonce:_e.nonce||_e.getAttribute("nonce")},ze):F(_e.textContent.replace(ms,""),_e,ze))}return v}function H(v,b,P){for(var R,W=b?E.filter(b,v):v,Z=0;(R=W[Z])!=null;Z++)!P&&R.nodeType===1&&E.cleanData(Ke(R)),R.parentNode&&(P&&bi(R)&&Ut(Ke(R,"script")),R.parentNode.removeChild(R));return v}E.extend({htmlPrefilter:function(v){return v},clone:function(v,b,P){var R,W,Z,ee,be=v.cloneNode(!0),_e=bi(v);if(!se.noCloneChecked&&(v.nodeType===1||v.nodeType===11)&&!E.isXMLDoc(v))for(ee=Ke(be),Z=Ke(v),R=0,W=Z.length;R<W;R++)ue(Z[R],ee[R]);if(b)if(P)for(Z=Z||Ke(v),ee=ee||Ke(be),R=0,W=Z.length;R<W;R++)js(Z[R],ee[R]);else js(v,be);return ee=Ke(be,"script"),ee.length>0&&Ut(ee,!_e&&Ke(v,"script")),be},cleanData:function(v){for(var b,P,R,W=E.event.special,Z=0;(P=v[Z])!==void 0;Z++)if(Nn(P)){if(b=P[Lt.expando]){if(b.events)for(R in b.events)W[R]?E.event.remove(P,R):E.removeEvent(P,R,b.handle);P[Lt.expando]=void 0}P[mn.expando]&&(P[mn.expando]=void 0)}}}),E.fn.extend({detach:function(v){return H(this,v,!0)},remove:function(v){return H(this,v)},text:function(v){return Bi(this,function(b){return b===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,v,arguments.length)},append:function(){return V(this,arguments,function(v){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Us(this,v);b.appendChild(v)}})},prepend:function(){return V(this,arguments,function(v){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Us(this,v);b.insertBefore(v,b.firstChild)}})},before:function(){return V(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this)})},after:function(){return V(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this.nextSibling)})},empty:function(){for(var v,b=0;(v=this[b])!=null;b++)v.nodeType===1&&(E.cleanData(Ke(v,!1)),v.textContent="");return this},clone:function(v,b){return v=v==null?!1:v,b=b==null?v:b,this.map(function(){return E.clone(this,v,b)})},html:function(v){return Bi(this,function(b){var P=this[0]||{},R=0,W=this.length;if(b===void 0&&P.nodeType===1)return P.innerHTML;if(typeof b=="string"&&!Zi.test(b)&&!Qt[(hi.exec(b)||["",""])[1].toLowerCase()]){b=E.htmlPrefilter(b);try{for(;R<W;R++)P=this[R]||{},P.nodeType===1&&(E.cleanData(Ke(P,!1)),P.innerHTML=b);P=0}catch{}}P&&this.empty().append(b)},null,v,arguments.length)},replaceWith:function(){var v=[];return V(this,arguments,function(b){var P=this.parentNode;E.inArray(this,v)<0&&(E.cleanData(Ke(this)),P&&P.replaceChild(b,this))},v)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(v,b){E.fn[v]=function(P){for(var R,W=[],Z=E(P),ee=Z.length-1,be=0;be<=ee;be++)R=be===ee?this:this.clone(!0),E(Z[be])[b](R),a.apply(W,R.get());return this.pushStack(W)}});var re=new RegExp("^("+Yt+")(?!px)[a-z%]+$","i"),ae=/^--/,ge=function(v){var b=v.ownerDocument.defaultView;return(!b||!b.opener)&&(b=t),b.getComputedStyle(v)},Te=function(v,b,P){var R,W,Z={};for(W in b)Z[W]=v.style[W],v.style[W]=b[W];R=P.call(v);for(W in b)v.style[W]=Z[W];return R},we=new RegExp(oi.join("|"),"i"),ve="[\\x20\\t\\r\\n\\f]",Ce=new RegExp("^"+ve+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ve+"+$","g");(function(){function v(){if(!!ze){_e.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ze.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",di.appendChild(_e).appendChild(ze);var We=t.getComputedStyle(ze);P=We.top!=="1%",be=b(We.marginLeft)===12,ze.style.right="60%",Z=b(We.right)===36,R=b(We.width)===36,ze.style.position="absolute",W=b(ze.offsetWidth/3)===12,di.removeChild(_e),ze=null}}function b(We){return Math.round(parseFloat(We))}var P,R,W,Z,ee,be,_e=k.createElement("div"),ze=k.createElement("div");!ze.style||(ze.style.backgroundClip="content-box",ze.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle=ze.style.backgroundClip==="content-box",E.extend(se,{boxSizingReliable:function(){return v(),R},pixelBoxStyles:function(){return v(),Z},pixelPosition:function(){return v(),P},reliableMarginLeft:function(){return v(),be},scrollboxSize:function(){return v(),W},reliableTrDimensions:function(){var We,ut,Fe,Ye;return ee==null&&(We=k.createElement("table"),ut=k.createElement("tr"),Fe=k.createElement("div"),We.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ut.style.cssText="border:1px solid",ut.style.height="1px",Fe.style.height="9px",Fe.style.display="block",di.appendChild(We).appendChild(ut).appendChild(Fe),Ye=t.getComputedStyle(ut),ee=parseInt(Ye.height,10)+parseInt(Ye.borderTopWidth,10)+parseInt(Ye.borderBottomWidth,10)===ut.offsetHeight,di.removeChild(We)),ee}}))})();function Ue(v,b,P){var R,W,Z,ee,be=ae.test(b),_e=v.style;return P=P||ge(v),P&&(ee=P.getPropertyValue(b)||P[b],be&&(ee=ee.replace(Ce,"$1")),ee===""&&!bi(v)&&(ee=E.style(v,b)),!se.pixelBoxStyles()&&re.test(ee)&&we.test(b)&&(R=_e.width,W=_e.minWidth,Z=_e.maxWidth,_e.minWidth=_e.maxWidth=_e.width=ee,ee=P.width,_e.width=R,_e.minWidth=W,_e.maxWidth=Z)),ee!==void 0?ee+"":ee}function ot(v,b){return{get:function(){if(v()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var je=["Webkit","Moz","ms"],It=k.createElement("div").style,zt={};function xt(v){for(var b=v[0].toUpperCase()+v.slice(1),P=je.length;P--;)if(v=je[P]+b,v in It)return v}function Gt(v){var b=E.cssProps[v]||zt[v];return b||(v in It?v:zt[v]=xt(v)||v)}var Jt=/^(none|table(?!-c[ea]).+)/,Li={position:"absolute",visibility:"hidden",display:"block"},ii={letterSpacing:"0",fontWeight:"400"};function mi(v,b,P){var R=yi.exec(b);return R?Math.max(0,R[2]-(P||0))+(R[3]||"px"):b}function Pi(v,b,P,R,W,Z){var ee=b==="width"?1:0,be=0,_e=0;if(P===(R?"border":"content"))return 0;for(;ee<4;ee+=2)P==="margin"&&(_e+=E.css(v,P+oi[ee],!0,W)),R?(P==="content"&&(_e-=E.css(v,"padding"+oi[ee],!0,W)),P!=="margin"&&(_e-=E.css(v,"border"+oi[ee]+"Width",!0,W))):(_e+=E.css(v,"padding"+oi[ee],!0,W),P!=="padding"?_e+=E.css(v,"border"+oi[ee]+"Width",!0,W):be+=E.css(v,"border"+oi[ee]+"Width",!0,W));return!R&&Z>=0&&(_e+=Math.max(0,Math.ceil(v["offset"+b[0].toUpperCase()+b.slice(1)]-Z-_e-be-.5))||0),_e}function $i(v,b,P){var R=ge(v),W=!se.boxSizingReliable()||P,Z=W&&E.css(v,"boxSizing",!1,R)==="border-box",ee=Z,be=Ue(v,b,R),_e="offset"+b[0].toUpperCase()+b.slice(1);if(re.test(be)){if(!P)return be;be="auto"}return(!se.boxSizingReliable()&&Z||!se.reliableTrDimensions()&&ui(v,"tr")||be==="auto"||!parseFloat(be)&&E.css(v,"display",!1,R)==="inline")&&v.getClientRects().length&&(Z=E.css(v,"boxSizing",!1,R)==="border-box",ee=_e in v,ee&&(be=v[_e])),be=parseFloat(be)||0,be+Pi(v,b,P||(Z?"border":"content"),ee,R,be)+"px"}E.extend({cssHooks:{opacity:{get:function(v,b){if(b){var P=Ue(v,"opacity");return P===""?"1":P}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(v,b,P,R){if(!(!v||v.nodeType===3||v.nodeType===8||!v.style)){var W,Z,ee,be=on(b),_e=ae.test(b),ze=v.style;if(_e||(b=Gt(be)),ee=E.cssHooks[b]||E.cssHooks[be],P!==void 0){if(Z=typeof P,Z==="string"&&(W=yi.exec(P))&&W[1]&&(P=ct(v,b,W),Z="number"),P==null||P!==P)return;Z==="number"&&!_e&&(P+=W&&W[3]||(E.cssNumber[be]?"":"px")),!se.clearCloneStyle&&P===""&&b.indexOf("background")===0&&(ze[b]="inherit"),(!ee||!("set"in ee)||(P=ee.set(v,P,R))!==void 0)&&(_e?ze.setProperty(b,P):ze[b]=P)}else return ee&&"get"in ee&&(W=ee.get(v,!1,R))!==void 0?W:ze[b]}},css:function(v,b,P,R){var W,Z,ee,be=on(b),_e=ae.test(b);return _e||(b=Gt(be)),ee=E.cssHooks[b]||E.cssHooks[be],ee&&"get"in ee&&(W=ee.get(v,!0,P)),W===void 0&&(W=Ue(v,b,R)),W==="normal"&&b in ii&&(W=ii[b]),P===""||P?(Z=parseFloat(W),P===!0||isFinite(Z)?Z||0:W):W}}),E.each(["height","width"],function(v,b){E.cssHooks[b]={get:function(P,R,W){if(R)return Jt.test(E.css(P,"display"))&&(!P.getClientRects().length||!P.getBoundingClientRect().width)?Te(P,Li,function(){return $i(P,b,W)}):$i(P,b,W)},set:function(P,R,W){var Z,ee=ge(P),be=!se.scrollboxSize()&&ee.position==="absolute",_e=be||W,ze=_e&&E.css(P,"boxSizing",!1,ee)==="border-box",We=W?Pi(P,b,W,ze,ee):0;return ze&&be&&(We-=Math.ceil(P["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(ee[b])-Pi(P,b,"border",!1,ee)-.5)),We&&(Z=yi.exec(R))&&(Z[3]||"px")!=="px"&&(P.style[b]=R,R=E.css(P,b)),mi(P,R,We)}}}),E.cssHooks.marginLeft=ot(se.reliableMarginLeft,function(v,b){if(b)return(parseFloat(Ue(v,"marginLeft"))||v.getBoundingClientRect().left-Te(v,{marginLeft:0},function(){return v.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(v,b){E.cssHooks[v+b]={expand:function(P){for(var R=0,W={},Z=typeof P=="string"?P.split(" "):[P];R<4;R++)W[v+oi[R]+b]=Z[R]||Z[R-2]||Z[0];return W}},v!=="margin"&&(E.cssHooks[v+b].set=mi)}),E.fn.extend({css:function(v,b){return Bi(this,function(P,R,W){var Z,ee,be={},_e=0;if(Array.isArray(R)){for(Z=ge(P),ee=R.length;_e<ee;_e++)be[R[_e]]=E.css(P,R[_e],!1,Z);return be}return W!==void 0?E.style(P,R,W):E.css(P,R)},v,b,arguments.length>1)}});function Gi(v,b,P,R,W){return new Gi.prototype.init(v,b,P,R,W)}E.Tween=Gi,Gi.prototype={constructor:Gi,init:function(v,b,P,R,W,Z){this.elem=v,this.prop=P,this.easing=W||E.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=R,this.unit=Z||(E.cssNumber[P]?"":"px")},cur:function(){var v=Gi.propHooks[this.prop];return v&&v.get?v.get(this):Gi.propHooks._default.get(this)},run:function(v){var b,P=Gi.propHooks[this.prop];return this.options.duration?this.pos=b=E.easing[this.easing](v,this.options.duration*v,0,1,this.options.duration):this.pos=b=v,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),P&&P.set?P.set(this):Gi.propHooks._default.set(this),this}},Gi.prototype.init.prototype=Gi.prototype,Gi.propHooks={_default:{get:function(v){var b;return v.elem.nodeType!==1||v.elem[v.prop]!=null&&v.elem.style[v.prop]==null?v.elem[v.prop]:(b=E.css(v.elem,v.prop,""),!b||b==="auto"?0:b)},set:function(v){E.fx.step[v.prop]?E.fx.step[v.prop](v):v.elem.nodeType===1&&(E.cssHooks[v.prop]||v.elem.style[Gt(v.prop)]!=null)?E.style(v.elem,v.prop,v.now+v.unit):v.elem[v.prop]=v.now}}},Gi.propHooks.scrollTop=Gi.propHooks.scrollLeft={set:function(v){v.elem.nodeType&&v.elem.parentNode&&(v.elem[v.prop]=v.now)}},E.easing={linear:function(v){return v},swing:function(v){return .5-Math.cos(v*Math.PI)/2},_default:"swing"},E.fx=Gi.prototype.init,E.fx.step={};var Xi,On,Ro=/^(?:toggle|show|hide)$/,sa=/queueHooks$/;function Wi(){On&&(k.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Wi):t.setTimeout(Wi,E.fx.interval),E.fx.tick())}function Za(){return t.setTimeout(function(){Xi=void 0}),Xi=Date.now()}function Bo(v,b){var P,R=0,W={height:v};for(b=b?1:0;R<4;R+=2-b)P=oi[R],W["margin"+P]=W["padding"+P]=v;return b&&(W.opacity=W.width=v),W}function Ol(v,b,P){for(var R,W=(ts.tweeners[b]||[]).concat(ts.tweeners["*"]),Z=0,ee=W.length;Z<ee;Z++)if(R=W[Z].call(P,b,v))return R}function ku(v,b,P){var R,W,Z,ee,be,_e,ze,We,ut="width"in b||"height"in b,Fe=this,Ye={},Wt=v.style,li=v.nodeType&&Le(v),$t=Lt.get(v,"fxshow");P.queue||(ee=E._queueHooks(v,"fx"),ee.unqueued==null&&(ee.unqueued=0,be=ee.empty.fire,ee.empty.fire=function(){ee.unqueued||be()}),ee.unqueued++,Fe.always(function(){Fe.always(function(){ee.unqueued--,E.queue(v,"fx").length||ee.empty.fire()})}));for(R in b)if(W=b[R],Ro.test(W)){if(delete b[R],Z=Z||W==="toggle",W===(li?"hide":"show"))if(W==="show"&&$t&&$t[R]!==void 0)li=!0;else continue;Ye[R]=$t&&$t[R]||E.style(v,R)}if(_e=!E.isEmptyObject(b),!(!_e&&E.isEmptyObject(Ye))){ut&&v.nodeType===1&&(P.overflow=[Wt.overflow,Wt.overflowX,Wt.overflowY],ze=$t&&$t.display,ze==null&&(ze=Lt.get(v,"display")),We=E.css(v,"display"),We==="none"&&(ze?We=ze:(it([v],!0),ze=v.style.display||ze,We=E.css(v,"display"),it([v]))),(We==="inline"||We==="inline-block"&&ze!=null)&&E.css(v,"float")==="none"&&(_e||(Fe.done(function(){Wt.display=ze}),ze==null&&(We=Wt.display,ze=We==="none"?"":We)),Wt.display="inline-block")),P.overflow&&(Wt.overflow="hidden",Fe.always(function(){Wt.overflow=P.overflow[0],Wt.overflowX=P.overflow[1],Wt.overflowY=P.overflow[2]})),_e=!1;for(R in Ye)_e||($t?"hidden"in $t&&(li=$t.hidden):$t=Lt.access(v,"fxshow",{display:ze}),Z&&($t.hidden=!li),li&&it([v],!0),Fe.done(function(){li||it([v]),Lt.remove(v,"fxshow");for(R in Ye)E.style(v,R,Ye[R])})),_e=Ol(li?$t[R]:0,R,Fe),R in $t||($t[R]=_e.start,li&&(_e.end=_e.start,_e.start=0))}}function Fl(v,b){var P,R,W,Z,ee;for(P in v)if(R=on(P),W=b[R],Z=v[P],Array.isArray(Z)&&(W=Z[1],Z=v[P]=Z[0]),P!==R&&(v[R]=Z,delete v[P]),ee=E.cssHooks[R],ee&&"expand"in ee){Z=ee.expand(Z),delete v[R];for(P in Z)P in v||(v[P]=Z[P],b[P]=W)}else b[R]=W}function ts(v,b,P){var R,W,Z=0,ee=ts.prefilters.length,be=E.Deferred().always(function(){delete _e.elem}),_e=function(){if(W)return!1;for(var ut=Xi||Za(),Fe=Math.max(0,ze.startTime+ze.duration-ut),Ye=Fe/ze.duration||0,Wt=1-Ye,li=0,$t=ze.tweens.length;li<$t;li++)ze.tweens[li].run(Wt);return be.notifyWith(v,[ze,Wt,Fe]),Wt<1&&$t?Fe:($t||be.notifyWith(v,[ze,1,0]),be.resolveWith(v,[ze]),!1)},ze=be.promise({elem:v,props:E.extend({},b),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},P),originalProperties:b,originalOptions:P,startTime:Xi||Za(),duration:P.duration,tweens:[],createTween:function(ut,Fe){var Ye=E.Tween(v,ze.opts,ut,Fe,ze.opts.specialEasing[ut]||ze.opts.easing);return ze.tweens.push(Ye),Ye},stop:function(ut){var Fe=0,Ye=ut?ze.tweens.length:0;if(W)return this;for(W=!0;Fe<Ye;Fe++)ze.tweens[Fe].run(1);return ut?(be.notifyWith(v,[ze,1,0]),be.resolveWith(v,[ze,ut])):be.rejectWith(v,[ze,ut]),this}}),We=ze.props;for(Fl(We,ze.opts.specialEasing);Z<ee;Z++)if(R=ts.prefilters[Z].call(ze,v,We,ze.opts),R)return oe(R.stop)&&(E._queueHooks(ze.elem,ze.opts.queue).stop=R.stop.bind(R)),R;return E.map(We,Ol,ze),oe(ze.opts.start)&&ze.opts.start.call(v,ze),ze.progress(ze.opts.progress).done(ze.opts.done,ze.opts.complete).fail(ze.opts.fail).always(ze.opts.always),E.fx.timer(E.extend(_e,{elem:v,anim:ze,queue:ze.opts.queue})),ze}E.Animation=E.extend(ts,{tweeners:{"*":[function(v,b){var P=this.createTween(v,b);return ct(P.elem,v,yi.exec(b),P),P}]},tweener:function(v,b){oe(v)?(b=v,v=["*"]):v=v.match(Ot);for(var P,R=0,W=v.length;R<W;R++)P=v[R],ts.tweeners[P]=ts.tweeners[P]||[],ts.tweeners[P].unshift(b)},prefilters:[ku],prefilter:function(v,b){b?ts.prefilters.unshift(v):ts.prefilters.push(v)}}),E.speed=function(v,b,P){var R=v&&typeof v=="object"?E.extend({},v):{complete:P||!P&&b||oe(v)&&v,duration:v,easing:P&&b||b&&!oe(b)&&b};return E.fx.off?R.duration=0:typeof R.duration!="number"&&(R.duration in E.fx.speeds?R.duration=E.fx.speeds[R.duration]:R.duration=E.fx.speeds._default),(R.queue==null||R.queue===!0)&&(R.queue="fx"),R.old=R.complete,R.complete=function(){oe(R.old)&&R.old.call(this),R.queue&&E.dequeue(this,R.queue)},R},E.fn.extend({fadeTo:function(v,b,P,R){return this.filter(Le).css("opacity",0).show().end().animate({opacity:b},v,P,R)},animate:function(v,b,P,R){var W=E.isEmptyObject(v),Z=E.speed(b,P,R),ee=function(){var be=ts(this,E.extend({},v),Z);(W||Lt.get(this,"finish"))&&be.stop(!0)};return ee.finish=ee,W||Z.queue===!1?this.each(ee):this.queue(Z.queue,ee)},stop:function(v,b,P){var R=function(W){var Z=W.stop;delete W.stop,Z(P)};return typeof v!="string"&&(P=b,b=v,v=void 0),b&&this.queue(v||"fx",[]),this.each(function(){var W=!0,Z=v!=null&&v+"queueHooks",ee=E.timers,be=Lt.get(this);if(Z)be[Z]&&be[Z].stop&&R(be[Z]);else for(Z in be)be[Z]&&be[Z].stop&&sa.test(Z)&&R(be[Z]);for(Z=ee.length;Z--;)ee[Z].elem===this&&(v==null||ee[Z].queue===v)&&(ee[Z].anim.stop(P),W=!1,ee.splice(Z,1));(W||!P)&&E.dequeue(this,v)})},finish:function(v){return v!==!1&&(v=v||"fx"),this.each(function(){var b,P=Lt.get(this),R=P[v+"queue"],W=P[v+"queueHooks"],Z=E.timers,ee=R?R.length:0;for(P.finish=!0,E.queue(this,v,[]),W&&W.stop&&W.stop.call(this,!0),b=Z.length;b--;)Z[b].elem===this&&Z[b].queue===v&&(Z[b].anim.stop(!0),Z.splice(b,1));for(b=0;b<ee;b++)R[b]&&R[b].finish&&R[b].finish.call(this);delete P.finish})}}),E.each(["toggle","show","hide"],function(v,b){var P=E.fn[b];E.fn[b]=function(R,W,Z){return R==null||typeof R=="boolean"?P.apply(this,arguments):this.animate(Bo(b,!0),R,W,Z)}}),E.each({slideDown:Bo("show"),slideUp:Bo("hide"),slideToggle:Bo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(v,b){E.fn[v]=function(P,R,W){return this.animate(b,P,R,W)}}),E.timers=[],E.fx.tick=function(){var v,b=0,P=E.timers;for(Xi=Date.now();b<P.length;b++)v=P[b],!v()&&P[b]===v&&P.splice(b--,1);P.length||E.fx.stop(),Xi=void 0},E.fx.timer=function(v){E.timers.push(v),E.fx.start()},E.fx.interval=13,E.fx.start=function(){On||(On=!0,Wi())},E.fx.stop=function(){On=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(v,b){return v=E.fx&&E.fx.speeds[v]||v,b=b||"fx",this.queue(b,function(P,R){var W=t.setTimeout(P,v);R.stop=function(){t.clearTimeout(W)}})},function(){var v=k.createElement("input"),b=k.createElement("select"),P=b.appendChild(k.createElement("option"));v.type="checkbox",se.checkOn=v.value!=="",se.optSelected=P.selected,v=k.createElement("input"),v.value="t",v.type="radio",se.radioValue=v.value==="t"}();var oa,ao=E.expr.attrHandle;E.fn.extend({attr:function(v,b){return Bi(this,E.attr,v,b,arguments.length>1)},removeAttr:function(v){return this.each(function(){E.removeAttr(this,v)})}}),E.extend({attr:function(v,b,P){var R,W,Z=v.nodeType;if(!(Z===3||Z===8||Z===2)){if(typeof v.getAttribute>"u")return E.prop(v,b,P);if((Z!==1||!E.isXMLDoc(v))&&(W=E.attrHooks[b.toLowerCase()]||(E.expr.match.bool.test(b)?oa:void 0)),P!==void 0){if(P===null){E.removeAttr(v,b);return}return W&&"set"in W&&(R=W.set(v,P,b))!==void 0?R:(v.setAttribute(b,P+""),P)}return W&&"get"in W&&(R=W.get(v,b))!==null?R:(R=E.find.attr(v,b),R==null?void 0:R)}},attrHooks:{type:{set:function(v,b){if(!se.radioValue&&b==="radio"&&ui(v,"input")){var P=v.value;return v.setAttribute("type",b),P&&(v.value=P),b}}}},removeAttr:function(v,b){var P,R=0,W=b&&b.match(Ot);if(W&&v.nodeType===1)for(;P=W[R++];)v.removeAttribute(P)}}),oa={set:function(v,b,P){return b===!1?E.removeAttr(v,P):v.setAttribute(P,P),P}},E.each(E.expr.match.bool.source.match(/\w+/g),function(v,b){var P=ao[b]||E.find.attr;ao[b]=function(R,W,Z){var ee,be,_e=W.toLowerCase();return Z||(be=ao[_e],ao[_e]=ee,ee=P(R,W,Z)!=null?_e:null,ao[_e]=be),ee}});var Pu=/^(?:input|select|textarea|button)$/i,Iu=/^(?:a|area)$/i;E.fn.extend({prop:function(v,b){return Bi(this,E.prop,v,b,arguments.length>1)},removeProp:function(v){return this.each(function(){delete this[E.propFix[v]||v]})}}),E.extend({prop:function(v,b,P){var R,W,Z=v.nodeType;if(!(Z===3||Z===8||Z===2))return(Z!==1||!E.isXMLDoc(v))&&(b=E.propFix[b]||b,W=E.propHooks[b]),P!==void 0?W&&"set"in W&&(R=W.set(v,P,b))!==void 0?R:v[b]=P:W&&"get"in W&&(R=W.get(v,b))!==null?R:v[b]},propHooks:{tabIndex:{get:function(v){var b=E.find.attr(v,"tabindex");return b?parseInt(b,10):Pu.test(v.nodeName)||Iu.test(v.nodeName)&&v.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(E.propHooks.selected={get:function(v){var b=v.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(v){var b=v.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function qs(v){var b=v.match(Ot)||[];return b.join(" ")}function Ir(v){return v.getAttribute&&v.getAttribute("class")||""}function lo(v){return Array.isArray(v)?v:typeof v=="string"?v.match(Ot)||[]:[]}E.fn.extend({addClass:function(v){var b,P,R,W,Z,ee;return oe(v)?this.each(function(be){E(this).addClass(v.call(this,be,Ir(this)))}):(b=lo(v),b.length?this.each(function(){if(R=Ir(this),P=this.nodeType===1&&" "+qs(R)+" ",P){for(Z=0;Z<b.length;Z++)W=b[Z],P.indexOf(" "+W+" ")<0&&(P+=W+" ");ee=qs(P),R!==ee&&this.setAttribute("class",ee)}}):this)},removeClass:function(v){var b,P,R,W,Z,ee;return oe(v)?this.each(function(be){E(this).removeClass(v.call(this,be,Ir(this)))}):arguments.length?(b=lo(v),b.length?this.each(function(){if(R=Ir(this),P=this.nodeType===1&&" "+qs(R)+" ",P){for(Z=0;Z<b.length;Z++)for(W=b[Z];P.indexOf(" "+W+" ")>-1;)P=P.replace(" "+W+" "," ");ee=qs(P),R!==ee&&this.setAttribute("class",ee)}}):this):this.attr("class","")},toggleClass:function(v,b){var P,R,W,Z,ee=typeof v,be=ee==="string"||Array.isArray(v);return oe(v)?this.each(function(_e){E(this).toggleClass(v.call(this,_e,Ir(this),b),b)}):typeof b=="boolean"&&be?b?this.addClass(v):this.removeClass(v):(P=lo(v),this.each(function(){if(be)for(Z=E(this),W=0;W<P.length;W++)R=P[W],Z.hasClass(R)?Z.removeClass(R):Z.addClass(R);else(v===void 0||ee==="boolean")&&(R=Ir(this),R&&Lt.set(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||v===!1?"":Lt.get(this,"__className__")||""))}))},hasClass:function(v){var b,P,R=0;for(b=" "+v+" ";P=this[R++];)if(P.nodeType===1&&(" "+qs(Ir(P))+" ").indexOf(b)>-1)return!0;return!1}});var No=/\r/g;E.fn.extend({val:function(v){var b,P,R,W=this[0];return arguments.length?(R=oe(v),this.each(function(Z){var ee;this.nodeType===1&&(R?ee=v.call(this,Z,E(this).val()):ee=v,ee==null?ee="":typeof ee=="number"?ee+="":Array.isArray(ee)&&(ee=E.map(ee,function(be){return be==null?"":be+""})),b=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,ee,"value")===void 0)&&(this.value=ee))})):W?(b=E.valHooks[W.type]||E.valHooks[W.nodeName.toLowerCase()],b&&"get"in b&&(P=b.get(W,"value"))!==void 0?P:(P=W.value,typeof P=="string"?P.replace(No,""):P==null?"":P)):void 0}}),E.extend({valHooks:{option:{get:function(v){var b=E.find.attr(v,"value");return b!=null?b:qs(E.text(v))}},select:{get:function(v){var b,P,R,W=v.options,Z=v.selectedIndex,ee=v.type==="select-one",be=ee?null:[],_e=ee?Z+1:W.length;for(Z<0?R=_e:R=ee?Z:0;R<_e;R++)if(P=W[R],(P.selected||R===Z)&&!P.disabled&&(!P.parentNode.disabled||!ui(P.parentNode,"optgroup"))){if(b=E(P).val(),ee)return b;be.push(b)}return be},set:function(v,b){for(var P,R,W=v.options,Z=E.makeArray(b),ee=W.length;ee--;)R=W[ee],(R.selected=E.inArray(E.valHooks.option.get(R),Z)>-1)&&(P=!0);return P||(v.selectedIndex=-1),Z}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(v,b){if(Array.isArray(b))return v.checked=E.inArray(E(v).val(),b)>-1}},se.checkOn||(E.valHooks[this].get=function(v){return v.getAttribute("value")===null?"on":v.value})}),se.focusin="onfocusin"in t;var aa=/^(?:focusinfocus|focusoutblur)$/,la=function(v){v.stopPropagation()};E.extend(E.event,{trigger:function(v,b,P,R){var W,Z,ee,be,_e,ze,We,ut,Fe=[P||k],Ye=j.call(v,"type")?v.type:v,Wt=j.call(v,"namespace")?v.namespace.split("."):[];if(Z=ut=ee=P=P||k,!(P.nodeType===3||P.nodeType===8)&&!aa.test(Ye+E.event.triggered)&&(Ye.indexOf(".")>-1&&(Wt=Ye.split("."),Ye=Wt.shift(),Wt.sort()),_e=Ye.indexOf(":")<0&&"on"+Ye,v=v[E.expando]?v:new E.Event(Ye,typeof v=="object"&&v),v.isTrigger=R?2:3,v.namespace=Wt.join("."),v.rnamespace=v.namespace?new RegExp("(^|\\.)"+Wt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,v.result=void 0,v.target||(v.target=P),b=b==null?[v]:E.makeArray(b,[v]),We=E.event.special[Ye]||{},!(!R&&We.trigger&&We.trigger.apply(P,b)===!1))){if(!R&&!We.noBubble&&!he(P)){for(be=We.delegateType||Ye,aa.test(be+Ye)||(Z=Z.parentNode);Z;Z=Z.parentNode)Fe.push(Z),ee=Z;ee===(P.ownerDocument||k)&&Fe.push(ee.defaultView||ee.parentWindow||t)}for(W=0;(Z=Fe[W++])&&!v.isPropagationStopped();)ut=Z,v.type=W>1?be:We.bindType||Ye,ze=(Lt.get(Z,"events")||Object.create(null))[v.type]&&Lt.get(Z,"handle"),ze&&ze.apply(Z,b),ze=_e&&Z[_e],ze&&ze.apply&&Nn(Z)&&(v.result=ze.apply(Z,b),v.result===!1&&v.preventDefault());return v.type=Ye,!R&&!v.isDefaultPrevented()&&(!We._default||We._default.apply(Fe.pop(),b)===!1)&&Nn(P)&&_e&&oe(P[Ye])&&!he(P)&&(ee=P[_e],ee&&(P[_e]=null),E.event.triggered=Ye,v.isPropagationStopped()&&ut.addEventListener(Ye,la),P[Ye](),v.isPropagationStopped()&&ut.removeEventListener(Ye,la),E.event.triggered=void 0,ee&&(P[_e]=ee)),v.result}},simulate:function(v,b,P){var R=E.extend(new E.Event,P,{type:v,isSimulated:!0});E.event.trigger(R,null,b)}}),E.fn.extend({trigger:function(v,b){return this.each(function(){E.event.trigger(v,b,this)})},triggerHandler:function(v,b){var P=this[0];if(P)return E.event.trigger(v,b,P,!0)}}),se.focusin||E.each({focus:"focusin",blur:"focusout"},function(v,b){var P=function(R){E.event.simulate(b,R.target,E.event.fix(R))};E.event.special[b]={setup:function(){var R=this.ownerDocument||this.document||this,W=Lt.access(R,b);W||R.addEventListener(v,P,!0),Lt.access(R,b,(W||0)+1)},teardown:function(){var R=this.ownerDocument||this.document||this,W=Lt.access(R,b)-1;W?Lt.access(R,b,W):(R.removeEventListener(v,P,!0),Lt.remove(R,b))}}});var gs=t.location,$a={guid:Date.now()},Oo=/\?/;E.parseXML=function(v){var b,P;if(!v||typeof v!="string")return null;try{b=new t.DOMParser().parseFromString(v,"text/xml")}catch{}return P=b&&b.getElementsByTagName("parsererror")[0],(!b||P)&&E.error("Invalid XML: "+(P?E.map(P.childNodes,function(R){return R.textContent}).join(`
`):v)),b};var ua=/\[\]$/,pn=/\r?\n/g,ca=/^(?:submit|button|image|reset|file)$/i,Mu=/^(?:input|select|textarea|keygen)/i;function Xa(v,b,P,R){var W;if(Array.isArray(b))E.each(b,function(Z,ee){P||ua.test(v)?R(v,ee):Xa(v+"["+(typeof ee=="object"&&ee!=null?Z:"")+"]",ee,P,R)});else if(!P&&Y(b)==="object")for(W in b)Xa(v+"["+W+"]",b[W],P,R);else R(v,b)}E.param=function(v,b){var P,R=[],W=function(Z,ee){var be=oe(ee)?ee():ee;R[R.length]=encodeURIComponent(Z)+"="+encodeURIComponent(be==null?"":be)};if(v==null)return"";if(Array.isArray(v)||v.jquery&&!E.isPlainObject(v))E.each(v,function(){W(this.name,this.value)});else for(P in v)Xa(P,v[P],b,W);return R.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var v=E.prop(this,"elements");return v?E.makeArray(v):this}).filter(function(){var v=this.type;return this.name&&!E(this).is(":disabled")&&Mu.test(this.nodeName)&&!ca.test(v)&&(this.checked||!Ft.test(v))}).map(function(v,b){var P=E(this).val();return P==null?null:Array.isArray(P)?E.map(P,function(R){return{name:b.name,value:R.replace(pn,`\r
`)}}):{name:b.name,value:P.replace(pn,`\r
`)}}).get()}});var Vl=/%20/g,Ka=/#.*$/,zu=/([?&])_=[^&]*/,Nc=/^(.*?):[ \t]*([^\r\n]*)$/mg,Oc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ul=/^(?:GET|HEAD)$/,jl=/^\/\//,Ya={},ha={},Ni="*/".concat("*"),Qa=k.createElement("a");Qa.href=gs.href;function Du(v){return function(b,P){typeof b!="string"&&(P=b,b="*");var R,W=0,Z=b.toLowerCase().match(Ot)||[];if(oe(P))for(;R=Z[W++];)R[0]==="+"?(R=R.slice(1)||"*",(v[R]=v[R]||[]).unshift(P)):(v[R]=v[R]||[]).push(P)}}function Fo(v,b,P,R){var W={},Z=v===ha;function ee(be){var _e;return W[be]=!0,E.each(v[be]||[],function(ze,We){var ut=We(b,P,R);if(typeof ut=="string"&&!Z&&!W[ut])return b.dataTypes.unshift(ut),ee(ut),!1;if(Z)return!(_e=ut)}),_e}return ee(b.dataTypes[0])||!W["*"]&&ee("*")}function uo(v,b){var P,R,W=E.ajaxSettings.flatOptions||{};for(P in b)b[P]!==void 0&&((W[P]?v:R||(R={}))[P]=b[P]);return R&&E.extend(!0,v,R),v}function Lu(v,b,P){for(var R,W,Z,ee,be=v.contents,_e=v.dataTypes;_e[0]==="*";)_e.shift(),R===void 0&&(R=v.mimeType||b.getResponseHeader("Content-Type"));if(R){for(W in be)if(be[W]&&be[W].test(R)){_e.unshift(W);break}}if(_e[0]in P)Z=_e[0];else{for(W in P){if(!_e[0]||v.converters[W+" "+_e[0]]){Z=W;break}ee||(ee=W)}Z=Z||ee}if(Z)return Z!==_e[0]&&_e.unshift(Z),P[Z]}function Mr(v,b,P,R){var W,Z,ee,be,_e,ze={},We=v.dataTypes.slice();if(We[1])for(ee in v.converters)ze[ee.toLowerCase()]=v.converters[ee];for(Z=We.shift();Z;)if(v.responseFields[Z]&&(P[v.responseFields[Z]]=b),!_e&&R&&v.dataFilter&&(b=v.dataFilter(b,v.dataType)),_e=Z,Z=We.shift(),Z){if(Z==="*")Z=_e;else if(_e!=="*"&&_e!==Z){if(ee=ze[_e+" "+Z]||ze["* "+Z],!ee){for(W in ze)if(be=W.split(" "),be[1]===Z&&(ee=ze[_e+" "+be[0]]||ze["* "+be[0]],ee)){ee===!0?ee=ze[W]:ze[W]!==!0&&(Z=be[0],We.unshift(be[1]));break}}if(ee!==!0)if(ee&&v.throws)b=ee(b);else try{b=ee(b)}catch(ut){return{state:"parsererror",error:ee?ut:"No conversion from "+_e+" to "+Z}}}}return{state:"success",data:b}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gs.href,type:"GET",isLocal:Oc.test(gs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ni,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(v,b){return b?uo(uo(v,E.ajaxSettings),b):uo(E.ajaxSettings,v)},ajaxPrefilter:Du(Ya),ajaxTransport:Du(ha),ajax:function(v,b){typeof v=="object"&&(b=v,v=void 0),b=b||{};var P,R,W,Z,ee,be,_e,ze,We,ut,Fe=E.ajaxSetup({},b),Ye=Fe.context||Fe,Wt=Fe.context&&(Ye.nodeType||Ye.jquery)?E(Ye):E.event,li=E.Deferred(),$t=E.Callbacks("once memory"),Dn=Fe.statusCode||{},xn={},Fn={},Qi="canceled",ai={readyState:0,getResponseHeader:function(Oi){var qt;if(_e){if(!Z)for(Z={};qt=Nc.exec(W);)Z[qt[1].toLowerCase()+" "]=(Z[qt[1].toLowerCase()+" "]||[]).concat(qt[2]);qt=Z[Oi.toLowerCase()+" "]}return qt==null?null:qt.join(", ")},getAllResponseHeaders:function(){return _e?W:null},setRequestHeader:function(Oi,qt){return _e==null&&(Oi=Fn[Oi.toLowerCase()]=Fn[Oi.toLowerCase()]||Oi,xn[Oi]=qt),this},overrideMimeType:function(Oi){return _e==null&&(Fe.mimeType=Oi),this},statusCode:function(Oi){var qt;if(Oi)if(_e)ai.always(Oi[ai.status]);else for(qt in Oi)Dn[qt]=[Dn[qt],Oi[qt]];return this},abort:function(Oi){var qt=Oi||Qi;return P&&P.abort(qt),Ci(0,qt),this}};if(li.promise(ai),Fe.url=((v||Fe.url||gs.href)+"").replace(jl,gs.protocol+"//"),Fe.type=b.method||b.type||Fe.method||Fe.type,Fe.dataTypes=(Fe.dataType||"*").toLowerCase().match(Ot)||[""],Fe.crossDomain==null){be=k.createElement("a");try{be.href=Fe.url,be.href=be.href,Fe.crossDomain=Qa.protocol+"//"+Qa.host!=be.protocol+"//"+be.host}catch{Fe.crossDomain=!0}}if(Fe.data&&Fe.processData&&typeof Fe.data!="string"&&(Fe.data=E.param(Fe.data,Fe.traditional)),Fo(Ya,Fe,b,ai),_e)return ai;ze=E.event&&Fe.global,ze&&E.active++===0&&E.event.trigger("ajaxStart"),Fe.type=Fe.type.toUpperCase(),Fe.hasContent=!Ul.test(Fe.type),R=Fe.url.replace(Ka,""),Fe.hasContent?Fe.data&&Fe.processData&&(Fe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Fe.data=Fe.data.replace(Vl,"+")):(ut=Fe.url.slice(R.length),Fe.data&&(Fe.processData||typeof Fe.data=="string")&&(R+=(Oo.test(R)?"&":"?")+Fe.data,delete Fe.data),Fe.cache===!1&&(R=R.replace(zu,"$1"),ut=(Oo.test(R)?"&":"?")+"_="+$a.guid+++ut),Fe.url=R+ut),Fe.ifModified&&(E.lastModified[R]&&ai.setRequestHeader("If-Modified-Since",E.lastModified[R]),E.etag[R]&&ai.setRequestHeader("If-None-Match",E.etag[R])),(Fe.data&&Fe.hasContent&&Fe.contentType!==!1||b.contentType)&&ai.setRequestHeader("Content-Type",Fe.contentType),ai.setRequestHeader("Accept",Fe.dataTypes[0]&&Fe.accepts[Fe.dataTypes[0]]?Fe.accepts[Fe.dataTypes[0]]+(Fe.dataTypes[0]!=="*"?", "+Ni+"; q=0.01":""):Fe.accepts["*"]);for(We in Fe.headers)ai.setRequestHeader(We,Fe.headers[We]);if(Fe.beforeSend&&(Fe.beforeSend.call(Ye,ai,Fe)===!1||_e))return ai.abort();if(Qi="abort",$t.add(Fe.complete),ai.done(Fe.success),ai.fail(Fe.error),P=Fo(ha,Fe,b,ai),!P)Ci(-1,"No Transport");else{if(ai.readyState=1,ze&&Wt.trigger("ajaxSend",[ai,Fe]),_e)return ai;Fe.async&&Fe.timeout>0&&(ee=t.setTimeout(function(){ai.abort("timeout")},Fe.timeout));try{_e=!1,P.send(xn,Ci)}catch(Oi){if(_e)throw Oi;Ci(-1,Oi)}}function Ci(Oi,qt,Mi,Ki){var zi,is,jr,_r,Ws,zr=qt;_e||(_e=!0,ee&&t.clearTimeout(ee),P=void 0,W=Ki||"",ai.readyState=Oi>0?4:0,zi=Oi>=200&&Oi<300||Oi===304,Mi&&(_r=Lu(Fe,ai,Mi)),!zi&&E.inArray("script",Fe.dataTypes)>-1&&E.inArray("json",Fe.dataTypes)<0&&(Fe.converters["text script"]=function(){}),_r=Mr(Fe,_r,ai,zi),zi?(Fe.ifModified&&(Ws=ai.getResponseHeader("Last-Modified"),Ws&&(E.lastModified[R]=Ws),Ws=ai.getResponseHeader("etag"),Ws&&(E.etag[R]=Ws)),Oi===204||Fe.type==="HEAD"?zr="nocontent":Oi===304?zr="notmodified":(zr=_r.state,is=_r.data,jr=_r.error,zi=!jr)):(jr=zr,(Oi||!zr)&&(zr="error",Oi<0&&(Oi=0))),ai.status=Oi,ai.statusText=(qt||zr)+"",zi?li.resolveWith(Ye,[is,zr,ai]):li.rejectWith(Ye,[ai,zr,jr]),ai.statusCode(Dn),Dn=void 0,ze&&Wt.trigger(zi?"ajaxSuccess":"ajaxError",[ai,Fe,zi?is:jr]),$t.fireWith(Ye,[ai,zr]),ze&&(Wt.trigger("ajaxComplete",[ai,Fe]),--E.active||E.event.trigger("ajaxStop")))}return ai},getJSON:function(v,b,P){return E.get(v,b,P,"json")},getScript:function(v,b){return E.get(v,void 0,b,"script")}}),E.each(["get","post"],function(v,b){E[b]=function(P,R,W,Z){return oe(R)&&(Z=Z||W,W=R,R=void 0),E.ajax(E.extend({url:P,type:b,dataType:Z,data:R,success:W},E.isPlainObject(P)&&P))}}),E.ajaxPrefilter(function(v){var b;for(b in v.headers)b.toLowerCase()==="content-type"&&(v.contentType=v.headers[b]||"")}),E._evalUrl=function(v,b,P){return E.ajax({url:v,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(R){E.globalEval(R,b,P)}})},E.fn.extend({wrapAll:function(v){var b;return this[0]&&(oe(v)&&(v=v.call(this[0])),b=E(v,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var P=this;P.firstElementChild;)P=P.firstElementChild;return P}).append(this)),this},wrapInner:function(v){return oe(v)?this.each(function(b){E(this).wrapInner(v.call(this,b))}):this.each(function(){var b=E(this),P=b.contents();P.length?P.wrapAll(v):b.append(v)})},wrap:function(v){var b=oe(v);return this.each(function(P){E(this).wrapAll(b?v.call(this,P):v)})},unwrap:function(v){return this.parent(v).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(v){return!E.expr.pseudos.visible(v)},E.expr.pseudos.visible=function(v){return!!(v.offsetWidth||v.offsetHeight||v.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var ql={0:200,1223:204},Gs=E.ajaxSettings.xhr();se.cors=!!Gs&&"withCredentials"in Gs,se.ajax=Gs=!!Gs,E.ajaxTransport(function(v){var b,P;if(se.cors||Gs&&!v.crossDomain)return{send:function(R,W){var Z,ee=v.xhr();if(ee.open(v.type,v.url,v.async,v.username,v.password),v.xhrFields)for(Z in v.xhrFields)ee[Z]=v.xhrFields[Z];v.mimeType&&ee.overrideMimeType&&ee.overrideMimeType(v.mimeType),!v.crossDomain&&!R["X-Requested-With"]&&(R["X-Requested-With"]="XMLHttpRequest");for(Z in R)ee.setRequestHeader(Z,R[Z]);b=function(be){return function(){b&&(b=P=ee.onload=ee.onerror=ee.onabort=ee.ontimeout=ee.onreadystatechange=null,be==="abort"?ee.abort():be==="error"?typeof ee.status!="number"?W(0,"error"):W(ee.status,ee.statusText):W(ql[ee.status]||ee.status,ee.statusText,(ee.responseType||"text")!=="text"||typeof ee.responseText!="string"?{binary:ee.response}:{text:ee.responseText},ee.getAllResponseHeaders()))}},ee.onload=b(),P=ee.onerror=ee.ontimeout=b("error"),ee.onabort!==void 0?ee.onabort=P:ee.onreadystatechange=function(){ee.readyState===4&&t.setTimeout(function(){b&&P()})},b=b("abort");try{ee.send(v.hasContent&&v.data||null)}catch(be){if(b)throw be}},abort:function(){b&&b()}}}),E.ajaxPrefilter(function(v){v.crossDomain&&(v.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(v){return E.globalEval(v),v}}}),E.ajaxPrefilter("script",function(v){v.cache===void 0&&(v.cache=!1),v.crossDomain&&(v.type="GET")}),E.ajaxTransport("script",function(v){if(v.crossDomain||v.scriptAttrs){var b,P;return{send:function(R,W){b=E("<script>").attr(v.scriptAttrs||{}).prop({charset:v.scriptCharset,src:v.url}).on("load error",P=function(Z){b.remove(),P=null,Z&&W(Z.type==="error"?404:200,Z.type)}),k.head.appendChild(b[0])},abort:function(){P&&P()}}}});var da=[],pa=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var v=da.pop()||E.expando+"_"+$a.guid++;return this[v]=!0,v}}),E.ajaxPrefilter("json jsonp",function(v,b,P){var R,W,Z,ee=v.jsonp!==!1&&(pa.test(v.url)?"url":typeof v.data=="string"&&(v.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&pa.test(v.data)&&"data");if(ee||v.dataTypes[0]==="jsonp")return R=v.jsonpCallback=oe(v.jsonpCallback)?v.jsonpCallback():v.jsonpCallback,ee?v[ee]=v[ee].replace(pa,"$1"+R):v.jsonp!==!1&&(v.url+=(Oo.test(v.url)?"&":"?")+v.jsonp+"="+R),v.converters["script json"]=function(){return Z||E.error(R+" was not called"),Z[0]},v.dataTypes[0]="json",W=t[R],t[R]=function(){Z=arguments},P.always(function(){W===void 0?E(t).removeProp(R):t[R]=W,v[R]&&(v.jsonpCallback=b.jsonpCallback,da.push(R)),Z&&oe(W)&&W(Z[0]),Z=W=void 0}),"script"}),se.createHTMLDocument=function(){var v=k.implementation.createHTMLDocument("").body;return v.innerHTML="<form></form><form></form>",v.childNodes.length===2}(),E.parseHTML=function(v,b,P){if(typeof v!="string")return[];typeof b=="boolean"&&(P=b,b=!1);var R,W,Z;return b||(se.createHTMLDocument?(b=k.implementation.createHTMLDocument(""),R=b.createElement("base"),R.href=k.location.href,b.head.appendChild(R)):b=k),W=Tn.exec(v),Z=!P&&[],W?[b.createElement(W[1])]:(W=Hi([v],b,Z),Z&&Z.length&&E(Z).remove(),E.merge([],W.childNodes))},E.fn.load=function(v,b,P){var R,W,Z,ee=this,be=v.indexOf(" ");return be>-1&&(R=qs(v.slice(be)),v=v.slice(0,be)),oe(b)?(P=b,b=void 0):b&&typeof b=="object"&&(W="POST"),ee.length>0&&E.ajax({url:v,type:W||"GET",dataType:"html",data:b}).done(function(_e){Z=arguments,ee.html(R?E("<div>").append(E.parseHTML(_e)).find(R):_e)}).always(P&&function(_e,ze){ee.each(function(){P.apply(this,Z||[_e.responseText,ze,_e])})}),this},E.expr.pseudos.animated=function(v){return E.grep(E.timers,function(b){return v===b.elem}).length},E.offset={setOffset:function(v,b,P){var R,W,Z,ee,be,_e,ze,We=E.css(v,"position"),ut=E(v),Fe={};We==="static"&&(v.style.position="relative"),be=ut.offset(),Z=E.css(v,"top"),_e=E.css(v,"left"),ze=(We==="absolute"||We==="fixed")&&(Z+_e).indexOf("auto")>-1,ze?(R=ut.position(),ee=R.top,W=R.left):(ee=parseFloat(Z)||0,W=parseFloat(_e)||0),oe(b)&&(b=b.call(v,P,E.extend({},be))),b.top!=null&&(Fe.top=b.top-be.top+ee),b.left!=null&&(Fe.left=b.left-be.left+W),"using"in b?b.using.call(v,Fe):ut.css(Fe)}},E.fn.extend({offset:function(v){if(arguments.length)return v===void 0?this:this.each(function(W){E.offset.setOffset(this,v,W)});var b,P,R=this[0];if(!!R)return R.getClientRects().length?(b=R.getBoundingClientRect(),P=R.ownerDocument.defaultView,{top:b.top+P.pageYOffset,left:b.left+P.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var v,b,P,R=this[0],W={top:0,left:0};if(E.css(R,"position")==="fixed")b=R.getBoundingClientRect();else{for(b=this.offset(),P=R.ownerDocument,v=R.offsetParent||P.documentElement;v&&(v===P.body||v===P.documentElement)&&E.css(v,"position")==="static";)v=v.parentNode;v&&v!==R&&v.nodeType===1&&(W=E(v).offset(),W.top+=E.css(v,"borderTopWidth",!0),W.left+=E.css(v,"borderLeftWidth",!0))}return{top:b.top-W.top-E.css(R,"marginTop",!0),left:b.left-W.left-E.css(R,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var v=this.offsetParent;v&&E.css(v,"position")==="static";)v=v.offsetParent;return v||di})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(v,b){var P=b==="pageYOffset";E.fn[v]=function(R){return Bi(this,function(W,Z,ee){var be;if(he(W)?be=W:W.nodeType===9&&(be=W.defaultView),ee===void 0)return be?be[b]:W[Z];be?be.scrollTo(P?be.pageXOffset:ee,P?ee:be.pageYOffset):W[Z]=ee},v,R,arguments.length)}}),E.each(["top","left"],function(v,b){E.cssHooks[b]=ot(se.pixelPosition,function(P,R){if(R)return R=Ue(P,b),re.test(R)?E(P).position()[b]+"px":R})}),E.each({Height:"height",Width:"width"},function(v,b){E.each({padding:"inner"+v,content:b,"":"outer"+v},function(P,R){E.fn[R]=function(W,Z){var ee=arguments.length&&(P||typeof W!="boolean"),be=P||(W===!0||Z===!0?"margin":"border");return Bi(this,function(_e,ze,We){var ut;return he(_e)?R.indexOf("outer")===0?_e["inner"+v]:_e.document.documentElement["client"+v]:_e.nodeType===9?(ut=_e.documentElement,Math.max(_e.body["scroll"+v],ut["scroll"+v],_e.body["offset"+v],ut["offset"+v],ut["client"+v])):We===void 0?E.css(_e,ze,be):E.style(_e,ze,We,be)},b,ee?W:void 0,ee)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(v,b){E.fn[b]=function(P){return this.on(b,P)}}),E.fn.extend({bind:function(v,b,P){return this.on(v,null,b,P)},unbind:function(v,b){return this.off(v,null,b)},delegate:function(v,b,P,R){return this.on(b,v,P,R)},undelegate:function(v,b,P){return arguments.length===1?this.off(v,"**"):this.off(b,v||"**",P)},hover:function(v,b){return this.mouseenter(v).mouseleave(b||v)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(v,b){E.fn[b]=function(P,R){return arguments.length>0?this.on(b,null,P,R):this.trigger(b)}});var Gl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(v,b){var P,R,W;if(typeof b=="string"&&(P=v[b],b=v,v=P),!!oe(v))return R=p.call(arguments,2),W=function(){return v.apply(b||this,R.concat(p.call(arguments)))},W.guid=v.guid=v.guid||E.guid++,W},E.holdReady=function(v){v?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=ui,E.isFunction=oe,E.isWindow=he,E.camelCase=on,E.type=Y,E.now=Date.now,E.isNumeric=function(v){var b=E.type(v);return(b==="number"||b==="string")&&!isNaN(v-parseFloat(v))},E.trim=function(v){return v==null?"":(v+"").replace(Gl,"$1")};var Ja=t.jQuery,Wl=t.$;return E.noConflict=function(v){return t.$===E&&(t.$=Wl),v&&t.jQuery===E&&(t.jQuery=Ja),E},typeof s>"u"&&(t.jQuery=t.$=E),E})})(NT);const Ew=NT.exports;var HR={exports:{}};(function(e){(function(t,s){var u=s(t,t.document,Date);t.lazySizes=u,e.exports&&(e.exports=u)})(typeof window<"u"?window:{},function(s,u,h){var p,y;if(function(){var He,at={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};y=s.lazySizesConfig||s.lazysizesConfig||{};for(He in at)He in y||(y[He]=at[He])}(),!u||!u.getElementsByClassName)return{init:function(){},cfg:y,noSupport:!0};var a=u.documentElement,T=s.HTMLPictureElement,z="addEventListener",O="getAttribute",j=s[z].bind(s),S=s.setTimeout,Q=s.requestAnimationFrame||S,se=s.requestIdleCallback,oe=/^picture$/i,he=["load","error","lazyincluded","_lazyloaded"],k={},D=Array.prototype.forEach,F=function(He,at){return k[at]||(k[at]=new RegExp("(\\s|^)"+at+"(\\s|$)")),k[at].test(He[O]("class")||"")&&k[at]},Y=function(He,at){F(He,at)||He.setAttribute("class",(He[O]("class")||"").trim()+" "+at)},xe=function(He,at){var dt;(dt=F(He,at))&&He.setAttribute("class",(He[O]("class")||"").replace(dt," "))},E=function(He,at,dt){var Ot=dt?z:"removeEventListener";dt&&E(He,at),he.forEach(function(ri){He[Ot](ri,at)})},Ne=function(He,at,dt,Ot,ri){var si=u.createEvent("Event");return dt||(dt={}),dt.instance=p,si.initEvent(at,!Ot,!ri),si.detail=dt,He.dispatchEvent(si),si},qe=function(He,at){var dt;!T&&(dt=s.picturefill||y.pf)?(at&&at.src&&!He[O]("srcset")&&He.setAttribute("srcset",at.src),dt({reevaluate:!0,elements:[He]})):at&&at.src&&(He.src=at.src)},wt=function(He,at){return(getComputedStyle(He,null)||{})[at]},At=function(He,at,dt){for(dt=dt||He.offsetWidth;dt<y.minSize&&at&&!He._lazysizesWidth;)dt=at.offsetWidth,at=at.parentNode;return dt},_i=function(){var He,at,dt=[],Ot=[],ri=dt,si=function(){var ci=ri;for(ri=dt.length?Ot:dt,He=!0,at=!1;ci.length;)ci.shift()();He=!1},Ti=function(ci,gi){He&&!gi?ci.apply(this,arguments):(ri.push(ci),at||(at=!0,(u.hidden?S:Q)(si)))};return Ti._lsFlush=si,Ti}(),ui=function(He,at){return at?function(){_i(He)}:function(){var dt=this,Ot=arguments;_i(function(){He.apply(dt,Ot)})}},Tn=function(He){var at,dt=0,Ot=y.throttleDelay,ri=y.ricTimeout,si=function(){at=!1,dt=h.now(),He()},Ti=se&&ri>49?function(){se(si,{timeout:ri}),ri!==y.ricTimeout&&(ri=y.ricTimeout)}:ui(function(){S(si)},!0);return function(ci){var gi;(ci=ci===!0)&&(ri=33),!at&&(at=!0,gi=Ot-(h.now()-dt),gi<0&&(gi=0),ci||gi<9?Ti():S(Ti,gi))}},Di=function(He){var at,dt,Ot=99,ri=function(){at=null,He()},si=function(){var Ti=h.now()-dt;Ti<Ot?S(si,Ot-Ti):(se||ri)(ri)};return function(){dt=h.now(),at||(at=S(si,Ot))}},sn=function(){var He,at,dt,Ot,ri,si,Ti,ci,gi,Ui,cn,Bi,kr=/^img$/i,fs=/^iframe$/i,Pr="onscroll"in s&&!/(gle|ing)bot/.test(navigator.userAgent),on=0,Nn=0,hn=0,Lt=-1,mn=function(it){hn--,(!it||hn<0||!it.target)&&(hn=0)},st=function(it){return Bi==null&&(Bi=wt(u.body,"visibility")=="hidden"),Bi||!(wt(it.parentNode,"visibility")=="hidden"&&wt(it,"visibility")=="hidden")},Je=function(it,Ft){var hi,Si=it,Qt=st(it);for(ci-=Ft,cn+=Ft,gi-=Ft,Ui+=Ft;Qt&&(Si=Si.offsetParent)&&Si!=u.body&&Si!=a;)Qt=(wt(Si,"opacity")||1)>0,Qt&&wt(Si,"overflow")!="visible"&&(hi=Si.getBoundingClientRect(),Qt=Ui>hi.left&&gi<hi.right&&cn>hi.top-1&&ci<hi.bottom+1);return Qt},pt=function(){var it,Ft,hi,Si,Qt,Ke,Ut,Vt,Hi,Cn,Bt,_n,vi=p.elements;if((Ot=y.loadMode)&&hn<8&&(it=vi.length)){for(Ft=0,Lt++;Ft<it;Ft++)if(!(!vi[Ft]||vi[Ft]._lazyRace)){if(!Pr||p.prematureUnveil&&p.prematureUnveil(vi[Ft])){Le(vi[Ft]);continue}if((!(Vt=vi[Ft][O]("data-expand"))||!(Ke=Vt*1))&&(Ke=Nn),Cn||(Cn=!y.expand||y.expand<1?a.clientHeight>500&&a.clientWidth>500?500:370:y.expand,p._defEx=Cn,Bt=Cn*y.expFactor,_n=y.hFac,Bi=null,Nn<Bt&&hn<1&&Lt>2&&Ot>2&&!u.hidden?(Nn=Bt,Lt=0):Ot>1&&Lt>1&&hn<6?Nn=Cn:Nn=on),Hi!==Ke&&(si=innerWidth+Ke*_n,Ti=innerHeight+Ke,Ut=Ke*-1,Hi=Ke),hi=vi[Ft].getBoundingClientRect(),(cn=hi.bottom)>=Ut&&(ci=hi.top)<=Ti&&(Ui=hi.right)>=Ut*_n&&(gi=hi.left)<=si&&(cn||Ui||gi||ci)&&(y.loadHidden||st(vi[Ft]))&&(at&&hn<3&&!Vt&&(Ot<3||Lt<4)||Je(vi[Ft],Ke))){if(Le(vi[Ft]),Qt=!0,hn>9)break}else!Qt&&at&&!Si&&hn<4&&Lt<4&&Ot>2&&(He[0]||y.preloadAfterLoad)&&(He[0]||!Vt&&(cn||Ui||gi||ci||vi[Ft][O](y.sizesAttr)!="auto"))&&(Si=He[0]||vi[Ft])}Si&&!Qt&&Le(Si)}},Mt=Tn(pt),Yt=function(it){var Ft=it.target;if(Ft._lazyCache){delete Ft._lazyCache;return}mn(it),Y(Ft,y.loadedClass),xe(Ft,y.loadingClass),E(Ft,oi),Ne(Ft,"lazyloaded")},yi=ui(Yt),oi=function(it){yi({target:it.target})},di=function(it,Ft){var hi=it.getAttribute("data-load-mode")||y.iframeLoadMode;hi==0?it.contentWindow.location.replace(Ft):hi==1&&(it.src=Ft)},bi=function(it){var Ft,hi=it[O](y.srcsetAttr);(Ft=y.customMedia[it[O]("data-media")||it[O]("media")])&&it.setAttribute("media",Ft),hi&&it.setAttribute("srcset",hi)},ki=ui(function(it,Ft,hi,Si,Qt){var Ke,Ut,Vt,Hi,Cn,Bt;(Cn=Ne(it,"lazybeforeunveil",Ft)).defaultPrevented||(Si&&(hi?Y(it,y.autosizesClass):it.setAttribute("sizes",Si)),Ut=it[O](y.srcsetAttr),Ke=it[O](y.srcAttr),Qt&&(Vt=it.parentNode,Hi=Vt&&oe.test(Vt.nodeName||"")),Bt=Ft.firesLoad||"src"in it&&(Ut||Ke||Hi),Cn={target:it},Y(it,y.loadingClass),Bt&&(clearTimeout(dt),dt=S(mn,2500),E(it,oi,!0)),Hi&&D.call(Vt.getElementsByTagName("source"),bi),Ut?it.setAttribute("srcset",Ut):Ke&&!Hi&&(fs.test(it.nodeName)?di(it,Ke):it.src=Ke),Qt&&(Ut||Hi)&&qe(it,{src:Ke})),it._lazyRace&&delete it._lazyRace,xe(it,y.lazyClass),_i(function(){var _n=it.complete&&it.naturalWidth>1;(!Bt||_n)&&(_n&&Y(it,y.fastLoadedClass),Yt(Cn),it._lazyCache=!0,S(function(){"_lazyCache"in it&&delete it._lazyCache},9)),it.loading=="lazy"&&hn--},!0)}),Le=function(it){if(!it._lazyRace){var Ft,hi=kr.test(it.nodeName),Si=hi&&(it[O](y.sizesAttr)||it[O]("sizes")),Qt=Si=="auto";(Qt||!at)&&hi&&(it[O]("src")||it.srcset)&&!it.complete&&!F(it,y.errorClass)&&F(it,y.lazyClass)||(Ft=Ne(it,"lazyunveilread").detail,Qt&&Tt.updateElem(it,!0,it.offsetWidth),it._lazyRace=!0,hn++,ki(it,Ft,Qt,Si,hi))}},ct=Di(function(){y.loadMode=3,Mt()}),Hn=function(){y.loadMode==3&&(y.loadMode=2),ct()},dn=function(){if(!at){if(h.now()-ri<999){S(dn,999);return}at=!0,y.loadMode=3,Mt(),j("scroll",Hn,!0)}};return{_:function(){ri=h.now(),p.elements=u.getElementsByClassName(y.lazyClass),He=u.getElementsByClassName(y.lazyClass+" "+y.preloadClass),j("scroll",Mt,!0),j("resize",Mt,!0),j("pageshow",function(it){if(it.persisted){var Ft=u.querySelectorAll("."+y.loadingClass);Ft.length&&Ft.forEach&&Q(function(){Ft.forEach(function(hi){hi.complete&&Le(hi)})})}}),s.MutationObserver?new MutationObserver(Mt).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[z]("DOMNodeInserted",Mt,!0),a[z]("DOMAttrModified",Mt,!0),setInterval(Mt,999)),j("hashchange",Mt,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(it){u[z](it,Mt,!0)}),/d$|^c/.test(u.readyState)?dn():(j("load",dn),u[z]("DOMContentLoaded",Mt),S(dn,2e4)),p.elements.length?(pt(),_i._lsFlush()):Mt()},checkElems:Mt,unveil:Le,_aLSL:Hn}}(),Tt=function(){var He,at=ui(function(si,Ti,ci,gi){var Ui,cn,Bi;if(si._lazysizesWidth=gi,gi+="px",si.setAttribute("sizes",gi),oe.test(Ti.nodeName||""))for(Ui=Ti.getElementsByTagName("source"),cn=0,Bi=Ui.length;cn<Bi;cn++)Ui[cn].setAttribute("sizes",gi);ci.detail.dataAttr||qe(si,ci.detail)}),dt=function(si,Ti,ci){var gi,Ui=si.parentNode;Ui&&(ci=At(si,Ui,ci),gi=Ne(si,"lazybeforesizes",{width:ci,dataAttr:!!Ti}),gi.defaultPrevented||(ci=gi.detail.width,ci&&ci!==si._lazysizesWidth&&at(si,Ui,gi,ci)))},Ot=function(){var si,Ti=He.length;if(Ti)for(si=0;si<Ti;si++)dt(He[si])},ri=Di(Ot);return{_:function(){He=u.getElementsByClassName(y.autosizesClass),j("resize",ri)},checkElems:ri,updateElem:dt}}(),un=function(){!un.i&&u.getElementsByClassName&&(un.i=!0,Tt._(),sn._())};return S(function(){y.init&&un()}),p={cfg:y,autoSizer:Tt,loader:sn,init:un,uP:qe,aC:Y,rC:xe,hC:F,fire:Ne,gW:At,rAF:_i},p})})(HR);(function(e,t,s,u){function h(p,y){this.settings=null,this.options=e.extend({},h.Defaults,y),this.$element=e(p),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(a,T){this._handlers[T]=e.proxy(this[T],this)},this)),e.each(h.Plugins,e.proxy(function(a,T){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new T(this)},this)),e.each(h.Workers,e.proxy(function(a,T){this._pipe.push({filter:T.filter,run:e.proxy(T.run,this)})},this)),this.setup(),this.initialize()}h.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},h.Width={Default:"default",Inner:"inner",Outer:"outer"},h.Type={Event:"event",State:"state"},h.Plugins={},h.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(p){p.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(p){var y=this.settings.margin||"",a=!this.settings.autoWidth,T=this.settings.rtl,z={width:"auto","margin-left":T?y:"","margin-right":T?"":y};!a&&this.$stage.children().css(z),p.css=z}},{filter:["width","items","settings"],run:function(p){var y=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,a=null,T=this._items.length,z=!this.settings.autoWidth,O=[];for(p.items={merge:!1,width:y};T--;)a=this._mergers[T],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,p.items.merge=a>1||p.items.merge,O[T]=z?y*a:this._items[T].width();this._widths=O}},{filter:["items","settings"],run:function(){var p=[],y=this._items,a=this.settings,T=Math.max(a.items*2,4),z=Math.ceil(y.length/2)*2,O=a.loop&&y.length?a.rewind?T:Math.max(T,z):0,j="",S="";for(O/=2;O>0;)p.push(this.normalize(p.length/2,!0)),j=j+y[p[p.length-1]][0].outerHTML,p.push(this.normalize(y.length-1-(p.length-1)/2,!0)),S=y[p[p.length-1]][0].outerHTML+S,O-=1;this._clones=p,e(j).addClass("cloned").appendTo(this.$stage),e(S).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var p=this.settings.rtl?1:-1,y=this._clones.length+this._items.length,a=-1,T=0,z=0,O=[];++a<y;)T=O[a-1]||0,z=this._widths[this.relative(a)]+this.settings.margin,O.push(T+z*p);this._coordinates=O}},{filter:["width","items","settings"],run:function(){var p=this.settings.stagePadding,y=this._coordinates,a={width:Math.ceil(Math.abs(y[y.length-1]))+p*2,"padding-left":p||"","padding-right":p||""};this.$stage.css(a)}},{filter:["width","items","settings"],run:function(p){var y=this._coordinates.length,a=!this.settings.autoWidth,T=this.$stage.children();if(a&&p.items.merge)for(;y--;)p.css.width=this._widths[this.relative(y)],T.eq(y).css(p.css);else a&&(p.css.width=p.items.width,T.css(p.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(p){p.current=p.current?this.$stage.children().index(p.current):0,p.current=Math.max(this.minimum(),Math.min(this.maximum(),p.current)),this.reset(p.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var p=this.settings.rtl?1:-1,y=this.settings.stagePadding*2,a=this.coordinates(this.current())+y,T=a+this.width()*p,z,O,j=[],S,Q;for(S=0,Q=this._coordinates.length;S<Q;S++)z=this._coordinates[S-1]||0,O=Math.abs(this._coordinates[S])+y*p,(this.op(z,"<=",a)&&this.op(z,">",T)||this.op(O,"<",a)&&this.op(O,">",T))&&j.push(S);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+j.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],h.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),!this.$stage.length&&(this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(e("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},h.prototype.initializeItems=function(){var p=this.$element.find(".owl-item");if(p.length){this._items=p.get().map(function(y){return e(y)}),this._mergers=this._items.map(function(){return 1}),this.refresh();return}this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},h.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var p,y,a;p=this.$element.find("img"),y=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:u,a=this.$element.children(y).width(),p.length&&a<=0&&this.preloadAutoWidthImages(p)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},h.prototype.isVisible=function(){return this.settings.checkVisibility?this.$element.is(":visible"):!0},h.prototype.setup=function(){var p=this.viewport(),y=this.options.responsive,a=-1,T=null;y?(e.each(y,function(z){z<=p&&z>a&&(a=Number(z))}),T=e.extend({},this.options,y[a]),typeof T.stagePadding=="function"&&(T.stagePadding=T.stagePadding()),delete T.responsive,T.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+a))):T=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:T}}),this._breakpoint=a,this.settings=T,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},h.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},h.prototype.prepare=function(p){var y=this.trigger("prepare",{content:p});return y.data||(y.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(p)),this.trigger("prepared",{content:y.data}),y.data},h.prototype.update=function(){for(var p=0,y=this._pipe.length,a=e.proxy(function(z){return this[z]},this._invalidated),T={};p<y;)(this._invalidated.all||e.grep(this._pipe[p].filter,a).length>0)&&this._pipe[p].run(T),p++;this._invalidated={},!this.is("valid")&&this.enter("valid")},h.prototype.width=function(p){switch(p=p||h.Width.Default,p){case h.Width.Inner:case h.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}},h.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},h.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},h.prototype.onResize=function(){if(!this._items.length||this._width===this.$element.width()||!this.isVisible())return!1;if(this.enter("resizing"),this.trigger("resize").isDefaultPrevented())return this.leave("resizing"),!1;this.invalidate("width"),this.refresh(),this.leave("resizing"),this.trigger("resized")},h.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},h.prototype.onDragStart=function(p){var y=null;p.which!==3&&(e.support.transform?(y=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),y={x:y[y.length===16?12:4],y:y[y.length===16?13:5]}):(y=this.$stage.position(),y={x:this.settings.rtl?y.left+this.$stage.width()-this.width()+this.settings.margin:y.left,y:y.top}),this.is("animating")&&(e.support.transform?this.animate(y.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,p.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=e(p.target),this._drag.stage.start=y,this._drag.stage.current=y,this._drag.pointer=this.pointer(p),e(s).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(s).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(a){var T=this.difference(this._drag.pointer,this.pointer(a));e(s).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),!(Math.abs(T.x)<Math.abs(T.y)&&this.is("valid"))&&(a.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},h.prototype.onDragMove=function(p){var y=null,a=null,T=null,z=this.difference(this._drag.pointer,this.pointer(p)),O=this.difference(this._drag.stage.start,z);!this.is("dragging")||(p.preventDefault(),this.settings.loop?(y=this.coordinates(this.minimum()),a=this.coordinates(this.maximum()+1)-y,O.x=((O.x-y)%a+a)%a+y):(y=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),a=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),T=this.settings.pullDrag?-1*z.x/5:0,O.x=Math.max(Math.min(O.x,y+T),a+T)),this._drag.stage.current=O,this.animate(O.x))},h.prototype.onDragEnd=function(p){var y=this.difference(this._drag.pointer,this.pointer(p)),a=this._drag.stage.current,T=y.x>0^this.settings.rtl?"left":"right";e(s).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(y.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(a.x,y.x!==0?T:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=T,(Math.abs(y.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},h.prototype.closest=function(p,y){var a=-1,T=30,z=this.width(),O=this.coordinates();return this.settings.freeDrag||e.each(O,e.proxy(function(j,S){return y==="left"&&p>S-T&&p<S+T?a=j:y==="right"&&p>S-z-T&&p<S-z+T?a=j+1:this.op(p,"<",S)&&this.op(p,">",O[j+1]!==u?O[j+1]:S-z)&&(a=y==="left"?j+1:j),a===-1},this)),this.settings.loop||(this.op(p,">",O[this.minimum()])?a=p=this.minimum():this.op(p,"<",O[this.maximum()])&&(a=p=this.maximum())),a},h.prototype.animate=function(p){var y=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),y&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+p+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):y?this.$stage.animate({left:p+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:p+"px"})},h.prototype.is=function(p){return this._states.current[p]&&this._states.current[p]>0},h.prototype.current=function(p){if(p===u)return this._current;if(this._items.length===0)return u;if(p=this.normalize(p),this._current!==p){var y=this.trigger("change",{property:{name:"position",value:p}});y.data!==u&&(p=this.normalize(y.data)),this._current=p,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},h.prototype.invalidate=function(p){return e.type(p)==="string"&&(this._invalidated[p]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(y,a){return a})},h.prototype.reset=function(p){p=this.normalize(p),p!==u&&(this._speed=0,this._current=p,this.suppress(["translate","translated"]),this.animate(this.coordinates(p)),this.release(["translate","translated"]))},h.prototype.normalize=function(p,y){var a=this._items.length,T=y?0:this._clones.length;return!this.isNumeric(p)||a<1?p=u:(p<0||p>=a+T)&&(p=((p-T/2)%a+a)%a+T/2),p},h.prototype.relative=function(p){return p-=this._clones.length/2,this.normalize(p,!0)},h.prototype.maximum=function(p){var y=this.settings,a=this._coordinates.length,T,z,O;if(y.loop)a=this._clones.length/2+this._items.length-1;else if(y.autoWidth||y.merge){if(T=this._items.length,T)for(z=this._items[--T].width(),O=this.$element.width();T--&&(z+=this._items[T].width()+this.settings.margin,!(z>O)););a=T+1}else y.center?a=this._items.length-1:a=this._items.length-y.items;return p&&(a-=this._clones.length/2),Math.max(a,0)},h.prototype.minimum=function(p){return p?0:this._clones.length/2},h.prototype.items=function(p){return p===u?this._items.slice():(p=this.normalize(p,!0),this._items[p])},h.prototype.mergers=function(p){return p===u?this._mergers.slice():(p=this.normalize(p,!0),this._mergers[p])},h.prototype.clones=function(p){var y=this._clones.length/2,a=y+this._items.length,T=function(z){return z%2===0?a+z/2:y-(z+1)/2};return p===u?e.map(this._clones,function(z,O){return T(O)}):e.map(this._clones,function(z,O){return z===p?T(O):null})},h.prototype.speed=function(p){return p!==u&&(this._speed=p),this._speed},h.prototype.coordinates=function(p){var y=1,a=p-1,T;return p===u?e.map(this._coordinates,e.proxy(function(z,O){return this.coordinates(O)},this)):(this.settings.center?(this.settings.rtl&&(y=-1,a=p+1),T=this._coordinates[p],T+=(this.width()-T+(this._coordinates[a]||0))/2*y):T=this._coordinates[a]||0,T=Math.ceil(T),T)},h.prototype.duration=function(p,y,a){return a===0?0:Math.min(Math.max(Math.abs(y-p),1),6)*Math.abs(a||this.settings.smartSpeed)},h.prototype.to=function(p,y){var a=this.current(),T=null,z=p-this.relative(a),O=(z>0)-(z<0),j=this._items.length,S=this.minimum(),Q=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(z)>j/2&&(z+=O*-1*j),p=a+z,T=((p-S)%j+j)%j+S,T!==p&&T-z<=Q&&T-z>0&&(a=T-z,p=T,this.reset(a))):this.settings.rewind?(Q+=1,p=(p%Q+Q)%Q):p=Math.max(S,Math.min(Q,p)),this.speed(this.duration(a,p,y)),this.current(p),this.isVisible()&&this.update()},h.prototype.next=function(p){p=p||!1,this.to(this.relative(this.current())+1,p)},h.prototype.prev=function(p){p=p||!1,this.to(this.relative(this.current())-1,p)},h.prototype.onTransitionEnd=function(p){if(p!==u&&(p.stopPropagation(),(p.target||p.srcElement||p.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},h.prototype.viewport=function(){var p;return this.options.responsiveBaseElement!==t?p=e(this.options.responsiveBaseElement).width():t.innerWidth?p=t.innerWidth:s.documentElement&&s.documentElement.clientWidth?p=s.documentElement.clientWidth:console.warn("Can not detect viewport width."),p},h.prototype.replace=function(p){this.$stage.empty(),this._items=[],p&&(p=p instanceof jQuery?p:e(p)),this.settings.nestedItemSelector&&(p=p.find("."+this.settings.nestedItemSelector)),p.filter(function(){return this.nodeType===1}).each(e.proxy(function(y,a){a=this.prepare(a),this.$stage.append(a),this._items.push(a),this._mergers.push(a.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},h.prototype.add=function(p,y){var a=this.relative(this._current);y=y===u?this._items.length:this.normalize(y,!0),p=p instanceof jQuery?p:e(p),this.trigger("add",{content:p,position:y}),p=this.prepare(p),this._items.length===0||y===this._items.length?(this._items.length===0&&this.$stage.append(p),this._items.length!==0&&this._items[y-1].after(p),this._items.push(p),this._mergers.push(p.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)):(this._items[y].before(p),this._items.splice(y,0,p),this._mergers.splice(y,0,p.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)),this._items[a]&&this.reset(this._items[a].index()),this.invalidate("items"),this.trigger("added",{content:p,position:y})},h.prototype.remove=function(p){p=this.normalize(p,!0),p!==u&&(this.trigger("remove",{content:this._items[p],position:p}),this._items[p].remove(),this._items.splice(p,1),this._mergers.splice(p,1),this.invalidate("items"),this.trigger("removed",{content:null,position:p}))},h.prototype.preloadAutoWidthImages=function(p){p.each(e.proxy(function(y,a){this.enter("pre-loading"),a=e(a),e(new Image).one("load",e.proxy(function(T){a.attr("src",T.target.src),a.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",a.attr("src")||a.attr("data-src")||a.attr("data-src-retina"))},this))},h.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(s).off(".owl.core"),this.settings.responsive!==!1&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var p in this._plugins)this._plugins[p].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},h.prototype.op=function(p,y,a){var T=this.settings.rtl;switch(y){case"<":return T?p>a:p<a;case">":return T?p<a:p>a;case">=":return T?p<=a:p>=a;case"<=":return T?p>=a:p<=a}},h.prototype.on=function(p,y,a,T){p.addEventListener?p.addEventListener(y,a,T):p.attachEvent&&p.attachEvent("on"+y,a)},h.prototype.off=function(p,y,a,T){p.removeEventListener?p.removeEventListener(y,a,T):p.detachEvent&&p.detachEvent("on"+y,a)},h.prototype.trigger=function(p,y,a,T,z){var O={item:{count:this._items.length,index:this.current()}},j=e.camelCase(e.grep(["on",p,a],function(Q){return Q}).join("-").toLowerCase()),S=e.Event([p,"owl",a||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},O,y));return this._supress[p]||(e.each(this._plugins,function(Q,se){se.onTrigger&&se.onTrigger(S)}),this.register({type:h.Type.Event,name:p}),this.$element.trigger(S),this.settings&&typeof this.settings[j]=="function"&&this.settings[j].call(this,S)),S},h.prototype.enter=function(p){e.each([p].concat(this._states.tags[p]||[]),e.proxy(function(y,a){this._states.current[a]===u&&(this._states.current[a]=0),this._states.current[a]++},this))},h.prototype.leave=function(p){e.each([p].concat(this._states.tags[p]||[]),e.proxy(function(y,a){this._states.current[a]--},this))},h.prototype.register=function(p){if(p.type===h.Type.Event){if(e.event.special[p.name]||(e.event.special[p.name]={}),!e.event.special[p.name].owl){var y=e.event.special[p.name]._default;e.event.special[p.name]._default=function(a){return y&&y.apply&&(!a.namespace||a.namespace.indexOf("owl")===-1)?y.apply(this,arguments):a.namespace&&a.namespace.indexOf("owl")>-1},e.event.special[p.name].owl=!0}}else p.type===h.Type.State&&(this._states.tags[p.name]?this._states.tags[p.name]=this._states.tags[p.name].concat(p.tags):this._states.tags[p.name]=p.tags,this._states.tags[p.name]=e.grep(this._states.tags[p.name],e.proxy(function(a,T){return e.inArray(a,this._states.tags[p.name])===T},this)))},h.prototype.suppress=function(p){e.each(p,e.proxy(function(y,a){this._supress[a]=!0},this))},h.prototype.release=function(p){e.each(p,e.proxy(function(y,a){delete this._supress[a]},this))},h.prototype.pointer=function(p){var y={x:null,y:null};return p=p.originalEvent||p||t.event,p=p.touches&&p.touches.length?p.touches[0]:p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:p,p.pageX?(y.x=p.pageX,y.y=p.pageY):(y.x=p.clientX,y.y=p.clientY),y},h.prototype.isNumeric=function(p){return!isNaN(parseFloat(p))},h.prototype.difference=function(p,y){return{x:p.x-y.x,y:p.y-y.y}},e.fn.owlCarousel=function(p){var y=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e(this),T=a.data("owl.carousel");T||(T=new h(this,typeof p=="object"&&p),a.data("owl.carousel",T),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(z,O){T.register({type:h.Type.Event,name:O}),T.$element.on(O+".owl.carousel.core",e.proxy(function(j){j.namespace&&j.relatedTarget!==this&&(this.suppress([O]),T[O].apply(this,[].slice.call(arguments,1)),this.release([O]))},T))})),typeof p=="string"&&p.charAt(0)!=="_"&&T[p].apply(T,y)})},e.fn.owlCarousel.Constructor=h})(window.Zepto||window.jQuery,window,document);(function(e,t,s,u){var h=function(p){this._core=p,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this._core.$element.on(this._handlers)};h.Defaults={autoRefresh:!0,autoRefreshInterval:500},h.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},h.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},h.prototype.destroy=function(){var p,y;t.clearInterval(this._interval);for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=h})(window.Zepto||window.jQuery,window);(function(e,t,s,u){var h=function(p){this._core=p,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(y){if(!!y.namespace&&!(!this._core.settings||!this._core.settings.lazyLoad)&&(y.property&&y.property.name=="position"||y.type=="initialized")){var a=this._core.settings,T=a.center&&Math.ceil(a.items/2)||a.items,z=a.center&&T*-1||0,O=(y.property&&y.property.value!==u?y.property.value:this._core.current())+z,j=this._core.clones().length,S=e.proxy(function(Q,se){this.load(se)},this);for(a.lazyLoadEager>0&&(T+=a.lazyLoadEager,a.loop&&(O-=a.lazyLoadEager,T++));z++<T;)this.load(j/2+this._core.relative(O)),j&&e.each(this._core.clones(this._core.relative(O)),S),O++}},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this._core.$element.on(this._handlers)};h.Defaults={lazyLoad:!1,lazyLoadEager:0},h.prototype.load=function(p){var y=this._core.$stage.children().eq(p),a=y&&y.find(".owl-lazy");!a||e.inArray(y.get(0),this._loaded)>-1||(a.each(e.proxy(function(T,z){var O=e(z),j,S=t.devicePixelRatio>1&&O.attr("data-src-retina")||O.attr("data-src")||O.attr("data-srcset");this._core.trigger("load",{element:O,url:S},"lazy"),O.is("img")?O.one("load.owl.lazy",e.proxy(function(){O.css("opacity",1),this._core.trigger("loaded",{element:O,url:S},"lazy")},this)).attr("src",S):O.is("source")?O.one("load.owl.lazy",e.proxy(function(){this._core.trigger("loaded",{element:O,url:S},"lazy")},this)).attr("srcset",S):(j=new Image,j.onload=e.proxy(function(){O.css({"background-image":'url("'+S+'")',opacity:"1"}),this._core.trigger("loaded",{element:O,url:S},"lazy")},this),j.src=S)},this)),this._loaded.push(y.get(0)))},h.prototype.destroy=function(){var p,y;for(p in this.handlers)this._core.$element.off(p,this.handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=h})(window.Zepto||window.jQuery,window);(function(e,t,s,u){var h=function(p){this._core=p,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.property.name==="position"&&this.update()},this),"loaded.owl.lazy":e.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var y=this;e(t).on("load",function(){y._core.settings.autoHeight&&y.update()}),e(t).resize(function(){y._core.settings.autoHeight&&(y._intervalId!=null&&clearTimeout(y._intervalId),y._intervalId=setTimeout(function(){y.update()},250))})};h.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},h.prototype.update=function(){var p=this._core._current,y=p+this._core.settings.items,a=this._core.settings.lazyLoad,T=this._core.$stage.children().toArray().slice(p,y),z=[],O=0;e.each(T,function(j,S){z.push(e(S).height())}),O=Math.max.apply(null,z),O<=1&&a&&this._previousHeight&&(O=this._previousHeight),this._previousHeight=O,this._core.$stage.parent().height(O).addClass(this._core.settings.autoHeightClass)},h.prototype.destroy=function(){var p,y;for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=h})(window.Zepto||window.jQuery,window);(function(e,t,s,u){var h=function(p){this._core=p,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(y){y.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.video&&this.isInFullScreen()&&y.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(y){y.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(y){y.namespace&&y.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(y){if(!!y.namespace){var a=e(y.content).find(".owl-video");a.length&&(a.css("display","none"),this.fetch(a,e(y.content)))}},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(y){this.play(y)},this))};h.Defaults={video:!1,videoHeight:!1,videoWidth:!1},h.prototype.fetch=function(p,y){var a=function(){return p.attr("data-vimeo-id")?"vimeo":p.attr("data-vzaar-id")?"vzaar":"youtube"}(),T=p.attr("data-vimeo-id")||p.attr("data-youtube-id")||p.attr("data-vzaar-id"),z=p.attr("data-width")||this._core.settings.videoWidth,O=p.attr("data-height")||this._core.settings.videoHeight,j=p.attr("href");if(j){if(T=j.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),T[3].indexOf("youtu")>-1)a="youtube";else if(T[3].indexOf("vimeo")>-1)a="vimeo";else if(T[3].indexOf("vzaar")>-1)a="vzaar";else throw new Error("Video URL not supported.");T=T[6]}else throw new Error("Missing video URL.");this._videos[j]={type:a,id:T,width:z,height:O},y.attr("data-video",j),this.thumbnail(p,this._videos[j])},h.prototype.thumbnail=function(p,y){var a,T,z,O=y.width&&y.height?"width:"+y.width+"px;height:"+y.height+"px;":"",j=p.find("img"),S="src",Q="",se=this._core.settings,oe=function(he){T='<div class="owl-video-play-icon"></div>',se.lazyLoad?a=e("<div/>",{class:"owl-video-tn "+Q,srcType:he}):a=e("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+he+")"}),p.after(a),p.after(T)};if(p.wrap(e("<div/>",{class:"owl-video-wrapper",style:O})),this._core.settings.lazyLoad&&(S="data-src",Q="owl-lazy"),j.length)return oe(j.attr(S)),j.remove(),!1;y.type==="youtube"?(z="//img.youtube.com/vi/"+y.id+"/hqdefault.jpg",oe(z)):y.type==="vimeo"?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+y.id+".json",jsonp:"callback",dataType:"jsonp",success:function(he){z=he[0].thumbnail_large,oe(z)}}):y.type==="vzaar"&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+y.id+".json",jsonp:"callback",dataType:"jsonp",success:function(he){z=he.framegrab_url,oe(z)}})},h.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},h.prototype.play=function(p){var y=e(p.target),a=y.closest("."+this._core.settings.itemClass),T=this._videos[a.attr("data-video")],z=T.width||"100%",O=T.height||this._core.$stage.height(),j;this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),a=this._core.items(this._core.relative(a.index())),this._core.reset(a.index()),j=e('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),j.attr("height",O),j.attr("width",z),T.type==="youtube"?j.attr("src","//www.youtube.com/embed/"+T.id+"?autoplay=1&rel=0&v="+T.id):T.type==="vimeo"?j.attr("src","//player.vimeo.com/video/"+T.id+"?autoplay=1"):T.type==="vzaar"&&j.attr("src","//view.vzaar.com/"+T.id+"/player?autoplay=true"),e(j).wrap('<div class="owl-video-frame" />').insertAfter(a.find(".owl-video")),this._playing=a.addClass("owl-video-playing"))},h.prototype.isInFullScreen=function(){var p=s.fullscreenElement||s.mozFullScreenElement||s.webkitFullscreenElement;return p&&e(p).parent().hasClass("owl-video-frame")},h.prototype.destroy=function(){var p,y;this._core.$element.off("click.owl.video");for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=h})(window.Zepto||window.jQuery,window,document);(function(e,t,s,u){var h=function(p){this.core=p,this.core.options=e.extend({},h.Defaults,this.core.options),this.swapping=!0,this.previous=u,this.next=u,this.handlers={"change.owl.carousel":e.proxy(function(y){y.namespace&&y.property.name=="position"&&(this.previous=this.core.current(),this.next=y.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(y){y.namespace&&(this.swapping=y.type=="translated")},this),"translate.owl.carousel":e.proxy(function(y){y.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};h.Defaults={animateOut:!1,animateIn:!1},h.prototype.swap=function(){if(this.core.settings.items===1&&!(!e.support.animation||!e.support.transition)){this.core.speed(0);var p,y=e.proxy(this.clear,this),a=this.core.$stage.children().eq(this.previous),T=this.core.$stage.children().eq(this.next),z=this.core.settings.animateIn,O=this.core.settings.animateOut;this.core.current()!==this.previous&&(O&&(p=this.core.coordinates(this.previous)-this.core.coordinates(this.next),a.one(e.support.animation.end,y).css({left:p+"px"}).addClass("animated owl-animated-out").addClass(O)),z&&T.one(e.support.animation.end,y).addClass("animated owl-animated-in").addClass(z))}},h.prototype.clear=function(p){e(p.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},h.prototype.destroy=function(){var p,y;for(p in this.handlers)this.core.$element.off(p,this.handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=h})(window.Zepto||window.jQuery);(function(e,t,s,u){var h=function(p){this._core=p,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy(function(y){y.namespace&&y.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():y.namespace&&y.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(y,a,T){y.namespace&&this.play(a,T)},this),"stop.owl.autoplay":e.proxy(function(y){y.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},h.Defaults,this._core.options)};h.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},h.prototype._next=function(p){this._call=t.setTimeout(e.proxy(this._next,this,p),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),!(this._core.is("interacting")||s.hidden)&&this._core.next(p||this._core.settings.autoplaySpeed)},h.prototype.read=function(){return new Date().getTime()-this._time},h.prototype.play=function(p,y){var a;this._core.is("rotating")||this._core.enter("rotating"),p=p||this._core.settings.autoplayTimeout,a=Math.min(this._time%(this._timeout||p),p),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%p-a,this._timeout=p,this._call=t.setTimeout(e.proxy(this._next,this,y),p-a)},h.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},h.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},h.prototype.destroy=function(){var p,y;this.stop();for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=h})(window.Zepto||window.jQuery,window,document);(function(e,t,s,u){var h=function(p){this._core=p,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(y.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.dotsData&&this._templates.splice(y.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.dotsData&&this._templates.splice(y.position,1)},this),"changed.owl.carousel":e.proxy(function(y){y.namespace&&y.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(y){y.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(y){y.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this.$element.on(this._handlers)};h.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},h.prototype.initialize=function(){var p,y=this._core.settings;this._controls.$relative=(y.navContainer?e(y.navContainer):e("<div>").addClass(y.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+y.navElement+">").addClass(y.navClass[0]).html(y.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(a){this.prev(y.navSpeed)},this)),this._controls.$next=e("<"+y.navElement+">").addClass(y.navClass[1]).html(y.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(a){this.next(y.navSpeed)},this)),y.dotsData||(this._templates=[e('<button role="button">').addClass(y.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(y.dotsContainer?e(y.dotsContainer):e("<div>").addClass(y.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy(function(a){var T=e(a.target).parent().is(this._controls.$absolute)?e(a.target).index():e(a.target).parent().index();a.preventDefault(),this.to(T,y.dotsSpeed)},this));for(p in this._overrides)this._core[p]=e.proxy(this[p],this)},h.prototype.destroy=function(){var p,y,a,T,z;z=this._core.settings;for(p in this._handlers)this.$element.off(p,this._handlers[p]);for(y in this._controls)y==="$relative"&&z.navContainer?this._controls[y].html(""):this._controls[y].remove();for(T in this.overides)this._core[T]=this._overrides[T];for(a in Object.getOwnPropertyNames(this))typeof this[a]!="function"&&(this[a]=null)},h.prototype.update=function(){var p,y,a=this._core.clones().length/2,T=a+this._core.items().length,z=this._core.maximum(!0),O=this._core.settings,j=O.center||O.autoWidth||O.dotsData?1:O.dotsEach||O.items;if(O.slideBy!=="page"&&(O.slideBy=Math.min(O.slideBy,O.items)),O.dots||O.slideBy=="page")for(this._pages=[],p=a,y=0,0;p<T;p++){if(y>=j||y===0){if(this._pages.push({start:Math.min(z,p-a),end:p-a+j-1}),Math.min(z,p-a)===z)break;y=0}y+=this._core.mergers(this._core.relative(p))}},h.prototype.draw=function(){var p,y=this._core.settings,a=this._core.items().length<=y.items,T=this._core.relative(this._core.current()),z=y.loop||y.rewind;this._controls.$relative.toggleClass("disabled",!y.nav||a),y.nav&&(this._controls.$previous.toggleClass("disabled",!z&&T<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!z&&T>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!y.dots||a),y.dots&&(p=this._pages.length-this._controls.$absolute.children().length,y.dotsData&&p!==0?this._controls.$absolute.html(this._templates.join("")):p>0?this._controls.$absolute.append(new Array(p+1).join(this._templates[0])):p<0&&this._controls.$absolute.children().slice(p).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},h.prototype.onTrigger=function(p){var y=this._core.settings;p.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:y&&(y.center||y.autoWidth||y.dotsData?1:y.dotsEach||y.items)}},h.prototype.current=function(){var p=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(y,a){return y.start<=p&&y.end>=p},this)).pop()},h.prototype.getPosition=function(p){var y,a,T=this._core.settings;return T.slideBy=="page"?(y=e.inArray(this.current(),this._pages),a=this._pages.length,p?++y:--y,y=this._pages[(y%a+a)%a].start):(y=this._core.relative(this._core.current()),a=this._core.items().length,p?y+=T.slideBy:y-=T.slideBy),y},h.prototype.next=function(p){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),p)},h.prototype.prev=function(p){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),p)},h.prototype.to=function(p,y,a){var T;!a&&this._pages.length?(T=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(p%T+T)%T].start,y)):e.proxy(this._overrides.to,this._core)(p,y)},e.fn.owlCarousel.Constructor.Plugins.Navigation=h})(window.Zepto||window.jQuery);(function(e,t,s,u){var h=function(p){this._core=p,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(y){y.namespace&&this._core.settings.startPosition==="URLHash"&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(y){if(y.namespace){var a=e(y.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!a)return;this._hashes[a]=y.content}},this),"changed.owl.carousel":e.proxy(function(y){if(y.namespace&&y.property.name==="position"){var a=this._core.items(this._core.relative(this._core.current())),T=e.map(this._hashes,function(z,O){return z===a?O:null}).join();if(!T||t.location.hash.slice(1)===T)return;t.location.hash=T}},this)},this._core.options=e.extend({},h.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(y){var a=t.location.hash.substring(1),T=this._core.$stage.children(),z=this._hashes[a]&&T.index(this._hashes[a]);z===u||z===this._core.current()||this._core.to(this._core.relative(z),!1,!0)},this))};h.Defaults={URLhashListener:!1},h.prototype.destroy=function(){var p,y;e(t).off("hashchange.owl.navigation");for(p in this._handlers)this._core.$element.off(p,this._handlers[p]);for(y in Object.getOwnPropertyNames(this))typeof this[y]!="function"&&(this[y]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=h})(window.Zepto||window.jQuery,window);(function(e,t,s,u){var h=e("<support>").get(0).style,p="Webkit Moz O ms".split(" "),y={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},a={csstransforms:function(){return!!T("transform")},csstransforms3d:function(){return!!T("perspective")},csstransitions:function(){return!!T("transition")},cssanimations:function(){return!!T("animation")}};function T(O,j){var S=!1,Q=O.charAt(0).toUpperCase()+O.slice(1);return e.each((O+" "+p.join(Q+" ")+Q).split(" "),function(se,oe){if(h[oe]!==u)return S=j?oe:!0,!1}),S}function z(O){return T(O,!0)}a.csstransitions()&&(e.support.transition=new String(z("transition")),e.support.transition.end=y.transition.end[e.support.transition]),a.cssanimations()&&(e.support.animation=new String(z("animation")),e.support.animation.end=y.animation.end[e.support.animation]),a.csstransforms()&&(e.support.transform=new String(z("transform")),e.support.transform3d=a.csstransforms3d())})(window.Zepto||window.jQuery);Ew(function(){Ew(".owl-carousel").owlCarousel({})});const ZR=aR([{path:"/",element:X(LR,{})},{path:"/proyek",element:X(RR,{})},{path:"/harga",element:X(NR,{})},{path:"/kontak-kami",element:X(BR,{})},{path:"/tentang-kami",element:X(VR,{})},{path:"/proyek/:proyekid",element:X(WR,{})}]);function $R(){return X(JL,{router:ZR})}Dg.createRoot(document.getElementById("root")).render(X($R,{}));
